{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u5173\u4e8e\u6211 ~\u55ef\u5462~ Icefairy@2021","title":"\u5173\u4e8e\u6211"},{"location":"#_1","text":"~\u55ef\u5462~ Icefairy@2021","title":"\u5173\u4e8e\u6211"},{"location":"Java/Maven/","text":"Maven \u4f7f\u7528 #\u590d\u5236\u4f9d\u8d56\u5230lib\u6587\u4ef6\u5939 mvn dependency:copy-dependencies -DoutputDirectory=target\\lib -DincludeScope=compile #\u4e00\u822c\u7ed3\u5408\u4ee5\u4e0b\u914d\u7f6e\u4f7f\u7528 <build> <plugins> <plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-jar-plugin</artifactId> <version>2.6</version> <configuration> <archive> <manifest> <classpathPrefix>lib/</classpathPrefix> <addClasspath>true</addClasspath> <mainClass>${main.class}</mainClass> </manifest> </archive> </configuration> </plugin> <plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-dependency-plugin</artifactId> <version>3.2.0</version> <configuration> <outputDirectory>${project.build.directory}/lib</outputDirectory> </configuration> <executions> <execution> <id>copy-dependencies</id> <phase>package</phase> <goals> <goal>copy-dependencies</goal> </goals> <configuration> <overWriteReleases>false</overWriteReleases> <overWriteSnapshots>false</overWriteSnapshots> <overWriteIfNewer>true</overWriteIfNewer> </configuration> </execution> </executions> </plugin> </plugins> </build>","title":"Maven \u4f7f\u7528"},{"location":"Java/Maven/#maven","text":"#\u590d\u5236\u4f9d\u8d56\u5230lib\u6587\u4ef6\u5939 mvn dependency:copy-dependencies -DoutputDirectory=target\\lib -DincludeScope=compile #\u4e00\u822c\u7ed3\u5408\u4ee5\u4e0b\u914d\u7f6e\u4f7f\u7528 <build> <plugins> <plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-jar-plugin</artifactId> <version>2.6</version> <configuration> <archive> <manifest> <classpathPrefix>lib/</classpathPrefix> <addClasspath>true</addClasspath> <mainClass>${main.class}</mainClass> </manifest> </archive> </configuration> </plugin> <plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-dependency-plugin</artifactId> <version>3.2.0</version> <configuration> <outputDirectory>${project.build.directory}/lib</outputDirectory> </configuration> <executions> <execution> <id>copy-dependencies</id> <phase>package</phase> <goals> <goal>copy-dependencies</goal> </goals> <configuration> <overWriteReleases>false</overWriteReleases> <overWriteSnapshots>false</overWriteSnapshots> <overWriteIfNewer>true</overWriteIfNewer> </configuration> </execution> </executions> </plugin> </plugins> </build>","title":"Maven \u4f7f\u7528"},{"location":"Java/%E4%BF%9D%E7%95%99%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E9%97%AE%E9%A2%98/","text":"\u4fdd\u7559\u7aef\u53e3\u5360\u7528\u95ee\u9898 \u5f00\u53d1\u4e2d\u5982\u679c\u9047\u5230netstat -ano\u67e5\u4e0d\u5230\u5360\u7528\u4f46\u5e94\u7528\u4e00\u76f4\u63d0\u793a\u88ab\u5360\u7528\uff0c\u5f88\u53ef\u80fd\u662fhyper-v\u7684\u4fdd\u7559\u7aef\u53e3\u95ee\u9898\u5f15\u8d77\uff0c\u6309\u7167\u5982\u4e0b\u65b9\u5f0f\u6392\u67e5\u5373\u53ef\u3002 \u67e5\u770b\u54ea\u4e9b\u7aef\u53e3\u88ab\u4fdd\u7559\u4e86 Windows+x\u9009\u62e9\u7ba1\u7406\u5458\u7684powershell\u7136\u540e\u8f93\u5165 netsh interface ipv4 show excludedportrange protocol=tcp \u786e\u5b9a\u6267\u884c\uff0c\u5217\u51fa\u7c7b\u4f3c\u5982\u4e0b\u5217\u8868 ``` \u534f\u8bae tcp \u7aef\u53e3\u6392\u9664\u8303\u56f4 \u5f00\u59cb\u7aef\u53e3 \u7ed3\u675f\u7aef\u53e3 ---------- -------- 5357 5357 7918 8017 8018 8117 8118 8217 8308 8407 8408 8507 8559 8658 8681 8780 8872 8971 8972 9071 50000 50059 * \u7ba1\u7406\u7684\u7aef\u53e3\u6392\u9664\u3002 ``` \u4e0a\u8ff0\u7aef\u53e3\u90fd\u88abhyper-v\u7533\u660e\u4e3a\u4fdd\u7559\u7aef\u53e3\u4e86\u3002 \u89e3\u51b3\u529e\u6cd5 \u4f7f\u7528\u4e0a\u8ff0\u4e4b\u5916\u7684\u7aef\u53e3\uff1b \u4e0d\u8ba9hyper-v\u4fdd\u7559\u6307\u5b9a\u7aef\u53e3\u6216\u8303\u56f4 \u5173\u95edhyper-v\uff0cpower shell\u6267\u884c dism.exe /Online /Disable-Feature:Microsoft-Hyper-V \u8bbe\u7f6e\u53ef\u7528\u7684\u52a8\u6001\u7aef\u53e3\u8303\u56f4\uff08\u7ed9hyper-v\u7684\uff09 netsh int ipv4 set dynamicport tcp start=30000 num=16383 \u6392\u9664\u52a8\u6001\u7aef\u53e3\u8303\u56f4 netsh int ipv4 add excludedportrange protocol=tcp startport=8000 numberofports=500","title":"\u4fdd\u7559\u7aef\u53e3\u5360\u7528\u95ee\u9898"},{"location":"Java/%E4%BF%9D%E7%95%99%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E9%97%AE%E9%A2%98/#_1","text":"\u5f00\u53d1\u4e2d\u5982\u679c\u9047\u5230netstat -ano\u67e5\u4e0d\u5230\u5360\u7528\u4f46\u5e94\u7528\u4e00\u76f4\u63d0\u793a\u88ab\u5360\u7528\uff0c\u5f88\u53ef\u80fd\u662fhyper-v\u7684\u4fdd\u7559\u7aef\u53e3\u95ee\u9898\u5f15\u8d77\uff0c\u6309\u7167\u5982\u4e0b\u65b9\u5f0f\u6392\u67e5\u5373\u53ef\u3002","title":"\u4fdd\u7559\u7aef\u53e3\u5360\u7528\u95ee\u9898"},{"location":"Java/%E4%BF%9D%E7%95%99%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E9%97%AE%E9%A2%98/#_2","text":"Windows+x\u9009\u62e9\u7ba1\u7406\u5458\u7684powershell\u7136\u540e\u8f93\u5165 netsh interface ipv4 show excludedportrange protocol=tcp \u786e\u5b9a\u6267\u884c\uff0c\u5217\u51fa\u7c7b\u4f3c\u5982\u4e0b\u5217\u8868 ``` \u534f\u8bae tcp \u7aef\u53e3\u6392\u9664\u8303\u56f4 \u5f00\u59cb\u7aef\u53e3 \u7ed3\u675f\u7aef\u53e3 ---------- -------- 5357 5357 7918 8017 8018 8117 8118 8217 8308 8407 8408 8507 8559 8658 8681 8780 8872 8971 8972 9071 50000 50059 * \u7ba1\u7406\u7684\u7aef\u53e3\u6392\u9664\u3002 ``` \u4e0a\u8ff0\u7aef\u53e3\u90fd\u88abhyper-v\u7533\u660e\u4e3a\u4fdd\u7559\u7aef\u53e3\u4e86\u3002","title":"\u67e5\u770b\u54ea\u4e9b\u7aef\u53e3\u88ab\u4fdd\u7559\u4e86"},{"location":"Java/%E4%BF%9D%E7%95%99%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E9%97%AE%E9%A2%98/#_3","text":"\u4f7f\u7528\u4e0a\u8ff0\u4e4b\u5916\u7684\u7aef\u53e3\uff1b \u4e0d\u8ba9hyper-v\u4fdd\u7559\u6307\u5b9a\u7aef\u53e3\u6216\u8303\u56f4 \u5173\u95edhyper-v\uff0cpower shell\u6267\u884c dism.exe /Online /Disable-Feature:Microsoft-Hyper-V \u8bbe\u7f6e\u53ef\u7528\u7684\u52a8\u6001\u7aef\u53e3\u8303\u56f4\uff08\u7ed9hyper-v\u7684\uff09 netsh int ipv4 set dynamicport tcp start=30000 num=16383 \u6392\u9664\u52a8\u6001\u7aef\u53e3\u8303\u56f4 netsh int ipv4 add excludedportrange protocol=tcp startport=8000 numberofports=500","title":"\u89e3\u51b3\u529e\u6cd5"},{"location":"Java/%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E7%9F%A5%E8%AF%86%E7%82%B9/","text":"YYYY\u548cyyyy\u7684\u533a\u522b yyyy yyyy \u8868\u793a4\u4f4d\u6570\u7684\u5e74\u4efd YYYY YYYY \u540c\u6837\u4e5f\u8868\u793a4\u4f4d\u6570\u7684\u5e74\u4efd\uff0c\u7ec6\u8282\u6709\u6240\u4e0d\u540c\uff0c\u5728\u5927\u591a\u6570\u65f6\u5019\u503c\u548c\u7b2c\u4e00\u79cd\u76f8\u540c\uff0c\u53ea\u6709\u5f53\u6307\u5b9a\u7684\u65e5\u671f\u6240\u5728\u7684\u90a3\u4e00\u5468\uff08\u4ee5\u5468\u65e5\u5f00\u59cb\u5230\u5468\u516d\u7ed3\u675f\uff09\u6d89\u53ca\u5230\u8de8\u5e74\u4e86\u5219\u4f1a\u8fd4\u56de\u4e0b\u4e00\u5e74\u7684\u5e74\u4efd\u3002 \u4e3e\u4f8b 2021-12-26 18:59:55 yyyy-MM-dd=2021-12-26 YYYY-MM-dd=2022-12-26 \u56e0\u4e3a2021-12-26\u6240\u5728\u7684\u90a3\u5468\u6700\u540e\u4e00\u5929\u5468\u516d\u662f2022-01-01\uff0c\u5c5e\u4e8e\u8de8\u5e74\u7684\u60c5\u51b5\u4e86\uff0c\u5e74\u4efd\u5c31\u4f1a\u8fd4\u56de2022\u5e74","title":"YYYY\u548cyyyy\u7684\u533a\u522b"},{"location":"Java/%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E7%9F%A5%E8%AF%86%E7%82%B9/#yyyyyyyy","text":"","title":"YYYY\u548cyyyy\u7684\u533a\u522b"},{"location":"Java/%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E7%9F%A5%E8%AF%86%E7%82%B9/#yyyy","text":"yyyy \u8868\u793a4\u4f4d\u6570\u7684\u5e74\u4efd","title":"yyyy"},{"location":"Java/%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E7%9F%A5%E8%AF%86%E7%82%B9/#yyyy_1","text":"YYYY \u540c\u6837\u4e5f\u8868\u793a4\u4f4d\u6570\u7684\u5e74\u4efd\uff0c\u7ec6\u8282\u6709\u6240\u4e0d\u540c\uff0c\u5728\u5927\u591a\u6570\u65f6\u5019\u503c\u548c\u7b2c\u4e00\u79cd\u76f8\u540c\uff0c\u53ea\u6709\u5f53\u6307\u5b9a\u7684\u65e5\u671f\u6240\u5728\u7684\u90a3\u4e00\u5468\uff08\u4ee5\u5468\u65e5\u5f00\u59cb\u5230\u5468\u516d\u7ed3\u675f\uff09\u6d89\u53ca\u5230\u8de8\u5e74\u4e86\u5219\u4f1a\u8fd4\u56de\u4e0b\u4e00\u5e74\u7684\u5e74\u4efd\u3002","title":"YYYY"},{"location":"Java/%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E7%9F%A5%E8%AF%86%E7%82%B9/#_1","text":"2021-12-26 18:59:55 yyyy-MM-dd=2021-12-26 YYYY-MM-dd=2022-12-26 \u56e0\u4e3a2021-12-26\u6240\u5728\u7684\u90a3\u5468\u6700\u540e\u4e00\u5929\u5468\u516d\u662f2022-01-01\uff0c\u5c5e\u4e8e\u8de8\u5e74\u7684\u60c5\u51b5\u4e86\uff0c\u5e74\u4efd\u5c31\u4f1a\u8fd4\u56de2022\u5e74","title":"\u4e3e\u4f8b"},{"location":"Python/JupyterNotebook%E5%AE%89%E8%A3%85/","text":"Jupyter Notebook \u5b89\u88c5 #\u5b89\u88c5Anaconda #\u6309\u7167https://mirror.tuna.tsinghua.edu.cn/help/anaconda/ \u8bbe\u7f6e\u52a0\u901f\u955c\u50cf jupyter notebook --generate-config conda create -n ice python=3.7 conda install nb_conda jupyter notebook password pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple pip install jupyter_contrib_nbextensions jupyter_nbextensions_configurator jupyter contrib nbextension install jupyter nbextensions_configurator enable jupyter notebook","title":"Jupyter Notebook \u5b89\u88c5"},{"location":"Python/JupyterNotebook%E5%AE%89%E8%A3%85/#jupyter-notebook","text":"#\u5b89\u88c5Anaconda #\u6309\u7167https://mirror.tuna.tsinghua.edu.cn/help/anaconda/ \u8bbe\u7f6e\u52a0\u901f\u955c\u50cf jupyter notebook --generate-config conda create -n ice python=3.7 conda install nb_conda jupyter notebook password pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple pip install jupyter_contrib_nbextensions jupyter_nbextensions_configurator jupyter contrib nbextension install jupyter nbextensions_configurator enable jupyter notebook","title":"Jupyter Notebook \u5b89\u88c5"},{"location":"docker/Centos%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85docker/","text":"curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun","title":"Centos\u5728\u7ebf\u5b89\u88c5docker"},{"location":"docker/K3S%E5%AE%89%E8%A3%85/","text":"\u5728\u7ebf\u5b89\u88c5 K3S\u4f5c\u4e3a\u4e00\u79cd\u8f7b\u91cf\u5316\u7684k8s\u65b9\u6848\u5728\u7b80\u5355\u7684\u73af\u5883\u4e2d\u975e\u5e38\u4fbf\u4e8e\u90e8\u7f72 curl -sfL http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn sh - \u5c31\u8fd9\u4e48\u4e00\u884c\u547d\u4ee4\u5c31\u53ef\u4ee5\u5b89\u88c5\u6210\u529f\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u6109\u5feb\u7684\u4f7f\u7528 kubectl \u4e4b\u7c7b\u7684\u547d\u4ee4\u5566\u3002 \u79bb\u7ebf\u5b89\u88c5 \u79bb\u7ebf\u73af\u5883\u7684\u5347\u7ea7\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5b8c\u6210\uff1a \u4ece K3s GitHub Release \u9875\u9762\u4e0b\u8f7d\u8981\u5347\u7ea7\u5230\u7684 K3s \u7248\u672c\u3002\u5c06 tar \u6587\u4ef6\u653e\u5728\u6bcf\u4e2a\u8282\u70b9\u7684 /var/lib/rancher/k3s/agent/images/ \u76ee\u5f55\u4e0b\u3002\u5220\u9664\u65e7\u7684 tar \u6587\u4ef6\u3002 \u590d\u5236\u5e76\u66ff\u6362\u6bcf\u4e2a\u8282\u70b9\u4e0a /usr/local/bin \u4e2d\u7684\u65e7 K3s \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u590d\u5236 https://get.k3s.io \u7684\u5b89\u88c5\u811a\u672c\uff08\u56e0\u4e3a\u5b83\u53ef\u80fd\u5728\u4e0a\u6b21\u53d1\u5e03\u540e\u53d1\u751f\u4e86\u53d8\u5316\uff09\u3002\u518d\u6b21\u8fd0\u884c\u811a\u672c\u3002 \u91cd\u542f K3s \u670d\u52a1\u3002","title":"K3S\u5b89\u88c5"},{"location":"docker/K3S%E5%AE%89%E8%A3%85/#_1","text":"K3S\u4f5c\u4e3a\u4e00\u79cd\u8f7b\u91cf\u5316\u7684k8s\u65b9\u6848\u5728\u7b80\u5355\u7684\u73af\u5883\u4e2d\u975e\u5e38\u4fbf\u4e8e\u90e8\u7f72 curl -sfL http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn sh - \u5c31\u8fd9\u4e48\u4e00\u884c\u547d\u4ee4\u5c31\u53ef\u4ee5\u5b89\u88c5\u6210\u529f\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u6109\u5feb\u7684\u4f7f\u7528 kubectl \u4e4b\u7c7b\u7684\u547d\u4ee4\u5566\u3002","title":"\u5728\u7ebf\u5b89\u88c5"},{"location":"docker/K3S%E5%AE%89%E8%A3%85/#_2","text":"\u79bb\u7ebf\u73af\u5883\u7684\u5347\u7ea7\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5b8c\u6210\uff1a \u4ece K3s GitHub Release \u9875\u9762\u4e0b\u8f7d\u8981\u5347\u7ea7\u5230\u7684 K3s \u7248\u672c\u3002\u5c06 tar \u6587\u4ef6\u653e\u5728\u6bcf\u4e2a\u8282\u70b9\u7684 /var/lib/rancher/k3s/agent/images/ \u76ee\u5f55\u4e0b\u3002\u5220\u9664\u65e7\u7684 tar \u6587\u4ef6\u3002 \u590d\u5236\u5e76\u66ff\u6362\u6bcf\u4e2a\u8282\u70b9\u4e0a /usr/local/bin \u4e2d\u7684\u65e7 K3s \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u590d\u5236 https://get.k3s.io \u7684\u5b89\u88c5\u811a\u672c\uff08\u56e0\u4e3a\u5b83\u53ef\u80fd\u5728\u4e0a\u6b21\u53d1\u5e03\u540e\u53d1\u751f\u4e86\u53d8\u5316\uff09\u3002\u518d\u6b21\u8fd0\u884c\u811a\u672c\u3002 \u91cd\u542f K3s \u670d\u52a1\u3002","title":"\u79bb\u7ebf\u5b89\u88c5"},{"location":"docker/Linux%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85docker/","text":"Linux\u5728\u7ebf\u5b89\u88c5docker curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun","title":"Linux\u5728\u7ebf\u5b89\u88c5docker"},{"location":"docker/Linux%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85docker/#linuxdocker","text":"curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun","title":"Linux\u5728\u7ebf\u5b89\u88c5docker"},{"location":"docker/Pg14%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA/","text":"Pg14\u751f\u4ea7\u73af\u5883\u955c\u50cf\u6784\u5efa docker run -itd --name pg14 -v e:\\dockerdata\\pg14:/tmp/vm -e POSTGRES_PASSWORD=Ice123456 postgres sh -c 'echo \"deb https://mirrors.cloud.tencent.com/postgresql/repos/apt bullseye-pgdg main\" > /etc/apt/sources.list.d/pgdg.list' cat <<EOF> /etc/apt/sources.list deb http://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-free deb http://mirrors.ustc.edu.cn/debian-security/ bullseye-security main contrib non-free EOF apt update && apt install -y apt-transport-https ca-certificates vim curl wget net-tools python3 python3-pip postgresql-plpython3-14 iproute2 inetutils-ping postgresql-14-auto-failover postgresql-14-dirtyread postgresql-14-mysql-fdw postgresql-14-pgaudit postgresql-14-pgcron postgresql-14-repack postgresql-14-repmgr postgresql-14-tds-fdw postgresql-14-wal2json pgbouncer #compile apt install -y build-essential libreadline-dev zlib1g-dev flex bison libxml2-dev libxslt-dev libssl-dev libxml2-utils xsltproc curl https://install.citusdata.com/community/deb.sh | bash apt-get -y install postgresql-14-citus-10.2 postgresql-14-pgcron docker run -itd --name pg14_2 -e POSTGRES_PASSWORD=Ice123456 postgres \u65b0\u7248 docker run -it --name deb10 debian cat < /etc/apt/sources.list deb http://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-free deb http://mirrors.ustc.edu.cn/debian-security/ bullseye-security main contrib non-free EOF apt update && apt install -y apt-transport-https ca-certificates vim curl wget net-tools python3 python3-pip iproute2 inetutils-ping pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple \u57fa\u4e8ecitus sh -c 'echo \"deb https://mirrors.cloud.tencent.com/postgresql/repos/apt bullseye-pgdg main\" > /etc/apt/sources.list.d/pgdg.list' cat < /etc/apt/sources.list deb http://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-free deb http://mirrors.ustc.edu.cn/debian-security/ bullseye-security main contrib non-free EOF ```bash apt update && apt install -y apt-transport-https ca-certificates vim curl wget net-tools python3 python3-pip postgresql-plpython3-14 iproute2 inetutils-ping postgresql-14-auto-failover postgresql-14-dirtyread postgresql-14-mysql-fdw postgresql-14-pgaudit postgresql-14-pgcron postgresql-14-repack postgresql-14-repmgr pgbouncer rsync openssh-server ## \u6d4b\u8bd5 ```bash docker network create ctnet for h in ct1 ct2 ct3 ct4;do echo $h; docker run -itd --name $h --net ctnet --hostname $h -e POSTGRES_PASSWORD=Ice123456 mycitus:1.0; done # for h in ct1 ct2 ct3 ct4;do echo $h; docker exec -it -u postgres $h psql -c \"create database lhcz;\" docker exec -it -u postgres $h psql -c \"create extension citus;\" lhcz docker exec -it -u postgres $h psql -c \"create extension mysql_fdw;\" lhcz done #\u4fee\u6539pg_hba\u4f7f\u5176\u540c\u7f51\u6bb5\u53ef\u4ee5\u514d\u5bc6\u8bbf\u95ee docker exec -it -u postgres ct1 bash >vi ~/data/pg_hba.conf \u9876\u90e8\u589e\u52a0\u4e00\u884c host all all 172.22.0.2/24 trust \u4fdd\u5b58\u9000\u51fa >pg_ctl reload -D ~/data docker exec -it -u postgres ct1 psql -c \"select citus_set_coordinator_host('ct1',5432);\" lhcz docker exec -it -u postgres ct1 psql -c \"select citus_add_secondary_node('ct4',5432,'ct1',5432,'default');\" lhcz docker exec -it -u postgres ct1 psql -c \"select master_add_node('ct2',5432);\" lhcz docker exec -it -u postgres ct1 psql -c \"select master_add_node('ct3',5432);\" lhcz docker exec -it -u postgres ct1 psql -c \"select citus_get_active_worker_nodes();\" lhcz centos7\u7248\u672c yum update -y curl https://install.citusdata.com/community/rpm.sh | bash yum install --installroot=/usr/loca/pgdb -y python3 python3-pip vim curl wget","title":"Pg14\u751f\u4ea7\u73af\u5883\u955c\u50cf\u6784\u5efa"},{"location":"docker/Pg14%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA/#pg14","text":"docker run -itd --name pg14 -v e:\\dockerdata\\pg14:/tmp/vm -e POSTGRES_PASSWORD=Ice123456 postgres sh -c 'echo \"deb https://mirrors.cloud.tencent.com/postgresql/repos/apt bullseye-pgdg main\" > /etc/apt/sources.list.d/pgdg.list' cat <<EOF> /etc/apt/sources.list deb http://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-free deb http://mirrors.ustc.edu.cn/debian-security/ bullseye-security main contrib non-free EOF apt update && apt install -y apt-transport-https ca-certificates vim curl wget net-tools python3 python3-pip postgresql-plpython3-14 iproute2 inetutils-ping postgresql-14-auto-failover postgresql-14-dirtyread postgresql-14-mysql-fdw postgresql-14-pgaudit postgresql-14-pgcron postgresql-14-repack postgresql-14-repmgr postgresql-14-tds-fdw postgresql-14-wal2json pgbouncer #compile apt install -y build-essential libreadline-dev zlib1g-dev flex bison libxml2-dev libxslt-dev libssl-dev libxml2-utils xsltproc curl https://install.citusdata.com/community/deb.sh | bash apt-get -y install postgresql-14-citus-10.2 postgresql-14-pgcron docker run -itd --name pg14_2 -e POSTGRES_PASSWORD=Ice123456 postgres","title":"Pg14\u751f\u4ea7\u73af\u5883\u955c\u50cf\u6784\u5efa"},{"location":"docker/Pg14%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA/#_1","text":"docker run -it --name deb10 debian cat < /etc/apt/sources.list deb http://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-free deb http://mirrors.ustc.edu.cn/debian-security/ bullseye-security main contrib non-free EOF apt update && apt install -y apt-transport-https ca-certificates vim curl wget net-tools python3 python3-pip iproute2 inetutils-ping pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple","title":"\u65b0\u7248"},{"location":"docker/Pg14%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA/#citus","text":"sh -c 'echo \"deb https://mirrors.cloud.tencent.com/postgresql/repos/apt bullseye-pgdg main\" > /etc/apt/sources.list.d/pgdg.list' cat < /etc/apt/sources.list deb http://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-free deb http://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-free deb http://mirrors.ustc.edu.cn/debian-security/ bullseye-security main contrib non-free EOF ```bash apt update && apt install -y apt-transport-https ca-certificates vim curl wget net-tools python3 python3-pip postgresql-plpython3-14 iproute2 inetutils-ping postgresql-14-auto-failover postgresql-14-dirtyread postgresql-14-mysql-fdw postgresql-14-pgaudit postgresql-14-pgcron postgresql-14-repack postgresql-14-repmgr pgbouncer rsync openssh-server ## \u6d4b\u8bd5 ```bash docker network create ctnet for h in ct1 ct2 ct3 ct4;do echo $h; docker run -itd --name $h --net ctnet --hostname $h -e POSTGRES_PASSWORD=Ice123456 mycitus:1.0; done # for h in ct1 ct2 ct3 ct4;do echo $h; docker exec -it -u postgres $h psql -c \"create database lhcz;\" docker exec -it -u postgres $h psql -c \"create extension citus;\" lhcz docker exec -it -u postgres $h psql -c \"create extension mysql_fdw;\" lhcz done #\u4fee\u6539pg_hba\u4f7f\u5176\u540c\u7f51\u6bb5\u53ef\u4ee5\u514d\u5bc6\u8bbf\u95ee docker exec -it -u postgres ct1 bash >vi ~/data/pg_hba.conf \u9876\u90e8\u589e\u52a0\u4e00\u884c host all all 172.22.0.2/24 trust \u4fdd\u5b58\u9000\u51fa >pg_ctl reload -D ~/data docker exec -it -u postgres ct1 psql -c \"select citus_set_coordinator_host('ct1',5432);\" lhcz docker exec -it -u postgres ct1 psql -c \"select citus_add_secondary_node('ct4',5432,'ct1',5432,'default');\" lhcz docker exec -it -u postgres ct1 psql -c \"select master_add_node('ct2',5432);\" lhcz docker exec -it -u postgres ct1 psql -c \"select master_add_node('ct3',5432);\" lhcz docker exec -it -u postgres ct1 psql -c \"select citus_get_active_worker_nodes();\" lhcz","title":"\u57fa\u4e8ecitus"},{"location":"docker/Pg14%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA/#centos7","text":"yum update -y curl https://install.citusdata.com/community/rpm.sh | bash yum install --installroot=/usr/loca/pgdb -y python3 python3-pip vim curl wget","title":"centos7\u7248\u672c"},{"location":"docker/Swarm%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/","text":"\u6ce8\u610f\u8981\u4f7f\u7528\u5230\u7684\u7aef\u53e3 2377 (TCP) \u96c6\u7fa4\u7ba1\u7406 7946 (TCP and UDP) \u8282\u70b9\u901a\u4fe1 4789 (TCP and UDP) Overlay\u7f51\u7edc\u901a\u4fe1","title":"Swarm\u96c6\u7fa4\u4f7f\u7528\u8bf4\u660e"},{"location":"docker/Swarm%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_1","text":"2377 (TCP) \u96c6\u7fa4\u7ba1\u7406 7946 (TCP and UDP) \u8282\u70b9\u901a\u4fe1 4789 (TCP and UDP) Overlay\u7f51\u7edc\u901a\u4fe1","title":"\u6ce8\u610f\u8981\u4f7f\u7528\u5230\u7684\u7aef\u53e3"},{"location":"docker/debian%E6%9B%B4%E6%96%B0source/","text":"debian\u5bb9\u5668\u66f4\u65b0source.list cat > /etc/apt/sources.list deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free ctrl+d","title":"debian\u5bb9\u5668\u66f4\u65b0source.list"},{"location":"docker/debian%E6%9B%B4%E6%96%B0source/#debiansourcelist","text":"cat > /etc/apt/sources.list deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free deb http://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free ctrl+d","title":"debian\u5bb9\u5668\u66f4\u65b0source.list"},{"location":"docker/docker%E5%AE%B9%E5%99%A8%E7%9B%B8%E5%85%B3/","text":"docker\u5bb9\u5668\u76f8\u5173 \u5728docker\u7684php:fpm\u955c\u50cf\u4e2d\u5b89\u88c5pdo_mysql\u6269\u5c55:docker-php-ext-install pdo_mysql","title":"docker\u5bb9\u5668\u76f8\u5173"},{"location":"docker/docker%E5%AE%B9%E5%99%A8%E7%9B%B8%E5%85%B3/#docker","text":"\u5728docker\u7684php:fpm\u955c\u50cf\u4e2d\u5b89\u88c5pdo_mysql\u6269\u5c55:docker-php-ext-install pdo_mysql","title":"docker\u5bb9\u5668\u76f8\u5173"},{"location":"docker/seaweedfs%E4%BD%9C%E4%B8%BA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6/","text":"\u5b89\u88c5\u63d2\u4ef6 \u5728\u7ebf\u5b89\u88c5 #HOST\u7684\u503c\u662ffiler\u7684\u5730\u5740\u548c\u7aef\u53e3\uff0c\u4e0d\u5e26http\u524d\u7f00 docker plugin install --alias seaweedfs katharostech/seaweedfs-volume-plugin HOST=localhost:8888 #\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u4f1a\u8be2\u95ee\u662f\u5426\u5141\u8bb8\u7533\u8bf7\u7684\u6743\u9650\uff0c\u8f93\u5165Y\u56de\u8f66\u8fdb\u884c\u786e\u8ba4 docker plugin ls #\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u7ed3\u679c ID NAME DESCRIPTION ENABLED 4a08a23cf2eb seaweedfs:latest SeaweedFS volume plugin for Docker true \u79bb\u7ebf\u5b89\u88c5 \u5728\u6709\u7f51\u7edc\u7684\u73af\u5883\u4e0b\u5b89\u88c5\u597d\u63d2\u4ef6\uff0c\u5c06\u63d2\u4ef6\u76ee\u5f55\uff08 /var/lib/docker/plugin/* \uff09\u76f4\u63a5\u6253\u5305\u8d77\u6765\u62ff\u5230\u79bb\u7ebf\u73af\u5883\u4e0b\u89e3\u538b\u5230\u5bf9\u5e94\u76ee\u5f55\uff0c\u7136\u540e systemctl restart docker \u6765\u91cd\u542f\u5bb9\u5668\u540e\u7aef\u670d\u52a1\u5373\u53ef\u901a\u8fc7 docker pulgin ls \u770b\u5230\u8be5\u63d2\u4ef6\u4e86\u3002 \u521b\u5efa\u5b58\u50a8\u5377 #\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u5316\u5b58\u50a8\u5377 docker volume create --driver seaweedfs weed-vol #\u8be5\u76ee\u5f55\u5b58\u50a8\u4e8e\uff1ahttp://localhost:8888/docker/volumes/weedvol/ \u4f7f\u7528 docker run -it --rm -v weed-vol:/data alpine sh cd /data cp -r /etc/* ./ ls -alh du . -hs \u6ce8\u610f\u4e8b\u9879 \u751f\u4ea7\u73af\u5883\u4e2d\u5efa\u8baeseaweedfs\u96c6\u7fa4\u4f7f\u7528\u591a\u4e2avolume\u6765\u63d0\u5347\u5e76\u53d1\u8bfb\u5199\u901f\u5ea6\u3002 \u5982\u679c\u60f3\u5c06docker\u7684volume\u7ed1\u5b9a\u5230\u4e0d\u540c\u7684seaweedfs filer\u7684\u8bdd\u4ee5\u53e6\u5916\u7684\u540d\u79f0\u518d\u5b89\u88c5\u4e00\u4e2a\u63d2\u4ef6\uff0c\u521b\u5efa\u5bb9\u5668\u5b58\u50a8\u5377\u65f6\u5019\u4f7f\u7528\u53e6\u4e00\u4e2a\u540d\u5b57\u4f5c\u4e3a --driver \u7684\u503c\u5373\u53ef\u3002 \u63d2\u4ef6\u901a\u8fc7 host \u4e3b\u673a\u7f51\u7edc\u63a5\u53e3\u8fdb\u884c\u901a\u4fe1\u3002","title":"Seaweedfs\u4f5c\u4e3a\u5206\u5e03\u5f0f\u5b58\u50a8\u63d2\u4ef6"},{"location":"docker/seaweedfs%E4%BD%9C%E4%B8%BA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6/#_1","text":"","title":"\u5b89\u88c5\u63d2\u4ef6"},{"location":"docker/seaweedfs%E4%BD%9C%E4%B8%BA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6/#_2","text":"#HOST\u7684\u503c\u662ffiler\u7684\u5730\u5740\u548c\u7aef\u53e3\uff0c\u4e0d\u5e26http\u524d\u7f00 docker plugin install --alias seaweedfs katharostech/seaweedfs-volume-plugin HOST=localhost:8888 #\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u4f1a\u8be2\u95ee\u662f\u5426\u5141\u8bb8\u7533\u8bf7\u7684\u6743\u9650\uff0c\u8f93\u5165Y\u56de\u8f66\u8fdb\u884c\u786e\u8ba4 docker plugin ls #\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u7ed3\u679c ID NAME DESCRIPTION ENABLED 4a08a23cf2eb seaweedfs:latest SeaweedFS volume plugin for Docker true","title":"\u5728\u7ebf\u5b89\u88c5"},{"location":"docker/seaweedfs%E4%BD%9C%E4%B8%BA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6/#_3","text":"\u5728\u6709\u7f51\u7edc\u7684\u73af\u5883\u4e0b\u5b89\u88c5\u597d\u63d2\u4ef6\uff0c\u5c06\u63d2\u4ef6\u76ee\u5f55\uff08 /var/lib/docker/plugin/* \uff09\u76f4\u63a5\u6253\u5305\u8d77\u6765\u62ff\u5230\u79bb\u7ebf\u73af\u5883\u4e0b\u89e3\u538b\u5230\u5bf9\u5e94\u76ee\u5f55\uff0c\u7136\u540e systemctl restart docker \u6765\u91cd\u542f\u5bb9\u5668\u540e\u7aef\u670d\u52a1\u5373\u53ef\u901a\u8fc7 docker pulgin ls \u770b\u5230\u8be5\u63d2\u4ef6\u4e86\u3002","title":"\u79bb\u7ebf\u5b89\u88c5"},{"location":"docker/seaweedfs%E4%BD%9C%E4%B8%BA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6/#_4","text":"#\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u5316\u5b58\u50a8\u5377 docker volume create --driver seaweedfs weed-vol #\u8be5\u76ee\u5f55\u5b58\u50a8\u4e8e\uff1ahttp://localhost:8888/docker/volumes/weedvol/","title":"\u521b\u5efa\u5b58\u50a8\u5377"},{"location":"docker/seaweedfs%E4%BD%9C%E4%B8%BA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6/#_5","text":"docker run -it --rm -v weed-vol:/data alpine sh cd /data cp -r /etc/* ./ ls -alh du . -hs","title":"\u4f7f\u7528"},{"location":"docker/seaweedfs%E4%BD%9C%E4%B8%BA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6/#_6","text":"\u751f\u4ea7\u73af\u5883\u4e2d\u5efa\u8baeseaweedfs\u96c6\u7fa4\u4f7f\u7528\u591a\u4e2avolume\u6765\u63d0\u5347\u5e76\u53d1\u8bfb\u5199\u901f\u5ea6\u3002 \u5982\u679c\u60f3\u5c06docker\u7684volume\u7ed1\u5b9a\u5230\u4e0d\u540c\u7684seaweedfs filer\u7684\u8bdd\u4ee5\u53e6\u5916\u7684\u540d\u79f0\u518d\u5b89\u88c5\u4e00\u4e2a\u63d2\u4ef6\uff0c\u521b\u5efa\u5bb9\u5668\u5b58\u50a8\u5377\u65f6\u5019\u4f7f\u7528\u53e6\u4e00\u4e2a\u540d\u5b57\u4f5c\u4e3a --driver \u7684\u503c\u5373\u53ef\u3002 \u63d2\u4ef6\u901a\u8fc7 host \u4e3b\u673a\u7f51\u7edc\u63a5\u53e3\u8fdb\u884c\u901a\u4fe1\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"docker/%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/","text":"\u5bb9\u5668\u4f7f\u7528\u6ce8\u610f\u4e8b\u9879 \u5bb9\u5668\u4e2d\u9ed8\u8ba4\u91c7\u7528overlayfs \u6587\u4ef6\u7cfb\u7edf\uff0c\u5728\u9ad8\u78c1\u76d8io\u60c5\u51b5\u4e0b\u6027\u80fd\u635f\u8017\u8f83\u5927\uff0c\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u7684\u529e\u6cd5\u5728\u4e8e\u76f4\u63a5\u4ece\u5bbf\u4e3b\u673a\u6620\u5c04\u5230\u5bb9\u5668\u5185\u90e8\u4f7f\u7528\u5373\u53ef\u7ed5\u8fc7overlayfs\u5c42\u53e0\u6587\u4ef6\u7cfb\u7edf\uff1b \u5bb9\u5668\u5316\u5c01\u88c5\u5bf9cpu\u76f8\u5173\u7684\u6027\u80fd\u635f\u8017\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\uff1b \u5bb9\u5668\u9ed8\u8ba4\u4f7f\u7528\u5185\u6838\u63d0\u4f9b\u7684iptable\u8f6c\u53d1\u529f\u80fd\u63d0\u4f9b\u7f51\u7edc\u76f8\u5173\u652f\u6301\uff0c\u9ad8\u7f51\u7edcio\u7684\u573a\u666f\u4e0b\u6027\u80fd\u635f\u8017\u8f83\u5927\uff0c\u907f\u514d\u7684\u529e\u6cd5\u5728\u4e8e\u76f4\u63a5\u4f7f\u7528--net host\u4f7f\u7528\u4e3b\u673a\u7f51\u7edc\uff1b","title":"\u5bb9\u5668\u4f7f\u7528\u6ce8\u610f\u4e8b\u9879"},{"location":"docker/%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#_1","text":"\u5bb9\u5668\u4e2d\u9ed8\u8ba4\u91c7\u7528overlayfs \u6587\u4ef6\u7cfb\u7edf\uff0c\u5728\u9ad8\u78c1\u76d8io\u60c5\u51b5\u4e0b\u6027\u80fd\u635f\u8017\u8f83\u5927\uff0c\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u7684\u529e\u6cd5\u5728\u4e8e\u76f4\u63a5\u4ece\u5bbf\u4e3b\u673a\u6620\u5c04\u5230\u5bb9\u5668\u5185\u90e8\u4f7f\u7528\u5373\u53ef\u7ed5\u8fc7overlayfs\u5c42\u53e0\u6587\u4ef6\u7cfb\u7edf\uff1b \u5bb9\u5668\u5316\u5c01\u88c5\u5bf9cpu\u76f8\u5173\u7684\u6027\u80fd\u635f\u8017\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\uff1b \u5bb9\u5668\u9ed8\u8ba4\u4f7f\u7528\u5185\u6838\u63d0\u4f9b\u7684iptable\u8f6c\u53d1\u529f\u80fd\u63d0\u4f9b\u7f51\u7edc\u76f8\u5173\u652f\u6301\uff0c\u9ad8\u7f51\u7edcio\u7684\u573a\u666f\u4e0b\u6027\u80fd\u635f\u8017\u8f83\u5927\uff0c\u907f\u514d\u7684\u529e\u6cd5\u5728\u4e8e\u76f4\u63a5\u4f7f\u7528--net host\u4f7f\u7528\u4e3b\u673a\u7f51\u7edc\uff1b","title":"\u5bb9\u5668\u4f7f\u7528\u6ce8\u610f\u4e8b\u9879"},{"location":"linux/Alpine%E4%BD%BF%E7%94%A8%E6%B8%85%E5%8D%8E%E6%BA%90/","text":"sed -i 's/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g' /etc/apk/repositories apk update","title":"Alpine\u4f7f\u7528\u6e05\u534e\u6e90"},{"location":"linux/CentOS%E5%AE%8C%E7%BE%8E%E5%8D%87%E7%BA%A7gcc%E7%89%88%E6%9C%AC%E6%96%B9%E6%B3%95/","text":"\u5728\u67d0\u4e9b\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u9700\u8981\u7279\u5b9a\u7684gcc\u7248\u672c\u652f\u6301\uff0c\u4f46\u662f\u8f7b\u6613\u4e0d\u8981\u53bb\u7f16\u8bd1gcc\uff0c\u6211\u8fd9\u91cc\u63a8\u8350\u4f7f\u7528\u7ea2\u5e3d\u63d0\u4f9b\u7684\u5f00\u53d1\u5de5\u5177\u5305\u6765\u7ba1\u7406gcc\u7248\u672c\uff0c\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u968f\u65f6\u5207\u6362\u7248\u672c\uff0c\u5e76\u4e14\u53ef\u4ee5\u5e76\u5b58\u591a\u4e2a\u7248\u672c\uff0c\u4e0d\u7834\u574f\u539f\u6709gcc\u73af\u5883\u3002 \u7ea2\u5e3d\u5b98\u65b9Developer Toolset\u6587\u6863\u5730\u5740\uff1ahttps://access.redhat.com/documentation/en-us/red_hat_developer_toolset/8/ devtoolset\u5bf9\u5e94gcc\u7684\u7248\u672c: devtoolset-3\u5bf9\u5e94gcc4.x.x\u7248\u672c devtoolset-4\u5bf9\u5e94gcc5.x.x\u7248\u672c devtoolset-6\u5bf9\u5e94gcc6.x.x\u7248\u672c devtoolset-7\u5bf9\u5e94gcc7.x.x\u7248\u672c 1\u3001\u5b89\u88c5devtoolset\u5305 yum install centos-release-scl yum install devtoolset-4 2\u3001\u6fc0\u6d3bgcc\u7248\u672c\uff0c\u4f7f\u5176\u751f\u6548 scl enable devtoolset-4 bash source /opt/rh/devtoolset-4/enable \u6ce8\u610f\uff1a\u6b64\u65f6\u901a\u8fc7gcc --version\u547d\u4ee4\u53ef\u4ee5\u770b\u5230\uff0cgcc\u7248\u672c\u5df2\u7ecf\u53d8\u62105.3.1\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\u8fd9\u4ec5\u4ec5\u5728\u5f53\u524dbash\u751f\u6548\uff0c\u5982\u679c\u9700\u8981\u6c38\u4e45\u751f\u6548\uff0c\u53ef\u4ee5\u8bf7\u81ea\u884c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u3002","title":"CentOS\u5b8c\u7f8e\u5347\u7ea7gcc\u7248\u672c\u65b9\u6cd5"},{"location":"linux/Centos7%E6%9B%B4%E6%96%B0%E5%86%85%E6%A0%B8/","text":"\u67e5\u770b\u5f53\u524d\u5185\u6838\u7248\u672c uname -r #3.10.0-514.el7.x86_64 uname -a #Linux k8s-master 3.10.0-514.el7.x86_64 #1 SMP Tue Nov 22 16:42:41 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux cat/etc/redhat\u2212release #CentOSLinuxrelease7.3.1611(Core) \u66f4\u65b0yum\u6e90\u4ed3\u5e93 yum -y update #\u542f\u7528 ELRepo \u4ed3\u5e93 ELRepo \u4ed3\u5e93\u662f\u57fa\u4e8e\u793e\u533a\u7684\u7528\u4e8e\u4f01\u4e1a\u7ea7 Linux \u4ed3\u5e93\uff0c\u63d0\u4f9b\u5bf9 RedHat Enterprise (RHEL) \u548c \u5176\u4ed6\u57fa\u4e8e RHEL\u7684 Linux \u53d1\u884c\u7248\uff08CentOS\u3001Scientific\u3001Fedora \u7b49\uff09\u7684\u652f\u6301\u3002 ELRepo \u805a\u7126\u4e8e\u548c\u786c\u4ef6\u76f8\u5173\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edf\u9a71\u52a8\u3001\u663e\u5361\u9a71\u52a8\u3001\u7f51\u7edc\u9a71\u52a8\u3001\u58f0\u5361\u9a71\u52a8\u548c\u6444\u50cf\u5934\u9a71\u52a8\u7b49\u3002 #\u5bfc\u5165ELRepo\u4ed3\u5e93\u7684\u516c\u5171\u5bc6\u94a5 rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org #\u5b89\u88c5ELRepo\u4ed3\u5e93\u7684yum\u6e90 rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \u67e5\u770b\u53ef\u7528\u7684\u7cfb\u7edf\u5185\u6838\u5305 \u53ef\u4ee5\u770b\u52304.4\u548c4.18\u4e24\u4e2a\u7248\u672c yum --disablerepo=\"*\" --enablerepo=\"elrepo-kernel\" list available Loaded plugins: fastestmirror Loading mirror speeds from cached hostfile elrepo-kernel: mirrors.tuna.tsinghua.edu.cn elrepo-kernel | 2.9 kB 00:00:00 elrepo-kernel/primary_db | 1.8 MB 00:00:03 Available Packages kernel-lt.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-devel.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-doc.noarch 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-headers.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools-libs.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools-libs-devel.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-ml.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-devel.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-doc.noarch 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-headers.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools-libs.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools-libs-devel.x86_64 4.18.7-1.el7.elrepo elrepo-kernel perf.x86_64 4.18.7-1.el7.elrepo elrepo-kernel python-perf.x86_64 4.18.7-1.el7.elrepo elrepo- \u5b89\u88c5\u6700\u65b0\u7248\u672c\u5185\u6838 yum --enablerepo=elrepo-kernel install kernel-ml --enablerepo \u9009\u9879\u5f00\u542f CentOS \u7cfb\u7edf\u4e0a\u7684\u6307\u5b9a\u4ed3\u5e93\u3002\u9ed8\u8ba4\u5f00\u542f\u7684\u662f elrepo\uff0c\u8fd9\u91cc\u7528 elrepo-kernel \u66ff\u6362\u3002 \u8bbe\u7f6e grub2 \u5185\u6838\u5b89\u88c5\u597d\u540e\uff0c\u9700\u8981\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u542f\u52a8\u9009\u9879\u5e76\u91cd\u542f\u540e\u624d\u4f1a\u751f\u6548 \u67e5\u770b\u7cfb\u7edf\u4e0a\u7684\u6240\u6709\u53ef\u7528\u5185\u6838\uff1a sudo awk\u2212F \u2032\u2032sudoawk\u2212F\u20331==\"menuentry \" {print i++ \" : \" $2}' /etc/grub2.cfg 0 : CentOS Linux (4.18.7-1.el7.elrepo.x86_64) 7 (Core) 1 : CentOS Linux (3.10.0-862.11.6.el7.x86_64) 7 (Core) 2 : CentOS Linux (3.10.0-514.el7.x86_64) 7 (Core) 3 : CentOS Linux (0-rescue-063ec330caa04d4baae54c6902c62e54) 7 (Core) \u8bbe\u7f6e\u65b0\u7684\u5185\u6838\u4e3agrub2\u7684\u9ed8\u8ba4\u7248\u672c \u670d\u52a1\u5668\u4e0a\u5b58\u57284 \u4e2a\u5185\u6838\uff0c\u6211\u4eec\u8981\u4f7f\u7528 4.18 \u8fd9\u4e2a\u7248\u672c\uff0c\u53ef\u4ee5\u901a\u8fc7 grub2-set-default 0 \u547d\u4ee4\u6216\u7f16\u8f91 /etc/default/grub \u6587\u4ef6\u6765\u8bbe\u7f6e \u901a\u8fc7 grub2-set-default 0 \u547d\u4ee4\u8bbe\u7f6e \u5176\u4e2d 0 \u662f\u4e0a\u9762\u67e5\u8be2\u51fa\u6765\u7684\u53ef\u7528\u5185\u6838 \u91cd\u542f reboot \u9a8c\u8bc1 uname -r \u663e\u793a4.18.7-1.el7.elrepo.x86_64 \u5220\u9664\u65e7\u5185\u6838\uff08\u53ef\u9009\uff09 \u67e5\u770b\u7cfb\u7edf\u4e2d\u5168\u90e8\u7684\u5185\u6838\uff1a rpm\u2212qa|grep kernel kernel\u22123.10.0\u2212514.el7.x86_64 kernel\u2212ml\u22124.18.7\u22121.el7.elrepo.x86_64 kernel\u2212tools\u2212libs\u22123.10.0\u2212862.11.6.el7.x86_64 kernel\u2212tools\u22123.10.0\u2212862.11.6.el7.x86_64 kernel\u22123.10.0\u2212862.11.6.el7.x86_64 \u65b9\u6cd51\u3001yum remove\u5220\u9664\u65e7\u5185\u6838\u7684RPM\u5305 yum remove kernel-3.10.0-514.el7.x86_64 kernel-tools-libs-3.10.0-862.11.6.el7.x86_64 kernel-tools-3.10.0-862.11.6.el7.x86_64 kernel-3.10.0-862.11.6.el7.x86_64","title":"Centos7\u66f4\u65b0\u5185\u6838"},{"location":"linux/Centos7%E6%9B%B4%E6%96%B0%E5%86%85%E6%A0%B8/#_1","text":"\u67e5\u770b\u5f53\u524d\u5185\u6838\u7248\u672c uname -r #3.10.0-514.el7.x86_64 uname -a #Linux k8s-master 3.10.0-514.el7.x86_64 #1 SMP Tue Nov 22 16:42:41 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux cat/etc/redhat\u2212release #CentOSLinuxrelease7.3.1611(Core) \u66f4\u65b0yum\u6e90\u4ed3\u5e93 yum -y update #\u542f\u7528 ELRepo \u4ed3\u5e93 ELRepo \u4ed3\u5e93\u662f\u57fa\u4e8e\u793e\u533a\u7684\u7528\u4e8e\u4f01\u4e1a\u7ea7 Linux \u4ed3\u5e93\uff0c\u63d0\u4f9b\u5bf9 RedHat Enterprise (RHEL) \u548c \u5176\u4ed6\u57fa\u4e8e RHEL\u7684 Linux \u53d1\u884c\u7248\uff08CentOS\u3001Scientific\u3001Fedora \u7b49\uff09\u7684\u652f\u6301\u3002 ELRepo \u805a\u7126\u4e8e\u548c\u786c\u4ef6\u76f8\u5173\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edf\u9a71\u52a8\u3001\u663e\u5361\u9a71\u52a8\u3001\u7f51\u7edc\u9a71\u52a8\u3001\u58f0\u5361\u9a71\u52a8\u548c\u6444\u50cf\u5934\u9a71\u52a8\u7b49\u3002 #\u5bfc\u5165ELRepo\u4ed3\u5e93\u7684\u516c\u5171\u5bc6\u94a5 rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org #\u5b89\u88c5ELRepo\u4ed3\u5e93\u7684yum\u6e90 rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \u67e5\u770b\u53ef\u7528\u7684\u7cfb\u7edf\u5185\u6838\u5305 \u53ef\u4ee5\u770b\u52304.4\u548c4.18\u4e24\u4e2a\u7248\u672c yum --disablerepo=\"*\" --enablerepo=\"elrepo-kernel\" list available Loaded plugins: fastestmirror Loading mirror speeds from cached hostfile elrepo-kernel: mirrors.tuna.tsinghua.edu.cn elrepo-kernel | 2.9 kB 00:00:00 elrepo-kernel/primary_db | 1.8 MB 00:00:03 Available Packages kernel-lt.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-devel.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-doc.noarch 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-headers.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools-libs.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools-libs-devel.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-ml.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-devel.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-doc.noarch 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-headers.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools-libs.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools-libs-devel.x86_64 4.18.7-1.el7.elrepo elrepo-kernel perf.x86_64 4.18.7-1.el7.elrepo elrepo-kernel python-perf.x86_64 4.18.7-1.el7.elrepo elrepo- \u5b89\u88c5\u6700\u65b0\u7248\u672c\u5185\u6838 yum --enablerepo=elrepo-kernel install kernel-ml --enablerepo \u9009\u9879\u5f00\u542f CentOS \u7cfb\u7edf\u4e0a\u7684\u6307\u5b9a\u4ed3\u5e93\u3002\u9ed8\u8ba4\u5f00\u542f\u7684\u662f elrepo\uff0c\u8fd9\u91cc\u7528 elrepo-kernel \u66ff\u6362\u3002 \u8bbe\u7f6e grub2 \u5185\u6838\u5b89\u88c5\u597d\u540e\uff0c\u9700\u8981\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u542f\u52a8\u9009\u9879\u5e76\u91cd\u542f\u540e\u624d\u4f1a\u751f\u6548 \u67e5\u770b\u7cfb\u7edf\u4e0a\u7684\u6240\u6709\u53ef\u7528\u5185\u6838\uff1a sudo awk\u2212F \u2032\u2032sudoawk\u2212F\u20331==\"menuentry \" {print i++ \" : \" $2}' /etc/grub2.cfg 0 : CentOS Linux (4.18.7-1.el7.elrepo.x86_64) 7 (Core) 1 : CentOS Linux (3.10.0-862.11.6.el7.x86_64) 7 (Core) 2 : CentOS Linux (3.10.0-514.el7.x86_64) 7 (Core) 3 : CentOS Linux (0-rescue-063ec330caa04d4baae54c6902c62e54) 7 (Core) \u8bbe\u7f6e\u65b0\u7684\u5185\u6838\u4e3agrub2\u7684\u9ed8\u8ba4\u7248\u672c \u670d\u52a1\u5668\u4e0a\u5b58\u57284 \u4e2a\u5185\u6838\uff0c\u6211\u4eec\u8981\u4f7f\u7528 4.18 \u8fd9\u4e2a\u7248\u672c\uff0c\u53ef\u4ee5\u901a\u8fc7 grub2-set-default 0 \u547d\u4ee4\u6216\u7f16\u8f91 /etc/default/grub \u6587\u4ef6\u6765\u8bbe\u7f6e \u901a\u8fc7 grub2-set-default 0 \u547d\u4ee4\u8bbe\u7f6e \u5176\u4e2d 0 \u662f\u4e0a\u9762\u67e5\u8be2\u51fa\u6765\u7684\u53ef\u7528\u5185\u6838 \u91cd\u542f reboot \u9a8c\u8bc1 uname -r \u663e\u793a4.18.7-1.el7.elrepo.x86_64 \u5220\u9664\u65e7\u5185\u6838\uff08\u53ef\u9009\uff09 \u67e5\u770b\u7cfb\u7edf\u4e2d\u5168\u90e8\u7684\u5185\u6838\uff1a rpm\u2212qa|grep kernel kernel\u22123.10.0\u2212514.el7.x86_64 kernel\u2212ml\u22124.18.7\u22121.el7.elrepo.x86_64 kernel\u2212tools\u2212libs\u22123.10.0\u2212862.11.6.el7.x86_64 kernel\u2212tools\u22123.10.0\u2212862.11.6.el7.x86_64 kernel\u22123.10.0\u2212862.11.6.el7.x86_64 \u65b9\u6cd51\u3001yum remove\u5220\u9664\u65e7\u5185\u6838\u7684RPM\u5305 yum remove kernel-3.10.0-514.el7.x86_64 kernel-tools-libs-3.10.0-862.11.6.el7.x86_64 kernel-tools-3.10.0-862.11.6.el7.x86_64 kernel-3.10.0-862.11.6.el7.x86_64","title":""},{"location":"linux/FIO%E6%B5%8B%E8%AF%95%E7%A3%81%E7%9B%98IO/","text":"IO\u6d4b\u8bd5 \u6d4b\u8bd5\u968f\u673a\u8bfb\u53d6 fio -filename=/tmp/test_randread -direct=1 -iodepth 1 -thread -rw=randread -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=60 -group_reporting -name=mytest \u6d4b\u8bd5\u968f\u673a\u5199\u5165 fio -filename=/tmp/test_randread -direct=1 -iodepth 1 -thread -rw=randread -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=600 -group_reporting -name=mytest \u987a\u5e8f\u8bfb fio -filename=/tmp/test_randread -direct=1 -iodepth 1 -thread -rw=read -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=60 -group_reporting -name=mytest \u987a\u5e8f\u5199 fio -filename=/data/test_randread -direct=1 -iodepth 1 -thread -rw=write -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=600 -group_reporting -name=mytest \u6df7\u5408\u968f\u673a\u8bfb\u5199 fio -filename=/tmp/test_randread -direct=1 -iodepth 1 -thread -rw=randrw -rwmixread=70 -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=600 -group_reporting -name=mytest -ioscheduler=noop","title":"FIO\u6d4b\u8bd5\u78c1\u76d8IO"},{"location":"linux/FIO%E6%B5%8B%E8%AF%95%E7%A3%81%E7%9B%98IO/#io","text":"\u6d4b\u8bd5\u968f\u673a\u8bfb\u53d6 fio -filename=/tmp/test_randread -direct=1 -iodepth 1 -thread -rw=randread -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=60 -group_reporting -name=mytest \u6d4b\u8bd5\u968f\u673a\u5199\u5165 fio -filename=/tmp/test_randread -direct=1 -iodepth 1 -thread -rw=randread -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=600 -group_reporting -name=mytest \u987a\u5e8f\u8bfb fio -filename=/tmp/test_randread -direct=1 -iodepth 1 -thread -rw=read -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=60 -group_reporting -name=mytest \u987a\u5e8f\u5199 fio -filename=/data/test_randread -direct=1 -iodepth 1 -thread -rw=write -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=600 -group_reporting -name=mytest \u6df7\u5408\u968f\u673a\u8bfb\u5199 fio -filename=/tmp/test_randread -direct=1 -iodepth 1 -thread -rw=randrw -rwmixread=70 -ioengine=psync -bs=16k -size=30G -numjobs=10 -runtime=600 -group_reporting -name=mytest -ioscheduler=noop","title":"IO\u6d4b\u8bd5"},{"location":"linux/Linux_LVM%E5%88%86%E5%8C%BA%E6%89%A9%E5%AE%B9/","text":"LVM\u5206\u533a\u6269\u5bb9 \u5bf9\u4e8e\u5df2\u6709LVM\u5206\u533a\u6a21\u5f0f\u7684\u673a\u5668\uff0c\u65b0\u589e\u4e00\u5757\u786c\u76d8\u9700\u8981\u5c06\u5176\u6269\u5bb9\u5230\u5df2\u6709\u7684 /data \u5206\u533a\uff0c\u5927\u81f4\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a vgdisplay \u67e5\u770b\u73b0\u6709\u7684\u5206\u533a\u7ec4\u540d\u79f0\u201cVG Name\u201d fdisk -l \u627e\u5230\u65b0\u589e\u7684\u78c1\u76d8\u4f8b\u5982 /dev/vde pvcreate /dev/vde \u521b\u5efa\u5377 pvdisplay \u67e5\u770b\u6240\u6709\u7684\u5377 df -h \u786e\u5b9a/data\u7684\u5377\u540d\uff0c\u4f8b\u5982 /dev/mapper/deb10--vg-data vgextend deb10-vg /dev/vde \u5c06vde\u52a0\u5230\u903b\u8f91\u5377\u4e2d lventend -L +100G /dev/mapper/deb10--vg-data \u7ed9 /data \u6269\u5bb9100GB\u5bb9\u91cf resize2fs /dev/mapper/deb10--vg-data \u5237\u65b0\u78c1\u76d8\u5bb9\u91cf\uff08\u5982\u679c\u662fxfs\u683c\u5f0f\u7684\u8bdd\u4f7f\u7528 xfs_growfs /dev/mapper/deb10--vg-data ) df -h \u67e5\u770b\u65b0\u7684\u78c1\u76d8\u5206\u533a\u5bb9\u91cf\u4fe1\u606f\u5373\u53ef\u770b\u5230\u53d8\u52a8","title":"LVM\u5206\u533a\u6269\u5bb9"},{"location":"linux/Linux_LVM%E5%88%86%E5%8C%BA%E6%89%A9%E5%AE%B9/#lvm","text":"\u5bf9\u4e8e\u5df2\u6709LVM\u5206\u533a\u6a21\u5f0f\u7684\u673a\u5668\uff0c\u65b0\u589e\u4e00\u5757\u786c\u76d8\u9700\u8981\u5c06\u5176\u6269\u5bb9\u5230\u5df2\u6709\u7684 /data \u5206\u533a\uff0c\u5927\u81f4\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a vgdisplay \u67e5\u770b\u73b0\u6709\u7684\u5206\u533a\u7ec4\u540d\u79f0\u201cVG Name\u201d fdisk -l \u627e\u5230\u65b0\u589e\u7684\u78c1\u76d8\u4f8b\u5982 /dev/vde pvcreate /dev/vde \u521b\u5efa\u5377 pvdisplay \u67e5\u770b\u6240\u6709\u7684\u5377 df -h \u786e\u5b9a/data\u7684\u5377\u540d\uff0c\u4f8b\u5982 /dev/mapper/deb10--vg-data vgextend deb10-vg /dev/vde \u5c06vde\u52a0\u5230\u903b\u8f91\u5377\u4e2d lventend -L +100G /dev/mapper/deb10--vg-data \u7ed9 /data \u6269\u5bb9100GB\u5bb9\u91cf resize2fs /dev/mapper/deb10--vg-data \u5237\u65b0\u78c1\u76d8\u5bb9\u91cf\uff08\u5982\u679c\u662fxfs\u683c\u5f0f\u7684\u8bdd\u4f7f\u7528 xfs_growfs /dev/mapper/deb10--vg-data ) df -h \u67e5\u770b\u65b0\u7684\u78c1\u76d8\u5206\u533a\u5bb9\u91cf\u4fe1\u606f\u5373\u53ef\u770b\u5230\u53d8\u52a8","title":"LVM\u5206\u533a\u6269\u5bb9"},{"location":"linux/Nginx%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/","text":"\u8ba1\u7b97\u751f\u4ea7\u73af\u5883\u5927\u81f4\u7684\u7f51\u7edc\u6d41\u91cf\uff0c\u770b\u770b\u5728\u5f53\u524d\u51c6\u5907\u4f5c\u4e3a\u8d1f\u8f7d\u7684\u673a\u5668\u7684\u7269\u7406\u94fe\u8def\u80fd\u5426\u627f\u53d7\u7684\u4f4f\uff1f\u4e3b\u8981\u6709\uff1a\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\u3001\u7f51\u7ebf\u3001\u7f51\u5361\uff1b \u603b\u7684\u6d41\u91cf\u5747\u5206\u7ed9\u8d1f\u8f7d\u7684\u540e\u7aef\u8282\u70b9\u65f6\u5019\u6bcf\u4e2a\u8282\u70b9\u5230\u8d1f\u8f7d\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u94fe\u8def\u662f\u5426\u5b58\u5728\u74f6\u9888\uff1f\u95f2\u65f6\uff1f\u5fd9\u65f6\uff1f\u662f\u5426\u7559\u4e86\u8db3\u591f\u7684\u5197\u4f59\uff1b \u8fdb\u7a0b\u6570\u8bbe\u7f6e\u4e3acpu\u6838\u5fc3\u6570 \u5f53\u76d1\u542c80\u7aef\u53e3\u65f6\u9700\u8981\u589e\u52a0default_server\u7533\u660e listen 80 default_server #\u53cd\u5411\u4ee3\u7406\u7684\u591a\u7ea7\u8f6c\u53d1\u914d\u7f6e\u793a\u4f8b server { listen 8000; proxy_intercept_errors on; recursive_error_pages on; location / { proxy_pass http://newip:8001; error_page 301 302 307 = @myredirect; } location @myredirect { set $saved_redirect_location '$upstream_http_location'; proxy_pass $saved_redirect_location; } }","title":"Nginx\u914d\u7f6e\u8bf4\u660e"},{"location":"linux/centos7_selinux/","text":"\u4fee\u590dCentos7\u7684SELINUX\u9519\u8bef \u95ee\u9898\u539f\u56e0\uff1a\u4fee\u6539selinux\u914d\u7f6e\u65f6\u4f7f\u7528\u4e86\u9519\u8bef\u7684\u914d\u7f6e\u6ca1\u6709\u68c0\u67e5\u5230\u76f4\u63a5\u91cd\u542f\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u5668\u65e0\u6cd5\u542f\u52a8\uff08\u505c\u7559\u5728\u542f\u52a8\u8fdb\u5ea6\u6761\u52a0\u8f7d\u7684\u5730\u65b9\uff09 \u89e3\u51b3\u529e\u6cd5\uff1a\u5f3a\u5236\u91cd\u542f\u7684\u540c\u65f6\uff0c\u901a\u8fc7\u4e91\u5e73\u53f0\u7684vnc\u529f\u80fd\uff0c\u5728grub\u542f\u52a8\u83dc\u5355\u5904\u6309E\u8fdb\u5165\u7f16\u8f91\uff0c\u5728linux16\u5f00\u5934\u90a3\u884c\u7684\u6700\u672b\u5c3e \u52a0\u5165 \u7a7a\u683cselinux=0 \u6309Ctrl+x\u6267\u884c\u542f\u52a8\uff0c\u8fdb\u5165\u7cfb\u7edf\u540e\u4fee\u590d\u9519\u8bef\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u518d reboot \u91cd\u542f\u6d4b\u8bd5\uff0c\u80fd\u6b63\u5e38\u8fdb\u5165\u7cfb\u7edf\uff0c\u6b64\u65f6\u4fee\u590d\u5b8c\u6210\u3002 \u6b63\u786e\u7684selinux\u8bbe\u7f6e\u4f8b\u5b50\u5982\u4e0b: cat /etc/selinux/config #\u5f00\u542f SELINUX=enforcing SELINUXTYPE=targeted #\u5173\u95ed SELINUX=disabled SELINUXTYPE=targeted","title":"\u4fee\u590dCentos7\u7684SELINUX\u9519\u8bef"},{"location":"linux/centos7_selinux/#centos7selinux","text":"\u95ee\u9898\u539f\u56e0\uff1a\u4fee\u6539selinux\u914d\u7f6e\u65f6\u4f7f\u7528\u4e86\u9519\u8bef\u7684\u914d\u7f6e\u6ca1\u6709\u68c0\u67e5\u5230\u76f4\u63a5\u91cd\u542f\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u5668\u65e0\u6cd5\u542f\u52a8\uff08\u505c\u7559\u5728\u542f\u52a8\u8fdb\u5ea6\u6761\u52a0\u8f7d\u7684\u5730\u65b9\uff09 \u89e3\u51b3\u529e\u6cd5\uff1a\u5f3a\u5236\u91cd\u542f\u7684\u540c\u65f6\uff0c\u901a\u8fc7\u4e91\u5e73\u53f0\u7684vnc\u529f\u80fd\uff0c\u5728grub\u542f\u52a8\u83dc\u5355\u5904\u6309E\u8fdb\u5165\u7f16\u8f91\uff0c\u5728linux16\u5f00\u5934\u90a3\u884c\u7684\u6700\u672b\u5c3e \u52a0\u5165 \u7a7a\u683cselinux=0 \u6309Ctrl+x\u6267\u884c\u542f\u52a8\uff0c\u8fdb\u5165\u7cfb\u7edf\u540e\u4fee\u590d\u9519\u8bef\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u518d reboot \u91cd\u542f\u6d4b\u8bd5\uff0c\u80fd\u6b63\u5e38\u8fdb\u5165\u7cfb\u7edf\uff0c\u6b64\u65f6\u4fee\u590d\u5b8c\u6210\u3002 \u6b63\u786e\u7684selinux\u8bbe\u7f6e\u4f8b\u5b50\u5982\u4e0b: cat /etc/selinux/config #\u5f00\u542f SELINUX=enforcing SELINUXTYPE=targeted #\u5173\u95ed SELINUX=disabled SELINUXTYPE=targeted","title":"\u4fee\u590dCentos7\u7684SELINUX\u9519\u8bef"},{"location":"linux/centos7%E5%8D%95%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F/","text":"\u5355\u7528\u6237\u6a21\u5f0f\u4e3b\u8981\u7528\u4e8e\u91cd\u7f6eroot\u5bc6\u7801\u7b49\u64cd\u4f5c \u542f\u52a8\u65f6\u5019\u5728grub\u7684\u542f\u52a8\u754c\u9762\u9009\u62e9\u5185\u6838\u7248\u672c\u65f6\u5019\u6309E\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f \u5728linux16\u5f00\u5934\u7684\u90a3\u884c\u672b\u5c3e\u51fa\u52a0\u4e0a \u7a7a\u683cinit=/bin/bash \u6309Ctrl+x\u542f\u52a8\u5373\u53ef\u8fdb\u5165\u5355\u7528\u6237\u6a21\u5f0f\uff0c\u6b64\u65f6\u53ef\u4ee5\u5bf9\u7cfb\u7edf\u5404\u5206\u533a\u5185\u5bb9\u8fdb\u884c\u4fee\u6539\u5305\u62ec\u5f3a\u5236\u91cd\u7f6eroot\u5bc6\u7801\u7b49\u64cd\u4f5c\u3002","title":"Centos7\u5355\u7528\u6237\u6a21\u5f0f"},{"location":"linux/centos_update_gcc/","text":"CentOS\u5b8c\u7f8e\u5347\u7ea7gcc\u7248\u672c\u65b9\u6cd5 \u5728\u67d0\u4e9b\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u9700\u8981\u7279\u5b9a\u7684gcc\u7248\u672c\u652f\u6301\uff0c\u4f46\u662f\u8f7b\u6613\u4e0d\u8981\u53bb\u7f16\u8bd1gcc\uff0c\u6211\u8fd9\u91cc\u63a8\u8350\u4f7f\u7528\u7ea2\u5e3d\u63d0\u4f9b\u7684\u5f00\u53d1\u5de5\u5177\u5305\u6765\u7ba1\u7406gcc\u7248\u672c\uff0c\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u968f\u65f6\u5207\u6362\u7248\u672c\uff0c\u5e76\u4e14\u53ef\u4ee5\u5e76\u5b58\u591a\u4e2a\u7248\u672c\uff0c\u4e0d\u7834\u574f\u539f\u6709gcc\u73af\u5883\u3002 \u7ea2\u5e3d\u5b98\u65b9Developer Toolset\u6587\u6863\u5730\u5740\uff1ahttps://access.redhat.com/documentation/en-us/red_hat_developer_toolset/8/ devtoolset\u5bf9\u5e94gcc\u7684\u7248\u672c: devtoolset-3\u5bf9\u5e94gcc4.x.x\u7248\u672c devtoolset-4\u5bf9\u5e94gcc5.x.x\u7248\u672c devtoolset-6\u5bf9\u5e94gcc6.x.x\u7248\u672c devtoolset-7\u5bf9\u5e94gcc7.x.x\u7248\u672c 1\u3001\u5b89\u88c5devtoolset\u5305 yum install centos-release-scl yum install devtoolset-4 2\u3001\u6fc0\u6d3bgcc\u7248\u672c\uff0c\u4f7f\u5176\u751f\u6548 scl enable devtoolset-4 bash source /opt/rh/devtoolset-4/enable \u6ce8\u610f\uff1a\u6b64\u65f6\u901a\u8fc7gcc --version\u547d\u4ee4\u53ef\u4ee5\u770b\u5230\uff0cgcc\u7248\u672c\u5df2\u7ecf\u53d8\u62105.3.1\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\u8fd9\u4ec5\u4ec5\u5728\u5f53\u524dbash\u751f\u6548\uff0c\u5982\u679c\u9700\u8981\u6c38\u4e45\u751f\u6548\uff0c\u53ef\u4ee5\u8bf7\u81ea\u884c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u3002","title":"CentOS\u5b8c\u7f8e\u5347\u7ea7gcc\u7248\u672c\u65b9\u6cd5"},{"location":"linux/centos_update_gcc/#centosgcc","text":"\u5728\u67d0\u4e9b\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u9700\u8981\u7279\u5b9a\u7684gcc\u7248\u672c\u652f\u6301\uff0c\u4f46\u662f\u8f7b\u6613\u4e0d\u8981\u53bb\u7f16\u8bd1gcc\uff0c\u6211\u8fd9\u91cc\u63a8\u8350\u4f7f\u7528\u7ea2\u5e3d\u63d0\u4f9b\u7684\u5f00\u53d1\u5de5\u5177\u5305\u6765\u7ba1\u7406gcc\u7248\u672c\uff0c\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u968f\u65f6\u5207\u6362\u7248\u672c\uff0c\u5e76\u4e14\u53ef\u4ee5\u5e76\u5b58\u591a\u4e2a\u7248\u672c\uff0c\u4e0d\u7834\u574f\u539f\u6709gcc\u73af\u5883\u3002 \u7ea2\u5e3d\u5b98\u65b9Developer Toolset\u6587\u6863\u5730\u5740\uff1ahttps://access.redhat.com/documentation/en-us/red_hat_developer_toolset/8/ devtoolset\u5bf9\u5e94gcc\u7684\u7248\u672c: devtoolset-3\u5bf9\u5e94gcc4.x.x\u7248\u672c devtoolset-4\u5bf9\u5e94gcc5.x.x\u7248\u672c devtoolset-6\u5bf9\u5e94gcc6.x.x\u7248\u672c devtoolset-7\u5bf9\u5e94gcc7.x.x\u7248\u672c 1\u3001\u5b89\u88c5devtoolset\u5305 yum install centos-release-scl yum install devtoolset-4 2\u3001\u6fc0\u6d3bgcc\u7248\u672c\uff0c\u4f7f\u5176\u751f\u6548 scl enable devtoolset-4 bash source /opt/rh/devtoolset-4/enable \u6ce8\u610f\uff1a\u6b64\u65f6\u901a\u8fc7gcc --version\u547d\u4ee4\u53ef\u4ee5\u770b\u5230\uff0cgcc\u7248\u672c\u5df2\u7ecf\u53d8\u62105.3.1\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\u8fd9\u4ec5\u4ec5\u5728\u5f53\u524dbash\u751f\u6548\uff0c\u5982\u679c\u9700\u8981\u6c38\u4e45\u751f\u6548\uff0c\u53ef\u4ee5\u8bf7\u81ea\u884c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u3002","title":"CentOS\u5b8c\u7f8e\u5347\u7ea7gcc\u7248\u672c\u65b9\u6cd5"},{"location":"linux/cron/","text":"cron\u5b9a\u65f6\u4efb\u52a1\u5e38\u89c1\u95ee\u9898 \u4e0d\u8981\u5047\u5b9acron\u77e5\u9053\u6240\u9700\u8981\u7684\u7279\u6b8a\u73af\u5883\uff0c\u5b83\u5176\u5b9e\u5e76\u4e0d\u77e5\u9053\u3002\u6240\u4ee5\u4f60\u8981\u4fdd\u8bc1\u5728shell\u811a\u672c\u4e2d\u63d0\u4f9b\u6240\u6709\u5fc5\u8981\u7684\u8def\u5f84\u548c\u73af\u5883\u53d8\u91cf\uff0c\u9664\u4e86\u4e00\u4e9b\u81ea\u52a8\u8bbe\u7f6e\u7684\u5168\u5c40\u53d8\u91cf\u3002 \u5982\u679ccron\u4e0d\u80fd\u8fd0\u884c\u76f8\u5e94\u7684\u811a\u672c\uff0c\u7528\u6237\u5c06\u4f1a\u6536\u5230\u4e00\u4e2a\u90ae\u4ef6\u8bf4\u660e\u5176\u4e2d\u7684\u539f\u56e0\uff08cat /var/main/root\uff09","title":"cron\u5b9a\u65f6\u4efb\u52a1\u5e38\u89c1\u95ee\u9898"},{"location":"linux/cron/#cron","text":"\u4e0d\u8981\u5047\u5b9acron\u77e5\u9053\u6240\u9700\u8981\u7684\u7279\u6b8a\u73af\u5883\uff0c\u5b83\u5176\u5b9e\u5e76\u4e0d\u77e5\u9053\u3002\u6240\u4ee5\u4f60\u8981\u4fdd\u8bc1\u5728shell\u811a\u672c\u4e2d\u63d0\u4f9b\u6240\u6709\u5fc5\u8981\u7684\u8def\u5f84\u548c\u73af\u5883\u53d8\u91cf\uff0c\u9664\u4e86\u4e00\u4e9b\u81ea\u52a8\u8bbe\u7f6e\u7684\u5168\u5c40\u53d8\u91cf\u3002 \u5982\u679ccron\u4e0d\u80fd\u8fd0\u884c\u76f8\u5e94\u7684\u811a\u672c\uff0c\u7528\u6237\u5c06\u4f1a\u6536\u5230\u4e00\u4e2a\u90ae\u4ef6\u8bf4\u660e\u5176\u4e2d\u7684\u539f\u56e0\uff08cat /var/main/root\uff09","title":"cron\u5b9a\u65f6\u4efb\u52a1\u5e38\u89c1\u95ee\u9898"},{"location":"linux/cron%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/","text":"cron \u4e0d\u8981\u5047\u5b9acron\u77e5\u9053\u6240\u9700\u8981\u7684\u7279\u6b8a\u73af\u5883\uff0c\u5b83\u5176\u5b9e\u5e76\u4e0d\u77e5\u9053\u3002\u6240\u4ee5\u4f60\u8981\u4fdd\u8bc1\u5728shell\u811a\u672c\u4e2d\u63d0\u4f9b\u6240\u6709\u5fc5\u8981\u7684\u8def\u5f84\u548c\u73af\u5883\u53d8\u91cf\uff0c\u9664\u4e86\u4e00\u4e9b\u81ea\u52a8\u8bbe\u7f6e\u7684\u5168\u5c40\u53d8\u91cf\u3002 \u5982\u679ccron\u4e0d\u80fd\u8fd0\u884c\u76f8\u5e94\u7684\u811a\u672c\uff0c\u7528\u6237\u5c06\u4f1a\u6536\u5230\u4e00\u4e2a\u90ae\u4ef6\u8bf4\u660e\u5176\u4e2d\u7684\u539f\u56e0\uff08cat /var/main/root\uff09","title":"Cron\u5b9a\u65f6\u4efb\u52a1\u5e38\u89c1\u95ee\u9898"},{"location":"linux/cron%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/#cron","text":"\u4e0d\u8981\u5047\u5b9acron\u77e5\u9053\u6240\u9700\u8981\u7684\u7279\u6b8a\u73af\u5883\uff0c\u5b83\u5176\u5b9e\u5e76\u4e0d\u77e5\u9053\u3002\u6240\u4ee5\u4f60\u8981\u4fdd\u8bc1\u5728shell\u811a\u672c\u4e2d\u63d0\u4f9b\u6240\u6709\u5fc5\u8981\u7684\u8def\u5f84\u548c\u73af\u5883\u53d8\u91cf\uff0c\u9664\u4e86\u4e00\u4e9b\u81ea\u52a8\u8bbe\u7f6e\u7684\u5168\u5c40\u53d8\u91cf\u3002 \u5982\u679ccron\u4e0d\u80fd\u8fd0\u884c\u76f8\u5e94\u7684\u811a\u672c\uff0c\u7528\u6237\u5c06\u4f1a\u6536\u5230\u4e00\u4e2a\u90ae\u4ef6\u8bf4\u660e\u5176\u4e2d\u7684\u539f\u56e0\uff08cat /var/main/root\uff09","title":"cron"},{"location":"linux/iperf3%E5%B8%A6%E5%AE%BD%E6%B5%8B%E8%AF%95/","text":"#\u5728\u8981\u6d4b\u8bd5\u7684\u673a\u5668\u5b89\u88c5iperf3 yum install iperf3 -y #\u5728A\u673a\u5668\u6267\u884c\u76d1\u542c ipA:iperf3 -s #\u5728B\u673a\u5668\u6267\u884c\u53d1\u9001 ipB:iperf3 -c ipA -b 10000M -n 100G","title":"Iperf3\u5e26\u5bbd\u6d4b\u8bd5"},{"location":"linux/net_safe/","text":"\u7f51\u7edc\u5b89\u5168\u9632\u62a4 \u4f7f\u7528iptables\u5bf9\u4e3b\u673a\u4e0a\u67d0\u4e2a\u670d\u52a1\u8fdb\u884c\u8bbf\u95ee\u9650\u5236 \u5982\u679c\u53ef\u4ee5\u7684\u8bdd\u5c3d\u53ef\u80fd\u4ece\u6e90\u5934\u89e3\u51b3\uff0c\u5b9e\u5728\u4e0d\u65b9\u4fbf\u4ece\u6e90\u5934\u89e3\u51b3\u7684\u8bdd\u53ef\u4ee5\u4f7f\u7528\u6b64\u65b9\u6cd5\u8fdb\u884c\u8bbf\u95ee\u9650\u5236\uff0c\u907f\u514d\u88ab\u5176\u4ed6\u8f6f\u4ef6\u626b\u63cf\u51fa\u5404\u79cd\u201c\u6f0f\u6d1e\u201c \u4e3b\u673a\u6a21\u5f0f \u4f8b\u5982\u672c\u673a\u76f4\u63a5\u8fd0\u884ctomcat\u4f4d\u4e8e8080\u7aef\u53e3\uff0c\u5df2\u77e5\u53ef\u80fd\u6b63\u5e38\u8bbf\u95ee\u7684\u5ba2\u6237ip\u6765\u6e90\u4e3a\uff1a192.168.123.0/24 \u7981\u6b62\u5176\u4ed6ip\u6bb5\u8bbf\u95ee\uff0c\u5219\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5b9e\u73b0 #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I INPUT -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I INPUT -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local \u5bb9\u5668\u6a21\u5f0f \u5982\u679c\u662f\u8981\u5bf9\u4f4d\u4e8e\u5bb9\u5668\u4e2d\u7684\u670d\u52a1\u8fdb\u884c\u9632\u62a4\u9700\u8981\u6307\u5b9a\u5bb9\u5668\u4e13\u5c5e\u7684\u89c4\u5219\u94fe\uff0c\u5982\u4e0b #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I DOCKER -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I DOCKER -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local","title":"\u7f51\u7edc\u5b89\u5168\u9632\u62a4"},{"location":"linux/net_safe/#_1","text":"","title":"\u7f51\u7edc\u5b89\u5168\u9632\u62a4"},{"location":"linux/net_safe/#iptables","text":"\u5982\u679c\u53ef\u4ee5\u7684\u8bdd\u5c3d\u53ef\u80fd\u4ece\u6e90\u5934\u89e3\u51b3\uff0c\u5b9e\u5728\u4e0d\u65b9\u4fbf\u4ece\u6e90\u5934\u89e3\u51b3\u7684\u8bdd\u53ef\u4ee5\u4f7f\u7528\u6b64\u65b9\u6cd5\u8fdb\u884c\u8bbf\u95ee\u9650\u5236\uff0c\u907f\u514d\u88ab\u5176\u4ed6\u8f6f\u4ef6\u626b\u63cf\u51fa\u5404\u79cd\u201c\u6f0f\u6d1e\u201c","title":"\u4f7f\u7528iptables\u5bf9\u4e3b\u673a\u4e0a\u67d0\u4e2a\u670d\u52a1\u8fdb\u884c\u8bbf\u95ee\u9650\u5236"},{"location":"linux/net_safe/#_2","text":"\u4f8b\u5982\u672c\u673a\u76f4\u63a5\u8fd0\u884ctomcat\u4f4d\u4e8e8080\u7aef\u53e3\uff0c\u5df2\u77e5\u53ef\u80fd\u6b63\u5e38\u8bbf\u95ee\u7684\u5ba2\u6237ip\u6765\u6e90\u4e3a\uff1a192.168.123.0/24 \u7981\u6b62\u5176\u4ed6ip\u6bb5\u8bbf\u95ee\uff0c\u5219\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5b9e\u73b0 #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I INPUT -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I INPUT -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local","title":"\u4e3b\u673a\u6a21\u5f0f"},{"location":"linux/net_safe/#_3","text":"\u5982\u679c\u662f\u8981\u5bf9\u4f4d\u4e8e\u5bb9\u5668\u4e2d\u7684\u670d\u52a1\u8fdb\u884c\u9632\u62a4\u9700\u8981\u6307\u5b9a\u5bb9\u5668\u4e13\u5c5e\u7684\u89c4\u5219\u94fe\uff0c\u5982\u4e0b #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I DOCKER -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I DOCKER -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local","title":"\u5bb9\u5668\u6a21\u5f0f"},{"location":"linux/net_speed_test/","text":"\u5e26\u5bbd\u6d4b\u8bd5 \u901a\u8fc7iperf3\u8fdb\u884c\u5e26\u5bbd\u6d4b\u8bd5 #\u5728\u8981\u6d4b\u8bd5\u7684\u673a\u5668\u5b89\u88c5iperf3 yum install iperf3 -y #\u5728A\u673a\u5668\u6267\u884c\u76d1\u542c ipA:iperf3 -s #\u5728B\u673a\u5668\u6267\u884c\u53d1\u9001 ipB:iperf3 -c ipA -b 10000M -n 100G","title":"\u5e26\u5bbd\u6d4b\u8bd5"},{"location":"linux/net_speed_test/#_1","text":"","title":"\u5e26\u5bbd\u6d4b\u8bd5"},{"location":"linux/net_speed_test/#iperf3","text":"#\u5728\u8981\u6d4b\u8bd5\u7684\u673a\u5668\u5b89\u88c5iperf3 yum install iperf3 -y #\u5728A\u673a\u5668\u6267\u884c\u76d1\u542c ipA:iperf3 -s #\u5728B\u673a\u5668\u6267\u884c\u53d1\u9001 ipB:iperf3 -c ipA -b 10000M -n 100G","title":"\u901a\u8fc7iperf3\u8fdb\u884c\u5e26\u5bbd\u6d4b\u8bd5"},{"location":"linux/nfs/","text":"\u9488\u5bf9\u5927\u6570\u636e\u7ec4\u4ef6\u7684NFS\u6302\u8f7d\u53c2\u6570 nfs\u6302\u8f7d\u7684\u8fdc\u7a0b\u78c1\u76d8\u5982\u679c\u7528\u4e8ekafka\u3001zookeeper\u3001hadoop \u4e4b\u7c7b\u7684\u7ec4\u4ef6\u9700\u8981\u589e\u52a0 nolock \u5c5e\u6027","title":"\u9488\u5bf9\u5927\u6570\u636e\u7ec4\u4ef6\u7684NFS\u6302\u8f7d\u53c2\u6570"},{"location":"linux/nfs/#nfs","text":"nfs\u6302\u8f7d\u7684\u8fdc\u7a0b\u78c1\u76d8\u5982\u679c\u7528\u4e8ekafka\u3001zookeeper\u3001hadoop \u4e4b\u7c7b\u7684\u7ec4\u4ef6\u9700\u8981\u589e\u52a0 nolock \u5c5e\u6027","title":"\u9488\u5bf9\u5927\u6570\u636e\u7ec4\u4ef6\u7684NFS\u6302\u8f7d\u53c2\u6570"},{"location":"linux/nginx/","text":"nginx\u8d1f\u8f7d\u5747\u8861 \u8ba1\u7b97\u751f\u4ea7\u73af\u5883\u5927\u81f4\u7684\u7f51\u7edc\u6d41\u91cf\uff0c\u770b\u770b\u5728\u5f53\u524d\u51c6\u5907\u4f5c\u4e3a\u8d1f\u8f7d\u7684\u673a\u5668\u7684\u7269\u7406\u94fe\u8def\u80fd\u5426\u627f\u53d7\u7684\u4f4f\uff1f\u4e3b\u8981\u6709\uff1a\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\u3001\u7f51\u7ebf\u3001\u7f51\u5361\uff1b \u603b\u7684\u6d41\u91cf\u5747\u5206\u7ed9\u8d1f\u8f7d\u7684\u540e\u7aef\u8282\u70b9\u65f6\u5019\u6bcf\u4e2a\u8282\u70b9\u5230\u8d1f\u8f7d\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u94fe\u8def\u662f\u5426\u5b58\u5728\u74f6\u9888\uff1f\u95f2\u65f6\uff1f\u5fd9\u65f6\uff1f\u662f\u5426\u7559\u4e86\u8db3\u591f\u7684\u5197\u4f59\uff1b \u8fdb\u7a0b\u6570\u8bbe\u7f6e\u4e3acpu\u6838\u5fc3\u6570 \u5f53\u76d1\u542c80\u7aef\u53e3\u65f6\u9700\u8981\u589e\u52a0default_server\u7533\u660e listen 80 default_server #\u53cd\u5411\u4ee3\u7406\u7684\u591a\u7ea7\u8f6c\u53d1\u914d\u7f6e\u793a\u4f8b server { listen 8000; proxy_intercept_errors on; recursive_error_pages on; location / { proxy_pass http://newip:8001; error_page 301 302 307 = @myredirect; } location @myredirect { set $saved_redirect_location '$upstream_http_location'; proxy_pass $saved_redirect_location; } }","title":"nginx\u8d1f\u8f7d\u5747\u8861"},{"location":"linux/nginx/#nginx","text":"\u8ba1\u7b97\u751f\u4ea7\u73af\u5883\u5927\u81f4\u7684\u7f51\u7edc\u6d41\u91cf\uff0c\u770b\u770b\u5728\u5f53\u524d\u51c6\u5907\u4f5c\u4e3a\u8d1f\u8f7d\u7684\u673a\u5668\u7684\u7269\u7406\u94fe\u8def\u80fd\u5426\u627f\u53d7\u7684\u4f4f\uff1f\u4e3b\u8981\u6709\uff1a\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\u3001\u7f51\u7ebf\u3001\u7f51\u5361\uff1b \u603b\u7684\u6d41\u91cf\u5747\u5206\u7ed9\u8d1f\u8f7d\u7684\u540e\u7aef\u8282\u70b9\u65f6\u5019\u6bcf\u4e2a\u8282\u70b9\u5230\u8d1f\u8f7d\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u94fe\u8def\u662f\u5426\u5b58\u5728\u74f6\u9888\uff1f\u95f2\u65f6\uff1f\u5fd9\u65f6\uff1f\u662f\u5426\u7559\u4e86\u8db3\u591f\u7684\u5197\u4f59\uff1b \u8fdb\u7a0b\u6570\u8bbe\u7f6e\u4e3acpu\u6838\u5fc3\u6570 \u5f53\u76d1\u542c80\u7aef\u53e3\u65f6\u9700\u8981\u589e\u52a0default_server\u7533\u660e listen 80 default_server #\u53cd\u5411\u4ee3\u7406\u7684\u591a\u7ea7\u8f6c\u53d1\u914d\u7f6e\u793a\u4f8b server { listen 8000; proxy_intercept_errors on; recursive_error_pages on; location / { proxy_pass http://newip:8001; error_page 301 302 307 = @myredirect; } location @myredirect { set $saved_redirect_location '$upstream_http_location'; proxy_pass $saved_redirect_location; } }","title":"nginx\u8d1f\u8f7d\u5747\u8861"},{"location":"linux/tcpdump%E6%8A%93%E5%8C%85/","text":"tcpdump\u6293\u5305 #\u6293\u53d6tcp\u534f\u8bae\u76848120\u7aef\u53e3\u6570\u636e tcpdump -X -vv -n -nn -i eth0 tcp port 8120","title":"tcpdump\u6293\u5305"},{"location":"linux/tcpdump%E6%8A%93%E5%8C%85/#tcpdump","text":"#\u6293\u53d6tcp\u534f\u8bae\u76848120\u7aef\u53e3\u6570\u636e tcpdump -X -vv -n -nn -i eth0 tcp port 8120","title":"tcpdump\u6293\u5305"},{"location":"linux/update_centos7_kernel/","text":"Centos7 \u5347\u7ea7\u5185\u6838\u7248\u672c \u67e5\u770b\u5f53\u524d\u5185\u6838\u7248\u672c uname -r #3.10.0-514.el7.x86_64 uname -a #Linux k8s-master 3.10.0-514.el7.x86_64 #1 SMP Tue Nov 22 16:42:41 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux cat/etc/redhat\u2212release #CentOSLinuxrelease7.3.1611(Core) \u66f4\u65b0yum\u6e90\u4ed3\u5e93 yum -y update #\u542f\u7528 ELRepo \u4ed3\u5e93 ELRepo \u4ed3\u5e93\u662f\u57fa\u4e8e\u793e\u533a\u7684\u7528\u4e8e\u4f01\u4e1a\u7ea7 Linux \u4ed3\u5e93\uff0c\u63d0\u4f9b\u5bf9 RedHat Enterprise (RHEL) \u548c \u5176\u4ed6\u57fa\u4e8e RHEL\u7684 Linux \u53d1\u884c\u7248\uff08CentOS\u3001Scientific\u3001Fedora \u7b49\uff09\u7684\u652f\u6301\u3002 ELRepo \u805a\u7126\u4e8e\u548c\u786c\u4ef6\u76f8\u5173\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edf\u9a71\u52a8\u3001\u663e\u5361\u9a71\u52a8\u3001\u7f51\u7edc\u9a71\u52a8\u3001\u58f0\u5361\u9a71\u52a8\u548c\u6444\u50cf\u5934\u9a71\u52a8\u7b49\u3002 #\u5bfc\u5165ELRepo\u4ed3\u5e93\u7684\u516c\u5171\u5bc6\u94a5 rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org #\u5b89\u88c5ELRepo\u4ed3\u5e93\u7684yum\u6e90 rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \u67e5\u770b\u53ef\u7528\u7684\u7cfb\u7edf\u5185\u6838\u5305 \u53ef\u4ee5\u770b\u52304.4\u548c4.18\u4e24\u4e2a\u7248\u672c yum --disablerepo=\"*\" --enablerepo=\"elrepo-kernel\" list available Loaded plugins: fastestmirror Loading mirror speeds from cached hostfile elrepo-kernel: mirrors.tuna.tsinghua.edu.cn elrepo-kernel | 2.9 kB 00:00:00 elrepo-kernel/primary_db | 1.8 MB 00:00:03 Available Packages kernel-lt.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-devel.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-doc.noarch 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-headers.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools-libs.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools-libs-devel.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-ml.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-devel.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-doc.noarch 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-headers.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools-libs.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools-libs-devel.x86_64 4.18.7-1.el7.elrepo elrepo-kernel perf.x86_64 4.18.7-1.el7.elrepo elrepo-kernel python-perf.x86_64 4.18.7-1.el7.elrepo elrepo- \u5b89\u88c5\u6700\u65b0\u7248\u672c\u5185\u6838 yum --enablerepo=elrepo-kernel install kernel-ml --enablerepo \u9009\u9879\u5f00\u542f CentOS \u7cfb\u7edf\u4e0a\u7684\u6307\u5b9a\u4ed3\u5e93\u3002\u9ed8\u8ba4\u5f00\u542f\u7684\u662f elrepo\uff0c\u8fd9\u91cc\u7528 elrepo-kernel \u66ff\u6362\u3002 \u8bbe\u7f6e grub2 \u5185\u6838\u5b89\u88c5\u597d\u540e\uff0c\u9700\u8981\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u542f\u52a8\u9009\u9879\u5e76\u91cd\u542f\u540e\u624d\u4f1a\u751f\u6548 \u67e5\u770b\u7cfb\u7edf\u4e0a\u7684\u6240\u6709\u53ef\u7528\u5185\u6838\uff1a sudo awk\u2212F \u2032\u2032sudoawk\u2212F\u20331==\"menuentry \" {print i++ \" : \" $2}' /etc/grub2.cfg 0 : CentOS Linux (4.18.7-1.el7.elrepo.x86_64) 7 (Core) 1 : CentOS Linux (3.10.0-862.11.6.el7.x86_64) 7 (Core) 2 : CentOS Linux (3.10.0-514.el7.x86_64) 7 (Core) 3 : CentOS Linux (0-rescue-063ec330caa04d4baae54c6902c62e54) 7 (Core) \u8bbe\u7f6e\u65b0\u7684\u5185\u6838\u4e3agrub2\u7684\u9ed8\u8ba4\u7248\u672c \u670d\u52a1\u5668\u4e0a\u5b58\u57284 \u4e2a\u5185\u6838\uff0c\u6211\u4eec\u8981\u4f7f\u7528 4.18 \u8fd9\u4e2a\u7248\u672c\uff0c\u53ef\u4ee5\u901a\u8fc7 grub2-set-default 0 \u547d\u4ee4\u6216\u7f16\u8f91 /etc/default/grub \u6587\u4ef6\u6765\u8bbe\u7f6e \u901a\u8fc7 grub2-set-default 0 \u547d\u4ee4\u8bbe\u7f6e \u5176\u4e2d 0 \u662f\u4e0a\u9762\u67e5\u8be2\u51fa\u6765\u7684\u53ef\u7528\u5185\u6838 \u91cd\u542f reboot \u9a8c\u8bc1 uname -r \u663e\u793a4.18.7-1.el7.elrepo.x86_64 \u5220\u9664\u65e7\u5185\u6838\uff08\u53ef\u9009\uff09 \u67e5\u770b\u7cfb\u7edf\u4e2d\u5168\u90e8\u7684\u5185\u6838\uff1a rpm\u2212qa|grep kernel kernel\u22123.10.0\u2212514.el7.x86_64 kernel\u2212ml\u22124.18.7\u22121.el7.elrepo.x86_64 kernel\u2212tools\u2212libs\u22123.10.0\u2212862.11.6.el7.x86_64 kernel\u2212tools\u22123.10.0\u2212862.11.6.el7.x86_64 kernel\u22123.10.0\u2212862.11.6.el7.x86_64 \u65b9\u6cd51\u3001yum remove\u5220\u9664\u65e7\u5185\u6838\u7684RPM\u5305 yum remove kernel-3.10.0-514.el7.x86_64 kernel-tools-libs-3.10.0-862.11.6.el7.x86_64 kernel-tools-3.10.0-862.11.6.el7.x86_64 kernel-3.10.0-862.11.6.el7.x86_64","title":"Centos7 \u5347\u7ea7\u5185\u6838\u7248\u672c"},{"location":"linux/update_centos7_kernel/#centos7","text":"\u67e5\u770b\u5f53\u524d\u5185\u6838\u7248\u672c uname -r #3.10.0-514.el7.x86_64 uname -a #Linux k8s-master 3.10.0-514.el7.x86_64 #1 SMP Tue Nov 22 16:42:41 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux cat/etc/redhat\u2212release #CentOSLinuxrelease7.3.1611(Core) \u66f4\u65b0yum\u6e90\u4ed3\u5e93 yum -y update #\u542f\u7528 ELRepo \u4ed3\u5e93 ELRepo \u4ed3\u5e93\u662f\u57fa\u4e8e\u793e\u533a\u7684\u7528\u4e8e\u4f01\u4e1a\u7ea7 Linux \u4ed3\u5e93\uff0c\u63d0\u4f9b\u5bf9 RedHat Enterprise (RHEL) \u548c \u5176\u4ed6\u57fa\u4e8e RHEL\u7684 Linux \u53d1\u884c\u7248\uff08CentOS\u3001Scientific\u3001Fedora \u7b49\uff09\u7684\u652f\u6301\u3002 ELRepo \u805a\u7126\u4e8e\u548c\u786c\u4ef6\u76f8\u5173\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edf\u9a71\u52a8\u3001\u663e\u5361\u9a71\u52a8\u3001\u7f51\u7edc\u9a71\u52a8\u3001\u58f0\u5361\u9a71\u52a8\u548c\u6444\u50cf\u5934\u9a71\u52a8\u7b49\u3002 #\u5bfc\u5165ELRepo\u4ed3\u5e93\u7684\u516c\u5171\u5bc6\u94a5 rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org #\u5b89\u88c5ELRepo\u4ed3\u5e93\u7684yum\u6e90 rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \u67e5\u770b\u53ef\u7528\u7684\u7cfb\u7edf\u5185\u6838\u5305 \u53ef\u4ee5\u770b\u52304.4\u548c4.18\u4e24\u4e2a\u7248\u672c yum --disablerepo=\"*\" --enablerepo=\"elrepo-kernel\" list available Loaded plugins: fastestmirror Loading mirror speeds from cached hostfile elrepo-kernel: mirrors.tuna.tsinghua.edu.cn elrepo-kernel | 2.9 kB 00:00:00 elrepo-kernel/primary_db | 1.8 MB 00:00:03 Available Packages kernel-lt.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-devel.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-doc.noarch 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-headers.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools-libs.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-lt-tools-libs-devel.x86_64 4.4.155-1.el7.elrepo elrepo-kernel kernel-ml.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-devel.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-doc.noarch 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-headers.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools-libs.x86_64 4.18.7-1.el7.elrepo elrepo-kernel kernel-ml-tools-libs-devel.x86_64 4.18.7-1.el7.elrepo elrepo-kernel perf.x86_64 4.18.7-1.el7.elrepo elrepo-kernel python-perf.x86_64 4.18.7-1.el7.elrepo elrepo- \u5b89\u88c5\u6700\u65b0\u7248\u672c\u5185\u6838 yum --enablerepo=elrepo-kernel install kernel-ml --enablerepo \u9009\u9879\u5f00\u542f CentOS \u7cfb\u7edf\u4e0a\u7684\u6307\u5b9a\u4ed3\u5e93\u3002\u9ed8\u8ba4\u5f00\u542f\u7684\u662f elrepo\uff0c\u8fd9\u91cc\u7528 elrepo-kernel \u66ff\u6362\u3002 \u8bbe\u7f6e grub2 \u5185\u6838\u5b89\u88c5\u597d\u540e\uff0c\u9700\u8981\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u542f\u52a8\u9009\u9879\u5e76\u91cd\u542f\u540e\u624d\u4f1a\u751f\u6548 \u67e5\u770b\u7cfb\u7edf\u4e0a\u7684\u6240\u6709\u53ef\u7528\u5185\u6838\uff1a sudo awk\u2212F \u2032\u2032sudoawk\u2212F\u20331==\"menuentry \" {print i++ \" : \" $2}' /etc/grub2.cfg 0 : CentOS Linux (4.18.7-1.el7.elrepo.x86_64) 7 (Core) 1 : CentOS Linux (3.10.0-862.11.6.el7.x86_64) 7 (Core) 2 : CentOS Linux (3.10.0-514.el7.x86_64) 7 (Core) 3 : CentOS Linux (0-rescue-063ec330caa04d4baae54c6902c62e54) 7 (Core) \u8bbe\u7f6e\u65b0\u7684\u5185\u6838\u4e3agrub2\u7684\u9ed8\u8ba4\u7248\u672c \u670d\u52a1\u5668\u4e0a\u5b58\u57284 \u4e2a\u5185\u6838\uff0c\u6211\u4eec\u8981\u4f7f\u7528 4.18 \u8fd9\u4e2a\u7248\u672c\uff0c\u53ef\u4ee5\u901a\u8fc7 grub2-set-default 0 \u547d\u4ee4\u6216\u7f16\u8f91 /etc/default/grub \u6587\u4ef6\u6765\u8bbe\u7f6e \u901a\u8fc7 grub2-set-default 0 \u547d\u4ee4\u8bbe\u7f6e \u5176\u4e2d 0 \u662f\u4e0a\u9762\u67e5\u8be2\u51fa\u6765\u7684\u53ef\u7528\u5185\u6838 \u91cd\u542f reboot \u9a8c\u8bc1 uname -r \u663e\u793a4.18.7-1.el7.elrepo.x86_64 \u5220\u9664\u65e7\u5185\u6838\uff08\u53ef\u9009\uff09 \u67e5\u770b\u7cfb\u7edf\u4e2d\u5168\u90e8\u7684\u5185\u6838\uff1a rpm\u2212qa|grep kernel kernel\u22123.10.0\u2212514.el7.x86_64 kernel\u2212ml\u22124.18.7\u22121.el7.elrepo.x86_64 kernel\u2212tools\u2212libs\u22123.10.0\u2212862.11.6.el7.x86_64 kernel\u2212tools\u22123.10.0\u2212862.11.6.el7.x86_64 kernel\u22123.10.0\u2212862.11.6.el7.x86_64 \u65b9\u6cd51\u3001yum remove\u5220\u9664\u65e7\u5185\u6838\u7684RPM\u5305 yum remove kernel-3.10.0-514.el7.x86_64 kernel-tools-libs-3.10.0-862.11.6.el7.x86_64 kernel-tools-3.10.0-862.11.6.el7.x86_64 kernel-3.10.0-862.11.6.el7.x86_64","title":"Centos7 \u5347\u7ea7\u5185\u6838\u7248\u672c"},{"location":"linux/%E4%BF%AE%E5%A4%8DCentos7%E7%9A%84SELINUX%E9%94%99%E8%AF%AF/","text":"\u95ee\u9898\u539f\u56e0\uff1a\u4fee\u6539selinux\u914d\u7f6e\u65f6\u4f7f\u7528\u4e86\u9519\u8bef\u7684\u914d\u7f6e\u6ca1\u6709\u68c0\u67e5\u5230\u76f4\u63a5\u91cd\u542f\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u5668\u65e0\u6cd5\u542f\u52a8\uff08\u505c\u7559\u5728\u542f\u52a8\u8fdb\u5ea6\u6761\u52a0\u8f7d\u7684\u5730\u65b9\uff09 \u89e3\u51b3\u529e\u6cd5\uff1a\u5f3a\u5236\u91cd\u542f\u7684\u540c\u65f6\uff0c\u901a\u8fc7\u4e91\u5e73\u53f0\u7684vnc\u529f\u80fd\uff0c\u5728grub\u542f\u52a8\u83dc\u5355\u5904\u6309E\u8fdb\u5165\u7f16\u8f91\uff0c\u5728linux16\u5f00\u5934\u90a3\u884c\u7684\u6700\u672b\u5c3e \u52a0\u5165 \u7a7a\u683cselinux=0 \u6309Ctrl+x\u6267\u884c\u542f\u52a8\uff0c\u8fdb\u5165\u7cfb\u7edf\u540e\u4fee\u590d\u9519\u8bef\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u518d reboot \u91cd\u542f\u6d4b\u8bd5\uff0c\u80fd\u6b63\u5e38\u8fdb\u5165\u7cfb\u7edf\uff0c\u6b64\u65f6\u4fee\u590d\u5b8c\u6210\u3002 \u6b63\u786e\u7684selinux\u8bbe\u7f6e\u4f8b\u5b50\u5982\u4e0b: cat /etc/selinux/config #\u5f00\u542f SELINUX=enforcing SELINUXTYPE=targeted #\u5173\u95ed SELINUX=disabled SELINUXTYPE=targeted","title":"\u4fee\u590dCentos7\u7684SELINUX\u9519\u8bef"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/","text":"\u65b0\u670d\u52a1\u5668\u57fa\u672c\u914d\u7f6e\u6d41\u7a0b 1.\u4e0d\u4f1a\u4f7f\u7528selinux\u524d\uff0c\u5173\u95edselinux, /etc/selinux/config 2.\u91cd\u542f,\u751f\u6548selinux\u914d\u7f6e\uff0c\u6ca1\u5173\u95edselinux\u524d\uff0c\u522b\u505a\u4efb\u4f55\u914d\u7f6e\uff0c\u91cd\u542f\uff0c\u5982\u679c\u65e0\u6cd5\u542f\u52a8\u8fdb\u5165\u7ef4\u62a4\u6a21\u5f0f\u4fee\u590d/etc/selinux/config\u914d\u7f6e\u6587\u4ef6\u5373\u53ef 3.\u914d\u7f6e\u7f51\u7edc\u76f8\u5173\uff0c\u5173\u95edfirewalld,\u5f00\u542fiptables\uff0c\u559c\u6b22\u7528firewalld\u4e5f\u53ef\u4ee5\u7528firewalld\uff0c\u5177\u4f53\u89c4\u5219\u6839\u636e\u4e1a\u52a1\u914d\u7f6e yum install -y iptables-services.x86_64 iptables -F iptables-save > /etc/sysconfig/iptables systemctl enable iptables.service systemctl restart iptables.service iptables -L -v -n \u5982\u679c\u6ca1\u6709yum\u6e90\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u5f0f echo 'iptables-restore < /etc/sysconfig/iptables' > /etc/rc.d/rc.local chmod +x /etc/rc.d/rc.local 4.\u5f00\u542fssh 5.\u4fee\u6539\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6 vi /etc/sysctl.conf net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 net.ipv4.tcp_keepalive_intvl=75 net.ipv4.tcp_keepalive_probes=3 vm.max_map_count=262144 net.ipv4.tcp_syncookies = 1 \u8868\u793a\u5f00\u542fSYN Cookies\u3002\u5f53\u51fa\u73b0SYN\u7b49\u5f85\u961f\u5217\u6ea2\u51fa\u65f6\uff0c\u542f\u7528cookies\u6765\u5904\u7406\uff0c\u53ef\u9632\u8303\u5c11\u91cfSYN\u653b\u51fb\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u8868\u793a\u5173\u95ed\uff1b net.ipv4.tcp_tw_reuse = 1 \u8868\u793a\u5f00\u542f\u91cd\u7528\u3002\u5141\u8bb8\u5c06TIME-WAIT sockets\u91cd\u65b0\u7528\u4e8e\u65b0\u7684TCP\u8fde\u63a5\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u8868\u793a\u5173\u95ed\uff1b net.ipv4.tcp_tw_recycle = 1 \u8868\u793a\u5f00\u542fTCP\u8fde\u63a5\u4e2dTIME-WAIT sockets\u7684\u5feb\u901f\u56de\u6536\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u8868\u793a\u5173\u95ed\u3002 net.ipv4.tcp_fin_timeout=60 \u4fee\u6539\u7cfb\u9ed8\u8ba4\u7684 TIMEOUT \u65f6\u95f4 net.ipv4.tcp_keepalive_time = 1200 \u8868\u793a\u5f53keepalive\u8d77\u7528\u7684\u65f6\u5019\uff0cTCP\u53d1\u9001keepalive\u6d88\u606f\u7684\u9891\u5ea6\u3002\u7f3a\u7701\u662f2\u5c0f\u65f6\uff0c\u6539\u4e3a20\u5206\u949f\u3002 net.ipv4.ip_local_port_range = 1024 65000 \u8868\u793a\u7528\u4e8e\u5411\u5916\u8fde\u63a5\u7684\u7aef\u53e3\u8303\u56f4\u3002\u7f3a\u7701\u60c5\u51b5\u4e0b\u5f88\u5c0f\uff1a32768\u523061000\uff0c\u6539\u4e3a1024\u523065000\u3002 net.ipv4.tcp_max_syn_backlog = 8192 \u8868\u793aSYN\u961f\u5217\u7684\u957f\u5ea6\uff0c\u9ed8\u8ba4\u4e3a1024\uff0c\u52a0\u5927\u961f\u5217\u957f\u5ea6\u4e3a8192\uff0c\u53ef\u4ee5\u5bb9\u7eb3\u66f4\u591a\u7b49\u5f85\u8fde\u63a5\u7684\u7f51\u7edc\u8fde\u63a5\u6570\u3002 net.ipv4.tcp_max_tw_buckets = 5000 \u8868\u793a\u7cfb\u7edf\u540c\u65f6\u4fdd\u6301TIME_WAIT\u5957\u63a5\u5b57\u7684\u6700\u5927\u6570\u91cf\uff0c\u5982\u679c\u8d85\u8fc7\u8fd9\u4e2a\u6570\u5b57\uff0cTIME_WAIT\u5957\u63a5\u5b57\u5c06\u7acb\u523b\u88ab\u6e05\u9664\u5e76\u6253\u5370\u8b66\u544a\u4fe1\u606f\u3002\u9ed8\u8ba4\u4e3a180000\uff0c\u6539\u4e3a5000\u3002\u5bf9\u4e8eApache\u3001Nginx\u7b49\u670d\u52a1\u5668\uff0c\u4e0a\u51e0\u884c\u7684\u53c2\u6570\u53ef\u4ee5\u5f88\u597d\u5730\u51cf\u5c11TIME_WAIT\u5957\u63a5\u5b57\u6570\u91cf\uff0c\u4f46\u662f\u5bf9\u4e8e Squid\uff0c\u6548\u679c\u5374\u4e0d>\u5927\u3002\u6b64\u9879\u53c2\u6570\u53ef\u4ee5\u63a7\u5236TIME_WAIT\u5957\u63a5\u5b57\u7684\u6700\u5927>\u6570\u91cf\uff0c\u907f\u514dSquid\u670d\u52a1\u5668\u88ab\u5927\u91cf\u7684TIME_WAIT\u5957\u63a5\u5b57\u62d6\u6b7b vi /etc/security/limits.conf root soft memlock unlimited root hard memlock unlimited root soft nofile 655350 root hard nofile 655350 root soft memlock unlimited root hard memlock unlimited root soft nofile 655350 root hard nofile 655350 * soft nproc 11000 * hard nproc 11000 * soft nofile 655350 * hard nofile 655350 6.\u4fee\u6539\u65f6\u95f4\uff0c\u65f6\u533a\uff0c\u662f\u5199\u8fdbbios,\u4e3b\u677f\u7535\u6c60\u5f97\u6709\u7535\uff0c\u91cd\u542f\u4e0d\u4f1a\u6389\u65f6\u95f4\uff0c\u6761\u4ef6\u5141\u8bb8\u53ef\u4ee5\u6302ntp timedatectl set-ntp 0 timedatectl set-time 2021-12-27 timedatectl set-time 14:02:40 timedatectl set-timezone Asia/Shanghai timedatectl set-local-rtc 1 hwclock --systohc --localtime clock -w timedatectl set-ntp 1 7.\u6302\u8f7d\u5206\u533a \u89c6\u60c5\u51b5\u800c\u5b9a\uff0c\u770b\u770b\u5206\u533a\u662f2T\uff0c\u8fd8\u662f\u5927\u4e8e2T \u6587\u6863\uff1a\u30102.1.1.12\u3011centos7\u6302\u8f7d\u65b0\u786c\u76d8\u4e0e\u8d85\u8fc72... \u94fe\u63a5\uff1ahttp://note.youdao.com/noteshare?id=dca68686e59b8b426f9f8cbdac9f53c3&sub=493763BF341C44FF97553D7CA104B419 8.\u642d\u5efa\u57fa\u7840\u670d\u52a1","title":"\u65b0\u670d\u52a1\u5668\u57fa\u672c\u914d\u7f6e\u6d41\u7a0b"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#_1","text":"1.\u4e0d\u4f1a\u4f7f\u7528selinux\u524d\uff0c\u5173\u95edselinux, /etc/selinux/config 2.\u91cd\u542f,\u751f\u6548selinux\u914d\u7f6e\uff0c\u6ca1\u5173\u95edselinux\u524d\uff0c\u522b\u505a\u4efb\u4f55\u914d\u7f6e\uff0c\u91cd\u542f\uff0c\u5982\u679c\u65e0\u6cd5\u542f\u52a8\u8fdb\u5165\u7ef4\u62a4\u6a21\u5f0f\u4fee\u590d/etc/selinux/config\u914d\u7f6e\u6587\u4ef6\u5373\u53ef 3.\u914d\u7f6e\u7f51\u7edc\u76f8\u5173\uff0c\u5173\u95edfirewalld,\u5f00\u542fiptables\uff0c\u559c\u6b22\u7528firewalld\u4e5f\u53ef\u4ee5\u7528firewalld\uff0c\u5177\u4f53\u89c4\u5219\u6839\u636e\u4e1a\u52a1\u914d\u7f6e yum install -y iptables-services.x86_64 iptables -F iptables-save > /etc/sysconfig/iptables systemctl enable iptables.service systemctl restart iptables.service iptables -L -v -n \u5982\u679c\u6ca1\u6709yum\u6e90\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u5f0f echo 'iptables-restore < /etc/sysconfig/iptables' > /etc/rc.d/rc.local chmod +x /etc/rc.d/rc.local 4.\u5f00\u542fssh 5.\u4fee\u6539\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6 vi /etc/sysctl.conf net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 net.ipv4.tcp_keepalive_intvl=75 net.ipv4.tcp_keepalive_probes=3 vm.max_map_count=262144","title":"\u65b0\u670d\u52a1\u5668\u57fa\u672c\u914d\u7f6e\u6d41\u7a0b"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#netipv4tcp_syncookies-1","text":"","title":"net.ipv4.tcp_syncookies = 1"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#syn-cookiessyncookiessyn0","text":"","title":"\u8868\u793a\u5f00\u542fSYN Cookies\u3002\u5f53\u51fa\u73b0SYN\u7b49\u5f85\u961f\u5217\u6ea2\u51fa\u65f6\uff0c\u542f\u7528cookies\u6765\u5904\u7406\uff0c\u53ef\u9632\u8303\u5c11\u91cfSYN\u653b\u51fb\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u8868\u793a\u5173\u95ed\uff1b"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#netipv4tcp_tw_reuse-1","text":"","title":"net.ipv4.tcp_tw_reuse = 1"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#time-wait-socketstcp0","text":"","title":"\u8868\u793a\u5f00\u542f\u91cd\u7528\u3002\u5141\u8bb8\u5c06TIME-WAIT sockets\u91cd\u65b0\u7528\u4e8e\u65b0\u7684TCP\u8fde\u63a5\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u8868\u793a\u5173\u95ed\uff1b"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#netipv4tcp_tw_recycle-1","text":"","title":"net.ipv4.tcp_tw_recycle = 1"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#tcptime-wait-sockets0","text":"","title":"\u8868\u793a\u5f00\u542fTCP\u8fde\u63a5\u4e2dTIME-WAIT sockets\u7684\u5feb\u901f\u56de\u6536\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u8868\u793a\u5173\u95ed\u3002"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#netipv4tcp_fin_timeout60","text":"","title":"net.ipv4.tcp_fin_timeout=60"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#timeout","text":"","title":"\u4fee\u6539\u7cfb\u9ed8\u8ba4\u7684 TIMEOUT \u65f6\u95f4"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#netipv4tcp_keepalive_time-1200","text":"","title":"net.ipv4.tcp_keepalive_time = 1200"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#keepalivetcpkeepalive220","text":"","title":"\u8868\u793a\u5f53keepalive\u8d77\u7528\u7684\u65f6\u5019\uff0cTCP\u53d1\u9001keepalive\u6d88\u606f\u7684\u9891\u5ea6\u3002\u7f3a\u7701\u662f2\u5c0f\u65f6\uff0c\u6539\u4e3a20\u5206\u949f\u3002"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#netipv4ip_local_port_range-1024-65000","text":"","title":"net.ipv4.ip_local_port_range = 1024 65000"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#3276861000102465000","text":"","title":"\u8868\u793a\u7528\u4e8e\u5411\u5916\u8fde\u63a5\u7684\u7aef\u53e3\u8303\u56f4\u3002\u7f3a\u7701\u60c5\u51b5\u4e0b\u5f88\u5c0f\uff1a32768\u523061000\uff0c\u6539\u4e3a1024\u523065000\u3002"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#netipv4tcp_max_syn_backlog-8192","text":"","title":"net.ipv4.tcp_max_syn_backlog = 8192"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#syn10248192","text":"","title":"\u8868\u793aSYN\u961f\u5217\u7684\u957f\u5ea6\uff0c\u9ed8\u8ba4\u4e3a1024\uff0c\u52a0\u5927\u961f\u5217\u957f\u5ea6\u4e3a8192\uff0c\u53ef\u4ee5\u5bb9\u7eb3\u66f4\u591a\u7b49\u5f85\u8fde\u63a5\u7684\u7f51\u7edc\u8fde\u63a5\u6570\u3002"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#netipv4tcp_max_tw_buckets-5000","text":"","title":"net.ipv4.tcp_max_tw_buckets = 5000"},{"location":"linux/%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/#time_waittime_wait1800005000apachenginxtime_wait-squidtime_waitsquidtime_wait","text":"vi /etc/security/limits.conf root soft memlock unlimited root hard memlock unlimited root soft nofile 655350 root hard nofile 655350 root soft memlock unlimited root hard memlock unlimited root soft nofile 655350 root hard nofile 655350 * soft nproc 11000 * hard nproc 11000 * soft nofile 655350 * hard nofile 655350 6.\u4fee\u6539\u65f6\u95f4\uff0c\u65f6\u533a\uff0c\u662f\u5199\u8fdbbios,\u4e3b\u677f\u7535\u6c60\u5f97\u6709\u7535\uff0c\u91cd\u542f\u4e0d\u4f1a\u6389\u65f6\u95f4\uff0c\u6761\u4ef6\u5141\u8bb8\u53ef\u4ee5\u6302ntp timedatectl set-ntp 0 timedatectl set-time 2021-12-27 timedatectl set-time 14:02:40 timedatectl set-timezone Asia/Shanghai timedatectl set-local-rtc 1 hwclock --systohc --localtime clock -w timedatectl set-ntp 1 7.\u6302\u8f7d\u5206\u533a \u89c6\u60c5\u51b5\u800c\u5b9a\uff0c\u770b\u770b\u5206\u533a\u662f2T\uff0c\u8fd8\u662f\u5927\u4e8e2T \u6587\u6863\uff1a\u30102.1.1.12\u3011centos7\u6302\u8f7d\u65b0\u786c\u76d8\u4e0e\u8d85\u8fc72... \u94fe\u63a5\uff1ahttp://note.youdao.com/noteshare?id=dca68686e59b8b426f9f8cbdac9f53c3&sub=493763BF341C44FF97553D7CA104B419 8.\u642d\u5efa\u57fa\u7840\u670d\u52a1","title":"\u8868\u793a\u7cfb\u7edf\u540c\u65f6\u4fdd\u6301TIME_WAIT\u5957\u63a5\u5b57\u7684\u6700\u5927\u6570\u91cf\uff0c\u5982\u679c\u8d85\u8fc7\u8fd9\u4e2a\u6570\u5b57\uff0cTIME_WAIT\u5957\u63a5\u5b57\u5c06\u7acb\u523b\u88ab\u6e05\u9664\u5e76\u6253\u5370\u8b66\u544a\u4fe1\u606f\u3002\u9ed8\u8ba4\u4e3a180000\uff0c\u6539\u4e3a5000\u3002\u5bf9\u4e8eApache\u3001Nginx\u7b49\u670d\u52a1\u5668\uff0c\u4e0a\u51e0\u884c\u7684\u53c2\u6570\u53ef\u4ee5\u5f88\u597d\u5730\u51cf\u5c11TIME_WAIT\u5957\u63a5\u5b57\u6570\u91cf\uff0c\u4f46\u662f\u5bf9\u4e8e Squid\uff0c\u6548\u679c\u5374\u4e0d&gt;\u5927\u3002\u6b64\u9879\u53c2\u6570\u53ef\u4ee5\u63a7\u5236TIME_WAIT\u5957\u63a5\u5b57\u7684\u6700\u5927&gt;\u6570\u91cf\uff0c\u907f\u514dSquid\u670d\u52a1\u5668\u88ab\u5927\u91cf\u7684TIME_WAIT\u5957\u63a5\u5b57\u62d6\u6b7b"},{"location":"linux/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4/","text":"\u5b89\u5168\u9632\u62a4 \u4f7f\u7528iptables\u5bf9\u4e3b\u673a\u4e0a\u67d0\u4e2a\u670d\u52a1\u8fdb\u884c\u8bbf\u95ee\u9650\u5236 \u5982\u679c\u53ef\u4ee5\u7684\u8bdd\u5c3d\u53ef\u80fd\u4ece\u6e90\u5934\u89e3\u51b3\uff0c\u5b9e\u5728\u4e0d\u65b9\u4fbf\u4ece\u6e90\u5934\u89e3\u51b3\u7684\u8bdd\u53ef\u4ee5\u4f7f\u7528\u6b64\u65b9\u6cd5\u8fdb\u884c\u8bbf\u95ee\u9650\u5236\uff0c\u907f\u514d\u88ab\u5176\u4ed6\u8f6f\u4ef6\u626b\u63cf\u51fa\u5404\u79cd\u201c\u6f0f\u6d1e\u201c \u4e3b\u673a\u6a21\u5f0f \u4f8b\u5982\u672c\u673a\u76f4\u63a5\u8fd0\u884ctomcat\u4f4d\u4e8e8080\u7aef\u53e3\uff0c\u5df2\u77e5\u53ef\u80fd\u6b63\u5e38\u8bbf\u95ee\u7684\u5ba2\u6237ip\u6765\u6e90\u4e3a\uff1a192.168.123.0/24 \u7981\u6b62\u5176\u4ed6ip\u6bb5\u8bbf\u95ee\uff0c\u5219\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5b9e\u73b0 #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I INPUT -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I INPUT -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local \u5bb9\u5668\u6a21\u5f0f \u5982\u679c\u662f\u8981\u5bf9\u4f4d\u4e8e\u5bb9\u5668\u4e2d\u7684\u670d\u52a1\u8fdb\u884c\u9632\u62a4\u9700\u8981\u6307\u5b9a\u5bb9\u5668\u4e13\u5c5e\u7684\u89c4\u5219\u94fe\uff0c\u5982\u4e0b #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I DOCKER -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I DOCKER -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local \u901a\u7528\u6a21\u5f0f \u6839\u636edocker\u7684\u7f51\u7edc\u6a21\u578b\uff0c\u76f4\u63a5\u4f7f\u7528PREROUTING\u53ef\u4ee5\u62e6\u622a\u6240\u6709\u7f51\u7edc\u8bf7\u6c42 bash #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I PREROUTING -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I PREROUTING -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local","title":"\u7f51\u7edc\u5b89\u5168\u9632\u62a4"},{"location":"linux/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4/#_1","text":"","title":"\u5b89\u5168\u9632\u62a4"},{"location":"linux/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4/#iptables","text":"\u5982\u679c\u53ef\u4ee5\u7684\u8bdd\u5c3d\u53ef\u80fd\u4ece\u6e90\u5934\u89e3\u51b3\uff0c\u5b9e\u5728\u4e0d\u65b9\u4fbf\u4ece\u6e90\u5934\u89e3\u51b3\u7684\u8bdd\u53ef\u4ee5\u4f7f\u7528\u6b64\u65b9\u6cd5\u8fdb\u884c\u8bbf\u95ee\u9650\u5236\uff0c\u907f\u514d\u88ab\u5176\u4ed6\u8f6f\u4ef6\u626b\u63cf\u51fa\u5404\u79cd\u201c\u6f0f\u6d1e\u201c","title":"\u4f7f\u7528iptables\u5bf9\u4e3b\u673a\u4e0a\u67d0\u4e2a\u670d\u52a1\u8fdb\u884c\u8bbf\u95ee\u9650\u5236"},{"location":"linux/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4/#_2","text":"\u4f8b\u5982\u672c\u673a\u76f4\u63a5\u8fd0\u884ctomcat\u4f4d\u4e8e8080\u7aef\u53e3\uff0c\u5df2\u77e5\u53ef\u80fd\u6b63\u5e38\u8bbf\u95ee\u7684\u5ba2\u6237ip\u6765\u6e90\u4e3a\uff1a192.168.123.0/24 \u7981\u6b62\u5176\u4ed6ip\u6bb5\u8bbf\u95ee\uff0c\u5219\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5b9e\u73b0 #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I INPUT -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I INPUT -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local","title":"\u4e3b\u673a\u6a21\u5f0f"},{"location":"linux/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4/#_3","text":"\u5982\u679c\u662f\u8981\u5bf9\u4f4d\u4e8e\u5bb9\u5668\u4e2d\u7684\u670d\u52a1\u8fdb\u884c\u9632\u62a4\u9700\u8981\u6307\u5b9a\u5bb9\u5668\u4e13\u5c5e\u7684\u89c4\u5219\u94fe\uff0c\u5982\u4e0b #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I DOCKER -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I DOCKER -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local","title":"\u5bb9\u5668\u6a21\u5f0f"},{"location":"linux/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4/#_4","text":"\u6839\u636edocker\u7684\u7f51\u7edc\u6a21\u578b\uff0c\u76f4\u63a5\u4f7f\u7528PREROUTING\u53ef\u4ee5\u62e6\u622a\u6240\u6709\u7f51\u7edc\u8bf7\u6c42 bash #\u5148\u7981\u6b62\u5168\u90e8\u8bbf\u95ee iptables -I PREROUTING -p tcp -m tcp --dport 8080 --src 0.0.0.0/0 -j DROP #\u5141\u8bb8\u5408\u6cd5\u5730\u5740 iptables -I PREROUTING -p tcp -m tcp --dport 8080 --src 192.168.123.0/24 -j ACCEPT #\u4fdd\u5b58\u89c4\u5219 iptables-save > /etc/iptables.save #\u52a0\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d chmod +x /etc/rc.d/rc.local echo 'iptables-restore < /etc/iptables.save' >> /etc/rc.d/rc.local","title":"\u901a\u7528\u6a21\u5f0f"},{"location":"linux/%E9%92%88%E5%AF%B9%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6%E7%9A%84NFS%E6%8C%82%E8%BD%BD%E5%8F%82%E6%95%B0/","text":"nfs\u6302\u8f7d\u7684\u8fdc\u7a0b\u78c1\u76d8\u5982\u679c\u7528\u4e8ekafka\u3001zookeeper\u3001hadoop \u4e4b\u7c7b\u7684\u7ec4\u4ef6\u9700\u8981\u589e\u52a0 nolock \u5c5e\u6027","title":"\u9488\u5bf9\u5927\u6570\u636e\u7ec4\u4ef6\u7684NFS\u6302\u8f7d\u53c2\u6570"},{"location":"store/seaweedfs/","text":"seaweedfs \u7b80\u4ecb:seaweedfs\u662f\u4e00\u5957\u57fa\u4e8ego\u8bed\u8a00\u5f00\u53d1\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\uff0c\u76ee\u524d\u6700\u4f73\u7684\u6d77\u91cf\u5c0f\u6587\u4ef6\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\uff08\u5927\u4e2d\u578b\u6587\u4ef6\u5b58\u50a8\u4e5f\u6ca1\u95ee\u9898\uff09\uff0c\u652f\u6301fuse\u52a0\u8f7d\u3001\u652f\u6301api\u65b9\u5f0f\u8c03\u7528\u3001\u652f\u6301\u8bbe\u7f6e\u6709\u6548\u671f\u81ea\u52a8\u6e05\u7406\u3001\u652f\u6301\u591a\u673a\u623f\u591a\u673a\u67dc\u5f02\u5730\u5bb9\u707e\u7b49,\u9879\u76ee\u5730\u5740\uff1ahttps://github.com/chrislusf/seaweedfs \u642d\u5efa #\u6700\u5c0f\u5316\u96c6\u7fa4\uff08master+volume+filer\uff09 ./weed server -dir data/vol1 -filer -ip localhost -master.dir data/mdir -volume.images.fix.orientation -volume.max 5000 - volume.port 9334 #\u5728\u53e6\u5916\u7684\u673a\u5668\u52a0\u4e00\u4e2avol\u8282\u70b9 ./weed volume -dir data/vol2 -images.fix.orientation -port 9335 -ip localhost -max 5000 #\u5728\u53e6\u5916\u7684\u673a\u5668\u52a0\u4e00\u4e2amaster\u8282\u70b9\uff08master\u8282\u70b9\u9700\u8981\u5355\u6570\u4e2a\uff09 ./weed master -ip localhost -mdir data/mdir -port 9333 -peers masterip1:9333,masterip2:9333 #\u5728\u53e6\u5916\u673a\u5668\u52a0filer\u8282\u70b9 ./weed filer -ip localhost -master masterip1:9333,masterip2:9333 -peers filerip1:8888,filerip2:8888 -port 8888 \u6ce8\u610f\u4e8b\u9879 volume\u7684max\u53c2\u6570\u4ee3\u8868\u6700\u5927\u53ef\u521b\u5efa\u7684\u5757\u6570\u91cf\uff0c\u4e00\u4e2a\u5757\u9ed8\u8ba4\u4e3a30GB\uff0c\u6839\u636e\u5b9e\u4f8b\u6240\u5728\u670d\u52a1\u5668\u7684\u78c1\u76d8\u7a7a\u95f4\u8ba1\u7b97\uff0c\u4fdd\u7559\u5fc5\u8981\u7684\u5197\u4f59\u4e4b\u540e\u53ef\u4ee5\u5c3d\u53ef\u80fd\u591a\u7684\u8bbe\u7f6e\u3002 \u4f7f\u7528seaweedfs\u7684filer\u7ec4\u4ef6\u5b58\u50a8\u56fe\u7247\u5982\u679c\u51fa\u73b0502\u3001503\u3001\u5404\u79cdtimeout\u7684\u9519\u8bef\u5728\u6392\u9664\u7f51\u7edc\u5e26\u5bbd\u3001filer.toml\u8bbe\u7f6e\u7684\u6700\u5927\u6570\u636e\u5e93\u8fde\u63a5\u6570 \u7684\u56e0\u7d20\u540e\u53ef\u4ee5\u5c1d\u8bd5\u5206\u6d41filer\u670d\u52a1\u7684\u6d41\u91cf\uff0c\u56e0\u4e3a\u6839\u636eseaweedfs\u7684wiki\u4e2d\u8bf4\u7684filer\u8981\u5904\u7406\u6587\u4ef6\u5185\u5bb9\u5e76\u5b8c\u6210\u7f51\u7edc\u8bf7\u6c42\u7684\u5206\u53d1\u6240\u4ee5\u538b\u529b\u6bd4\u8f83\u5927\uff0c\u6240\u4ee5\u9002\u65f6\u5730\u6269\u5145\u66f4\u591a\u7684filer\u8282\u70b9\u80fd\u6709\u6548\u7684\u964d\u4f4e\u6216\u907f\u514d50x\u4ee5\u53catimeout\u7684\u53d1\u751f \u4f7f\u7528 #curl\u901a\u8fc7filer\u4e0a\u4f20\u56fe\u7247 curl http://ipaddr:8888/testjpg.jpg -F \"img=@/tmp/testjpg.jpg\" #curl\u901a\u8fc7filer\u4e0a\u4f20\u56fe\u7247\u56fe\u7247\u6709\u6548\u671f1\u5e74 curl http://ipaddr:8888/testjpg.jpg?ttl=1y -F \"img=@/tmp/testjpg.jpg\" #\u4e0d\u4f7f\u7528filer\u4e0a\u4f20 curl http://ipaddr:9333/dir/assign #\u4e0d\u4f7f\u7528filer\u4e0a\u4f20\u56fe\u7247\u6709\u6548\u671f1\u4e2a\u6708 curl http://ipaddr:9333/dir/assign?ttl=1m #\u8fd4\u56de: {\"fid\":\"123,12312321312\",\"url\":\"ipaddrreturnbymaster:9334\",\"publicUrl\":\"ipaddr:9334\",\"count\":1} #\u4e0a\u4f20\u6587\u4ef6 curl http://ipaddrreturnbymaster:9334/123,12312321312 -F \"img=@/tmp/testjpg.jpg\" #\u901a\u8fc7filer\u5c06\u6587\u4ef6\u6302\u8f7d\u5230\u672c\u5730\u64cd\u4f5c weed mount -filer=localhost:8888 -dir=/some/existing/dir -filer.path=/one/remote/folder \u901a\u8fc7kotlin\u8c03\u7528\uff08java\u7c7b\u4f3c\uff09 //\u4f7f\u7528javaclient\u64cd\u4f5cseaweedfs filer\u63a5\u53e3 //kotlin+hutool+seaweedfs-javaclient @Test fun filerTest(){ //connect to filer grpc port val fc=FilerClient(\"localhost\",18888) //\u51c6\u5907\u6570\u636e val ba15mb= RandomUtils.nextBytes(1024*1024*15) val ba1mb=RandomUtils.nextBytes(1024*1024) val ba50mb=RandomUtils.nextBytes(1024*1024*50) //\u6e05\u7406\u6d4b\u8bd5\u76ee\u5f55 fc.rm(\"/ice\",true,true) fc.mkdirs(\"/ice\",666) for (i in 0 until 10){ var sos1:SeaweedOutputStream var sos15:SeaweedOutputStream var sos50:SeaweedOutputStream var ut= measureTimeMillis { sos1=SeaweedOutputStream(fc,\"/ice/idx_${i}_1mb.dat\") sos15=SeaweedOutputStream(fc,\"/ice/idx_${i}_15mb.txt\") sos50=SeaweedOutputStream(fc,\"/ice/idx_${i}_50mb.txt\") } println(\"ut1:${ut} ms\") ut= measureTimeMillis { sos1?.use { it.write(ba1mb) } sos15?.use { it.write(ba15mb) } sos50?.use { it.write(ba50mb) } } println(\"ut2:${ut} ms\") } println(\"ok\") } //\u6d4b\u8bd5\u7ed3\u679c\uff1aut1:20 ms //ut2:7104 ms //ut1:1 ms //ut2:683 ms //ut1:0 ms //ut2:691 ms //ut1:0 ms //ut2:632 ms //ut1:0 ms //ut2:738 ms //ut1:0 ms //ut2:720 ms //ut1:0 ms //ut2:655 ms //ut1:1 ms //ut2:658 ms //ut1:1 ms //ut2:667 ms //ut1:0 ms //ut2:634 ms //ok \u6027\u80fd\u4f18\u5316 \u589e\u52a0\u5e76\u53d1\u5199\u5165\u652f\u6301 #\u5e76\u53d1\u5199\u516512\u4e2avolume\u590d\u5236\u4efd\u6570\u4e3a2\u5b9e\u9645\u5199\u5165\u4e3a24\u4e2avolume\u5e76\u53d1\u5199\u5165\uff08\u540c\u65f6\u5199\u516512\u4e2a\u4e0d\u540c\u7684\uff09 curl http://localhost:9333/vol/grow?count=12&replication=001 \u589e\u52a0\u5e76\u53d1\u8bfb\u53d6\u652f\u6301 #\u8bbe\u7f6e\u590d\u5236\u4efd\u6570\u4e3a2\u5219\u540c\u4e00\u4e2a\u6587\u4ef6\u652f\u6301\u4e24\u4e2a\u5e76\u53d1\u8bfb\u53d6\uff0c\u4e0d\u540c\u7684\u8d44\u6e90\u5e76\u53d1\u8bfb\u53d6\u6570\u91cf\u4ee5volume\u5206\u5757\u6570\u4e3a\u51c6\uff08\u975evolume server\u8282\u70b9\u6570\uff09 curl http://localhost:9333/vol/grow?count=12&replication=001 \u589e\u52a0\u540c\u65f6\u6253\u5f00\u6587\u4ef6\u6570\u91cf #\u5148\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4 ulimit -n 10240 #\u518d\u542f\u52a8seaweedfs ./weed ..... \u95ee\u9898\u5904\u7406 \u4fee\u590d\u4e22\u5931volume\uff08\u6709\u590d\u5236\u4efd\u6570\u7684\u60c5\u51b5\u4e0b\uff09,\u751f\u4ea7\u7cfb\u7edf\u5efa\u8bae\u5468\u671f\u6027\u7684\u5b9a\u65f6\u6267\u884c\u6b64\u4efb\u52a1 weed shell -master masterip:9333 volume.fix.replication","title":"seaweedfs"},{"location":"store/seaweedfs/#seaweedfs","text":"\u7b80\u4ecb:seaweedfs\u662f\u4e00\u5957\u57fa\u4e8ego\u8bed\u8a00\u5f00\u53d1\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\uff0c\u76ee\u524d\u6700\u4f73\u7684\u6d77\u91cf\u5c0f\u6587\u4ef6\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\uff08\u5927\u4e2d\u578b\u6587\u4ef6\u5b58\u50a8\u4e5f\u6ca1\u95ee\u9898\uff09\uff0c\u652f\u6301fuse\u52a0\u8f7d\u3001\u652f\u6301api\u65b9\u5f0f\u8c03\u7528\u3001\u652f\u6301\u8bbe\u7f6e\u6709\u6548\u671f\u81ea\u52a8\u6e05\u7406\u3001\u652f\u6301\u591a\u673a\u623f\u591a\u673a\u67dc\u5f02\u5730\u5bb9\u707e\u7b49,\u9879\u76ee\u5730\u5740\uff1ahttps://github.com/chrislusf/seaweedfs","title":"seaweedfs"},{"location":"store/seaweedfs/#_1","text":"#\u6700\u5c0f\u5316\u96c6\u7fa4\uff08master+volume+filer\uff09 ./weed server -dir data/vol1 -filer -ip localhost -master.dir data/mdir -volume.images.fix.orientation -volume.max 5000 - volume.port 9334 #\u5728\u53e6\u5916\u7684\u673a\u5668\u52a0\u4e00\u4e2avol\u8282\u70b9 ./weed volume -dir data/vol2 -images.fix.orientation -port 9335 -ip localhost -max 5000 #\u5728\u53e6\u5916\u7684\u673a\u5668\u52a0\u4e00\u4e2amaster\u8282\u70b9\uff08master\u8282\u70b9\u9700\u8981\u5355\u6570\u4e2a\uff09 ./weed master -ip localhost -mdir data/mdir -port 9333 -peers masterip1:9333,masterip2:9333 #\u5728\u53e6\u5916\u673a\u5668\u52a0filer\u8282\u70b9 ./weed filer -ip localhost -master masterip1:9333,masterip2:9333 -peers filerip1:8888,filerip2:8888 -port 8888","title":"\u642d\u5efa"},{"location":"store/seaweedfs/#_2","text":"volume\u7684max\u53c2\u6570\u4ee3\u8868\u6700\u5927\u53ef\u521b\u5efa\u7684\u5757\u6570\u91cf\uff0c\u4e00\u4e2a\u5757\u9ed8\u8ba4\u4e3a30GB\uff0c\u6839\u636e\u5b9e\u4f8b\u6240\u5728\u670d\u52a1\u5668\u7684\u78c1\u76d8\u7a7a\u95f4\u8ba1\u7b97\uff0c\u4fdd\u7559\u5fc5\u8981\u7684\u5197\u4f59\u4e4b\u540e\u53ef\u4ee5\u5c3d\u53ef\u80fd\u591a\u7684\u8bbe\u7f6e\u3002 \u4f7f\u7528seaweedfs\u7684filer\u7ec4\u4ef6\u5b58\u50a8\u56fe\u7247\u5982\u679c\u51fa\u73b0502\u3001503\u3001\u5404\u79cdtimeout\u7684\u9519\u8bef\u5728\u6392\u9664\u7f51\u7edc\u5e26\u5bbd\u3001filer.toml\u8bbe\u7f6e\u7684\u6700\u5927\u6570\u636e\u5e93\u8fde\u63a5\u6570 \u7684\u56e0\u7d20\u540e\u53ef\u4ee5\u5c1d\u8bd5\u5206\u6d41filer\u670d\u52a1\u7684\u6d41\u91cf\uff0c\u56e0\u4e3a\u6839\u636eseaweedfs\u7684wiki\u4e2d\u8bf4\u7684filer\u8981\u5904\u7406\u6587\u4ef6\u5185\u5bb9\u5e76\u5b8c\u6210\u7f51\u7edc\u8bf7\u6c42\u7684\u5206\u53d1\u6240\u4ee5\u538b\u529b\u6bd4\u8f83\u5927\uff0c\u6240\u4ee5\u9002\u65f6\u5730\u6269\u5145\u66f4\u591a\u7684filer\u8282\u70b9\u80fd\u6709\u6548\u7684\u964d\u4f4e\u6216\u907f\u514d50x\u4ee5\u53catimeout\u7684\u53d1\u751f","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"store/seaweedfs/#_3","text":"#curl\u901a\u8fc7filer\u4e0a\u4f20\u56fe\u7247 curl http://ipaddr:8888/testjpg.jpg -F \"img=@/tmp/testjpg.jpg\" #curl\u901a\u8fc7filer\u4e0a\u4f20\u56fe\u7247\u56fe\u7247\u6709\u6548\u671f1\u5e74 curl http://ipaddr:8888/testjpg.jpg?ttl=1y -F \"img=@/tmp/testjpg.jpg\" #\u4e0d\u4f7f\u7528filer\u4e0a\u4f20 curl http://ipaddr:9333/dir/assign #\u4e0d\u4f7f\u7528filer\u4e0a\u4f20\u56fe\u7247\u6709\u6548\u671f1\u4e2a\u6708 curl http://ipaddr:9333/dir/assign?ttl=1m #\u8fd4\u56de: {\"fid\":\"123,12312321312\",\"url\":\"ipaddrreturnbymaster:9334\",\"publicUrl\":\"ipaddr:9334\",\"count\":1} #\u4e0a\u4f20\u6587\u4ef6 curl http://ipaddrreturnbymaster:9334/123,12312321312 -F \"img=@/tmp/testjpg.jpg\" #\u901a\u8fc7filer\u5c06\u6587\u4ef6\u6302\u8f7d\u5230\u672c\u5730\u64cd\u4f5c weed mount -filer=localhost:8888 -dir=/some/existing/dir -filer.path=/one/remote/folder \u901a\u8fc7kotlin\u8c03\u7528\uff08java\u7c7b\u4f3c\uff09 //\u4f7f\u7528javaclient\u64cd\u4f5cseaweedfs filer\u63a5\u53e3 //kotlin+hutool+seaweedfs-javaclient @Test fun filerTest(){ //connect to filer grpc port val fc=FilerClient(\"localhost\",18888) //\u51c6\u5907\u6570\u636e val ba15mb= RandomUtils.nextBytes(1024*1024*15) val ba1mb=RandomUtils.nextBytes(1024*1024) val ba50mb=RandomUtils.nextBytes(1024*1024*50) //\u6e05\u7406\u6d4b\u8bd5\u76ee\u5f55 fc.rm(\"/ice\",true,true) fc.mkdirs(\"/ice\",666) for (i in 0 until 10){ var sos1:SeaweedOutputStream var sos15:SeaweedOutputStream var sos50:SeaweedOutputStream var ut= measureTimeMillis { sos1=SeaweedOutputStream(fc,\"/ice/idx_${i}_1mb.dat\") sos15=SeaweedOutputStream(fc,\"/ice/idx_${i}_15mb.txt\") sos50=SeaweedOutputStream(fc,\"/ice/idx_${i}_50mb.txt\") } println(\"ut1:${ut} ms\") ut= measureTimeMillis { sos1?.use { it.write(ba1mb) } sos15?.use { it.write(ba15mb) } sos50?.use { it.write(ba50mb) } } println(\"ut2:${ut} ms\") } println(\"ok\") } //\u6d4b\u8bd5\u7ed3\u679c\uff1aut1:20 ms //ut2:7104 ms //ut1:1 ms //ut2:683 ms //ut1:0 ms //ut2:691 ms //ut1:0 ms //ut2:632 ms //ut1:0 ms //ut2:738 ms //ut1:0 ms //ut2:720 ms //ut1:0 ms //ut2:655 ms //ut1:1 ms //ut2:658 ms //ut1:1 ms //ut2:667 ms //ut1:0 ms //ut2:634 ms //ok","title":"\u4f7f\u7528"},{"location":"store/seaweedfs/#_4","text":"\u589e\u52a0\u5e76\u53d1\u5199\u5165\u652f\u6301 #\u5e76\u53d1\u5199\u516512\u4e2avolume\u590d\u5236\u4efd\u6570\u4e3a2\u5b9e\u9645\u5199\u5165\u4e3a24\u4e2avolume\u5e76\u53d1\u5199\u5165\uff08\u540c\u65f6\u5199\u516512\u4e2a\u4e0d\u540c\u7684\uff09 curl http://localhost:9333/vol/grow?count=12&replication=001 \u589e\u52a0\u5e76\u53d1\u8bfb\u53d6\u652f\u6301 #\u8bbe\u7f6e\u590d\u5236\u4efd\u6570\u4e3a2\u5219\u540c\u4e00\u4e2a\u6587\u4ef6\u652f\u6301\u4e24\u4e2a\u5e76\u53d1\u8bfb\u53d6\uff0c\u4e0d\u540c\u7684\u8d44\u6e90\u5e76\u53d1\u8bfb\u53d6\u6570\u91cf\u4ee5volume\u5206\u5757\u6570\u4e3a\u51c6\uff08\u975evolume server\u8282\u70b9\u6570\uff09 curl http://localhost:9333/vol/grow?count=12&replication=001 \u589e\u52a0\u540c\u65f6\u6253\u5f00\u6587\u4ef6\u6570\u91cf #\u5148\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4 ulimit -n 10240 #\u518d\u542f\u52a8seaweedfs ./weed .....","title":"\u6027\u80fd\u4f18\u5316"},{"location":"store/seaweedfs/#_5","text":"\u4fee\u590d\u4e22\u5931volume\uff08\u6709\u590d\u5236\u4efd\u6570\u7684\u60c5\u51b5\u4e0b\uff09,\u751f\u4ea7\u7cfb\u7edf\u5efa\u8bae\u5468\u671f\u6027\u7684\u5b9a\u65f6\u6267\u884c\u6b64\u4efb\u52a1 weed shell -master masterip:9333 volume.fix.replication","title":"\u95ee\u9898\u5904\u7406"},{"location":"%E4%B8%AD%E5%8C%BB/%E4%BA%94%E6%AD%A5%E5%AD%A6%E7%BA%AF%E6%AD%A3%E4%B8%AD%E5%8C%BB/","text":"\u502a\u6d77\u53a6\uff5c\u8ddf\u7740\u8fd9\u4e94\u4e2a\u6b65\u9aa4\u5b66\u597d\u7eaf\u6b63\u4e2d\u533b \u9488\u7078\u5927\u6210 \u795e\u519c\u672c\u8349 \u9ec4\u5e1d\u5185\u7ecf \u4f24\u5bd2\u8bba \u91d1\u532e\u8981\u7565","title":"\u502a\u6d77\u53a6\uff5c\u8ddf\u7740\u8fd9\u4e94\u4e2a\u6b65\u9aa4\u5b66\u597d\u7eaf\u6b63\u4e2d\u533b"},{"location":"%E4%B8%AD%E5%8C%BB/%E4%BA%94%E6%AD%A5%E5%AD%A6%E7%BA%AF%E6%AD%A3%E4%B8%AD%E5%8C%BB/#_1","text":"\u9488\u7078\u5927\u6210 \u795e\u519c\u672c\u8349 \u9ec4\u5e1d\u5185\u7ecf \u4f24\u5bd2\u8bba \u91d1\u532e\u8981\u7565","title":"\u502a\u6d77\u53a6\uff5c\u8ddf\u7740\u8fd9\u4e94\u4e2a\u6b65\u9aa4\u5b66\u597d\u7eaf\u6b63\u4e2d\u533b"},{"location":"%E4%B8%AD%E5%8C%BB/%E5%A4%A7%E5%8C%BB%E7%B2%BE%E8%AF%9A/","text":"\u5927\u533b\u7cbe\u8bda \u5f20\u6e5b \u66f0\uff1a\u201c\u592b\u7ecf\u65b9\u4e4b\u96be\u7cbe\uff0c\u7531\u6765\u5c1a\u77e3\u201d\u3002\u4eca\u75c5\u6709\u5185\u540c\u800c\u5916\u5f02\uff0c\u4ea6\u6709\u5185\u5f02\u800c\u5916\u540c\uff0c\u6545 \u4e94\u810f \u516d\u8151 \u4e4b\u76c8\u865a\uff0c \u8840\u8109 \u8363\u536b \u4e4b\u901a\u585e\uff0c\u56fa\u975e\u8033\u76ee\u4e4b\u6240\u5bdf\uff0c\u5fc5\u5148\u8bca\u5019\u4ee5\u5ba1\u4e4b\u3002\u800c \u5bf8\u53e3 \u5173\u5c3a\uff0c\u6709 \u6d6e\u6c89 \u5f26\u7d27\u4e4b\u4e71\uff1b \u4fde\u7a74 \u6d41\u6ce8 \uff0c\u6709\u9ad8\u4e0b\u6d45\u6df1\u4e4b\u5dee\uff1b \u808c\u80a4 \u7b4b\u9aa8 \uff0c\u6709\u539a\u8584 \u521a\u67d4 \u4e4b\u5f02\u3002\u552f\u7528\u5fc3\u7cbe\u5fae\u8005\uff0c\u59cb\u53ef\u4e0e\u8a00\u4e8e\u5179\u77e3\u3002\u4eca\u4ee5\u81f3\u7cbe\u81f3\u5fae\u4e4b\u4e8b\uff0c\u6c42\u4e4b\u4e8e\u81f3\u7c97\u81f3\u6d45\u4e4b\u601d\uff0c\u5176\u4e0d\u6b86\u54c9\uff01\u82e5\u76c8\u800c\u76ca\u4e4b\uff0c\u865a\u800c\u635f\u4e4b\uff0c\u901a\u800c\u5f7b\u4e4b\uff0c\u585e\u800c\u58c5\u4e4b\uff0c\u5bd2\u800c\u51b7\u4e4b\uff0c\u70ed\u800c\u6e29\u4e4b\uff0c\u662f\u91cd\u52a0\u5176\u75be\uff0c\u800c\u671b\u5176\u751f\uff0c\u543e\u89c1\u5176\u6b7b\u77e3\u3002\u6545\u533b\u65b9\u535c\u7b6e\uff0c\u827a\u80fd\u4e4b\u96be\u7cbe\u8005\u4e5f\uff0c\u65e2\u975e\u795e\u6388\uff0c\u4f55\u4ee5\u5f97\u5176\u5e7d\u5fae\uff1f\u4e16\u6709\u611a\u8005\uff0c\u8bfb\u65b9\u4e09\u5e74\uff0c\u4fbf\u8c13\u5929\u4e0b\u65e0\u75c5\u53ef\u6cbb\uff1b\u53ca\u6cbb\u75c5\u4e09\u5e74\uff0c\u4e43\u77e5\u5929\u4e0b\u65e0\u65b9\u53ef\u7528\u3002\u6545\u5b66\u8005\u5fc5\u987b\u535a\u6781\u533b\u6e90\uff0c\u7cbe\u52e4\u4e0d\u5026\uff0c\u4e0d\u5f97\u9053\u542c\u9014\u8bf4\uff0c\u800c\u8a00\u533b\u9053\u5df2\u4e86\uff0c\u6df1\u81ea\u8bef\u54c9\uff01 \u51e1\u5927\u533b\u6cbb\u75c5\uff0c\u5fc5\u5f53\u5b89\u795e\u5b9a\u5fd7\uff0c\u65e0\u6b32\u65e0\u6c42\uff0c\u5148\u53d1\u5927\u6148\u607b\u9690\u4e4b\u5fc3\uff0c\u8a93\u613f\u666e\u6551\u542b\u7075\u4e4b\u82e6\u3002\u82e5\u6709\u75be\u5384\u6765\u6c42\u6551\u8005\uff0c\u4e0d\u5f97\u95ee\u5176\u8d35\u8d31\u8d2b\u5bcc\uff0c\u957f\u5e7c\u598d\u5ab8\uff0c\u6028\u4eb2\u5584\u53cb\uff0c\u534e\u5937\u611a\u667a\uff0c\u666e\u540c\u4e00\u7b49\uff0c\u7686\u5982\u81f3\u4eb2\u4e4b\u60f3\uff0c\u4ea6\u4e0d\u5f97\u77bb\u524d\u987e\u540e\uff0c\u81ea\u8651\u5409\u51f6\uff0c\u62a4\u60dc\u8eab\u547d\u3002\u89c1\u5f7c\u82e6\u607c\uff0c\u82e5\u5df1\u6709\u4e4b\uff0c\u6df1\u5fc3\u51c4\u6006\uff0c\u52ff\u907f\u9669\u5dc7\u3001\u663c\u591c\u3001\u5bd2\u6691\u3001\u9965\u6e34\u3001\u75b2\u52b3\uff0c\u4e00\u5fc3\u8d74\u6551\uff0c\u65e0\u4f5c\u529f\u592b\u5f62\u8ff9\u4e4b\u5fc3\u3002\u5982\u6b64\u53ef\u4e3a\u82cd\u751f\u5927\u533b\uff0c\u53cd\u6b64\u5219\u662f\u542b\u7075\u5de8\u8d3c\u3002\u81ea\u53e4\u540d\u8d24\u6cbb\u75c5\uff0c\u591a\u7528\u751f\u547d\u4ee5\u6d4e\u5371\u6025\uff0c\u867d\u66f0\u8d31\u755c\u8d35\u4eba\uff0c\u81f3\u4e8e\u7231\u547d\uff0c\u4eba\u755c\u4e00\u4e5f\u3002\u635f\u5f7c\u76ca\u5df2\uff0c\u7269\u60c5\u540c\u60a3\uff0c\u51b5\u4e8e\u4eba\u4e4e\uff01\u592b\u6740\u751f\u6c42\u751f\uff0c\u53bb\u751f\u66f4\u8fdc\u3002\u543e\u4eca\u6b64\u65b9\u6240\u4ee5\u4e0d\u7528\u751f\u547d\u4e3a\u836f\u8005\uff0c\u826f\u7531\u6b64\u4e5f\u3002\u5176 \u867b\u866b \u3001 \u6c34\u86ed \u4e4b\u5c5e\uff0c\u5e02\u6709\u5148\u6b7b\u8005\uff0c\u5219\u5e02\u800c\u7528\u4e4b\uff0c\u4e0d\u5728\u6b64\u4f8b\u3002\u53ea\u5982\u9e21\u5375\u4e00\u7269\uff0c\u4ee5\u5176\u6df7\u6c8c\u672a\u5206\uff0c\u5fc5\u6709\u5927\u6bb5\u8981\u6025\u4e4b\u5904\uff0c\u4e0d\u5f97\u5df2\u9690\u5fcd\u800c\u7528\u4e4b\u3002\u80fd\u4e0d\u7528\u8005\uff0c\u65af\u4e3a\u5927\u54f2\uff0c\u4ea6\u6240\u4e0d\u53ca\u4e5f\u3002\u5176\u6709\u60a3 \u75ae\u75cd \u3001 \u4e0b\u75e2 \uff0c\u81ed\u79fd\u4e0d\u53ef\u77bb\u89c6\uff0c\u4eba\u6240\u6076\u89c1\u8005\uff0c\u4f46\u53d1\u60ed\u6127\u51c4\u601c\u5fe7\u6064\u4e4b\u610f\uff0c\u4e0d\u5f97\u8d77\u4e00\u5ff5\u8482\u82a5\u4e4b\u5fc3\uff0c\u662f\u543e\u4e4b\u5fd7\u4e5f\u3002 \u592b\u5927\u533b\u4e4b\u4f53\uff0c\u6b32\u5f97\u6f84\u795e\u5185\u89c6\uff0c\u671b\u4e4b\u4fe8\u7136\uff0c\u5bbd\u88d5\u6c6a\u6c6a\uff0c\u4e0d\u768e\u4e0d\u6627\u3002\u7701\u75c5\u8bca\u75be\uff0c\u81f3\u610f\u6df1\u5fc3\uff0c\u8be6\u5bdf\u5f62\u5019\uff0c\u7ea4\u6beb\u52ff\u5931\uff0c\u5904\u5224\u9488\u836f\uff0c\u65e0\u5f97\u53c2\u5dee\u3002\u867d\u66f0\u75c5\u5b9c\u901f\u6551\uff0c\u8981\u987b\u4e34\u4e8b\u4e0d\u60d1\uff0c\u552f\u5f53\u5ba1\u8c1b\u8983\u601d\uff0c\u4e0d\u5f97\u4e8e\u6027\u547d\u4e4b\u4e0a\uff0c\u7387\u5c14\u81ea\u901e\u4fca\u5feb\uff0c\u9080\u5c04\u540d\u8a89\uff0c\u751a\u4e0d\u4ec1\u77e3\uff01\u53c8\u5230\u75c5\u5bb6\uff0c\u7eb5\u7eee\u7f57\u6ee1\u76ee\uff0c\u52ff\u5de6\u53f3\u987e\u7704\uff0c\u4e1d\u7af9\u51d1\u8033\uff0c\u65e0\u5f97\u4f3c\u6709\u6240\u5a31\uff0c\u73cd\u9990\u8fed\u8350\uff0c\u98df\u5982\u65e0\u5473\uff0c\u91bd\u9181\u517c\u9648\uff0c\u770b\u6709\u82e5\u65e0\u3002\u6240\u4ee5\u5c14\u8005\uff0c\u592b\u4e00\u4eba\u5411\u9685\uff0c\u6ee1\u5802\u4e0d\u4e50\uff0c\u800c\u51b5\u75c5\u4eba\u82e6\u695a\uff0c\u4e0d\u79bb\u65af\u987b\uff0c\u800c\u533b\u8005\u5b89\u7136\u6b22\u5a31\uff0c\u50b2\u7136\u81ea\u5f97\uff0c\u5179\u4e43\u4eba\u795e\u4e4b\u6240\u5171\u803b\uff0c\u81f3\u4eba\u4e4b\u6240\u4e0d\u4e3a\uff0c\u65af\u76d6\u533b\u4e4b\u672c\u610f\u4e5f\u3002 \u592b\u4e3a\u533b\u4e4b\u6cd5\uff0c\u4e0d\u5f97\u591a\u8bed\u8c03\u7b11\uff0c\u8c08\u8c11\u55a7\u54d7\uff0c\u9053\u8bf4\u662f\u975e\uff0c\u8bae\u8bba\u4eba\u7269\uff0c\u70ab\u8000\u58f0\u540d\uff0c\u8a3e\u6bc1\u8bf8\u533b\uff0c\u81ea\u77dc\u5df1\u5fb7\uff0c\u5076\u7136\u6cbb\u5dee\u4e00\u75c5\uff0c\u5219\u6602\u5934\u6234\u9762\uff0c\u800c\u6709\u81ea\u8bb8\u4e4b\u8c8c\uff0c\u8c13\u5929\u4e0b\u65e0\u53cc\uff0c\u6b64\u533b\u4eba\u4e4b \u818f\u8093 \u4e5f\u3002 \u8001\u541b\u66f0\uff1a\u201c\u4eba\u884c\u9633\u5fb7\uff0c\u4eba\u81ea\u62a5\u4e4b\uff1b\u4eba\u884c\u9634\u5fb7\uff0c\u9b3c\u795e\u62a5\u4e4b\u3002\u4eba\u884c\u9633\u6076\uff0c\u4eba\u81ea\u62a5\u4e4b\uff1b\u4eba\u884c\u9634\u6076\uff0c\u9b3c\u795e\u5bb3\u4e4b\u3002\u201d \u5bfb\u6b64\u4e8c\u9014\uff0c\u9634\u9633\u62a5\u65bd\u5c82\u8bec\u4e5f\u54c9\uff1f\u6240\u4ee5\u533b\u4eba\u4e0d\u5f97\u6043\u5df2\u6240\u957f\uff0c\u4e13\u5fc3\u7ecf\u7565\u8d22\u7269\uff0c\u4f46\u4f5c\u6551\u82e6\u4e4b\u5fc3\uff0c\u4e8e\u51a5\u8fd0\u9053\u4e2d\uff0c\u81ea\u611f\u591a\u798f\u8005\u8033\u3002\u53c8\u4e0d\u5f97\u4ee5\u5f7c\u5bcc\u8d35\uff0c\u5904\u4ee5\u73cd\u8d35\u4e4b\u836f\uff0c\u4ee4\u5f7c\u96be\u6c42\uff0c\u81ea\u70ab\u529f\u80fd\uff0c\u8c05\u975e\u5fe0\u6055\u4e4b\u9053\u3002\u5fd7\u5b58\u6551\u6d4e\uff0c\u6545\u4ea6\u66f2\u788e\u8bba\u4e4b\uff0c\u5b66\u8005\u4e0d\u53ef\u803b\u8a00\u4e4b\u9119\u4fda\u4e5f\u3002","title":"\u5927\u533b\u7cbe\u8bda"},{"location":"%E4%B8%AD%E5%8C%BB/%E5%A4%A7%E5%8C%BB%E7%B2%BE%E8%AF%9A/#_1","text":"\u5f20\u6e5b \u66f0\uff1a\u201c\u592b\u7ecf\u65b9\u4e4b\u96be\u7cbe\uff0c\u7531\u6765\u5c1a\u77e3\u201d\u3002\u4eca\u75c5\u6709\u5185\u540c\u800c\u5916\u5f02\uff0c\u4ea6\u6709\u5185\u5f02\u800c\u5916\u540c\uff0c\u6545 \u4e94\u810f \u516d\u8151 \u4e4b\u76c8\u865a\uff0c \u8840\u8109 \u8363\u536b \u4e4b\u901a\u585e\uff0c\u56fa\u975e\u8033\u76ee\u4e4b\u6240\u5bdf\uff0c\u5fc5\u5148\u8bca\u5019\u4ee5\u5ba1\u4e4b\u3002\u800c \u5bf8\u53e3 \u5173\u5c3a\uff0c\u6709 \u6d6e\u6c89 \u5f26\u7d27\u4e4b\u4e71\uff1b \u4fde\u7a74 \u6d41\u6ce8 \uff0c\u6709\u9ad8\u4e0b\u6d45\u6df1\u4e4b\u5dee\uff1b \u808c\u80a4 \u7b4b\u9aa8 \uff0c\u6709\u539a\u8584 \u521a\u67d4 \u4e4b\u5f02\u3002\u552f\u7528\u5fc3\u7cbe\u5fae\u8005\uff0c\u59cb\u53ef\u4e0e\u8a00\u4e8e\u5179\u77e3\u3002\u4eca\u4ee5\u81f3\u7cbe\u81f3\u5fae\u4e4b\u4e8b\uff0c\u6c42\u4e4b\u4e8e\u81f3\u7c97\u81f3\u6d45\u4e4b\u601d\uff0c\u5176\u4e0d\u6b86\u54c9\uff01\u82e5\u76c8\u800c\u76ca\u4e4b\uff0c\u865a\u800c\u635f\u4e4b\uff0c\u901a\u800c\u5f7b\u4e4b\uff0c\u585e\u800c\u58c5\u4e4b\uff0c\u5bd2\u800c\u51b7\u4e4b\uff0c\u70ed\u800c\u6e29\u4e4b\uff0c\u662f\u91cd\u52a0\u5176\u75be\uff0c\u800c\u671b\u5176\u751f\uff0c\u543e\u89c1\u5176\u6b7b\u77e3\u3002\u6545\u533b\u65b9\u535c\u7b6e\uff0c\u827a\u80fd\u4e4b\u96be\u7cbe\u8005\u4e5f\uff0c\u65e2\u975e\u795e\u6388\uff0c\u4f55\u4ee5\u5f97\u5176\u5e7d\u5fae\uff1f\u4e16\u6709\u611a\u8005\uff0c\u8bfb\u65b9\u4e09\u5e74\uff0c\u4fbf\u8c13\u5929\u4e0b\u65e0\u75c5\u53ef\u6cbb\uff1b\u53ca\u6cbb\u75c5\u4e09\u5e74\uff0c\u4e43\u77e5\u5929\u4e0b\u65e0\u65b9\u53ef\u7528\u3002\u6545\u5b66\u8005\u5fc5\u987b\u535a\u6781\u533b\u6e90\uff0c\u7cbe\u52e4\u4e0d\u5026\uff0c\u4e0d\u5f97\u9053\u542c\u9014\u8bf4\uff0c\u800c\u8a00\u533b\u9053\u5df2\u4e86\uff0c\u6df1\u81ea\u8bef\u54c9\uff01 \u51e1\u5927\u533b\u6cbb\u75c5\uff0c\u5fc5\u5f53\u5b89\u795e\u5b9a\u5fd7\uff0c\u65e0\u6b32\u65e0\u6c42\uff0c\u5148\u53d1\u5927\u6148\u607b\u9690\u4e4b\u5fc3\uff0c\u8a93\u613f\u666e\u6551\u542b\u7075\u4e4b\u82e6\u3002\u82e5\u6709\u75be\u5384\u6765\u6c42\u6551\u8005\uff0c\u4e0d\u5f97\u95ee\u5176\u8d35\u8d31\u8d2b\u5bcc\uff0c\u957f\u5e7c\u598d\u5ab8\uff0c\u6028\u4eb2\u5584\u53cb\uff0c\u534e\u5937\u611a\u667a\uff0c\u666e\u540c\u4e00\u7b49\uff0c\u7686\u5982\u81f3\u4eb2\u4e4b\u60f3\uff0c\u4ea6\u4e0d\u5f97\u77bb\u524d\u987e\u540e\uff0c\u81ea\u8651\u5409\u51f6\uff0c\u62a4\u60dc\u8eab\u547d\u3002\u89c1\u5f7c\u82e6\u607c\uff0c\u82e5\u5df1\u6709\u4e4b\uff0c\u6df1\u5fc3\u51c4\u6006\uff0c\u52ff\u907f\u9669\u5dc7\u3001\u663c\u591c\u3001\u5bd2\u6691\u3001\u9965\u6e34\u3001\u75b2\u52b3\uff0c\u4e00\u5fc3\u8d74\u6551\uff0c\u65e0\u4f5c\u529f\u592b\u5f62\u8ff9\u4e4b\u5fc3\u3002\u5982\u6b64\u53ef\u4e3a\u82cd\u751f\u5927\u533b\uff0c\u53cd\u6b64\u5219\u662f\u542b\u7075\u5de8\u8d3c\u3002\u81ea\u53e4\u540d\u8d24\u6cbb\u75c5\uff0c\u591a\u7528\u751f\u547d\u4ee5\u6d4e\u5371\u6025\uff0c\u867d\u66f0\u8d31\u755c\u8d35\u4eba\uff0c\u81f3\u4e8e\u7231\u547d\uff0c\u4eba\u755c\u4e00\u4e5f\u3002\u635f\u5f7c\u76ca\u5df2\uff0c\u7269\u60c5\u540c\u60a3\uff0c\u51b5\u4e8e\u4eba\u4e4e\uff01\u592b\u6740\u751f\u6c42\u751f\uff0c\u53bb\u751f\u66f4\u8fdc\u3002\u543e\u4eca\u6b64\u65b9\u6240\u4ee5\u4e0d\u7528\u751f\u547d\u4e3a\u836f\u8005\uff0c\u826f\u7531\u6b64\u4e5f\u3002\u5176 \u867b\u866b \u3001 \u6c34\u86ed \u4e4b\u5c5e\uff0c\u5e02\u6709\u5148\u6b7b\u8005\uff0c\u5219\u5e02\u800c\u7528\u4e4b\uff0c\u4e0d\u5728\u6b64\u4f8b\u3002\u53ea\u5982\u9e21\u5375\u4e00\u7269\uff0c\u4ee5\u5176\u6df7\u6c8c\u672a\u5206\uff0c\u5fc5\u6709\u5927\u6bb5\u8981\u6025\u4e4b\u5904\uff0c\u4e0d\u5f97\u5df2\u9690\u5fcd\u800c\u7528\u4e4b\u3002\u80fd\u4e0d\u7528\u8005\uff0c\u65af\u4e3a\u5927\u54f2\uff0c\u4ea6\u6240\u4e0d\u53ca\u4e5f\u3002\u5176\u6709\u60a3 \u75ae\u75cd \u3001 \u4e0b\u75e2 \uff0c\u81ed\u79fd\u4e0d\u53ef\u77bb\u89c6\uff0c\u4eba\u6240\u6076\u89c1\u8005\uff0c\u4f46\u53d1\u60ed\u6127\u51c4\u601c\u5fe7\u6064\u4e4b\u610f\uff0c\u4e0d\u5f97\u8d77\u4e00\u5ff5\u8482\u82a5\u4e4b\u5fc3\uff0c\u662f\u543e\u4e4b\u5fd7\u4e5f\u3002 \u592b\u5927\u533b\u4e4b\u4f53\uff0c\u6b32\u5f97\u6f84\u795e\u5185\u89c6\uff0c\u671b\u4e4b\u4fe8\u7136\uff0c\u5bbd\u88d5\u6c6a\u6c6a\uff0c\u4e0d\u768e\u4e0d\u6627\u3002\u7701\u75c5\u8bca\u75be\uff0c\u81f3\u610f\u6df1\u5fc3\uff0c\u8be6\u5bdf\u5f62\u5019\uff0c\u7ea4\u6beb\u52ff\u5931\uff0c\u5904\u5224\u9488\u836f\uff0c\u65e0\u5f97\u53c2\u5dee\u3002\u867d\u66f0\u75c5\u5b9c\u901f\u6551\uff0c\u8981\u987b\u4e34\u4e8b\u4e0d\u60d1\uff0c\u552f\u5f53\u5ba1\u8c1b\u8983\u601d\uff0c\u4e0d\u5f97\u4e8e\u6027\u547d\u4e4b\u4e0a\uff0c\u7387\u5c14\u81ea\u901e\u4fca\u5feb\uff0c\u9080\u5c04\u540d\u8a89\uff0c\u751a\u4e0d\u4ec1\u77e3\uff01\u53c8\u5230\u75c5\u5bb6\uff0c\u7eb5\u7eee\u7f57\u6ee1\u76ee\uff0c\u52ff\u5de6\u53f3\u987e\u7704\uff0c\u4e1d\u7af9\u51d1\u8033\uff0c\u65e0\u5f97\u4f3c\u6709\u6240\u5a31\uff0c\u73cd\u9990\u8fed\u8350\uff0c\u98df\u5982\u65e0\u5473\uff0c\u91bd\u9181\u517c\u9648\uff0c\u770b\u6709\u82e5\u65e0\u3002\u6240\u4ee5\u5c14\u8005\uff0c\u592b\u4e00\u4eba\u5411\u9685\uff0c\u6ee1\u5802\u4e0d\u4e50\uff0c\u800c\u51b5\u75c5\u4eba\u82e6\u695a\uff0c\u4e0d\u79bb\u65af\u987b\uff0c\u800c\u533b\u8005\u5b89\u7136\u6b22\u5a31\uff0c\u50b2\u7136\u81ea\u5f97\uff0c\u5179\u4e43\u4eba\u795e\u4e4b\u6240\u5171\u803b\uff0c\u81f3\u4eba\u4e4b\u6240\u4e0d\u4e3a\uff0c\u65af\u76d6\u533b\u4e4b\u672c\u610f\u4e5f\u3002 \u592b\u4e3a\u533b\u4e4b\u6cd5\uff0c\u4e0d\u5f97\u591a\u8bed\u8c03\u7b11\uff0c\u8c08\u8c11\u55a7\u54d7\uff0c\u9053\u8bf4\u662f\u975e\uff0c\u8bae\u8bba\u4eba\u7269\uff0c\u70ab\u8000\u58f0\u540d\uff0c\u8a3e\u6bc1\u8bf8\u533b\uff0c\u81ea\u77dc\u5df1\u5fb7\uff0c\u5076\u7136\u6cbb\u5dee\u4e00\u75c5\uff0c\u5219\u6602\u5934\u6234\u9762\uff0c\u800c\u6709\u81ea\u8bb8\u4e4b\u8c8c\uff0c\u8c13\u5929\u4e0b\u65e0\u53cc\uff0c\u6b64\u533b\u4eba\u4e4b \u818f\u8093 \u4e5f\u3002 \u8001\u541b\u66f0\uff1a\u201c\u4eba\u884c\u9633\u5fb7\uff0c\u4eba\u81ea\u62a5\u4e4b\uff1b\u4eba\u884c\u9634\u5fb7\uff0c\u9b3c\u795e\u62a5\u4e4b\u3002\u4eba\u884c\u9633\u6076\uff0c\u4eba\u81ea\u62a5\u4e4b\uff1b\u4eba\u884c\u9634\u6076\uff0c\u9b3c\u795e\u5bb3\u4e4b\u3002\u201d \u5bfb\u6b64\u4e8c\u9014\uff0c\u9634\u9633\u62a5\u65bd\u5c82\u8bec\u4e5f\u54c9\uff1f\u6240\u4ee5\u533b\u4eba\u4e0d\u5f97\u6043\u5df2\u6240\u957f\uff0c\u4e13\u5fc3\u7ecf\u7565\u8d22\u7269\uff0c\u4f46\u4f5c\u6551\u82e6\u4e4b\u5fc3\uff0c\u4e8e\u51a5\u8fd0\u9053\u4e2d\uff0c\u81ea\u611f\u591a\u798f\u8005\u8033\u3002\u53c8\u4e0d\u5f97\u4ee5\u5f7c\u5bcc\u8d35\uff0c\u5904\u4ee5\u73cd\u8d35\u4e4b\u836f\uff0c\u4ee4\u5f7c\u96be\u6c42\uff0c\u81ea\u70ab\u529f\u80fd\uff0c\u8c05\u975e\u5fe0\u6055\u4e4b\u9053\u3002\u5fd7\u5b58\u6551\u6d4e\uff0c\u6545\u4ea6\u66f2\u788e\u8bba\u4e4b\uff0c\u5b66\u8005\u4e0d\u53ef\u803b\u8a00\u4e4b\u9119\u4fda\u4e5f\u3002","title":"\u5927\u533b\u7cbe\u8bda"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E4%B8%AD%E5%8C%BB%E5%9F%BA%E7%A1%80/","text":"\u4e2d\u533b\u57fa\u7840 \u4e2d\u533b\u57fa\u672c\u5e38\u8bc6 \u4e00\u3001\u9ebb\uff1a\u8868\u660e\u6c14\u80fd\u8fc7\u6765\uff0c\u800c\u8840\u8fc7\u4e0d\u6765\u3002 \u4e8c\u3001\u6728\uff1a\u9ebb\u5f97\u5389\u5bb3\u4e86\uff0c\u5c31\u662f\u6728\uff0c\u662f\u8840\u548c\u6c14\u90fd\u8fc7\u4e0d\u6765\u4e86\u3002 \u4e09\u3001\u9178\uff1a\u8868\u660e\u7ecf\u7edc\u662f\u901a\u7684\uff0c\u4f46\u662f\u6c14\u8840\u4e0d\u8db3\u3002 \u56db\u3001\u80c0\uff1a\u8868\u660e\u6c14\u5f88\u8db3\uff0c\u6b64\u7c7b\u4eba\u662f\u7231\u751f\u6c14\u7684\u4f53\u8d28\uff0c\u82e5\u4f53\u5185\u7684\u6c14\u51fa\u4e0d\u53bb\u5c31\u80c0\u3002 \u4e94\u3001\u75db\uff1a\u5355\u7eaf\u6027\u7684\u75db\u5219\u662f\u56e0\u4e3a\u6709\u8840\u6de4 \u516d\u3001\u75d2\uff1a\u8868\u660e\u6c14\u548c\u8840\u6b63\u5728\u8fc7\u6765\uff0c\u4f24\u53e3\u6108\u5408\u7684\u65f6\u5019\u90fd\u4f1a\u53d1\u75d2\u3002\u4f46\u8fd9\u4e0e\u5168\u8eab\u53d1\u75d2\u4e0d\u540c\u3002 \u4e94\u810f \u80be\u810f\u95ee\u9898\u9020\u6210\u767d\u53d1 \u809d\u810f\u95ee\u9898\u9020\u6210\u8131\u53d1 \u8840\u865a\u7528\u9488\u5f3a\u571f\u8f85\u4ee5\u725b\u7f8a\u8089\u5feb\u901f\u8865\u8840\u3002 \u5f53\u4e94\u810f\u90fd\u6709\u95ee\u9898\u65f6\u5019\u5148\u6cbb\u5fc3\uff0c\u7136\u540e\u6cbb\u813e\u4ee5\u5f3a\u80c3\uff08\u6025\u5219\u6cbb\u6807\u7f13\u5219\u6cbb\u672c\uff09","title":"\u4e2d\u533b\u57fa\u7840"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E4%B8%AD%E5%8C%BB%E5%9F%BA%E7%A1%80/#_1","text":"","title":"\u4e2d\u533b\u57fa\u7840"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E4%B8%AD%E5%8C%BB%E5%9F%BA%E7%A1%80/#_2","text":"\u4e00\u3001\u9ebb\uff1a\u8868\u660e\u6c14\u80fd\u8fc7\u6765\uff0c\u800c\u8840\u8fc7\u4e0d\u6765\u3002 \u4e8c\u3001\u6728\uff1a\u9ebb\u5f97\u5389\u5bb3\u4e86\uff0c\u5c31\u662f\u6728\uff0c\u662f\u8840\u548c\u6c14\u90fd\u8fc7\u4e0d\u6765\u4e86\u3002 \u4e09\u3001\u9178\uff1a\u8868\u660e\u7ecf\u7edc\u662f\u901a\u7684\uff0c\u4f46\u662f\u6c14\u8840\u4e0d\u8db3\u3002 \u56db\u3001\u80c0\uff1a\u8868\u660e\u6c14\u5f88\u8db3\uff0c\u6b64\u7c7b\u4eba\u662f\u7231\u751f\u6c14\u7684\u4f53\u8d28\uff0c\u82e5\u4f53\u5185\u7684\u6c14\u51fa\u4e0d\u53bb\u5c31\u80c0\u3002 \u4e94\u3001\u75db\uff1a\u5355\u7eaf\u6027\u7684\u75db\u5219\u662f\u56e0\u4e3a\u6709\u8840\u6de4 \u516d\u3001\u75d2\uff1a\u8868\u660e\u6c14\u548c\u8840\u6b63\u5728\u8fc7\u6765\uff0c\u4f24\u53e3\u6108\u5408\u7684\u65f6\u5019\u90fd\u4f1a\u53d1\u75d2\u3002\u4f46\u8fd9\u4e0e\u5168\u8eab\u53d1\u75d2\u4e0d\u540c\u3002","title":"\u4e2d\u533b\u57fa\u672c\u5e38\u8bc6"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E4%B8%AD%E5%8C%BB%E5%9F%BA%E7%A1%80/#_3","text":"\u80be\u810f\u95ee\u9898\u9020\u6210\u767d\u53d1 \u809d\u810f\u95ee\u9898\u9020\u6210\u8131\u53d1 \u8840\u865a\u7528\u9488\u5f3a\u571f\u8f85\u4ee5\u725b\u7f8a\u8089\u5feb\u901f\u8865\u8840\u3002 \u5f53\u4e94\u810f\u90fd\u6709\u95ee\u9898\u65f6\u5019\u5148\u6cbb\u5fc3\uff0c\u7136\u540e\u6cbb\u813e\u4ee5\u5f3a\u80c3\uff08\u6025\u5219\u6cbb\u6807\u7f13\u5219\u6cbb\u672c\uff09","title":"\u4e94\u810f"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","text":"\u4eba\u7eaa\u9488\u7078\u5b66\u4e60\u7b14\u8bb0 \u9488\u800c\u52ff\u7078\u7078\u52ff\u9488\uff0c\u9488\u7ecf\u4e3a\u6b64\u5e38\u53ee\u549b\u3002\u5eb8\u533b\u9488\u7078\u4e00\u9f50\u65bd\uff0c\u5f92\u65bd\u60a3\u8005\u70ae\u70d9\u5211\u3002 \u827e\u7078\u60ef\u4f8b \u7078\u5355\u4e0d\u7078\u53cc\u3002 \u75db\u7078\u5230\u4e0d\u75db\u6b62\uff0c\u4e0d\u75db\u7078\u5230\u75db\u6b62 \u7078\u540e\u4e0d\u559d\u8336 \u9488\u523a\u60ef\u4f8b \u75c5\u5728\u810f\u53d6\u4e95\uff0c\u75c5\u5728\u8272\u53d6\u8363\uff0c\u75c5\u5728\u65f6\u53d6\u8167\uff0c\u75c5\u5728\u97f3\u53d6\u7ecf\uff0c\u75c5\u5728\u996e\u98df\u53d6\u5408\uff0c\u4e94\u810f\u4e0d\u5e73\u8861\u53d6\u539f\u3002 \u865a\u5219\u8865\u5176\u6bcd\uff0c\u5b9e\u5219\u6cfb\u5176\u5b50\u3002 \u9488\u540e\u4e0d\u559d\u9152\u4e0d\u5403\u8fa3 \u7a74\u4f4d \u516b\u4f1a\uff1a\u810f\u4f1a\u809d\u7ecf\u7ae0\u95e8\u3001\u8151\u4f1a\u4efb\u8109\u4e2d\u8118\u3001\u6c14\u4f1a\u4efb\u8109\u81bb\u4e2d\u3001\u8840\u4f1a\u8180\u80f1\u7ecf\u8188\u8167\u3001\u7b4b\u4f1a\u80c6\u7ecf\u9633\u9675\u6cc9\u3001\u8109\u4f1a\u80ba\u7ecf\u592a\u6e0a\u3001\u9aa8\u4f1a\u8180\u80f1\u7ecf\u5927\u67d5\u3001\u9ad3\u4f1a\u80c6\u7ecf\u60ac\u949f\u3002 \u5fc3\u4e09\u9488\uff1a\u5de8\u9619\u3001\u5173\u5143\u3001\u5929\u7a81 \u8179\u56db\u9488\uff1a\u4e2d\u8118\u3001\u4e24\u4e2a\u5929\u67a2\u3001\u5173\u5143 \u819d\u56db\u9488\uff1a\u9e64\u9876\u3001\u53cc\u819d\u773c\uff08\u53ea\u80fd\u96c0\u5544\u4e0d\u80fd\u64b5\u8f6c\uff09\u3001\u9634\u9675\u6cc9\u900f\u9633\u9675\u6cc9 \u5987\u79d1\uff1a\u4e09\u9634\u4ea4\u3001\u8840\u6d77\u3001\u4e2d\u6781\u3001\u66f2\u9aa8 \u56de\u9633\u4e5d\u9488\uff1a\u54d1\u95e8\u52b3\u5bab\u4e09\u9634\u4ea4\uff0c\u6d8c\u6cc9\u592a\u6eaa\u4e2d\u8118\u63a5\uff0c\u73af\u8df3\u4e09\u91cc\u5408\u8c37\u5e76\u3002\u6b64\u662f\u56de\u9633\u4e5d\u9488\u7a74 \u73af\u8df3\uff1a\u6240\u6709\u9aa8\u75c5\u7684\u8d77\u70b9 \u6240\u6709\u76ae\u80a4\u75c5\uff1a\u5408\u8c37\u3001\u66f2\u6c60\u3001\u8840\u6d77\u3001\u4e09\u9634\u4ea4\u3001\u7b51\u5bbe\uff08\u80be\u7ecf\uff09","title":"\u4eba\u7eaa\u9488\u7078\u5b66\u4e60\u7b14\u8bb0"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_1","text":"\u9488\u800c\u52ff\u7078\u7078\u52ff\u9488\uff0c\u9488\u7ecf\u4e3a\u6b64\u5e38\u53ee\u549b\u3002\u5eb8\u533b\u9488\u7078\u4e00\u9f50\u65bd\uff0c\u5f92\u65bd\u60a3\u8005\u70ae\u70d9\u5211\u3002","title":"\u4eba\u7eaa\u9488\u7078\u5b66\u4e60\u7b14\u8bb0"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_2","text":"\u7078\u5355\u4e0d\u7078\u53cc\u3002 \u75db\u7078\u5230\u4e0d\u75db\u6b62\uff0c\u4e0d\u75db\u7078\u5230\u75db\u6b62 \u7078\u540e\u4e0d\u559d\u8336","title":"\u827e\u7078\u60ef\u4f8b"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_3","text":"\u75c5\u5728\u810f\u53d6\u4e95\uff0c\u75c5\u5728\u8272\u53d6\u8363\uff0c\u75c5\u5728\u65f6\u53d6\u8167\uff0c\u75c5\u5728\u97f3\u53d6\u7ecf\uff0c\u75c5\u5728\u996e\u98df\u53d6\u5408\uff0c\u4e94\u810f\u4e0d\u5e73\u8861\u53d6\u539f\u3002 \u865a\u5219\u8865\u5176\u6bcd\uff0c\u5b9e\u5219\u6cfb\u5176\u5b50\u3002 \u9488\u540e\u4e0d\u559d\u9152\u4e0d\u5403\u8fa3","title":"\u9488\u523a\u60ef\u4f8b"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_4","text":"\u516b\u4f1a\uff1a\u810f\u4f1a\u809d\u7ecf\u7ae0\u95e8\u3001\u8151\u4f1a\u4efb\u8109\u4e2d\u8118\u3001\u6c14\u4f1a\u4efb\u8109\u81bb\u4e2d\u3001\u8840\u4f1a\u8180\u80f1\u7ecf\u8188\u8167\u3001\u7b4b\u4f1a\u80c6\u7ecf\u9633\u9675\u6cc9\u3001\u8109\u4f1a\u80ba\u7ecf\u592a\u6e0a\u3001\u9aa8\u4f1a\u8180\u80f1\u7ecf\u5927\u67d5\u3001\u9ad3\u4f1a\u80c6\u7ecf\u60ac\u949f\u3002 \u5fc3\u4e09\u9488\uff1a\u5de8\u9619\u3001\u5173\u5143\u3001\u5929\u7a81 \u8179\u56db\u9488\uff1a\u4e2d\u8118\u3001\u4e24\u4e2a\u5929\u67a2\u3001\u5173\u5143 \u819d\u56db\u9488\uff1a\u9e64\u9876\u3001\u53cc\u819d\u773c\uff08\u53ea\u80fd\u96c0\u5544\u4e0d\u80fd\u64b5\u8f6c\uff09\u3001\u9634\u9675\u6cc9\u900f\u9633\u9675\u6cc9 \u5987\u79d1\uff1a\u4e09\u9634\u4ea4\u3001\u8840\u6d77\u3001\u4e2d\u6781\u3001\u66f2\u9aa8 \u56de\u9633\u4e5d\u9488\uff1a\u54d1\u95e8\u52b3\u5bab\u4e09\u9634\u4ea4\uff0c\u6d8c\u6cc9\u592a\u6eaa\u4e2d\u8118\u63a5\uff0c\u73af\u8df3\u4e09\u91cc\u5408\u8c37\u5e76\u3002\u6b64\u662f\u56de\u9633\u4e5d\u9488\u7a74 \u73af\u8df3\uff1a\u6240\u6709\u9aa8\u75c5\u7684\u8d77\u70b9 \u6240\u6709\u76ae\u80a4\u75c5\uff1a\u5408\u8c37\u3001\u66f2\u6c60\u3001\u8840\u6d77\u3001\u4e09\u9634\u4ea4\u3001\u7b51\u5bbe\uff08\u80be\u7ecf\uff09","title":"\u7a74\u4f4d"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E5%B8%B8%E7%94%A8%E5%85%BB%E7%94%9F%E7%A9%B4%E4%BD%8D/","text":"\u5e38\u7528\u517b\u751f\u7a74\u4f4d \u5927\u6566\u4e00\u4e00\u6708\u7ecf\u7684\u201c\u9600\u95e8\u201d \u6566\uff0c\u5927\u662f\u809d\u7ecf\u7ecf\u6c14\u7684\u8d77\u6e90\uff0c\u7531\u4e8e\u809d\u4e3b\u8840\uff0c\u6240\u4ee5\u5973\u6027\u670b\u53cb\u6bcf\u6708\u5fc5\u6765\u7684\u201c\u8001\u670b\u53cb\u201d\u4e00\u6708\u7ecf\u4e5f\u79bb\u4e0d\u5f00\u809d\u7ecf\u7684\u638c\u63a7\u3002\u800c\u5927\u6566\u7a74\u5c31\u597d\u6bd4\u4e00\u4e2a\u9600\u95e8\uff0c\u5f88\u591a\u5973\u6027\u6708\u7ecf\u91cf\u8fc7\u591a\u6216\u8005\u662f\u6dcb\u6f13\u4e0d\u5c3d\u7684\u8bdd\uff0c\u90a3\u53ef\u80fd\u5c31\u662f\u4f60\u7684\u9600\u95e8\u6709\u4e9b\u677e\u52a8\u4e86\u3002\u8fd9\u4e2a\u65f6\u5019\u4e0d\u59a8\u591a\u63c9\u63c9\u5927\u6566\u7a74.\u5c24\u5176\u5728\u6708\u7ecf\u524d\u671f\u5c31\u5f00\u59cb\u63c9\uff0c\u4e00\u5b9a\u6709\u5f88\u597d\u7684\u7597\u6548\u3002 \u592a\u51b2\u4e00\u4e00\u5927\u8111\u201c\u52a0\u6cb9\u7ad9\u201d \u592a\u51b2\u7a74\u867d\u7136\u5728\u8db3\u80cc\u90e8\u5374\u662f\u4eba\u4f53\u53e6\u4e00\u6761\u91cd\u8981\u7ecf\u8109(\u5373\u4e2d\u8109)\u7ecf\u6c14\u4e0e\u809d\u7ecf\u7ecf\u6c14\u79ef\u805a\u7684\u5730\u65b9\u662f\u5143\u6c14\u6240\u5c45\u4e4b\u5904\u3002\u8fd9\u4e2a\u7a74\u4f4d\u8574\u85cf\u4e86\u5f88\u591a\u80fd\u91cf\uff0c\u5f53\u6211\u4eec\u51fa\u73b0\u5934\u6655\u5934\u75db\u6216\u8005\u662f\u53d7\u5230\u60ca\u5413\u800c\u5fc3\u795e\u4e0d\u5b81\u7684\u65f6\u5019\uff0c\u6309\u6469\u592a\u51b2\u7a74\u53ef\u4ee5\u8ba9\u80fd\u91cf\u76f4\u8fbe\u98a0\u9876\uff0c\u5e2e\u52a9\u6211\u4eec\u4fdd\u6301\u6e05\u9192\u7684\u5934\u8111\u3002 \u7ae0\u95e8\u4e00\u4e00\u7a74\u4f4d\u4e2d\u7684\u201c\u900d\u9065\u6563\u201d \u7ae0\u95e8\u662f\u4e94\u810f\u7ecf\u6c14\u51fa\u5165\u7684\u95e8\u6237\uff0c\u5bf9\u4e8e\u8c03\u7406\u4e94\u810f\u6c14\u673a\u3001\u7ef4\u6301\u4e94\u810f\u6b63\u5e38\u529f\u80fd\u6709\u91cd\u8981\u7684\u610f\u4e49\u3002 \u671f\u95e8\u4e00\u4e00\u98df\u6b32\u201c\u589e\u5f3a\u5242\u201d \u671f\u95e8\u7a74\u6240\u5728\u7684\u4f4d\u7f6e\u5bf9\u5e94\u7740\u4f53\u5185\u7684\u6d88\u5316\u7cfb\u7edf\uff0c\u4e4b\u524d\u4e5f\u63d0\u5230\u8fc7\u809d\u7ecf\u4e0e\u996e\u98df\u5bc6\u5207\u76f8\u5173.\u671f\u95e8\u7a74\u5c31\u662f\u4e13\u95e8\u5bf9\u4ed8\u201c\u98df\u6b32\u4e0d\u4f73\u201d\u7684\u3002\u51e1\u662f\u6709\u5455\u5410\u3001\u6cdb\u9178\u3001\u6cfb\u6cc4\u3001\u98df\u6b32\u4e0d\u632f\u90fd\u53ef\u4ee5\u627e\u627e\u671f\u95e8\u7a74\u3002","title":"\u5e38\u7528\u517b\u751f\u7a74\u4f4d"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E5%B8%B8%E7%94%A8%E5%85%BB%E7%94%9F%E7%A9%B4%E4%BD%8D/#_1","text":"\u5927\u6566\u4e00\u4e00\u6708\u7ecf\u7684\u201c\u9600\u95e8\u201d \u6566\uff0c\u5927\u662f\u809d\u7ecf\u7ecf\u6c14\u7684\u8d77\u6e90\uff0c\u7531\u4e8e\u809d\u4e3b\u8840\uff0c\u6240\u4ee5\u5973\u6027\u670b\u53cb\u6bcf\u6708\u5fc5\u6765\u7684\u201c\u8001\u670b\u53cb\u201d\u4e00\u6708\u7ecf\u4e5f\u79bb\u4e0d\u5f00\u809d\u7ecf\u7684\u638c\u63a7\u3002\u800c\u5927\u6566\u7a74\u5c31\u597d\u6bd4\u4e00\u4e2a\u9600\u95e8\uff0c\u5f88\u591a\u5973\u6027\u6708\u7ecf\u91cf\u8fc7\u591a\u6216\u8005\u662f\u6dcb\u6f13\u4e0d\u5c3d\u7684\u8bdd\uff0c\u90a3\u53ef\u80fd\u5c31\u662f\u4f60\u7684\u9600\u95e8\u6709\u4e9b\u677e\u52a8\u4e86\u3002\u8fd9\u4e2a\u65f6\u5019\u4e0d\u59a8\u591a\u63c9\u63c9\u5927\u6566\u7a74.\u5c24\u5176\u5728\u6708\u7ecf\u524d\u671f\u5c31\u5f00\u59cb\u63c9\uff0c\u4e00\u5b9a\u6709\u5f88\u597d\u7684\u7597\u6548\u3002 \u592a\u51b2\u4e00\u4e00\u5927\u8111\u201c\u52a0\u6cb9\u7ad9\u201d \u592a\u51b2\u7a74\u867d\u7136\u5728\u8db3\u80cc\u90e8\u5374\u662f\u4eba\u4f53\u53e6\u4e00\u6761\u91cd\u8981\u7ecf\u8109(\u5373\u4e2d\u8109)\u7ecf\u6c14\u4e0e\u809d\u7ecf\u7ecf\u6c14\u79ef\u805a\u7684\u5730\u65b9\u662f\u5143\u6c14\u6240\u5c45\u4e4b\u5904\u3002\u8fd9\u4e2a\u7a74\u4f4d\u8574\u85cf\u4e86\u5f88\u591a\u80fd\u91cf\uff0c\u5f53\u6211\u4eec\u51fa\u73b0\u5934\u6655\u5934\u75db\u6216\u8005\u662f\u53d7\u5230\u60ca\u5413\u800c\u5fc3\u795e\u4e0d\u5b81\u7684\u65f6\u5019\uff0c\u6309\u6469\u592a\u51b2\u7a74\u53ef\u4ee5\u8ba9\u80fd\u91cf\u76f4\u8fbe\u98a0\u9876\uff0c\u5e2e\u52a9\u6211\u4eec\u4fdd\u6301\u6e05\u9192\u7684\u5934\u8111\u3002 \u7ae0\u95e8\u4e00\u4e00\u7a74\u4f4d\u4e2d\u7684\u201c\u900d\u9065\u6563\u201d \u7ae0\u95e8\u662f\u4e94\u810f\u7ecf\u6c14\u51fa\u5165\u7684\u95e8\u6237\uff0c\u5bf9\u4e8e\u8c03\u7406\u4e94\u810f\u6c14\u673a\u3001\u7ef4\u6301\u4e94\u810f\u6b63\u5e38\u529f\u80fd\u6709\u91cd\u8981\u7684\u610f\u4e49\u3002 \u671f\u95e8\u4e00\u4e00\u98df\u6b32\u201c\u589e\u5f3a\u5242\u201d \u671f\u95e8\u7a74\u6240\u5728\u7684\u4f4d\u7f6e\u5bf9\u5e94\u7740\u4f53\u5185\u7684\u6d88\u5316\u7cfb\u7edf\uff0c\u4e4b\u524d\u4e5f\u63d0\u5230\u8fc7\u809d\u7ecf\u4e0e\u996e\u98df\u5bc6\u5207\u76f8\u5173.\u671f\u95e8\u7a74\u5c31\u662f\u4e13\u95e8\u5bf9\u4ed8\u201c\u98df\u6b32\u4e0d\u4f73\u201d\u7684\u3002\u51e1\u662f\u6709\u5455\u5410\u3001\u6cdb\u9178\u3001\u6cfb\u6cc4\u3001\u98df\u6b32\u4e0d\u632f\u90fd\u53ef\u4ee5\u627e\u627e\u671f\u95e8\u7a74\u3002","title":"\u5e38\u7528\u517b\u751f\u7a74\u4f4d"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/","text":"\u6ce8\u610f\u4e8b\u9879 \u4f7f\u7528#\u70e7\u5c71\u706b#\u548c#\u900f\u5929\u51c9#\u7684\u624b\u6cd5\u8fdb\u884c#\u8865\u6cfb#\u7684\u524d\u63d0\u5fc5\u987b\u8fa9\u8bc1\u6e05\u695a\u5bd2\u70ed\u865a\u5b9e\uff01\u5426\u5219\u8bef\u6cbb\u4f1a\u66f4\u52a0\u9ebb\u70e6\uff01 \u4ece\u897f\u5317\u9488\u738b\u90d1\u9b41\u5c71\u7684\u4e00\u4f4d\u5f1f\u5b50\u90a3\u91cc\u624d\u771f\u6b63\u9886\u4f1a\u5230\u5929\u4eba\u5730\u4e09\u90e8\u7684\u771f\u8c1b\u3002\u8fd9\u4f4d\u8001\u5e08\u8bf4\uff0c\u5176\u5b9e\u5728\u9488\u8fdb\u53bb\u7a74\u4f4d\u65f6\u7b2c\u4e00\u6b21\u5f97\u6c14\u662f\u5c31\u5929\u90e8\uff0c\u518d\u6df1\u8fdb\u7b2c\u4e8c\u6b21\u5f97\u6c14\u5373\u662f\u4eba\u90e8\uff0c\u968f\u4e4b\u518d\u6df1\u8fdb\u7b2c\u4e09\u6b21\u5f97\u6c14\u662f\u5730\u90e8\u4e86\u3002\u55ef\uff0c\u90d1\u8001\u7684\u5bd2\u70ed\u624b\u6cd5\u662f\u505a\u7684\u5f88\u6e9c\uff0c\u540d\u9707\u56db\u65b9\uff0c\u56e0\u6b64\u4ed6\u5f1f\u5b50\u7684\u8bdd\u53ef\u4fe1\u5ea6\u662f\u5f88\u9ad8\u7684\u3002 \u70e7\u5c71\u706b \u300a\u9488\u7078\u5927\u6210-\u4e09\u8862\u6768\u6c0f\u8865\u6cfb\u300b\u8bb0\u8f7d\u201c\u70e7\u5c71\u706b\uff0c\u80fd\u9664\u5bd2\uff0c**\u4e09\u8fdb\u4e00\u9000**\u70ed\u6d8c\u6d8c\u201d\u3002 \u6240\u4ee5\uff0c\u7528\u70e7\u5c71\u706b\uff0c\u8981\u5206\u4e09\u5c42\u8fdb\u5230\u5730\u90e8\uff0c\u7136\u540e\u4e00\u9000\u76f4\u63a5\u56de\u5230\u5929\u90e8\u3002 \u64cd\u4f5c\uff1a\u8fdb\u9488\u540e\uff0c\u7b2c\u4e00\u6b21\u5f97\u6c14\u3010\u5929\u90e8\u3011\uff0c\u884c\u590d\u5f0f\u8865\u6cd5\uff0c\u7136\u540e\u518d\u6df1\u5165\uff0c\u7b2c\u4e8c\u6b21\u5f97\u6c14\u3010\u4eba\u90e8\u3011\uff0c\u518d\u6765\u4e00\u6b21\u590d\u5f0f\u8865\u6cd5\uff0c\u6700\u540e\u518d\u6df1\u5165\uff0c\u7b2c\u4e09\u6b21\u5f97\u6c14\u3010\u5730\u90e8\u3011\uff0c\u884c\u590d\u5f0f\u8865\u6cd5\uff0c **\u6b64\u4e3a\u4e09\u8fdb** \uff0c\u800c\u540e\u9488\u5728\u5730\u90e8\u76f4\u63a5\u4e00\u9000\u56de\u5230\u5929\u90e8\uff0c **\u6b64\u4e3a\u4e00\u9000** \u3002\u8fd9\u5c31\u662f\u70e7\u5c71\u706b\u7684\u4e09\u90e8\u884c\u9488\u65b9\u6cd5\uff0c\u800c\u4e0d\u662f\u60f3\u8c61\u4e2d\u7684\u5728\u6d45\u5c42\u624e\u624e\uff0c\u5728\u4e2d\u5c42\u624e\u624e\uff0c\u5728\u6df1\u5c42\u624e\u624e\u3002 \u4e3e\u4e00\u4e2a\u4e0d\u642d\u8fb9\u4f8b\u5b50\uff0c\u597d\u6bd4\uff0c\u4e00\u597d\u5fc3\u4eba\u60f3\u7ed9\u4e00\u7a77\u4eba\u9001\u94b1\uff0c\u56e0\u6b64\u4ed6\u5728\u7b2c\u4e00\u90e8\u7684ATM\u53d6\u4e86\u94b1\uff0c\u89c9\u5f97\u4e0d\u591f\uff0c\u53c8\u5728\u7b2c\u4e8c\u90e8\u7684ATM\u53d6\u94b1\uff0c\u89c9\u5f97\u8fd8\u4e0d\u591f\uff0c\u6700\u540e\u53bb\u7b2c\u4e09\u90e8ATM\u53d6\u94b1\uff0c\u55ef\uff0c\u7ec8\u4e8e\u53d6\u591f\u94b1\u4e86\uff0c\u53ef\u4ee5\u63a5\u6d4e\u8fd9\u4f4d\u5e78\u8fd0\u7684\u7a77\u4eba\u3002\u4e0d\u8fc7\u8fd9\u4f4d\u597d\u4eba\u8fd8\u6015\u7a77\u4eba\u4e0d\u60f3\u8981\u4ed6\u7684\u94b1\uff0c\u8981\u8fd8\u56de\u4ed6\uff0c\u6240\u4ee5\u628a\u94b1\u9001\u5230\u7a77\u4eba\u90a3\u91cc\u5c31\u8d76\u7d27\u5c31\u8dd1\u4e86\u3002\u8fd9\u50cf\u662f\u70e7\u5c71\u706b\u8981\u52063\u90e8\u8fdb\u53bb\uff0c\u800c\u540e\u5728\u5730\u90e8\u76f4\u63a5\u56de\u5230\u5929\u90e8\u3002 \u64cd\u4f5c\u65b9\u6cd5#\uff1a\u5c06\u6240\u523a\u8167\u7a74\u7684\u6df1\u5ea6\u5206\u4f5c\u6d45\u3001\u4e2d\u3001\u6df1\u4e09\u5c42\uff08\u5929\u3001\u5730\u3001\u4eba\u4e09\u90e8\uff09\u3002 \u8fdb\u9488\u65f6\uff0c\u533b\u8005\u91cd\u7528\u6307\u5207\u62bc\u624b\u3002 \u4ee4\u75c5\u4eba\u81ea\u7136\u5730\u9f3b\u5438\u53e3\u547c\uff0c\u968f\u5176\u547c\u6c14\u65f6\uff0c\u5c06\u9488\u523a\u5165\u6d45\u5c42\uff08\u5929\u90e8\uff09\u5f97\u6c14\u3002 \u5f97\u6c14\u540e\uff0c\u91cd\u63d2\u8f7b\u63d0\uff0c\u8fde\u7eed\u91cd\u590d9\u6b21\uff08\u884c\u4e5d\u9633\u6570\uff09\u3002 \u518d\u5c06\u9488\u523a\u5165\u4e2d\u5c42\uff08\u4eba\u90e8\uff09\uff0c\u91cd\u63d2\u8f7b\u63d0\uff0c\u8fde\u7eed\u91cd\u590d9\u6b21\uff08\u884c\u4e5d\u9633\u6570\uff09\u3002 \u5176\u540e\u5c06\u9488\u523a\u5165\u6df1\u5c42\uff08\u5730\u90e8\uff09\uff0c\u91cd\u63d2\u8f7b\u63d0\uff0c\u8fde\u7eed\u91cd\u590d9\u6b21\uff08\u884c\u4e5d\u9633\u6570\uff09\u3002\u6b64\u65f6\uff0c\u5982\u679c\u9488\u4e0b\u4ea7\u751f\u70ed\u611f\uff0c\u5c11\u5f85\u7247\u523b\u3002 \u968f\u75c5\u4eba\u5438\u6c14\u65f6\u5c06\u94881\u6b21\u63d0\u5230\u6d45\u5c42\uff0c\u6b64\u4e3a\u4e00\u5ea6\u3002\u5982\u679c\u9488\u4e0b\u672a\u4ea7\u751f\u70ed\u611f\u53ef\u968f\u75c5\u4eba\u547c\u6c14\u65f6\uff0c\u518d\u65bd\u524d\u6cd5\uff0c\u4e00\u822c\u4e0d\u8fc7\u4e09\u5ea6\u3002 \u624b\u6cd5\u64cd\u4f5c\u5b8c\u6bd5\u540e\uff0c\u7559\u948815~20\u5206\u949f\uff0c\u5f85\u9488\u4e0b\u677e\u5f1b\u65f6\uff0c\u4faf\u75c5\u4eba\u5438\u6c14\u65f6\u5c06\u9488\u5feb\u901f\u62d4\u51fa\uff0c\u6025\u6309\u9488\u5b54\u3002 \u900f\u5929\u51c9 \u5982\u679c\u662f\uff0c\u900f\u5929\u51c9\u5462\uff1f\u300a\u9488\u7078\u5927\u6210\u300b\u8bf4\u201c\u900f\u5929\u51c9\uff0c\u80fd\u9664\u70ed\uff0c**\u4e09\u9000\u4e00\u8fdb**\u51b7\u51b0\u51b0\u201d\uff0c\u5c31\u662f\u4e00\u53e3\u6c14\u4e00\u8fdb\u5230\u5730\u90e8\uff0c **\u6b64\u4e3a\u4e00\u8fdb** \uff0c\u7136\u540e\u5730\u90e8\u884c\u9488\u5f97\u6c14\uff08\u7b2c\u4e00\u6b21\u5f97\u6c14\uff09\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c **\u5728\u8fdb\u9488\u671f\u95f4\u5c3d\u91cf\u4e0d\u8981\u5728\u5929\u90e8\u3001\u4eba\u90e8\u5f97\u6c14** \uff0c\u7b49\u5230\u4e86\u5730\u90e8\u624d\u5f97\u6c14\uff0c\u6545\u4e5f\u53eb\u5077\u9488\u6cd5\u3002 \u597d\u6bd4\uff0c\u8b66\u5bdf\u8981\u6293\u4e00\u4e2a\u9003\u72af\uff08\u90aa\u6c14\uff09\uff0c\u5fc5\u987b\u6084\u65e0\u58f0\u606f\uff0c\u8981\u5077\u5077\u5730\u8fdb\u5165\u623f\u95f4\uff0c\u8fd9\u624d\u80fd\u7a81\u51fb\u6293\u4f4f\u9003\u72af\uff0c\u8ba9\u5176\u63aa\u624b\u4e0d\u53ca\uff0c\u8dd1\u4e0d\u6389\u3002 \u4e4b\u540e\uff0c\u9488\u4e0a\u63d0\uff0c\u7b2c\u4e8c\u6b21\u5f97\u6c14\u3010\u4eba\u90e8\u3011\uff0c\u884c\u590d\u5f0f\u6cfb\u6cd5\uff0c\u518d\u4e0a\u63d0\uff0c\u7b2c\u4e09\u6b21\u5f97\u6c14\u3010\u5929\u90e8\u3011\uff0c\u884c\u590d\u5f0f\u6cfb\u6cd5\uff0c **\u6b64\u4e3a\u4e09\u9000** \uff0c\u6700\u540e\u5927\u6447\u9488\u5b54\uff0c\u4e0d\u7559\u9488\uff0c\u4e0d\u6309\u7a74\u4f4d\u3002 \u597d\u6bd4\uff0c\u628a\u8fd9\u9003\u72af\u6293\u4f4f\u540e\uff0c\u8b66\u5bdf\u63cd\u4e86\u4ed61\u6b21\u30012\u6b21\uff0c\u8fd8\u8981\u518d\u63cd\u7b2c3\u6b21\uff0c\u6700\u540e\u9003\u72af\u88ab\u6253\u5f97\u60f3\u8dd1\u90fd\u8dd1\u4e0d\u4e86\uff0c\u5c31\u53ef\u4ee5\u4e00\u53e3\u6293\u51fa\u6765\uff0c\u6b64\u4e3a\u795b\u90aa\u3002 \u6700\u540e\uff0c\u5176\u5b9e\uff0c\u5206\u5929\u4eba\u57303\u90e8\u6765\u505a\uff0c\u65e0\u975e\u5c31\u662f\u52a0\u5927\u523a\u6fc0\u7684\u91cf\uff0c\u5c31\u50cf\u4f7f\u52b2\u6469\u64e6\u751f\u70ed\uff0c **\u7531\u91cf\u53d8\u4ea7\u751f\u8d28\u53d8\uff0c\u8fd9\u5176\u5b9e\u4e0d\u662f\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9\u7684\u6210\u529f\u7684\u5fc5\u8981\u6761\u4ef6** \uff0c\u56e0\u6b64\u53ef\u4ee5\u52062\u5c42\u6765\u505a\uff0c\u52061\u5c42\u6765\u505a\u90fd\u53ef\u4ee5\uff0c\u968f\u65bd\u672f\u8005\u7684\u4e60\u60ef\u3002 \u64cd\u4f5c\u65b9\u6cd5#\uff1a\u5c06\u6240\u523a\u8167\u7a74\u7684\u6df1\u5ea6\u5206\u4f5c\u6d45\u3001\u4e2d\u3001\u6df1\u4e09\u5c42\uff08\u5929\u3001\u5730\u3001\u4eba\u4e09\u90e8\uff09\u3002 \u5728\u8fdb\u9488\u65f6\uff0c\u533b\u8005\u8f7b\u7528\u62bc\u624b\u3002 \u4ee4\u75c5\u4eba\u81ea\u7136\u5730\u9f3b\u547c\u53e3\u5438\uff0c\u968f\u5176\u5438\u6c14\u5c06\u9488\u523a\u5165\u6df1\u5c42\uff08\u5730\u90e8\uff09\u5f97\u6c14\u3002 \u5f97\u6c14\u540e\uff0c\u8f7b\u63d2\u91cd\u63d0\uff0c\u5982\u6b646\u6b21\uff08\u884c\u516d\u9634\u6570\uff09\u3002 \u518d\u5c06\u9488\u63d0\u81f3\u4e2d\u5c42\uff08\u4eba\u90e8\uff09\uff0c\u8f7b\u63d2\u91cd\u63d0\uff0c\u8fde\u7eed6\u6b21\uff08\u884c\u516d\u9634\u6570\uff09\u3002 \u518d\u5c06\u9488\u63d0\u81f3\u6d45\u5c42\uff08\u5929\u90e8\uff09\uff0c\u8f7b\u63d2\u91cd\u63d0\uff0c\u5982\u6b646\u6b21\uff08\u884c\u516d\u9634\u6570\uff09\u3002 \u6b64\u65f6\uff0c\u9488\u4e0b\u4ea7\u751f\u51c9\u611f\uff0c\u79f0\u4e3a1\u5ea6\u3002\u5982\u679c\u9488\u4e0b\u672a\u51fa\u73b0\u51c9\u611f\uff0c\u53ef\u5c06\u94881\u6b21\u4e0b\u63d2\u81f3\u6df1\u90e8\uff0c\u518d\u65bd\u524d\u6cd5\u3002\u4f46\u4e00\u822c\u4e0d\u8d85\u8fc7\u4e09\u5ea6\u3002\u51c9\u611f\u4e0d\u8bba\u5728\u5730\u90e8\u3001\u4eba\u90e8\u6216\u5929\u90e8\u51fa\u73b0\uff0c\u53ef\u505c\u6b62\u624b\u6cd5\u64cd\u4f5c\u3002 \u624b\u6cd5\u64cd\u4f5c\u7ed3\u675f\u540e\uff0c\u53ef\u968f\u75c5\u4eba\u547c\u6c14\u5c06\u9488\u7f13\u6162\u62d4\u51fa\uff0c\u4e0d\u6309\u9488\u5b54\u6216\u8005\u7f13\u6309\u9488\u5b54\u3002 \u5176\u4ed6\u540d\u5bb6\u624b\u6cd5 \u7126\u52c9\u658b\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u70e7\u5c71\u706b\uff1a\u8fdb\u9488\u6c14\u81f3\u540e\uff0c\u5148\u5c06\u9488\u4e0a\u63d0\u81f3\u6d45\u90e8\uff0c\u7528\u7d27\u6309\u6162\u63d0\uff0c\u4e09\u8fdb\u4e00\u9000\u7684\u624b\u6cd5\uff08\u4e0d\u9650\u4e8e\u4e09\u4e00\u4e4b\u6570\uff0c\u4ee5\u8fdb\u591a\u51fa\u5c11\u4e3a\u539f\u5219\uff0c\u900f\u5929\u51c9\u5219\u4ee5\u5c11\u8fdb\u591a\u51fa\u4e3a\u539f\u5219\uff09\u914d\u5408\u533b\u8005\u4e4b\u547c\u5438\u8fd0\u6c14\uff0c\u5411\u4e0b\u63d2\u9488\u65f6\uff0c\u7528\u7d27\u6309\u6cd5\uff0c\u53e3\u9f3b\u547c\u5438\uff1b\u5411\u4e0a\u9000\u9488\u65f6\u7528\u6162\u63d0\u6cd5\uff0c\u5fae\u5fae\u5438\u6c14\uff0c\u8fd9\u6837\u63d0\u63d2\u8fdb\u9000\u914d\u5408\uff0c\u7ea65\u5206\u949f\u5373\u6709\u70ed\u611f\u3002 \u900f\u5929\u51c9\uff1a\u8fdb\u9488\u6c14\u81f3\u540e\uff0c\u5148\u5c06\u9488\u63d2\u81f3\u6df1\u90e8\uff0c\u7528\u7d27\u63d0\u6162\u6309\uff0c\u5408\u533b\u8005\u547c\u5438\u8fd0\u6c14\u800c\u65bd\u672f\uff0c\u5411\u4e0a\u63d0\u9488\u65f6\uff0c\u533b\u8005\u5438\u6c14\u5e76\u7528\u529b\u637b\u8f6c\u9488\u67c4\uff0c\u5411\u4e0b\u63d2\u9488\u65f6\u5f90\u5f90\u53e3\u9f3b\u547c\u6c14\uff0c\u8fdb\u9000\u63d0\u63d2\u914d\u5408\uff0c\u7ea65\u5206\u949f\u5373\u6709\u51c9\u611f\u3002 \u9646\u7626\u71d5\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u70e7\u5c71\u706b\uff1a\u5148\u8fdb\u9488\u81f3\u5929\u90e8\uff08\u8167\u7a74\u6df1\u5ea6\u7684\u4e0a1/3\u5904\uff09\uff0c\u6162\u63d0\u7d27\u6309\u4e5d\u6b21\uff0c\u6309\u9488\u65f6\u5de6\u8f6c\uff1b\u6b21\u8fdb\u81f3\u4eba\u90e8\uff08\u8167\u7a74\u6df1\u5ea6\u7684\u4e2d1/3\u5904\uff09\uff0c\u63d0\u63d2\u3001\u637b\u8f6c\u5982\u524d\u6570\uff1b\u518d\u8fdb\u81f3\u5730\u90e8\uff08\u8167\u7a74\u6df1\u5ea6\u7684\u4e0b1/3\u5904\uff09\uff0c\u65bd\u672f\u540c\u524d\uff1b\u7136\u540e\u4ece\u5730\u90e8\u4e00\u6b21\u9000\u81f3\u5929\u90e8\uff0c\u8fd9\u6837\u4e3a\u4e00\u5ea6\u3002\u53cd\u590d\u4e09\u5ea6\uff0c\u5018\u70ed\u81f3\uff0c\u51fa\u9488\u63c9\u95ed\u5b54\u7a74\uff1b\u5982\u65e0\u70ed\u611f\uff0c\u53ef\u53cd\u590d\u518d\u65bd\uff0c\u76f4\u5230\u70ed\u81f3\u3002(\u4e2d\u533b\u4e94\u8fd0\u516d\u6c14\u516c\u4f17\u53f7.\u6574\u7406) \u900f\u5929\u51c9\uff1a\u8fdb\u9488\u76f4\u81f3\u5730\u90e8\uff0c\u5728\u8be5\u90e8\u7d27\u63d0\u6162\u6309\u516d\u6b21\uff0c\u63d0\u9488\u65f6\u53f3\u8f6c\uff1b\u6b21\u9000\u81f3\u4eba\u90e8\uff0c\u540c\u524d\u63d0\u63d2\u3001\u637b\u8f6c\u516d\u6b21\uff1b\u518d\u9000\u81f3\u5929\u90e8\uff0c\u4ea6\u540c\u524d\u6cd5\u65bd\u672f\uff1b\u8fd9\u6837\u4e00\u8fdb\u4e09\u9000\uff0c\u79f0\u4e3a\u4e00\u5ea6\u3002\u64cd\u4f5c\u4e09\u5ea6\uff0c\u82e5\u51c9\u751f\uff0c\u5219\u53ef\u51fa\u9488\uff0c\u51fa\u9488\u524d\u6447\u5927\u5176\u5b54\uff0c\u4e0d\u95ed\u5176\u7a74\u3002\u5982\u65e0\u51c9\u611f\uff0c\u5e94\u53cd\u590d\u518d\u65bd\uff0c\u76f4\u81f3\u51c9\u751f\u3002 \u5468\u6811\u4e1c\u3001\u5468\u6963\u58f0\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u70e7\u5c71\u706b\uff1a\u70e7\u5c71\u706b\u53ef\u8865\u865a\u5bd2\uff0c\u6cd5\u53d6\u4e09\u624d\u9010\u6b65\u63a2\u4e09\u6309\u62c7\u524d\u547c\u59cb\u5165\uff0c\u4e00\u63d0\u62c7\u540e\u5438\u76f8\u5173\u7531\u6d45\u6e10\u6df1\u5929\u81f3\u5730\uff0c\u6162\u63d0\u7d27\u6309\u4e5d\u6210\u4e09\u75be\u4ee5\u51fa\u9488\u5f53\u75be\u626a\uff0c\u70ed\u751f\u9488\u4e0b\u6548\u975e\u51e1\u3002 \u6709\u6b4c\u66f0\uff1a\u201c\u70e7\u5c71\u4e4b\u706b\u80fd\u9664\u5bd2\uff0c\u4e00\u9000\u4e09\u98de\u75c5\u81ea\u5b89\u3002\u59cb\u662f\u4e94\u5206\u7ec8\u4e00\u5bf8\uff0c\u4e09\u756a\u51fa\u5165\u6162\u63d0\u770b\u3002\u201d\u5206\u5929\u3001\u5730\u3001\u4eba\u4e09\u90e8\u5f90\u5f90\u8fdb\u9488\u3002 \u521d\u8fdb\u9488\u65f6\u53ef\u5c06\u9488\u76f4\u5165\u81f3\u9002\u5f53\u6df1\u5ea6\uff0c\u5f97\u6c14\u540e\u5c06\u9488\u5411\u4e0a\u63d0\u81f3\u5929\u90e8\uff0c\u968f\u5373\u7528\u7d27\u6309\u6162\u63d0\uff0c\u4e09\u8fdb\u4e00\u9000\u3002\u56e0\u60a3\u8005\u4e4b\u547c\u5438\u800c\u8fd0\u7528\u624b\u6cd5\uff0c\u76ee\u89c6\u60a3\u8005\uff0c\u624b\u4e0d\u79bb\u9488\u3002\u5f53\u60a3\u8005\u547c\u6c14\u65f6\u5411\u4e0b\u4e09\u6b21\u8fdb\u9488\u4e3a\u4e3b\uff0c\u5438\u6c14\u65f6\u4e00\u6b21\u9000\u9488\u4e3a\u8f85\u3002\u547c\u6c14\u65f6\u53e3\u5507\u5fae\u95ed\uff0c\u5982\u5439\u98ce\u72b6\uff0c\u4e09\u6b21\u4ece\u53e3\u547c\u51fa\u3002\u5438\u6c14\u65f6\u5373\u95ed\u5408\u5176\u53e3\uff0c\u4e00\u6b21\u7531\u9f3b\u5438\u5165\u3002\u5411\u4e0b\u8fdb\u9488\u65f6\u7528\u7d27\u6309\u6cd5\uff0c\u62c7\u524d\u98df\u540e\u884c\u4e5d\u9633\u6570\u3002\u505c\u9488\u65f6\u8981\u7528\u529b\u6309\u9488\u4e0d\u52a8\u3002\u5411\u4e0a\u9000\u9488\u65f6\u662f\u7528\u6162\u63d0\u6cd5\uff0c\u98df\u524d\u62c7\u540e\uff0c\u5728\u5929\u90e8\u63d0\u4e09\u6309\u4e5d\uff0c\u5de6\u637b\u591a\u53f3\u637b\u5c11\uff0c\u547c\u8fdb\u5438\u9000\uff1b\u70ed\u751f\u4ee5\u540e\u5c06\u9488\u4ece\u4eba\u90e8\u518d\u81f3\u5730\u90e8\u65f6\uff0c\u4e5f\u540c\u6837\u884c\u4e4b\u3002\u60a3\u8005\u5373\u611f\u6709\u9488\u4e0b\u53d1\u70ed\uff0c\u5e76\u80fd\u6cbf\u7ecf\u4f20\u5e03\uff0c\u4e0a\u4e0b\u5468\u6d41\u3002\u5f53\u9488\u6df1\u5165\u5730\u90e8\u540e\uff0c\u5c06\u9488\u518d\u63d0\u81f3\u4eba\u90e8\uff0c\u5982\u6b64\u53cd\u590d\u884c\u4e4b\u3002\u6700\u540e\u4e00\u6b21\u51fa\u9488\u81f3\u5929\u90e8\uff0c\u5c11\u505c\u518d\u5c3d\u51fa\u9488\uff0c\u75be\u626a\u5176\u7a74\u3002 \u900f\u5929\u51c9\uff1a\u900f\u5929\u51c9\u53ef\u9664\u70e6\u70ed\uff0c\u76f4\u9488\u81f3\u5730\u5f90\u540e\u64a4\u7d27\u63d0\u968f\u5438\u98df\u6307\u524d\uff0c\u6162\u6309\u968f\u547c\u98df\u540e\u8bf4\u9488\u4e0b\u51c9\u751f\u518d\u4e0a\u63d0\uff0c\u4e09\u9000\u4e00\u8fdb\u70ed\u81ea\u593a\u9000\u9488\u81f3\u5929\u518d\u5165\u6df1\uff0c\u5982\u6b64\u53cd\u590d\u540c\u524d\u64a4\u3002 \u6709\u6b4c\u66f0\uff1a\u201c\u900f\u5929\u51c9\u6cd5\u9000\u70ed\u70e7\uff0c\u4e00\u8fdb\u4e09\u98de\u51b7\u98ce\u98d8\u3002\u5148\u9488\u4e00\u5bf8\u9000\u4e94\u5206\uff0c\u4e09\u51fa\u4e09\u5165\u7d27\u63d0\u6d88\u201d\u3002 \u5148\u4e00\u6b21\u8fdb\u9488\u81f3\u5e94\u6709\u6df1\u5ea6\uff0c\u518d\u5148\u6df1\u540e\u6d45\uff0c\u5206\u5730\u3001\u4eba\u3001\u5929\u4e09\u90e8\u5f90\u5f90\u9000\u9488\u3002\u76f4\u9488\u5165\u5730\u5f97\u6c14\u540e\uff0c\u6ce8\u89c6\u60a3\u8005\u547c\u5438\uff0c\u7d27\u63d0\u6162\u6309\uff0c\u4e09\u9000\u4e00\u8fdb\uff0c\u76ee\u89c6\u60a3\u8005\uff0c\u624b\u4e0d\u79bb\u9488\u3002\u5f53\u60a3\u8005\u5438\u6c14\u65f6\u5411\u4e0a\u4e09\u6b21\u63d0\u9488\u4e3a\u4e3b\uff0c\u5e76\u7528\u98df\u524d\u62c7\u540e\u7a0d\u5411\u53f3\u637b\uff0c\u884c\u516d\u9634\u6570\u3002\u547c\u6c14\u65f6\u4e00\u6b21\u6309\u9488\u4e3a\u8f85\uff0c\u540c\u65f6\u62c7\u524d\u98df\u540e\u7a0d\u5411\u5de6\u637b\u3002\u5438\u6c14\u65f6\u53e3\u5507\u5fae\u5f00\uff0c\u4e09\u6b21\u7528\u53e3\u5438\u5165\u3002\u547c\u6c14\u65f6\u5373\u95ed\u5176\u53e3\uff0c\u4e00\u6b21\u7528\u9f3b\u547c\u51fa\u3002\u5f53\u9488\u4e0b\u53d1\u51c9\u65f6\uff0c\u5373\u9000\u9488\u81f3\u4eba\u90e8\uff0c\u65bd\u672f\u5982\u524d\u3002\u80fd\u4f7f\u51c9\u6c14\u5faa\u7ecf\u4f20\u5bfc\uff0c\u6700\u540e\u904d\u4f53\u6e05\u51c9\u3002\u51fa\u9488\u65f6\u4e0d\u6309\u9488\u5b54\u3002\u6240\u8c13\u4e00\u8fdb\u4e09\u98de\u6216\u4e00\u9000\u4e09\u98de\u8005\uff0c\u610f\u5373\u8fde\u7eed\u524d\u8fdb\u4e09\u6b21\u6216\u540e\u9000\u4e09\u6b21\uff0c\u8f7b\u5de7\u5feb\u6377\uff0c\u72b9\u5982\u9e1f\u4e4b\u98de\u7fd4\u4e5f\u3002 \u5f6d\u9759\u5c71\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u70e7\u5c71\u706b\u8865\u6cd5\uff1a\u9002\u7528\u4e8e\u865a\u5bd2\u75c7\u3002\u9009\u597d\u7a74\u4f4d\uff0c\u9488\u523a\u5f97\u6c14\u4ee5\u540e\uff0c\u8fd9\u65f6\u62c7\u6307\u7528\u529b\u5411\u524d\u4f5c\u9f99\u773c\u63a8\u65cb\uff0c\u5f53\u62c7\u6307\u5411\u524d\u63a8\u65cb\u5b8c\u6bd5\uff0c\u5de6\u624b\u62c7\u3001\u98df\u4e24\u6307\u7528\u529b\u5939\u4f4f\u9488\u67c4\u4e0a\u7aef\uff0c\u4e0d\u4f7f\u9488\u5411\u56de\u677e\u52b2\uff0c\u6025\u7528\u53f3\u624b\u62c7\u6307\u6307\u7532\uff0c\u4ece\u4e0a\u5411\u4e0b\u522e\u52a8\u9488\u67c4\u3002\u8fd9\u65f6\u75c5\u4eba\u9178\u9ebb\u7684\u611f\u89c9\uff0c\u5c31\u53d8\u4e3a\u70ed\u7684\u611f\u89c9\u3002\u8fd9\u79cd\u70ed\u7531\u9488\u7a74\u5c40\u90e8\u5411\u8fdc\u5904\u4f20\u5bfc\u3002 \u900f\u5929\u51c9\u6cfb\u6cd5\uff1a\u9002\u7528\u4e8e\u5b9e\u70ed\u75c7\u3002\u9009\u597d\u7a74\u4f4d\uff0c\u9488\u523a\u5f97\u6c14\u540e\uff0c\u62c7\u6307\u7528\u529b\u4ee5\u51e4\u773c\u6cd5\u5411\u540e\u62c9\u637b\uff0c\u6025\u7528\u5de6\u624b\u62c7\u3001\u98df\u4e8c\u6307\u5939\u4f4f\u9488\u67c4\u4e0a\u7aef\uff0c\u5939\u7684\u7d27\u70b9\uff0c\u56fa\u5b9a\u9488\u67c4\uff0c\u4e0d\u4f7f\u5b83\u5411\u56de\u677e\u52b2\uff0c\u7136\u540e\u7528\u53f3\u624b\u5c0f\u6307\u6307\u7532\uff0c\u4ece\u4e0b\u5411\u4e0a\u522e\u52a8\u9488\u67c4\u3002\u8fd9\u65f6\u75c5\u4eba\u5df2\u4ea7\u751f\u7684\u9178\u9ebb\u611f\u89c9\uff0c\u5c31\u4f1a\u53d8\u6210\u51c9\u7684\u611f\u89c9\u3002\u5176\u51c9\u4ece\u5185\u5411\u5916\uff0c\u76f4\u900f\u51fa\u6765\uff0c\u9887\u611f\u6109\u5feb\u3002 \u5434\u502c\u4ed9\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u7075\u67a2\u7ecf\u4e91\uff1a\u201c\u523a\u8bf8\u70ed\u8005\u5982\u4ee5\u624b\u63a2\u6c64\u3002\u523a\u5bd2\u6e05\u8005\u5982\u4eba\u4e0d\u6b32\u884c\u3002\u201d\u6b64\u5373\u7ee7\u8d77\u8005\u7528\u900f\u5929\u51c9\u70e7\u5c71\u706b\u4e4b\u4e24\u624b\u6cd5\u3002\u9488\u7078\u5bb6\u5e08\u627f\u6709\u4e91\uff1a\u63d0\u9488\u4e3a\u70ed\u3002\u63d2\u9488\u4e3a\u5bd2\u3002\u5185\u8f6c\u4e3a\u6cfb\u3002\u5916\u8f6c\u4e3a\u8865\u3002\u8865\u6cfb\u4e4b\u6cd5\u3002\u53ef\u505c\u9488\u4faf\u6c14\u3002\u8fdf\u8fdf\u8f6c\u4e4b\u3002\u63d0\u63d2\u4e4b\u6cd5\u3002\u4e0d\u53ef\u504f\u7528\u3002\u76d6\u5c3d\u91cf\u63d2\u4e4b\u3002\u800c\u81f3\u4e8e\u9aa8\u3002\u5219\u4e0d\u53ef\u518d\u63d2\u3002\u5c3d\u91cf\u63d0\u4e4b\u3002\u800c\u9488\u4ee5\u5916\u51fa\u3002\u5219\u4e0d\u80fd\u518d\u7528\u3002\u6545\u5b9a\u4e3a\u4e09\u63d0\u4e00\u63d2\u3002\u63d0\u9488\u547c\u6c14\u3002\u63d2\u9488\u5438\u6c14\u3002\u4e3a\u70e7\u5c71\u706b\u3002\u76d6\u63d0\u6570\u591a\u3002\u5219\u6c14\u4e4b\u51fa\u4e8e\u536b\u5206\u8005\u591a\u632f\u632f\u6076\u5bd2\u4e4b\u8bc1\u3002\u7528\u6b64\u624b\u6cd5\u3002\u9633\u65e5\u7528\u5076\u6570\u3002\u9634\u65e5\u7528\u5947\u6570\u3002\u5fc5\u80fd\u4f7f\u4e4b\u53d1\u70ed\u3002 \u53cd\u8a00\u4e4b\uff0c\u4e09\u63d2\u4e00\u63d0\uff0c\u63d2\u9488\u5438\u6c14\uff0c\u63d0\u9488\u547c\u6c14\uff0c\u4e3a\u900f\u5929\u51c9\u3002\u76d6\u63d2\u6570\u591a\uff0c\u5219\u6c14\u4e4b\u5165\u4e8e\u8425\u5206\u8005\u591a\u84b8\u84b8\u53d1\u70ed\u4e4b\u8bc1\u3002\u7528\u6b64\u624b\u6cd5\uff0c\u9633\u65e5\u7528\u5947\u6570\uff0c\u9634\u65e5\u7528\u5076\u6570\uff0c\u5fc5\u80fd\u4f7f\u5176\u9000\u70ed\u3002\u9664\u5bd2\u9000\u70ed\uff0c\u4e43\u9488\u7078\u5bb6\u5fc5\u8981\u4e4b\u624b\u6cd5\uff0c\u6545\u7075\u67a2\u7ecf\u5217\u4e8e\u7b2c\u4e00\u7bc7\u4e5d\u9488\u5341\u4e8c\u539f\u4e4b\u672b\uff0c\u7b49\u4e8e\u51a0\u8bf8\u672c\u8167\u7bc7\u4e4b\u9996\u4e5f\u3002\u4ee5\u4e0a\u6240\u8a00\u70e7\u5c71\u706b\u900f\u5929\u51c9\u4e4b\u6b63\u6cd5\uff0c\u4e43\u7537\u7528\u4e8e\u5348\u524d\uff0c\u5973\u7528\u4e8e\u5348\u540e\u3002\u5982\u7537\u5b50\u5348\u540e\uff0c\u6709\u5927\u5bd2\u8bc1\u5927\u70ed\u8bc1\uff0c\u5f53\u7528\u70e7\u5c71\u706b\u900f\u5929\u51c9\u8005\uff0c\u5219\u53cd\u800c\u7528\u4e4b\uff1b\u5982\u5973\u5b50\u5348\u524d\u6709\u5927\u5bd2\u8bc1\u5927\u70ed\u8bc1\uff0c\u5f53\u7528\u70e7\u5c71\u706b\u900f\u5929\u51c9\u8005\uff0c\u4ee5\u53cd\u800c\u7528\u4e4b\u3002\u6b4c\u66f0\uff1a\u4e09\u63d2\u4e00\u63d0\u900f\u5929\u51c9\uff0c\u4e09\u63d0\u4e00\u63d2\u706b\u70e7\u5c71\uff0c\u63d0\u9488\u5439\u6c14\u63d2\u9488\u5438\uff0c\u5973\u5348\u540e\u516e\u7537\u5348\u524d\u3002 \u5218\u70b3\u6743\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u70e7\u5c71\u706b\uff1a\u70e7\u5c71\u706b\uff08\u70ed\u8865\u6cd5\uff09\u662f\u6307\u65bd\u672f\u540e\u75c5\u4eba\u81ea\u89c9\u7a74\u4f4d\u9488\u4e0b\u6709\u70ed\u611f\u3002\u6b64\u6cd5\u5e38\u7528\u4e8e\u6cbb\u7597\u5bd2\u8bc1\u3001\u865a\u8bc1\u3002\u5b83\u5c06\u7a74\u4f4d\u5206\u5929\u3001\u4eba\u3001\u5730\u4e09\u90e8\u5206\u8fdb\u884c\u64cd\u4f5c\uff0c\u8868\u5c42\u4e3a\u5929\uff0c\u4e2d\u95f4\u4e3a\u4eba\uff0c\u6df1\u5c42\u4e3a\u5730\u3002\u65b9\u6cd5\u662f\u8fdb\u9488\u5f97\u6c14\u540e\u6d45\u5c42\u4e3a\u5929\u90e8\uff0c\u64cd\u4f5c\u62c7\u6307\u5411\u524d\u5355\u65b9\u5411\u637b\u8f6c\uff08\u987a\u65f6\u9488\uff09\uff0c\u637b\u8f6c\u5ea6\u4e3a120\u5ea6\uff0c\u9891\u7387\u4e3a\u6bcf\u5206\u949f80~100\u6b21\uff0c\u637b\u8f6c\u540c\u65f6\u5c06\u9488\u63d0\u63d2\uff0c\u63d2\u65f6\u7528\u529b\u8981\u91cd\uff0c\u63d0\u65f6\u7528\u529b\u8981\u8f7b\uff0c\u79f0\u91cd\u6309\u8f7b\u63d0\u3002\u5929\u90e8\u637b\u8f6c\u63d0\u63d29\u6b21\uff0c\u5b8c\u6bd5\uff0c\u7136\u540e\u5c06\u9488\u8fdb\u5165\u4eba\u90e8\uff0c\u540c\u6cd5\u65bd\u672f\uff0c\u5b8c\u6bd5\uff0c\u518d\u5c06\u9488\u8fdb\u5165\u5730\u90e8\uff0c\u540c\u6cd5\u65bd\u672f\uff0c\u5b8c\u6bd5\u540e\u5c06\u9488\u63d0\u81f3\u5929\u90e8\u53ef\u91cd\u590d\u4e0a\u8ff0\u64cd\u4f5c3~4\u6b21\uff0c\u76f4\u81f3\u75c5\u4eba\u6709\u70ed\u611f\uff0c\u6bcf\u96945~7\u5206\u949f\u884c\u9488\u4e00\u6b21\u3002 \u900f\u5929\u51c9\uff1a\u900f\u5929\u51c9\uff08\u51c9\u6cfb\u6cd5\uff09\u662f\u6307\u65bd\u672f\u540e\u75c5\u4eba\u7a74\u4f4d\u9488\u4e0b\u81ea\u89c9\u51c9\u611f\uff0c\u5e38\u7528\u4e8e\u6cbb\u7597\u70ed\u8bc1\u3001\u5b9e\u8bc1\u3002\u5b83\u4ea6\u662f\u5c06\u7a74\u4f4d\u5206\u5929\u3001\u4eba\u3001\u5730\u4e09\u90e8\u8fdb\u884c\uff0c\u4f46\u6b64\u6cd5\u4e0e\u70e7\u5c71\u706b\u64cd\u4f5c\u76f8\u53cd\uff0c\u7531\u6df1\u5c42\u5373\u5730\u90e8\u5f00\u59cb\uff0c\u64cd\u4f5c\u62c7\u6307\u5411\u540e\u5355\u65b9\u5411\u637b\u8f6c\uff08\u9006\u65f6\u9488\uff09\uff0c\u637b\u8f6c\u5ea6\u4e3a140\u5ea6\u5de6\u53f3\uff0c\u9891\u7387\u6bcf\u5206\u949f60~80\u6b21\uff0c\u637b\u8f6c\u540c\u65f6\u5c06\u9488\u63d0\u63d2\uff0c\u63d2\u65f6\u7528\u529b\u8981\u8f7b\uff0c\u63d0\u65f6\u7528\u529b\u8981\u91cd\uff0c\u79f0\u8f7b\u6309\u91cd\u63d0\u3002\u5730\u90e8\u637b\u8f6c\u63d0\u63d26\u6b21\uff0c\u5b8c\u6bd5\uff0c\u7136\u540e\u5c06\u9488\u9000\u81f3\u4eba\u90e8\uff0c\u540c\u6cd5\u65bd\u672f\u5b8c\u6bd5\uff0c\u518d\u5c06\u9488\u9000\u81f3\u5929\u90e8\uff0c\u540c\u6cd5\u65bd\u672f\uff0c\u5b8c\u6bd5\u540e\u5c06\u9488\u8fdb\u5165\u5730\u90e8\uff0c\u53ef\u91cd\u590d\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u76f4\u81f3\u75c5\u4eba\u6709\u51c9\u611f\uff0c\u6bcf\u96945~7\u5206\u949f\u884c\u9488\u4e00\u6b21\u3002 \u7f57\u9038\u4ed9\u3001\u5f20\u9e73\u4e00\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u7f57\u8001\u5148\u751f\u70e7\u5c71\u706b\uff1a\u62c7\u6307\u4e0e\u4e2d\u6307\u5939\u9488\uff0c\u6210\u5170\u82b1\u5f0f\uff0c\u5f85\u75c5\u4eba\u547c\u6c14\u65f6\u8fdb\u9488\u5929\u90e8\uff08\u5e94\u523a\u6df1\u5ea6\u7684\u4e0a1/3\u5904\uff09\uff0c\u5de6\u637b\u4e5d\u6570\uff1b\u518d\u547c\uff0c\u518d\u8fdb\u5165\u4eba\u90e8\uff08\u5e94\u523a\u6df1\u5ea6\u7684\u4e2d1/3\u5904\uff09\uff0c\u884c\u4e5d\u6570\uff1b\u518d\u547c\uff0c\u518d\u8fdb\u5165\u5730\u90e8\uff08\u4e0b1/3\u5904\uff09\uff0c\u884c\u4e5d\u6570\u3002\u4faf\u75c5\u4eba\u5438\u6c14\u65f6\uff0c\u5c06\u9488\u4e00\u6b21\u63d0\u81f3\u5929\u90e8\uff0c\u53cd\u590d\u884c\u4e4b\uff0c\u5171\u4e5d\u4e5d\u516b\u5341\u4e00\u637b\uff0c\u5219\u75c5\u4eba\u81ea\u89c9\u70ed\u6c14\u5185\u751f\u77e3\u3002 \u884c\u6b64\u6cd5\u987b\u6ce8\u610f\u56db\u70b9\uff1a \u4e00\u662f\u9002\u5b9c\u4e8e\u865a\u8bc1\u3001\u5bd2\u8bc1\uff0c\u51e1\u706b\u8bc1\u3001\u5b9e\u8bc1\u5747\u7981\u7528\u4e4b\uff1b \u4e8c\u662f\u884c\u9488\u65f6\uff0c\u805a\u7cbe\u4f1a\u795e\uff0c\u7ec6\u5fc3\u89c2\u5bdf\u75c5\u4eba\u547c\u5438\u4e0e\u637b\u8f6c\u8282\u5f8b\uff0c\u4e0d\u53ef\u7d0a\u4e71\uff1b \u4e09\u662f\u637b\u529b\u8f7b\u5f90\u5747\u8861\uff0c\u4e0d\u53ef\u5ffd\u8f7b\u5ffd\u91cd\uff0c\u5ffd\u5feb\u5ffd\u6162\uff1b \u56db\u662f\u5438\u6c14\u63d0\u9488\u65f6\uff0c\u4ee5\u51c0\u5dfe\u63a9\u75c5\u4eba\u53e3\u9f3b\u3002 \u900f\u5929\u51c9\uff1a\u62c7\u6307\u4e0e\u98df\u6307\u6301\u9488\uff0c\u6210\u5c55\u7fc5\u5f0f\uff0c\u5f85\u75c5\u4eba\u5438\u6c14\u65f6\uff0c\u5c06\u9488\u4e00\u6b21\u8fdb\u5165\u5730\u90e8\uff0c\u53f3\u637b\u516d\u6570\uff0c\u547c\u6c14\u65f6\u5c06\u9488\u6162\u63d0\u81f3\u4eba\u90e8\uff0c\u884c\u516d\u6570\uff1b\u518d\u547c\uff0c\u518d\u63d0\u81f3\u5929\u90e8\uff0c\u884c\u516d\u6570\u3002\u5982\u6b64\u518d\u5438\u518d\u63d2\uff0c\u53cd\u590d\u884c\u4e4b\uff0c\u516d\u516d\u4e09\u5341\u516d\u6570\uff0c\u5219\u75c5\u4eba\u81ea\u89c9\u5bd2\u51b7\u5185\u751f\u77e3\u3002 \u884c\u6b64\u6cd5\u4ea6\u987b\u6ce8\u610f\u56db\u70b9\uff1a \u4e00\u662f\u9002\u7528\u4e8e\u706b\u8bc1\u3001\u5b9e\u8bc1\uff1b \u4e8c\u8981\u805a\u7cbe\u4f1a\u795e\uff0c\u637b\u8f6c\u5408\u62cd\uff1b \u4e09\u8981\u637b\u91cd\u3001\u63d0\u6162\u3001\u63d2\u5feb\uff0c\u6307\u529b\u5747\u8861\uff1b \u56db\u4ee4\u75c5\u4eba\u4ee5\u9f3b\u547c\u6c14\uff0c\u4ee5\u53e3\u5438\u6c14\u3002 \u697c\u767e\u5c42\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u70e7\u5c71\u706b\uff1a\u5c06\u9488\u523a\u5165\u5e94\u9488\u6df1\u5ea6\u76841/2\u65f6\uff0c\u884c\u5de6\u53f3\u637b\u8f6c\u624b\u6cd59\u6b21\u4ee5\u4faf\u6c14\uff0c\u82e5\u89c9\u9488\u4e0b\u6c89\u7d27\uff0c\u518d\u523a\u5165\u5e94\u523a\u6df1\u5ea6\uff0c\u6025\u884c\u4e09\u51fa\u4e09\u5165\uff0c\u6162\u63d0\u7d27\u6309\u7684\u63d0\u63d2\u637b\u8f6c\u624b\u6cd5\uff0c\u4e00\u822c\u53ef\u4f7f\u9488\u4e0b\u4ea7\u751f\u70ed\u611f\u3002 \u900f\u5929\u51c9\uff1a\u5c06\u9488\u523a\u5165\u5e94\u9488\u6df1\u5ea6\uff0c\u5373\u884c\u5de6\u53f3\u637b\u8f6c\u624b\u6cd56\u6b21\u4ee5\u4faf\u6c14\uff0c\u82e5\u89c9\u9488\u4e0b\u6c89\u7d27\uff0c\u518d\u5c06\u9488\u63d0\u8d771/2\uff0c\u6025\u884c\u4e09\u5165\u4e09\u51fa\uff0c\u7d27\u63d0\u6162\u6309\u7684\u63d0\u63d2\u637b\u8f6c\u624b\u6cd5\uff0c\u4e00\u822c\u80fd\u4f7f\u9488\u4e0b\u4ea7\u751f\u51c9\u611f\u3002 \u7ba1\u6b63\u658b\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9 \u70e7\u5c71\u706b\uff1a \uff081\uff09\u884c\u964d\u9634\u6cd5\uff1a\u7528\u5de6\u624b\u62bc\u51c6\u7a74\u4f4d\uff0c\u53f3\u624b\u6301\u9488\u523a\u5165\u7a74\u5185\u3002\u9488\u52063\u6b21\u6e10\u6b21\u7684\u4e0b\u964d\uff0c\u5148\u8fdb\u81f3\u76ae\u4e0b\u5929\u90e8\uff0c\u6b21\u8fdb\u81f3\u4eba\u90e8\uff0c\u518d\u8fdb\u81f3\u5730\u90e8\uff0c\u6700\u540e\u518d\u7531\u5730\u90e8\u76f4\u63a5\u63d0\u51fa\u4e8e\u76ae\u80a4\u5916\u9762\u3002\u6b64\u6cd5\u7684\u8981\u70b9\u662f\u5148\u6d45\u540e\u6df1\uff0c\u4f7f\u9488\u529b\u7740\u91cd\u4e8e\u6df1\u90e8\uff0c\u5f90\u5185\u75be\u51fa\u3002 \uff082\uff09\u5728\u9178\u9ebb\u80c0\u91cd\u611f\u89c9\u7684\u57fa\u7840\u4e0a\u637b\u9488\u65f6\uff0c\u4f7f\u6307\u529b\u5411\u4e0b\uff0c\u5c06\u9488\u5411\u5de6\u65b9\u5411\u637b\u8f6c\uff0c\u6bcf\u6b21180\u5ea6~360\u5ea6\uff0c\u5373\u5c06\u9488\u523a\u7684\u53f3\u624b\uff08\u523a\u624b\uff09\u62c7\u6307\u5411\u524d\u8fdb\u3001\u98df\u6307\u540e\u9000\u7684\u637b\u8f6c\u65b9\u5411\uff0c\u53cd\u590d\u884c\u4e4b\uff0c\u6709\u7684\u60a3\u8005\u5373\u53ef\u4ea7\u751f\u70ed\u7684\u611f\u89c9\u3002 \uff083\uff09\u6162\u6309\u7d27\u63d0\uff0c\u6b64\u201c\u7d27\u201d\u5b57\u7684\u6db5\u4e49\u4f5c\u201c\u91cd\u201d\u5b57\u89e3\u3002\u201c\u6162\u201d\u5b57\u7684\u6db5\u4e49\u4f5c\u201c\u8f7b\u201d\u5b57\u89e3\u3002\u8fdb\u9488\u5728\u5929\u4eba\u5730\u90e8\u63d0\u63d2\u9488\u65f6\uff0c\u8981\u7528\u91cd\u63d2\u8f7b\u63d0\u3002 \uff084\uff09\u884c\u4e5d\u9633\u6570\uff1a\uff08\u5468\u6613\uff1a\u5355\u6570\u3001\u5947\u6570\u4e3a\u9633\uff0c\u4e5d\u6570\u4e3a\u8001\u9633\uff0c\u4e03\u6570\u4e3a\u5c11\u9633\u3002\uff09\u8fdb\u9488\u5728\u5929\u4eba\u5730\u90e8\u637b\u8f6c\uff08\u6216\u63d0\u63d2\uff093\u6b21\uff0c\u4e09\u4e09\u5f97\u4e5d\uff0c\u4e3a\u4e5d\u9633\u6570\uff08\u4ea6\u53ef\u5728\u6bcf\u90e8\u5404\u884c\u4e5d\u9633\u6570\uff09\u53ef\u5c11\u505c\uff0c\u53cd\u590d\u884c\u4e4b\u3002\u7ba1\u8001\u5728\u884c\u4e5d\u9633\u6570\u65f6\uff0c\u5f3a\u8c03\u5b9e\u6548\uff0c\u4e0d\u6ce5\u4e8e\u53e4\u6570\uff0c\u6ce8\u91cd\u75c5\u4eba\u4f53\u8d28\u3001\u654f\u611f\u7a0b\u5ea6\u7b49\u5ba2\u89c2\u60c5\u51b5\uff0c\u6240\u4ee5\u6709\u65f6\u4ec5\u7528\u4e09\u4e09\u5f97\u4e5d\uff0c\u6709\u65f6\u7528\u4e09\u4e5d\u4e8c\u5341\u4e03\u2026\u2026\u7075\u6d3b\u8fd0\u7528\u3002 \uff085\uff09\u968f\u800c\u6d4e\u4e4b\uff1a\u968f\u987a\u5176\u7ecf\u6c14\u7684\u6d41\u884c\u800c\u8865\u5176\u6c14\uff0c\u5982\u624b\u4e4b\u4e09\u9634\u7ecf\u53ca\u8db3\u4e4b\u4e09\u9633\u7ecf\uff0c\u662f\u4ece\u4e0a\u800c\u4e0b\uff0c\u4e8e\u523a\u9488\u540e\u637b\u63d2\u65f6\uff0c\u4f7f\u9ebb\u9178\u80c0\u91cd\u611f\u89c9\uff0c\u5411\u4e0b\u4f20\u8fbe\uff0c\u4e0e\u7ecf\u6c14\u7684\u53bb\u8def\u76f8\u987a\u3002\u7ba1\u8001\u4e0d\u4ec5\u91cd\u89c6\u9488\u523a\u65b9\u5411\u987a\u884c\u7ecf\u6c14\uff0c\u66f4\u5f3a\u8c03\u9488\u611f\u987a\u5e94\u7ecf\u6c14\uff0c\u5e76\u4e14\u5de7\u5999\u5730\u5e94\u7528\u62bc\u624b\u3001\u5faa\u7ecf\u3001\u963b\u538b\u7b49\u8f85\u52a9\u624b\u6cd5\u5c61\u80fd\u8fbe\u5230\u9488\u611f\u987a\u7ecf\u4e4b\u76ee\u7684\u3002 \uff086\uff09\u884c\u9707\u522e\u672f\uff1a\u5148\u7528\u5de6\u624b\u6307\u56fa\u5b9a\u9488\u4f53\uff0c\u518d\u7528\u53f3\u624b\u62c7\u6307\u5411\u4e0b\u9707\u522e\u9488\u67c4\uff0c\u6216\u53f3\u624b\u98df\u6307\u505a\u56fa\u5b9a\uff0c\u53f3\u624b\u62c7\u6307\u5411\u4e0b\u9707\u522e\u9488\u67c4\uff0c\u9707\u522e30~60\u6b21\uff0c\u6bcf\u53ef\u4ea7\u751f\u70ed\u7684\u611f\u89c9\u3002 \uff087\uff09\u4e58\u75c5\u4eba\u547c\u6c14\u8fdb\u9488\uff0c\u5438\u6c14\u51fa\u9488\u3002 \uff088\uff09\u51fa\u9488\u540e\uff0c\u7acb\u5373\u4ee5\u6307\uff08\u6216\u68c9\u7403\uff09\u6309\u63c9\u9488\u5b54\uff0c\u4ee5\u6276\u6b63\u6c14\uff0c\u4f7f\u771f\u6c14\u5b58\u7559\uff0c\u4e0d\u4efb\u5df2\u5165\u4e4b\u9633\u6c14\u5916\u9038\u3002 \u900f\u5929\u51c9\uff1a \uff081\uff09\u884c\u5347\u9633\u6cd5\uff1a\u62bc\u624b\u53ca\u523a\u624b\u5f0f\uff0c\u540c\u70e7\u5c71\u706b\u3002\u4e0d\u540c\u4e4b\u70b9\u662f\uff0c\u5c06\u9488\u76f4\u523a\u5165\u5730\u90e8\uff0c\u7136\u540e\u52063\u6b21\uff0c\u4f5c\u9636\u68af\u72b6\uff0c\u7ecf\u4eba\u90e8\u5929\u90e8\u63d0\u51fa\u4e8e\u76ae\u80a4\u5916\u3002\u6b64\u6cd5\u7684\u8981\u70b9\u662f\u5148\u6df1\u540e\u6d45\uff0c\u4f7f\u9488\u529b\u7740\u91cd\u4e8e\u6d45\u5c42\uff0c\u75be\u5185\u5f90\u51fa\u3002 \uff082\uff09\u5728\u9178\u9ebb\u80c0\u91cd\u611f\u89c9\u7684\u57fa\u7840\u4e0a\u637b\u9488\u65f6\uff0c\u4f7f\u6307\u529b\u5411\u4e0a\uff0c\u5c06\u9488\u5411\u53f3\u65b9\u5411\u637b\u8f6c\uff0c\u6bcf\u6b2190\u5ea6~180\u5ea6\uff0c\u5373\u5c06\u6301\u9488\u7684\u53f3\u624b\uff08\u523a\u624b\uff09\u62c7\u6307\u9000\u540e\u3001\u98df\u6307\u524d\u8fdb\u7684\u637b\u8f6c\u65b9\u5411\uff0c\u53cd\u590d\u884c\u4e4b\uff0c\u6709\u7684\u60a3\u8005\u5373\u53ef\u4ea7\u751f\u51c9\u7684\u611f\u89c9\u3002 \uff083\uff09\u7d27\u63d0\u6162\u6309\uff0c\u9000\u9488\u5728\u5730\u4eba\u5929\u90e8\u63d0\u63d2\u9488\u65f6\uff0c\u7528\u91cd\u63d0\u8f7b\u63d2\u3002 \uff084\uff09\u884c\u516d\u9634\u6570\uff1a\uff08\u5468\u6613\uff1a\u53cc\u6570\u3001\u5076\u6570\u4e3a\u9634\uff0c\u516d\u6570\u4e3a\u8001\u9634\uff0c\u516b\u6570\u4e3a\u5c11\u9634\u3002\uff09\u9000\u9488\u5728\u5730\u4eba\u5929\u90e8\u637b\u8f6c\uff08\u6216\u63d0\u63d2\uff09\u65f6\uff0c\u9488\u5c16\u5411\u4e0a\u63d0\u8d77\uff0c\u4f7f\u529b\u5728\u9488\u4f53\uff0c\u6bcf\u90e8\u5404\u637b\u8f6c\uff08\u6216\u63d0\u63d2\uff092\u6b21\uff0c\u4e8c\u4e09\u5f97\u516d\uff0c\u4e3a\u516d\u9634\u6570\uff08\u4ea6\u53ef\u5728\u6bcf\u90e8\u5404\u884c\u516d\u9634\u6570\uff09\u53ef\u5c11\u505c\uff0c\u53cd\u590d\u884c\u4e4b\u3002 \uff085\uff09\u8fce\u800c\u593a\u4e4b\uff1a\u4e0e\u7ecf\u7edc\u5faa\u884c\u7684\u6765\u6e90\u53bb\u8def\u76f8\u53cd\uff0c\u5982\u624b\u4e4b\u4e09\u9633\u53ca\u8db3\u4e4b\u4e09\u9634\u7ecf\uff0c\u662f\u4ece\u4e0b\u5411\u4e0a\uff0c\u4e8e\u523a\u9488\u637b\u63d2\u65f6\uff0c\u4f7f\u9178\u9ebb\u80c0\u91cd\u611f\u89c9\u5411\u4e0b\u4f20\u8fbe\uff0c\u4e0e\u7ecf\u6c14\u7684\u6765\u8def\u76f8\u9006\u3002 \uff086\uff09\u884c\u9707\u522e\u672f\uff1a\u5148\u7528\u5de6\u624b\u62c7\u6307\u56fa\u5b9a\u9488\u4f53\uff0c\u518d\u7528\u53f3\u624b\u98df\u6307\uff08\u6216\u62c7\u6307\uff09\u5411\u4e0a\u9707\u522e\u9488\u67c4\uff0c\u6216\u4ee5\u53f3\u624b\u98df\u6307\u56fa\u5b9a\uff0c\u53f3\u624b\u62c7\u6307\u5411\u4e0a\u9707\u522e\u9488\u67c4\uff0c\u9707\u522e30~60\u6b21\uff0c\u6bcf\u53ef\u4ea7\u751f\u51c9\u7684\u611f\u89c9\u3002 \uff087\uff09\u4e58\u75c5\u4eba\u5438\u6c14\u8fdb\u9488\uff0c\u547c\u6c14\u51fa\u9488\u3002 \uff088\uff09\u51fa\u9488\u65f6\uff0c\u5c06\u9488\u6447\u52a8\uff0c\u4f7f\u9488\u5b54\u6269\u5927\uff0c\u53bb\u9488\u540e\u4e0d\u63c9\u9488\u5b54\uff0c\u4ee5\u6cfb\u6563\u5176\u90aa\u6c14\u3002 \u90d1\u6bd3\u7433\u3001\u90d1\u9b41\u5c71\u3001\u674e\u5fd7\u660e\u7684\u7b80\u6613\u51c9\u70ed\u8865\u6cfb\u6cd5 \u70ed\u8865\u6cd5\uff1a\u533b\u751f\u5de6\u624b\u98df\u6307\u6216\u62c7\u6307\u7d27\u6309\u9488\u7a74\uff0c\u53f3\u624b\u5c06\u9488\u523a\u5165\u7a74\u5185\uff0c\u5019\u5176\u6c14\u81f3\uff0c\u5de6\u624b\u52a0\u91cd\u538b\u529b\uff0c\u53f3\u624b\u62c7\u6307\u5411\u524d\u8fde\u7eed\u637b\u63093-5\u6b21\uff0c\u5019\u9488\u4e0b\u6c89\u7d27\uff0c\u9488\u5c16\u62c9\u7740\u6709\u611f\u5e94\u7684\u90e8\u4f4d\uff0c\u8fde\u7eed\u7d27\u6309\u6162\u63d03-5\u6b21\uff0c\u62c7\u6307\u518d\u5411\u524d\u8fde\u7eed\u637b\u63093-5\u6b21\uff0c\u9488\u5c16\u9876\u7740\u4ea7\u751f\u611f\u89c9\u7684\u90e8\u4f4d\u5b88\u6c14\uff0c\u4f7f\u9488\u4e0b\u7ee7\u7eed\u6c89\u7d27\uff0c\u4ea7\u751f\u70ed\u611f\u3002\u6839\u636e\u75c5\u60c5\u7559\u9488\u540e\uff0c\u7f13\u6162\u5c06\u9488\u62d4\u51fa\uff0c\u901f\u95ed\u9488\u5b54\u3002 \u51c9\u6cfb\u6cd5\uff1a\u533b\u751f\u5de6\u624b\u98df\u6307\u6216\u62c7\u6307\u7d27\u6309\u9488\u7a74\uff0c\u53f3\u624b\u6301\u9488\u523a\u5165\u7a74\u5185\uff0c\u5019\u5176\u6c14\u81f3\uff0c\u5de6\u624b\u51cf\u8f7b\u538b\u529b\uff0c\u53f3\u624b\u62c7\u6307\u5411\u540e\u8fde\u7eed\u637b\u63d03-5\u6b21\uff0c\u5019\u9488\u4e0b\u6c89\u7d27\uff0c\u63d0\u9000\u4e00\u5206\u8bb8\uff0c\u9488\u5c16\u5411\u6709\u611f\u5e94\u7684\u90e8\u4f4d\uff0c\u8fde\u7eed\u7d27\u63d0\u6162\u63093-5\u6b21\uff1b\u62c7\u6307\u5411\u540e\u518d\u8fde\u7eed\u637b\u63d03-5\u6b21\uff0c\u9488\u5c16\u62c9\u7740\u4ea7\u751f\u611f\u89c9\u7684\u90e8\u4f4d\u5b88\u6c14\uff0c\u4f7f\u9488\u4e0b\u677e\u6ed1\uff0c\u4ea7\u751f\u51c9\u611f\u3002\u6839\u636e\u75c5\u60c5\u7559\u9488\u540e\uff0c\u6025\u901f\u5c06\u9488\u62d4\u51fa\uff0c\u4e0d\u626a\u9488\u5b54\u3002","title":"\u70e7\u5c71\u706b\u4e0e\u900f\u5929\u51c9\u624b\u6cd5"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_1","text":"\u4f7f\u7528#\u70e7\u5c71\u706b#\u548c#\u900f\u5929\u51c9#\u7684\u624b\u6cd5\u8fdb\u884c#\u8865\u6cfb#\u7684\u524d\u63d0\u5fc5\u987b\u8fa9\u8bc1\u6e05\u695a\u5bd2\u70ed\u865a\u5b9e\uff01\u5426\u5219\u8bef\u6cbb\u4f1a\u66f4\u52a0\u9ebb\u70e6\uff01 \u4ece\u897f\u5317\u9488\u738b\u90d1\u9b41\u5c71\u7684\u4e00\u4f4d\u5f1f\u5b50\u90a3\u91cc\u624d\u771f\u6b63\u9886\u4f1a\u5230\u5929\u4eba\u5730\u4e09\u90e8\u7684\u771f\u8c1b\u3002\u8fd9\u4f4d\u8001\u5e08\u8bf4\uff0c\u5176\u5b9e\u5728\u9488\u8fdb\u53bb\u7a74\u4f4d\u65f6\u7b2c\u4e00\u6b21\u5f97\u6c14\u662f\u5c31\u5929\u90e8\uff0c\u518d\u6df1\u8fdb\u7b2c\u4e8c\u6b21\u5f97\u6c14\u5373\u662f\u4eba\u90e8\uff0c\u968f\u4e4b\u518d\u6df1\u8fdb\u7b2c\u4e09\u6b21\u5f97\u6c14\u662f\u5730\u90e8\u4e86\u3002\u55ef\uff0c\u90d1\u8001\u7684\u5bd2\u70ed\u624b\u6cd5\u662f\u505a\u7684\u5f88\u6e9c\uff0c\u540d\u9707\u56db\u65b9\uff0c\u56e0\u6b64\u4ed6\u5f1f\u5b50\u7684\u8bdd\u53ef\u4fe1\u5ea6\u662f\u5f88\u9ad8\u7684\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_2","text":"\u300a\u9488\u7078\u5927\u6210-\u4e09\u8862\u6768\u6c0f\u8865\u6cfb\u300b\u8bb0\u8f7d\u201c\u70e7\u5c71\u706b\uff0c\u80fd\u9664\u5bd2\uff0c**\u4e09\u8fdb\u4e00\u9000**\u70ed\u6d8c\u6d8c\u201d\u3002 \u6240\u4ee5\uff0c\u7528\u70e7\u5c71\u706b\uff0c\u8981\u5206\u4e09\u5c42\u8fdb\u5230\u5730\u90e8\uff0c\u7136\u540e\u4e00\u9000\u76f4\u63a5\u56de\u5230\u5929\u90e8\u3002 \u64cd\u4f5c\uff1a\u8fdb\u9488\u540e\uff0c\u7b2c\u4e00\u6b21\u5f97\u6c14\u3010\u5929\u90e8\u3011\uff0c\u884c\u590d\u5f0f\u8865\u6cd5\uff0c\u7136\u540e\u518d\u6df1\u5165\uff0c\u7b2c\u4e8c\u6b21\u5f97\u6c14\u3010\u4eba\u90e8\u3011\uff0c\u518d\u6765\u4e00\u6b21\u590d\u5f0f\u8865\u6cd5\uff0c\u6700\u540e\u518d\u6df1\u5165\uff0c\u7b2c\u4e09\u6b21\u5f97\u6c14\u3010\u5730\u90e8\u3011\uff0c\u884c\u590d\u5f0f\u8865\u6cd5\uff0c **\u6b64\u4e3a\u4e09\u8fdb** \uff0c\u800c\u540e\u9488\u5728\u5730\u90e8\u76f4\u63a5\u4e00\u9000\u56de\u5230\u5929\u90e8\uff0c **\u6b64\u4e3a\u4e00\u9000** \u3002\u8fd9\u5c31\u662f\u70e7\u5c71\u706b\u7684\u4e09\u90e8\u884c\u9488\u65b9\u6cd5\uff0c\u800c\u4e0d\u662f\u60f3\u8c61\u4e2d\u7684\u5728\u6d45\u5c42\u624e\u624e\uff0c\u5728\u4e2d\u5c42\u624e\u624e\uff0c\u5728\u6df1\u5c42\u624e\u624e\u3002 \u4e3e\u4e00\u4e2a\u4e0d\u642d\u8fb9\u4f8b\u5b50\uff0c\u597d\u6bd4\uff0c\u4e00\u597d\u5fc3\u4eba\u60f3\u7ed9\u4e00\u7a77\u4eba\u9001\u94b1\uff0c\u56e0\u6b64\u4ed6\u5728\u7b2c\u4e00\u90e8\u7684ATM\u53d6\u4e86\u94b1\uff0c\u89c9\u5f97\u4e0d\u591f\uff0c\u53c8\u5728\u7b2c\u4e8c\u90e8\u7684ATM\u53d6\u94b1\uff0c\u89c9\u5f97\u8fd8\u4e0d\u591f\uff0c\u6700\u540e\u53bb\u7b2c\u4e09\u90e8ATM\u53d6\u94b1\uff0c\u55ef\uff0c\u7ec8\u4e8e\u53d6\u591f\u94b1\u4e86\uff0c\u53ef\u4ee5\u63a5\u6d4e\u8fd9\u4f4d\u5e78\u8fd0\u7684\u7a77\u4eba\u3002\u4e0d\u8fc7\u8fd9\u4f4d\u597d\u4eba\u8fd8\u6015\u7a77\u4eba\u4e0d\u60f3\u8981\u4ed6\u7684\u94b1\uff0c\u8981\u8fd8\u56de\u4ed6\uff0c\u6240\u4ee5\u628a\u94b1\u9001\u5230\u7a77\u4eba\u90a3\u91cc\u5c31\u8d76\u7d27\u5c31\u8dd1\u4e86\u3002\u8fd9\u50cf\u662f\u70e7\u5c71\u706b\u8981\u52063\u90e8\u8fdb\u53bb\uff0c\u800c\u540e\u5728\u5730\u90e8\u76f4\u63a5\u56de\u5230\u5929\u90e8\u3002","title":"\u70e7\u5c71\u706b"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_3","text":"\u8fdb\u9488\u65f6\uff0c\u533b\u8005\u91cd\u7528\u6307\u5207\u62bc\u624b\u3002 \u4ee4\u75c5\u4eba\u81ea\u7136\u5730\u9f3b\u5438\u53e3\u547c\uff0c\u968f\u5176\u547c\u6c14\u65f6\uff0c\u5c06\u9488\u523a\u5165\u6d45\u5c42\uff08\u5929\u90e8\uff09\u5f97\u6c14\u3002 \u5f97\u6c14\u540e\uff0c\u91cd\u63d2\u8f7b\u63d0\uff0c\u8fde\u7eed\u91cd\u590d9\u6b21\uff08\u884c\u4e5d\u9633\u6570\uff09\u3002 \u518d\u5c06\u9488\u523a\u5165\u4e2d\u5c42\uff08\u4eba\u90e8\uff09\uff0c\u91cd\u63d2\u8f7b\u63d0\uff0c\u8fde\u7eed\u91cd\u590d9\u6b21\uff08\u884c\u4e5d\u9633\u6570\uff09\u3002 \u5176\u540e\u5c06\u9488\u523a\u5165\u6df1\u5c42\uff08\u5730\u90e8\uff09\uff0c\u91cd\u63d2\u8f7b\u63d0\uff0c\u8fde\u7eed\u91cd\u590d9\u6b21\uff08\u884c\u4e5d\u9633\u6570\uff09\u3002\u6b64\u65f6\uff0c\u5982\u679c\u9488\u4e0b\u4ea7\u751f\u70ed\u611f\uff0c\u5c11\u5f85\u7247\u523b\u3002 \u968f\u75c5\u4eba\u5438\u6c14\u65f6\u5c06\u94881\u6b21\u63d0\u5230\u6d45\u5c42\uff0c\u6b64\u4e3a\u4e00\u5ea6\u3002\u5982\u679c\u9488\u4e0b\u672a\u4ea7\u751f\u70ed\u611f\u53ef\u968f\u75c5\u4eba\u547c\u6c14\u65f6\uff0c\u518d\u65bd\u524d\u6cd5\uff0c\u4e00\u822c\u4e0d\u8fc7\u4e09\u5ea6\u3002 \u624b\u6cd5\u64cd\u4f5c\u5b8c\u6bd5\u540e\uff0c\u7559\u948815~20\u5206\u949f\uff0c\u5f85\u9488\u4e0b\u677e\u5f1b\u65f6\uff0c\u4faf\u75c5\u4eba\u5438\u6c14\u65f6\u5c06\u9488\u5feb\u901f\u62d4\u51fa\uff0c\u6025\u6309\u9488\u5b54\u3002","title":"\u64cd\u4f5c\u65b9\u6cd5#\uff1a\u5c06\u6240\u523a\u8167\u7a74\u7684\u6df1\u5ea6\u5206\u4f5c\u6d45\u3001\u4e2d\u3001\u6df1\u4e09\u5c42\uff08\u5929\u3001\u5730\u3001\u4eba\u4e09\u90e8\uff09\u3002"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_4","text":"\u5982\u679c\u662f\uff0c\u900f\u5929\u51c9\u5462\uff1f\u300a\u9488\u7078\u5927\u6210\u300b\u8bf4\u201c\u900f\u5929\u51c9\uff0c\u80fd\u9664\u70ed\uff0c**\u4e09\u9000\u4e00\u8fdb**\u51b7\u51b0\u51b0\u201d\uff0c\u5c31\u662f\u4e00\u53e3\u6c14\u4e00\u8fdb\u5230\u5730\u90e8\uff0c **\u6b64\u4e3a\u4e00\u8fdb** \uff0c\u7136\u540e\u5730\u90e8\u884c\u9488\u5f97\u6c14\uff08\u7b2c\u4e00\u6b21\u5f97\u6c14\uff09\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c **\u5728\u8fdb\u9488\u671f\u95f4\u5c3d\u91cf\u4e0d\u8981\u5728\u5929\u90e8\u3001\u4eba\u90e8\u5f97\u6c14** \uff0c\u7b49\u5230\u4e86\u5730\u90e8\u624d\u5f97\u6c14\uff0c\u6545\u4e5f\u53eb\u5077\u9488\u6cd5\u3002 \u597d\u6bd4\uff0c\u8b66\u5bdf\u8981\u6293\u4e00\u4e2a\u9003\u72af\uff08\u90aa\u6c14\uff09\uff0c\u5fc5\u987b\u6084\u65e0\u58f0\u606f\uff0c\u8981\u5077\u5077\u5730\u8fdb\u5165\u623f\u95f4\uff0c\u8fd9\u624d\u80fd\u7a81\u51fb\u6293\u4f4f\u9003\u72af\uff0c\u8ba9\u5176\u63aa\u624b\u4e0d\u53ca\uff0c\u8dd1\u4e0d\u6389\u3002 \u4e4b\u540e\uff0c\u9488\u4e0a\u63d0\uff0c\u7b2c\u4e8c\u6b21\u5f97\u6c14\u3010\u4eba\u90e8\u3011\uff0c\u884c\u590d\u5f0f\u6cfb\u6cd5\uff0c\u518d\u4e0a\u63d0\uff0c\u7b2c\u4e09\u6b21\u5f97\u6c14\u3010\u5929\u90e8\u3011\uff0c\u884c\u590d\u5f0f\u6cfb\u6cd5\uff0c **\u6b64\u4e3a\u4e09\u9000** \uff0c\u6700\u540e\u5927\u6447\u9488\u5b54\uff0c\u4e0d\u7559\u9488\uff0c\u4e0d\u6309\u7a74\u4f4d\u3002 \u597d\u6bd4\uff0c\u628a\u8fd9\u9003\u72af\u6293\u4f4f\u540e\uff0c\u8b66\u5bdf\u63cd\u4e86\u4ed61\u6b21\u30012\u6b21\uff0c\u8fd8\u8981\u518d\u63cd\u7b2c3\u6b21\uff0c\u6700\u540e\u9003\u72af\u88ab\u6253\u5f97\u60f3\u8dd1\u90fd\u8dd1\u4e0d\u4e86\uff0c\u5c31\u53ef\u4ee5\u4e00\u53e3\u6293\u51fa\u6765\uff0c\u6b64\u4e3a\u795b\u90aa\u3002 \u6700\u540e\uff0c\u5176\u5b9e\uff0c\u5206\u5929\u4eba\u57303\u90e8\u6765\u505a\uff0c\u65e0\u975e\u5c31\u662f\u52a0\u5927\u523a\u6fc0\u7684\u91cf\uff0c\u5c31\u50cf\u4f7f\u52b2\u6469\u64e6\u751f\u70ed\uff0c **\u7531\u91cf\u53d8\u4ea7\u751f\u8d28\u53d8\uff0c\u8fd9\u5176\u5b9e\u4e0d\u662f\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9\u7684\u6210\u529f\u7684\u5fc5\u8981\u6761\u4ef6** \uff0c\u56e0\u6b64\u53ef\u4ee5\u52062\u5c42\u6765\u505a\uff0c\u52061\u5c42\u6765\u505a\u90fd\u53ef\u4ee5\uff0c\u968f\u65bd\u672f\u8005\u7684\u4e60\u60ef\u3002","title":"\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_5","text":"\u5728\u8fdb\u9488\u65f6\uff0c\u533b\u8005\u8f7b\u7528\u62bc\u624b\u3002 \u4ee4\u75c5\u4eba\u81ea\u7136\u5730\u9f3b\u547c\u53e3\u5438\uff0c\u968f\u5176\u5438\u6c14\u5c06\u9488\u523a\u5165\u6df1\u5c42\uff08\u5730\u90e8\uff09\u5f97\u6c14\u3002 \u5f97\u6c14\u540e\uff0c\u8f7b\u63d2\u91cd\u63d0\uff0c\u5982\u6b646\u6b21\uff08\u884c\u516d\u9634\u6570\uff09\u3002 \u518d\u5c06\u9488\u63d0\u81f3\u4e2d\u5c42\uff08\u4eba\u90e8\uff09\uff0c\u8f7b\u63d2\u91cd\u63d0\uff0c\u8fde\u7eed6\u6b21\uff08\u884c\u516d\u9634\u6570\uff09\u3002 \u518d\u5c06\u9488\u63d0\u81f3\u6d45\u5c42\uff08\u5929\u90e8\uff09\uff0c\u8f7b\u63d2\u91cd\u63d0\uff0c\u5982\u6b646\u6b21\uff08\u884c\u516d\u9634\u6570\uff09\u3002 \u6b64\u65f6\uff0c\u9488\u4e0b\u4ea7\u751f\u51c9\u611f\uff0c\u79f0\u4e3a1\u5ea6\u3002\u5982\u679c\u9488\u4e0b\u672a\u51fa\u73b0\u51c9\u611f\uff0c\u53ef\u5c06\u94881\u6b21\u4e0b\u63d2\u81f3\u6df1\u90e8\uff0c\u518d\u65bd\u524d\u6cd5\u3002\u4f46\u4e00\u822c\u4e0d\u8d85\u8fc7\u4e09\u5ea6\u3002\u51c9\u611f\u4e0d\u8bba\u5728\u5730\u90e8\u3001\u4eba\u90e8\u6216\u5929\u90e8\u51fa\u73b0\uff0c\u53ef\u505c\u6b62\u624b\u6cd5\u64cd\u4f5c\u3002 \u624b\u6cd5\u64cd\u4f5c\u7ed3\u675f\u540e\uff0c\u53ef\u968f\u75c5\u4eba\u547c\u6c14\u5c06\u9488\u7f13\u6162\u62d4\u51fa\uff0c\u4e0d\u6309\u9488\u5b54\u6216\u8005\u7f13\u6309\u9488\u5b54\u3002","title":"\u64cd\u4f5c\u65b9\u6cd5#\uff1a\u5c06\u6240\u523a\u8167\u7a74\u7684\u6df1\u5ea6\u5206\u4f5c\u6d45\u3001\u4e2d\u3001\u6df1\u4e09\u5c42\uff08\u5929\u3001\u5730\u3001\u4eba\u4e09\u90e8\uff09\u3002"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_6","text":"","title":"\u5176\u4ed6\u540d\u5bb6\u624b\u6cd5"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_7","text":"\u70e7\u5c71\u706b\uff1a\u8fdb\u9488\u6c14\u81f3\u540e\uff0c\u5148\u5c06\u9488\u4e0a\u63d0\u81f3\u6d45\u90e8\uff0c\u7528\u7d27\u6309\u6162\u63d0\uff0c\u4e09\u8fdb\u4e00\u9000\u7684\u624b\u6cd5\uff08\u4e0d\u9650\u4e8e\u4e09\u4e00\u4e4b\u6570\uff0c\u4ee5\u8fdb\u591a\u51fa\u5c11\u4e3a\u539f\u5219\uff0c\u900f\u5929\u51c9\u5219\u4ee5\u5c11\u8fdb\u591a\u51fa\u4e3a\u539f\u5219\uff09\u914d\u5408\u533b\u8005\u4e4b\u547c\u5438\u8fd0\u6c14\uff0c\u5411\u4e0b\u63d2\u9488\u65f6\uff0c\u7528\u7d27\u6309\u6cd5\uff0c\u53e3\u9f3b\u547c\u5438\uff1b\u5411\u4e0a\u9000\u9488\u65f6\u7528\u6162\u63d0\u6cd5\uff0c\u5fae\u5fae\u5438\u6c14\uff0c\u8fd9\u6837\u63d0\u63d2\u8fdb\u9000\u914d\u5408\uff0c\u7ea65\u5206\u949f\u5373\u6709\u70ed\u611f\u3002 \u900f\u5929\u51c9\uff1a\u8fdb\u9488\u6c14\u81f3\u540e\uff0c\u5148\u5c06\u9488\u63d2\u81f3\u6df1\u90e8\uff0c\u7528\u7d27\u63d0\u6162\u6309\uff0c\u5408\u533b\u8005\u547c\u5438\u8fd0\u6c14\u800c\u65bd\u672f\uff0c\u5411\u4e0a\u63d0\u9488\u65f6\uff0c\u533b\u8005\u5438\u6c14\u5e76\u7528\u529b\u637b\u8f6c\u9488\u67c4\uff0c\u5411\u4e0b\u63d2\u9488\u65f6\u5f90\u5f90\u53e3\u9f3b\u547c\u6c14\uff0c\u8fdb\u9000\u63d0\u63d2\u914d\u5408\uff0c\u7ea65\u5206\u949f\u5373\u6709\u51c9\u611f\u3002","title":"\u7126\u52c9\u658b\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_8","text":"\u70e7\u5c71\u706b\uff1a\u5148\u8fdb\u9488\u81f3\u5929\u90e8\uff08\u8167\u7a74\u6df1\u5ea6\u7684\u4e0a1/3\u5904\uff09\uff0c\u6162\u63d0\u7d27\u6309\u4e5d\u6b21\uff0c\u6309\u9488\u65f6\u5de6\u8f6c\uff1b\u6b21\u8fdb\u81f3\u4eba\u90e8\uff08\u8167\u7a74\u6df1\u5ea6\u7684\u4e2d1/3\u5904\uff09\uff0c\u63d0\u63d2\u3001\u637b\u8f6c\u5982\u524d\u6570\uff1b\u518d\u8fdb\u81f3\u5730\u90e8\uff08\u8167\u7a74\u6df1\u5ea6\u7684\u4e0b1/3\u5904\uff09\uff0c\u65bd\u672f\u540c\u524d\uff1b\u7136\u540e\u4ece\u5730\u90e8\u4e00\u6b21\u9000\u81f3\u5929\u90e8\uff0c\u8fd9\u6837\u4e3a\u4e00\u5ea6\u3002\u53cd\u590d\u4e09\u5ea6\uff0c\u5018\u70ed\u81f3\uff0c\u51fa\u9488\u63c9\u95ed\u5b54\u7a74\uff1b\u5982\u65e0\u70ed\u611f\uff0c\u53ef\u53cd\u590d\u518d\u65bd\uff0c\u76f4\u5230\u70ed\u81f3\u3002(\u4e2d\u533b\u4e94\u8fd0\u516d\u6c14\u516c\u4f17\u53f7.\u6574\u7406) \u900f\u5929\u51c9\uff1a\u8fdb\u9488\u76f4\u81f3\u5730\u90e8\uff0c\u5728\u8be5\u90e8\u7d27\u63d0\u6162\u6309\u516d\u6b21\uff0c\u63d0\u9488\u65f6\u53f3\u8f6c\uff1b\u6b21\u9000\u81f3\u4eba\u90e8\uff0c\u540c\u524d\u63d0\u63d2\u3001\u637b\u8f6c\u516d\u6b21\uff1b\u518d\u9000\u81f3\u5929\u90e8\uff0c\u4ea6\u540c\u524d\u6cd5\u65bd\u672f\uff1b\u8fd9\u6837\u4e00\u8fdb\u4e09\u9000\uff0c\u79f0\u4e3a\u4e00\u5ea6\u3002\u64cd\u4f5c\u4e09\u5ea6\uff0c\u82e5\u51c9\u751f\uff0c\u5219\u53ef\u51fa\u9488\uff0c\u51fa\u9488\u524d\u6447\u5927\u5176\u5b54\uff0c\u4e0d\u95ed\u5176\u7a74\u3002\u5982\u65e0\u51c9\u611f\uff0c\u5e94\u53cd\u590d\u518d\u65bd\uff0c\u76f4\u81f3\u51c9\u751f\u3002","title":"\u9646\u7626\u71d5\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_9","text":"\u70e7\u5c71\u706b\uff1a\u70e7\u5c71\u706b\u53ef\u8865\u865a\u5bd2\uff0c\u6cd5\u53d6\u4e09\u624d\u9010\u6b65\u63a2\u4e09\u6309\u62c7\u524d\u547c\u59cb\u5165\uff0c\u4e00\u63d0\u62c7\u540e\u5438\u76f8\u5173\u7531\u6d45\u6e10\u6df1\u5929\u81f3\u5730\uff0c\u6162\u63d0\u7d27\u6309\u4e5d\u6210\u4e09\u75be\u4ee5\u51fa\u9488\u5f53\u75be\u626a\uff0c\u70ed\u751f\u9488\u4e0b\u6548\u975e\u51e1\u3002 \u6709\u6b4c\u66f0\uff1a\u201c\u70e7\u5c71\u4e4b\u706b\u80fd\u9664\u5bd2\uff0c\u4e00\u9000\u4e09\u98de\u75c5\u81ea\u5b89\u3002\u59cb\u662f\u4e94\u5206\u7ec8\u4e00\u5bf8\uff0c\u4e09\u756a\u51fa\u5165\u6162\u63d0\u770b\u3002\u201d\u5206\u5929\u3001\u5730\u3001\u4eba\u4e09\u90e8\u5f90\u5f90\u8fdb\u9488\u3002 \u521d\u8fdb\u9488\u65f6\u53ef\u5c06\u9488\u76f4\u5165\u81f3\u9002\u5f53\u6df1\u5ea6\uff0c\u5f97\u6c14\u540e\u5c06\u9488\u5411\u4e0a\u63d0\u81f3\u5929\u90e8\uff0c\u968f\u5373\u7528\u7d27\u6309\u6162\u63d0\uff0c\u4e09\u8fdb\u4e00\u9000\u3002\u56e0\u60a3\u8005\u4e4b\u547c\u5438\u800c\u8fd0\u7528\u624b\u6cd5\uff0c\u76ee\u89c6\u60a3\u8005\uff0c\u624b\u4e0d\u79bb\u9488\u3002\u5f53\u60a3\u8005\u547c\u6c14\u65f6\u5411\u4e0b\u4e09\u6b21\u8fdb\u9488\u4e3a\u4e3b\uff0c\u5438\u6c14\u65f6\u4e00\u6b21\u9000\u9488\u4e3a\u8f85\u3002\u547c\u6c14\u65f6\u53e3\u5507\u5fae\u95ed\uff0c\u5982\u5439\u98ce\u72b6\uff0c\u4e09\u6b21\u4ece\u53e3\u547c\u51fa\u3002\u5438\u6c14\u65f6\u5373\u95ed\u5408\u5176\u53e3\uff0c\u4e00\u6b21\u7531\u9f3b\u5438\u5165\u3002\u5411\u4e0b\u8fdb\u9488\u65f6\u7528\u7d27\u6309\u6cd5\uff0c\u62c7\u524d\u98df\u540e\u884c\u4e5d\u9633\u6570\u3002\u505c\u9488\u65f6\u8981\u7528\u529b\u6309\u9488\u4e0d\u52a8\u3002\u5411\u4e0a\u9000\u9488\u65f6\u662f\u7528\u6162\u63d0\u6cd5\uff0c\u98df\u524d\u62c7\u540e\uff0c\u5728\u5929\u90e8\u63d0\u4e09\u6309\u4e5d\uff0c\u5de6\u637b\u591a\u53f3\u637b\u5c11\uff0c\u547c\u8fdb\u5438\u9000\uff1b\u70ed\u751f\u4ee5\u540e\u5c06\u9488\u4ece\u4eba\u90e8\u518d\u81f3\u5730\u90e8\u65f6\uff0c\u4e5f\u540c\u6837\u884c\u4e4b\u3002\u60a3\u8005\u5373\u611f\u6709\u9488\u4e0b\u53d1\u70ed\uff0c\u5e76\u80fd\u6cbf\u7ecf\u4f20\u5e03\uff0c\u4e0a\u4e0b\u5468\u6d41\u3002\u5f53\u9488\u6df1\u5165\u5730\u90e8\u540e\uff0c\u5c06\u9488\u518d\u63d0\u81f3\u4eba\u90e8\uff0c\u5982\u6b64\u53cd\u590d\u884c\u4e4b\u3002\u6700\u540e\u4e00\u6b21\u51fa\u9488\u81f3\u5929\u90e8\uff0c\u5c11\u505c\u518d\u5c3d\u51fa\u9488\uff0c\u75be\u626a\u5176\u7a74\u3002 \u900f\u5929\u51c9\uff1a\u900f\u5929\u51c9\u53ef\u9664\u70e6\u70ed\uff0c\u76f4\u9488\u81f3\u5730\u5f90\u540e\u64a4\u7d27\u63d0\u968f\u5438\u98df\u6307\u524d\uff0c\u6162\u6309\u968f\u547c\u98df\u540e\u8bf4\u9488\u4e0b\u51c9\u751f\u518d\u4e0a\u63d0\uff0c\u4e09\u9000\u4e00\u8fdb\u70ed\u81ea\u593a\u9000\u9488\u81f3\u5929\u518d\u5165\u6df1\uff0c\u5982\u6b64\u53cd\u590d\u540c\u524d\u64a4\u3002 \u6709\u6b4c\u66f0\uff1a\u201c\u900f\u5929\u51c9\u6cd5\u9000\u70ed\u70e7\uff0c\u4e00\u8fdb\u4e09\u98de\u51b7\u98ce\u98d8\u3002\u5148\u9488\u4e00\u5bf8\u9000\u4e94\u5206\uff0c\u4e09\u51fa\u4e09\u5165\u7d27\u63d0\u6d88\u201d\u3002 \u5148\u4e00\u6b21\u8fdb\u9488\u81f3\u5e94\u6709\u6df1\u5ea6\uff0c\u518d\u5148\u6df1\u540e\u6d45\uff0c\u5206\u5730\u3001\u4eba\u3001\u5929\u4e09\u90e8\u5f90\u5f90\u9000\u9488\u3002\u76f4\u9488\u5165\u5730\u5f97\u6c14\u540e\uff0c\u6ce8\u89c6\u60a3\u8005\u547c\u5438\uff0c\u7d27\u63d0\u6162\u6309\uff0c\u4e09\u9000\u4e00\u8fdb\uff0c\u76ee\u89c6\u60a3\u8005\uff0c\u624b\u4e0d\u79bb\u9488\u3002\u5f53\u60a3\u8005\u5438\u6c14\u65f6\u5411\u4e0a\u4e09\u6b21\u63d0\u9488\u4e3a\u4e3b\uff0c\u5e76\u7528\u98df\u524d\u62c7\u540e\u7a0d\u5411\u53f3\u637b\uff0c\u884c\u516d\u9634\u6570\u3002\u547c\u6c14\u65f6\u4e00\u6b21\u6309\u9488\u4e3a\u8f85\uff0c\u540c\u65f6\u62c7\u524d\u98df\u540e\u7a0d\u5411\u5de6\u637b\u3002\u5438\u6c14\u65f6\u53e3\u5507\u5fae\u5f00\uff0c\u4e09\u6b21\u7528\u53e3\u5438\u5165\u3002\u547c\u6c14\u65f6\u5373\u95ed\u5176\u53e3\uff0c\u4e00\u6b21\u7528\u9f3b\u547c\u51fa\u3002\u5f53\u9488\u4e0b\u53d1\u51c9\u65f6\uff0c\u5373\u9000\u9488\u81f3\u4eba\u90e8\uff0c\u65bd\u672f\u5982\u524d\u3002\u80fd\u4f7f\u51c9\u6c14\u5faa\u7ecf\u4f20\u5bfc\uff0c\u6700\u540e\u904d\u4f53\u6e05\u51c9\u3002\u51fa\u9488\u65f6\u4e0d\u6309\u9488\u5b54\u3002\u6240\u8c13\u4e00\u8fdb\u4e09\u98de\u6216\u4e00\u9000\u4e09\u98de\u8005\uff0c\u610f\u5373\u8fde\u7eed\u524d\u8fdb\u4e09\u6b21\u6216\u540e\u9000\u4e09\u6b21\uff0c\u8f7b\u5de7\u5feb\u6377\uff0c\u72b9\u5982\u9e1f\u4e4b\u98de\u7fd4\u4e5f\u3002","title":"\u5468\u6811\u4e1c\u3001\u5468\u6963\u58f0\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_10","text":"\u70e7\u5c71\u706b\u8865\u6cd5\uff1a\u9002\u7528\u4e8e\u865a\u5bd2\u75c7\u3002\u9009\u597d\u7a74\u4f4d\uff0c\u9488\u523a\u5f97\u6c14\u4ee5\u540e\uff0c\u8fd9\u65f6\u62c7\u6307\u7528\u529b\u5411\u524d\u4f5c\u9f99\u773c\u63a8\u65cb\uff0c\u5f53\u62c7\u6307\u5411\u524d\u63a8\u65cb\u5b8c\u6bd5\uff0c\u5de6\u624b\u62c7\u3001\u98df\u4e24\u6307\u7528\u529b\u5939\u4f4f\u9488\u67c4\u4e0a\u7aef\uff0c\u4e0d\u4f7f\u9488\u5411\u56de\u677e\u52b2\uff0c\u6025\u7528\u53f3\u624b\u62c7\u6307\u6307\u7532\uff0c\u4ece\u4e0a\u5411\u4e0b\u522e\u52a8\u9488\u67c4\u3002\u8fd9\u65f6\u75c5\u4eba\u9178\u9ebb\u7684\u611f\u89c9\uff0c\u5c31\u53d8\u4e3a\u70ed\u7684\u611f\u89c9\u3002\u8fd9\u79cd\u70ed\u7531\u9488\u7a74\u5c40\u90e8\u5411\u8fdc\u5904\u4f20\u5bfc\u3002 \u900f\u5929\u51c9\u6cfb\u6cd5\uff1a\u9002\u7528\u4e8e\u5b9e\u70ed\u75c7\u3002\u9009\u597d\u7a74\u4f4d\uff0c\u9488\u523a\u5f97\u6c14\u540e\uff0c\u62c7\u6307\u7528\u529b\u4ee5\u51e4\u773c\u6cd5\u5411\u540e\u62c9\u637b\uff0c\u6025\u7528\u5de6\u624b\u62c7\u3001\u98df\u4e8c\u6307\u5939\u4f4f\u9488\u67c4\u4e0a\u7aef\uff0c\u5939\u7684\u7d27\u70b9\uff0c\u56fa\u5b9a\u9488\u67c4\uff0c\u4e0d\u4f7f\u5b83\u5411\u56de\u677e\u52b2\uff0c\u7136\u540e\u7528\u53f3\u624b\u5c0f\u6307\u6307\u7532\uff0c\u4ece\u4e0b\u5411\u4e0a\u522e\u52a8\u9488\u67c4\u3002\u8fd9\u65f6\u75c5\u4eba\u5df2\u4ea7\u751f\u7684\u9178\u9ebb\u611f\u89c9\uff0c\u5c31\u4f1a\u53d8\u6210\u51c9\u7684\u611f\u89c9\u3002\u5176\u51c9\u4ece\u5185\u5411\u5916\uff0c\u76f4\u900f\u51fa\u6765\uff0c\u9887\u611f\u6109\u5feb\u3002","title":"\u5f6d\u9759\u5c71\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_11","text":"\u7075\u67a2\u7ecf\u4e91\uff1a\u201c\u523a\u8bf8\u70ed\u8005\u5982\u4ee5\u624b\u63a2\u6c64\u3002\u523a\u5bd2\u6e05\u8005\u5982\u4eba\u4e0d\u6b32\u884c\u3002\u201d\u6b64\u5373\u7ee7\u8d77\u8005\u7528\u900f\u5929\u51c9\u70e7\u5c71\u706b\u4e4b\u4e24\u624b\u6cd5\u3002\u9488\u7078\u5bb6\u5e08\u627f\u6709\u4e91\uff1a\u63d0\u9488\u4e3a\u70ed\u3002\u63d2\u9488\u4e3a\u5bd2\u3002\u5185\u8f6c\u4e3a\u6cfb\u3002\u5916\u8f6c\u4e3a\u8865\u3002\u8865\u6cfb\u4e4b\u6cd5\u3002\u53ef\u505c\u9488\u4faf\u6c14\u3002\u8fdf\u8fdf\u8f6c\u4e4b\u3002\u63d0\u63d2\u4e4b\u6cd5\u3002\u4e0d\u53ef\u504f\u7528\u3002\u76d6\u5c3d\u91cf\u63d2\u4e4b\u3002\u800c\u81f3\u4e8e\u9aa8\u3002\u5219\u4e0d\u53ef\u518d\u63d2\u3002\u5c3d\u91cf\u63d0\u4e4b\u3002\u800c\u9488\u4ee5\u5916\u51fa\u3002\u5219\u4e0d\u80fd\u518d\u7528\u3002\u6545\u5b9a\u4e3a\u4e09\u63d0\u4e00\u63d2\u3002\u63d0\u9488\u547c\u6c14\u3002\u63d2\u9488\u5438\u6c14\u3002\u4e3a\u70e7\u5c71\u706b\u3002\u76d6\u63d0\u6570\u591a\u3002\u5219\u6c14\u4e4b\u51fa\u4e8e\u536b\u5206\u8005\u591a\u632f\u632f\u6076\u5bd2\u4e4b\u8bc1\u3002\u7528\u6b64\u624b\u6cd5\u3002\u9633\u65e5\u7528\u5076\u6570\u3002\u9634\u65e5\u7528\u5947\u6570\u3002\u5fc5\u80fd\u4f7f\u4e4b\u53d1\u70ed\u3002 \u53cd\u8a00\u4e4b\uff0c\u4e09\u63d2\u4e00\u63d0\uff0c\u63d2\u9488\u5438\u6c14\uff0c\u63d0\u9488\u547c\u6c14\uff0c\u4e3a\u900f\u5929\u51c9\u3002\u76d6\u63d2\u6570\u591a\uff0c\u5219\u6c14\u4e4b\u5165\u4e8e\u8425\u5206\u8005\u591a\u84b8\u84b8\u53d1\u70ed\u4e4b\u8bc1\u3002\u7528\u6b64\u624b\u6cd5\uff0c\u9633\u65e5\u7528\u5947\u6570\uff0c\u9634\u65e5\u7528\u5076\u6570\uff0c\u5fc5\u80fd\u4f7f\u5176\u9000\u70ed\u3002\u9664\u5bd2\u9000\u70ed\uff0c\u4e43\u9488\u7078\u5bb6\u5fc5\u8981\u4e4b\u624b\u6cd5\uff0c\u6545\u7075\u67a2\u7ecf\u5217\u4e8e\u7b2c\u4e00\u7bc7\u4e5d\u9488\u5341\u4e8c\u539f\u4e4b\u672b\uff0c\u7b49\u4e8e\u51a0\u8bf8\u672c\u8167\u7bc7\u4e4b\u9996\u4e5f\u3002\u4ee5\u4e0a\u6240\u8a00\u70e7\u5c71\u706b\u900f\u5929\u51c9\u4e4b\u6b63\u6cd5\uff0c\u4e43\u7537\u7528\u4e8e\u5348\u524d\uff0c\u5973\u7528\u4e8e\u5348\u540e\u3002\u5982\u7537\u5b50\u5348\u540e\uff0c\u6709\u5927\u5bd2\u8bc1\u5927\u70ed\u8bc1\uff0c\u5f53\u7528\u70e7\u5c71\u706b\u900f\u5929\u51c9\u8005\uff0c\u5219\u53cd\u800c\u7528\u4e4b\uff1b\u5982\u5973\u5b50\u5348\u524d\u6709\u5927\u5bd2\u8bc1\u5927\u70ed\u8bc1\uff0c\u5f53\u7528\u70e7\u5c71\u706b\u900f\u5929\u51c9\u8005\uff0c\u4ee5\u53cd\u800c\u7528\u4e4b\u3002\u6b4c\u66f0\uff1a\u4e09\u63d2\u4e00\u63d0\u900f\u5929\u51c9\uff0c\u4e09\u63d0\u4e00\u63d2\u706b\u70e7\u5c71\uff0c\u63d0\u9488\u5439\u6c14\u63d2\u9488\u5438\uff0c\u5973\u5348\u540e\u516e\u7537\u5348\u524d\u3002","title":"\u5434\u502c\u4ed9\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_12","text":"\u70e7\u5c71\u706b\uff1a\u70e7\u5c71\u706b\uff08\u70ed\u8865\u6cd5\uff09\u662f\u6307\u65bd\u672f\u540e\u75c5\u4eba\u81ea\u89c9\u7a74\u4f4d\u9488\u4e0b\u6709\u70ed\u611f\u3002\u6b64\u6cd5\u5e38\u7528\u4e8e\u6cbb\u7597\u5bd2\u8bc1\u3001\u865a\u8bc1\u3002\u5b83\u5c06\u7a74\u4f4d\u5206\u5929\u3001\u4eba\u3001\u5730\u4e09\u90e8\u5206\u8fdb\u884c\u64cd\u4f5c\uff0c\u8868\u5c42\u4e3a\u5929\uff0c\u4e2d\u95f4\u4e3a\u4eba\uff0c\u6df1\u5c42\u4e3a\u5730\u3002\u65b9\u6cd5\u662f\u8fdb\u9488\u5f97\u6c14\u540e\u6d45\u5c42\u4e3a\u5929\u90e8\uff0c\u64cd\u4f5c\u62c7\u6307\u5411\u524d\u5355\u65b9\u5411\u637b\u8f6c\uff08\u987a\u65f6\u9488\uff09\uff0c\u637b\u8f6c\u5ea6\u4e3a120\u5ea6\uff0c\u9891\u7387\u4e3a\u6bcf\u5206\u949f80~100\u6b21\uff0c\u637b\u8f6c\u540c\u65f6\u5c06\u9488\u63d0\u63d2\uff0c\u63d2\u65f6\u7528\u529b\u8981\u91cd\uff0c\u63d0\u65f6\u7528\u529b\u8981\u8f7b\uff0c\u79f0\u91cd\u6309\u8f7b\u63d0\u3002\u5929\u90e8\u637b\u8f6c\u63d0\u63d29\u6b21\uff0c\u5b8c\u6bd5\uff0c\u7136\u540e\u5c06\u9488\u8fdb\u5165\u4eba\u90e8\uff0c\u540c\u6cd5\u65bd\u672f\uff0c\u5b8c\u6bd5\uff0c\u518d\u5c06\u9488\u8fdb\u5165\u5730\u90e8\uff0c\u540c\u6cd5\u65bd\u672f\uff0c\u5b8c\u6bd5\u540e\u5c06\u9488\u63d0\u81f3\u5929\u90e8\u53ef\u91cd\u590d\u4e0a\u8ff0\u64cd\u4f5c3~4\u6b21\uff0c\u76f4\u81f3\u75c5\u4eba\u6709\u70ed\u611f\uff0c\u6bcf\u96945~7\u5206\u949f\u884c\u9488\u4e00\u6b21\u3002 \u900f\u5929\u51c9\uff1a\u900f\u5929\u51c9\uff08\u51c9\u6cfb\u6cd5\uff09\u662f\u6307\u65bd\u672f\u540e\u75c5\u4eba\u7a74\u4f4d\u9488\u4e0b\u81ea\u89c9\u51c9\u611f\uff0c\u5e38\u7528\u4e8e\u6cbb\u7597\u70ed\u8bc1\u3001\u5b9e\u8bc1\u3002\u5b83\u4ea6\u662f\u5c06\u7a74\u4f4d\u5206\u5929\u3001\u4eba\u3001\u5730\u4e09\u90e8\u8fdb\u884c\uff0c\u4f46\u6b64\u6cd5\u4e0e\u70e7\u5c71\u706b\u64cd\u4f5c\u76f8\u53cd\uff0c\u7531\u6df1\u5c42\u5373\u5730\u90e8\u5f00\u59cb\uff0c\u64cd\u4f5c\u62c7\u6307\u5411\u540e\u5355\u65b9\u5411\u637b\u8f6c\uff08\u9006\u65f6\u9488\uff09\uff0c\u637b\u8f6c\u5ea6\u4e3a140\u5ea6\u5de6\u53f3\uff0c\u9891\u7387\u6bcf\u5206\u949f60~80\u6b21\uff0c\u637b\u8f6c\u540c\u65f6\u5c06\u9488\u63d0\u63d2\uff0c\u63d2\u65f6\u7528\u529b\u8981\u8f7b\uff0c\u63d0\u65f6\u7528\u529b\u8981\u91cd\uff0c\u79f0\u8f7b\u6309\u91cd\u63d0\u3002\u5730\u90e8\u637b\u8f6c\u63d0\u63d26\u6b21\uff0c\u5b8c\u6bd5\uff0c\u7136\u540e\u5c06\u9488\u9000\u81f3\u4eba\u90e8\uff0c\u540c\u6cd5\u65bd\u672f\u5b8c\u6bd5\uff0c\u518d\u5c06\u9488\u9000\u81f3\u5929\u90e8\uff0c\u540c\u6cd5\u65bd\u672f\uff0c\u5b8c\u6bd5\u540e\u5c06\u9488\u8fdb\u5165\u5730\u90e8\uff0c\u53ef\u91cd\u590d\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u76f4\u81f3\u75c5\u4eba\u6709\u51c9\u611f\uff0c\u6bcf\u96945~7\u5206\u949f\u884c\u9488\u4e00\u6b21\u3002","title":"\u5218\u70b3\u6743\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_13","text":"\u7f57\u8001\u5148\u751f\u70e7\u5c71\u706b\uff1a\u62c7\u6307\u4e0e\u4e2d\u6307\u5939\u9488\uff0c\u6210\u5170\u82b1\u5f0f\uff0c\u5f85\u75c5\u4eba\u547c\u6c14\u65f6\u8fdb\u9488\u5929\u90e8\uff08\u5e94\u523a\u6df1\u5ea6\u7684\u4e0a1/3\u5904\uff09\uff0c\u5de6\u637b\u4e5d\u6570\uff1b\u518d\u547c\uff0c\u518d\u8fdb\u5165\u4eba\u90e8\uff08\u5e94\u523a\u6df1\u5ea6\u7684\u4e2d1/3\u5904\uff09\uff0c\u884c\u4e5d\u6570\uff1b\u518d\u547c\uff0c\u518d\u8fdb\u5165\u5730\u90e8\uff08\u4e0b1/3\u5904\uff09\uff0c\u884c\u4e5d\u6570\u3002\u4faf\u75c5\u4eba\u5438\u6c14\u65f6\uff0c\u5c06\u9488\u4e00\u6b21\u63d0\u81f3\u5929\u90e8\uff0c\u53cd\u590d\u884c\u4e4b\uff0c\u5171\u4e5d\u4e5d\u516b\u5341\u4e00\u637b\uff0c\u5219\u75c5\u4eba\u81ea\u89c9\u70ed\u6c14\u5185\u751f\u77e3\u3002 \u884c\u6b64\u6cd5\u987b\u6ce8\u610f\u56db\u70b9\uff1a \u4e00\u662f\u9002\u5b9c\u4e8e\u865a\u8bc1\u3001\u5bd2\u8bc1\uff0c\u51e1\u706b\u8bc1\u3001\u5b9e\u8bc1\u5747\u7981\u7528\u4e4b\uff1b \u4e8c\u662f\u884c\u9488\u65f6\uff0c\u805a\u7cbe\u4f1a\u795e\uff0c\u7ec6\u5fc3\u89c2\u5bdf\u75c5\u4eba\u547c\u5438\u4e0e\u637b\u8f6c\u8282\u5f8b\uff0c\u4e0d\u53ef\u7d0a\u4e71\uff1b \u4e09\u662f\u637b\u529b\u8f7b\u5f90\u5747\u8861\uff0c\u4e0d\u53ef\u5ffd\u8f7b\u5ffd\u91cd\uff0c\u5ffd\u5feb\u5ffd\u6162\uff1b \u56db\u662f\u5438\u6c14\u63d0\u9488\u65f6\uff0c\u4ee5\u51c0\u5dfe\u63a9\u75c5\u4eba\u53e3\u9f3b\u3002 \u900f\u5929\u51c9\uff1a\u62c7\u6307\u4e0e\u98df\u6307\u6301\u9488\uff0c\u6210\u5c55\u7fc5\u5f0f\uff0c\u5f85\u75c5\u4eba\u5438\u6c14\u65f6\uff0c\u5c06\u9488\u4e00\u6b21\u8fdb\u5165\u5730\u90e8\uff0c\u53f3\u637b\u516d\u6570\uff0c\u547c\u6c14\u65f6\u5c06\u9488\u6162\u63d0\u81f3\u4eba\u90e8\uff0c\u884c\u516d\u6570\uff1b\u518d\u547c\uff0c\u518d\u63d0\u81f3\u5929\u90e8\uff0c\u884c\u516d\u6570\u3002\u5982\u6b64\u518d\u5438\u518d\u63d2\uff0c\u53cd\u590d\u884c\u4e4b\uff0c\u516d\u516d\u4e09\u5341\u516d\u6570\uff0c\u5219\u75c5\u4eba\u81ea\u89c9\u5bd2\u51b7\u5185\u751f\u77e3\u3002 \u884c\u6b64\u6cd5\u4ea6\u987b\u6ce8\u610f\u56db\u70b9\uff1a \u4e00\u662f\u9002\u7528\u4e8e\u706b\u8bc1\u3001\u5b9e\u8bc1\uff1b \u4e8c\u8981\u805a\u7cbe\u4f1a\u795e\uff0c\u637b\u8f6c\u5408\u62cd\uff1b \u4e09\u8981\u637b\u91cd\u3001\u63d0\u6162\u3001\u63d2\u5feb\uff0c\u6307\u529b\u5747\u8861\uff1b \u56db\u4ee4\u75c5\u4eba\u4ee5\u9f3b\u547c\u6c14\uff0c\u4ee5\u53e3\u5438\u6c14\u3002","title":"\u7f57\u9038\u4ed9\u3001\u5f20\u9e73\u4e00\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_14","text":"\u70e7\u5c71\u706b\uff1a\u5c06\u9488\u523a\u5165\u5e94\u9488\u6df1\u5ea6\u76841/2\u65f6\uff0c\u884c\u5de6\u53f3\u637b\u8f6c\u624b\u6cd59\u6b21\u4ee5\u4faf\u6c14\uff0c\u82e5\u89c9\u9488\u4e0b\u6c89\u7d27\uff0c\u518d\u523a\u5165\u5e94\u523a\u6df1\u5ea6\uff0c\u6025\u884c\u4e09\u51fa\u4e09\u5165\uff0c\u6162\u63d0\u7d27\u6309\u7684\u63d0\u63d2\u637b\u8f6c\u624b\u6cd5\uff0c\u4e00\u822c\u53ef\u4f7f\u9488\u4e0b\u4ea7\u751f\u70ed\u611f\u3002 \u900f\u5929\u51c9\uff1a\u5c06\u9488\u523a\u5165\u5e94\u9488\u6df1\u5ea6\uff0c\u5373\u884c\u5de6\u53f3\u637b\u8f6c\u624b\u6cd56\u6b21\u4ee5\u4faf\u6c14\uff0c\u82e5\u89c9\u9488\u4e0b\u6c89\u7d27\uff0c\u518d\u5c06\u9488\u63d0\u8d771/2\uff0c\u6025\u884c\u4e09\u5165\u4e09\u51fa\uff0c\u7d27\u63d0\u6162\u6309\u7684\u63d0\u63d2\u637b\u8f6c\u624b\u6cd5\uff0c\u4e00\u822c\u80fd\u4f7f\u9488\u4e0b\u4ea7\u751f\u51c9\u611f\u3002","title":"\u697c\u767e\u5c42\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_15","text":"\u70e7\u5c71\u706b\uff1a \uff081\uff09\u884c\u964d\u9634\u6cd5\uff1a\u7528\u5de6\u624b\u62bc\u51c6\u7a74\u4f4d\uff0c\u53f3\u624b\u6301\u9488\u523a\u5165\u7a74\u5185\u3002\u9488\u52063\u6b21\u6e10\u6b21\u7684\u4e0b\u964d\uff0c\u5148\u8fdb\u81f3\u76ae\u4e0b\u5929\u90e8\uff0c\u6b21\u8fdb\u81f3\u4eba\u90e8\uff0c\u518d\u8fdb\u81f3\u5730\u90e8\uff0c\u6700\u540e\u518d\u7531\u5730\u90e8\u76f4\u63a5\u63d0\u51fa\u4e8e\u76ae\u80a4\u5916\u9762\u3002\u6b64\u6cd5\u7684\u8981\u70b9\u662f\u5148\u6d45\u540e\u6df1\uff0c\u4f7f\u9488\u529b\u7740\u91cd\u4e8e\u6df1\u90e8\uff0c\u5f90\u5185\u75be\u51fa\u3002 \uff082\uff09\u5728\u9178\u9ebb\u80c0\u91cd\u611f\u89c9\u7684\u57fa\u7840\u4e0a\u637b\u9488\u65f6\uff0c\u4f7f\u6307\u529b\u5411\u4e0b\uff0c\u5c06\u9488\u5411\u5de6\u65b9\u5411\u637b\u8f6c\uff0c\u6bcf\u6b21180\u5ea6~360\u5ea6\uff0c\u5373\u5c06\u9488\u523a\u7684\u53f3\u624b\uff08\u523a\u624b\uff09\u62c7\u6307\u5411\u524d\u8fdb\u3001\u98df\u6307\u540e\u9000\u7684\u637b\u8f6c\u65b9\u5411\uff0c\u53cd\u590d\u884c\u4e4b\uff0c\u6709\u7684\u60a3\u8005\u5373\u53ef\u4ea7\u751f\u70ed\u7684\u611f\u89c9\u3002 \uff083\uff09\u6162\u6309\u7d27\u63d0\uff0c\u6b64\u201c\u7d27\u201d\u5b57\u7684\u6db5\u4e49\u4f5c\u201c\u91cd\u201d\u5b57\u89e3\u3002\u201c\u6162\u201d\u5b57\u7684\u6db5\u4e49\u4f5c\u201c\u8f7b\u201d\u5b57\u89e3\u3002\u8fdb\u9488\u5728\u5929\u4eba\u5730\u90e8\u63d0\u63d2\u9488\u65f6\uff0c\u8981\u7528\u91cd\u63d2\u8f7b\u63d0\u3002 \uff084\uff09\u884c\u4e5d\u9633\u6570\uff1a\uff08\u5468\u6613\uff1a\u5355\u6570\u3001\u5947\u6570\u4e3a\u9633\uff0c\u4e5d\u6570\u4e3a\u8001\u9633\uff0c\u4e03\u6570\u4e3a\u5c11\u9633\u3002\uff09\u8fdb\u9488\u5728\u5929\u4eba\u5730\u90e8\u637b\u8f6c\uff08\u6216\u63d0\u63d2\uff093\u6b21\uff0c\u4e09\u4e09\u5f97\u4e5d\uff0c\u4e3a\u4e5d\u9633\u6570\uff08\u4ea6\u53ef\u5728\u6bcf\u90e8\u5404\u884c\u4e5d\u9633\u6570\uff09\u53ef\u5c11\u505c\uff0c\u53cd\u590d\u884c\u4e4b\u3002\u7ba1\u8001\u5728\u884c\u4e5d\u9633\u6570\u65f6\uff0c\u5f3a\u8c03\u5b9e\u6548\uff0c\u4e0d\u6ce5\u4e8e\u53e4\u6570\uff0c\u6ce8\u91cd\u75c5\u4eba\u4f53\u8d28\u3001\u654f\u611f\u7a0b\u5ea6\u7b49\u5ba2\u89c2\u60c5\u51b5\uff0c\u6240\u4ee5\u6709\u65f6\u4ec5\u7528\u4e09\u4e09\u5f97\u4e5d\uff0c\u6709\u65f6\u7528\u4e09\u4e5d\u4e8c\u5341\u4e03\u2026\u2026\u7075\u6d3b\u8fd0\u7528\u3002 \uff085\uff09\u968f\u800c\u6d4e\u4e4b\uff1a\u968f\u987a\u5176\u7ecf\u6c14\u7684\u6d41\u884c\u800c\u8865\u5176\u6c14\uff0c\u5982\u624b\u4e4b\u4e09\u9634\u7ecf\u53ca\u8db3\u4e4b\u4e09\u9633\u7ecf\uff0c\u662f\u4ece\u4e0a\u800c\u4e0b\uff0c\u4e8e\u523a\u9488\u540e\u637b\u63d2\u65f6\uff0c\u4f7f\u9ebb\u9178\u80c0\u91cd\u611f\u89c9\uff0c\u5411\u4e0b\u4f20\u8fbe\uff0c\u4e0e\u7ecf\u6c14\u7684\u53bb\u8def\u76f8\u987a\u3002\u7ba1\u8001\u4e0d\u4ec5\u91cd\u89c6\u9488\u523a\u65b9\u5411\u987a\u884c\u7ecf\u6c14\uff0c\u66f4\u5f3a\u8c03\u9488\u611f\u987a\u5e94\u7ecf\u6c14\uff0c\u5e76\u4e14\u5de7\u5999\u5730\u5e94\u7528\u62bc\u624b\u3001\u5faa\u7ecf\u3001\u963b\u538b\u7b49\u8f85\u52a9\u624b\u6cd5\u5c61\u80fd\u8fbe\u5230\u9488\u611f\u987a\u7ecf\u4e4b\u76ee\u7684\u3002 \uff086\uff09\u884c\u9707\u522e\u672f\uff1a\u5148\u7528\u5de6\u624b\u6307\u56fa\u5b9a\u9488\u4f53\uff0c\u518d\u7528\u53f3\u624b\u62c7\u6307\u5411\u4e0b\u9707\u522e\u9488\u67c4\uff0c\u6216\u53f3\u624b\u98df\u6307\u505a\u56fa\u5b9a\uff0c\u53f3\u624b\u62c7\u6307\u5411\u4e0b\u9707\u522e\u9488\u67c4\uff0c\u9707\u522e30~60\u6b21\uff0c\u6bcf\u53ef\u4ea7\u751f\u70ed\u7684\u611f\u89c9\u3002 \uff087\uff09\u4e58\u75c5\u4eba\u547c\u6c14\u8fdb\u9488\uff0c\u5438\u6c14\u51fa\u9488\u3002 \uff088\uff09\u51fa\u9488\u540e\uff0c\u7acb\u5373\u4ee5\u6307\uff08\u6216\u68c9\u7403\uff09\u6309\u63c9\u9488\u5b54\uff0c\u4ee5\u6276\u6b63\u6c14\uff0c\u4f7f\u771f\u6c14\u5b58\u7559\uff0c\u4e0d\u4efb\u5df2\u5165\u4e4b\u9633\u6c14\u5916\u9038\u3002 \u900f\u5929\u51c9\uff1a \uff081\uff09\u884c\u5347\u9633\u6cd5\uff1a\u62bc\u624b\u53ca\u523a\u624b\u5f0f\uff0c\u540c\u70e7\u5c71\u706b\u3002\u4e0d\u540c\u4e4b\u70b9\u662f\uff0c\u5c06\u9488\u76f4\u523a\u5165\u5730\u90e8\uff0c\u7136\u540e\u52063\u6b21\uff0c\u4f5c\u9636\u68af\u72b6\uff0c\u7ecf\u4eba\u90e8\u5929\u90e8\u63d0\u51fa\u4e8e\u76ae\u80a4\u5916\u3002\u6b64\u6cd5\u7684\u8981\u70b9\u662f\u5148\u6df1\u540e\u6d45\uff0c\u4f7f\u9488\u529b\u7740\u91cd\u4e8e\u6d45\u5c42\uff0c\u75be\u5185\u5f90\u51fa\u3002 \uff082\uff09\u5728\u9178\u9ebb\u80c0\u91cd\u611f\u89c9\u7684\u57fa\u7840\u4e0a\u637b\u9488\u65f6\uff0c\u4f7f\u6307\u529b\u5411\u4e0a\uff0c\u5c06\u9488\u5411\u53f3\u65b9\u5411\u637b\u8f6c\uff0c\u6bcf\u6b2190\u5ea6~180\u5ea6\uff0c\u5373\u5c06\u6301\u9488\u7684\u53f3\u624b\uff08\u523a\u624b\uff09\u62c7\u6307\u9000\u540e\u3001\u98df\u6307\u524d\u8fdb\u7684\u637b\u8f6c\u65b9\u5411\uff0c\u53cd\u590d\u884c\u4e4b\uff0c\u6709\u7684\u60a3\u8005\u5373\u53ef\u4ea7\u751f\u51c9\u7684\u611f\u89c9\u3002 \uff083\uff09\u7d27\u63d0\u6162\u6309\uff0c\u9000\u9488\u5728\u5730\u4eba\u5929\u90e8\u63d0\u63d2\u9488\u65f6\uff0c\u7528\u91cd\u63d0\u8f7b\u63d2\u3002 \uff084\uff09\u884c\u516d\u9634\u6570\uff1a\uff08\u5468\u6613\uff1a\u53cc\u6570\u3001\u5076\u6570\u4e3a\u9634\uff0c\u516d\u6570\u4e3a\u8001\u9634\uff0c\u516b\u6570\u4e3a\u5c11\u9634\u3002\uff09\u9000\u9488\u5728\u5730\u4eba\u5929\u90e8\u637b\u8f6c\uff08\u6216\u63d0\u63d2\uff09\u65f6\uff0c\u9488\u5c16\u5411\u4e0a\u63d0\u8d77\uff0c\u4f7f\u529b\u5728\u9488\u4f53\uff0c\u6bcf\u90e8\u5404\u637b\u8f6c\uff08\u6216\u63d0\u63d2\uff092\u6b21\uff0c\u4e8c\u4e09\u5f97\u516d\uff0c\u4e3a\u516d\u9634\u6570\uff08\u4ea6\u53ef\u5728\u6bcf\u90e8\u5404\u884c\u516d\u9634\u6570\uff09\u53ef\u5c11\u505c\uff0c\u53cd\u590d\u884c\u4e4b\u3002 \uff085\uff09\u8fce\u800c\u593a\u4e4b\uff1a\u4e0e\u7ecf\u7edc\u5faa\u884c\u7684\u6765\u6e90\u53bb\u8def\u76f8\u53cd\uff0c\u5982\u624b\u4e4b\u4e09\u9633\u53ca\u8db3\u4e4b\u4e09\u9634\u7ecf\uff0c\u662f\u4ece\u4e0b\u5411\u4e0a\uff0c\u4e8e\u523a\u9488\u637b\u63d2\u65f6\uff0c\u4f7f\u9178\u9ebb\u80c0\u91cd\u611f\u89c9\u5411\u4e0b\u4f20\u8fbe\uff0c\u4e0e\u7ecf\u6c14\u7684\u6765\u8def\u76f8\u9006\u3002 \uff086\uff09\u884c\u9707\u522e\u672f\uff1a\u5148\u7528\u5de6\u624b\u62c7\u6307\u56fa\u5b9a\u9488\u4f53\uff0c\u518d\u7528\u53f3\u624b\u98df\u6307\uff08\u6216\u62c7\u6307\uff09\u5411\u4e0a\u9707\u522e\u9488\u67c4\uff0c\u6216\u4ee5\u53f3\u624b\u98df\u6307\u56fa\u5b9a\uff0c\u53f3\u624b\u62c7\u6307\u5411\u4e0a\u9707\u522e\u9488\u67c4\uff0c\u9707\u522e30~60\u6b21\uff0c\u6bcf\u53ef\u4ea7\u751f\u51c9\u7684\u611f\u89c9\u3002 \uff087\uff09\u4e58\u75c5\u4eba\u5438\u6c14\u8fdb\u9488\uff0c\u547c\u6c14\u51fa\u9488\u3002 \uff088\uff09\u51fa\u9488\u65f6\uff0c\u5c06\u9488\u6447\u52a8\uff0c\u4f7f\u9488\u5b54\u6269\u5927\uff0c\u53bb\u9488\u540e\u4e0d\u63c9\u9488\u5b54\uff0c\u4ee5\u6cfb\u6563\u5176\u90aa\u6c14\u3002","title":"\u7ba1\u6b63\u658b\u7684\u70e7\u5c71\u706b\u3001\u900f\u5929\u51c9"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%83%A7%E5%B1%B1%E7%81%AB%E4%B8%8E%E9%80%8F%E5%A4%A9%E5%87%89%E6%89%8B%E6%B3%95/#_16","text":"\u70ed\u8865\u6cd5\uff1a\u533b\u751f\u5de6\u624b\u98df\u6307\u6216\u62c7\u6307\u7d27\u6309\u9488\u7a74\uff0c\u53f3\u624b\u5c06\u9488\u523a\u5165\u7a74\u5185\uff0c\u5019\u5176\u6c14\u81f3\uff0c\u5de6\u624b\u52a0\u91cd\u538b\u529b\uff0c\u53f3\u624b\u62c7\u6307\u5411\u524d\u8fde\u7eed\u637b\u63093-5\u6b21\uff0c\u5019\u9488\u4e0b\u6c89\u7d27\uff0c\u9488\u5c16\u62c9\u7740\u6709\u611f\u5e94\u7684\u90e8\u4f4d\uff0c\u8fde\u7eed\u7d27\u6309\u6162\u63d03-5\u6b21\uff0c\u62c7\u6307\u518d\u5411\u524d\u8fde\u7eed\u637b\u63093-5\u6b21\uff0c\u9488\u5c16\u9876\u7740\u4ea7\u751f\u611f\u89c9\u7684\u90e8\u4f4d\u5b88\u6c14\uff0c\u4f7f\u9488\u4e0b\u7ee7\u7eed\u6c89\u7d27\uff0c\u4ea7\u751f\u70ed\u611f\u3002\u6839\u636e\u75c5\u60c5\u7559\u9488\u540e\uff0c\u7f13\u6162\u5c06\u9488\u62d4\u51fa\uff0c\u901f\u95ed\u9488\u5b54\u3002 \u51c9\u6cfb\u6cd5\uff1a\u533b\u751f\u5de6\u624b\u98df\u6307\u6216\u62c7\u6307\u7d27\u6309\u9488\u7a74\uff0c\u53f3\u624b\u6301\u9488\u523a\u5165\u7a74\u5185\uff0c\u5019\u5176\u6c14\u81f3\uff0c\u5de6\u624b\u51cf\u8f7b\u538b\u529b\uff0c\u53f3\u624b\u62c7\u6307\u5411\u540e\u8fde\u7eed\u637b\u63d03-5\u6b21\uff0c\u5019\u9488\u4e0b\u6c89\u7d27\uff0c\u63d0\u9000\u4e00\u5206\u8bb8\uff0c\u9488\u5c16\u5411\u6709\u611f\u5e94\u7684\u90e8\u4f4d\uff0c\u8fde\u7eed\u7d27\u63d0\u6162\u63093-5\u6b21\uff1b\u62c7\u6307\u5411\u540e\u518d\u8fde\u7eed\u637b\u63d03-5\u6b21\uff0c\u9488\u5c16\u62c9\u7740\u4ea7\u751f\u611f\u89c9\u7684\u90e8\u4f4d\u5b88\u6c14\uff0c\u4f7f\u9488\u4e0b\u677e\u6ed1\uff0c\u4ea7\u751f\u51c9\u611f\u3002\u6839\u636e\u75c5\u60c5\u7559\u9488\u540e\uff0c\u6025\u901f\u5c06\u9488\u62d4\u51fa\uff0c\u4e0d\u626a\u9488\u5b54\u3002","title":"\u90d1\u6bd3\u7433\u3001\u90d1\u9b41\u5c71\u3001\u674e\u5fd7\u660e\u7684\u7b80\u6613\u51c9\u70ed\u8865\u6cfb\u6cd5"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%BB%8F%E7%BB%9C%E5%B9%B2%E6%94%AF/","text":"\u7ecf\u7edc\u5929\u5e72 \u7532\u80c6\u4e59\u809d\u4e19\u5c0f\u80a0\uff0c\u4e01\u5fc3\u620a\u80c3\u5df1\u813e\u4e61\u3002 \u5e9a\u5c5e\u5927\u80a0\u8f9b\u5c5e\u80ba\uff0c\u58ec\u4e3a\u8180\u80f1\u7678\u80be\u810f\u3002 \u4e09\u7126\u4ea6\u5411\u58ec\u4e2d\u5bc4\uff0c\u5fc3\u5305\u540c\u5f52\u4e8e\u7678\u6c34\u3002 \u7ecf\u7edc\u5730\u652f \u80ba\u5bc5\u5927\u536f\u80c3\u8fb0\u5bab\uff0c \u813e\u5df3\u5fc3\u5348\u5c0f\u672a\u4e2d\uff0c \u7533\u80f1\u9149\u80be\u5fc3\u5305\u620c\uff0c \u4ea5\u7126\u5b50\u80c6\u4e11\u809d\u901a\u3002 \u5730\u652f\u4e3b\u8981\u53ef\u7528\u4e8e\u8fa9\u8bc1\u4e0e\u9a8c\u8bc1\u7597\u6548","title":"\u7ecf\u7edc\u5929\u5e72"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%BB%8F%E7%BB%9C%E5%B9%B2%E6%94%AF/#_1","text":"\u7532\u80c6\u4e59\u809d\u4e19\u5c0f\u80a0\uff0c\u4e01\u5fc3\u620a\u80c3\u5df1\u813e\u4e61\u3002 \u5e9a\u5c5e\u5927\u80a0\u8f9b\u5c5e\u80ba\uff0c\u58ec\u4e3a\u8180\u80f1\u7678\u80be\u810f\u3002 \u4e09\u7126\u4ea6\u5411\u58ec\u4e2d\u5bc4\uff0c\u5fc3\u5305\u540c\u5f52\u4e8e\u7678\u6c34\u3002","title":"\u7ecf\u7edc\u5929\u5e72"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E7%BB%8F%E7%BB%9C%E5%B9%B2%E6%94%AF/#_2","text":"\u80ba\u5bc5\u5927\u536f\u80c3\u8fb0\u5bab\uff0c \u813e\u5df3\u5fc3\u5348\u5c0f\u672a\u4e2d\uff0c \u7533\u80f1\u9149\u80be\u5fc3\u5305\u620c\uff0c \u4ea5\u7126\u5b50\u80c6\u4e11\u809d\u901a\u3002 \u5730\u652f\u4e3b\u8981\u53ef\u7528\u4e8e\u8fa9\u8bc1\u4e0e\u9a8c\u8bc1\u7597\u6548","title":"\u7ecf\u7edc\u5730\u652f"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%AB%98%E8%A1%80%E5%8E%8B%E8%BE%A8%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/","text":"\u9ad8\u8840\u538b#\u4e3b\u8981\u7531\u4e8e\u809d\u80be\u9634\u9633\u5931\u8c03\uff0c\u4e5f\u53ef\u517c\u5939\u75f0\u6e7f\uff0c\u5176\u4e2d\uff1a \u809d\u9633\u4e0a\u4ea2\u8005\u53ef\u89c1\u5934\u75db\u3001\u9762\u7ea2\u8033\u8d64\u3001\u53e3\u5e72\u3001\u5fc3\u70e6\u6613\u6012\u3001\u4fbf\u79d8\u3001\u82d4\u9ec4\u3001\u8109\u5f26\u6709\u529b\uff1b \u809d\u80be\u9634\u865a\u8005\u53ef\u89c1\u7729\u6655\u8033\u9e23\u3001\u8170\u9178\u817f\u8f6f\u3001\u5fc3\u60b8\u4e0d\u5bd0\u3001\u820c\u8d28\u7ea2\u3001\u8109\u5f26\u6570\uff1b \u517c\u5939\u75f0\u6e7f\u53ef\u89c1\u80f8\u95f7\u3001\u5fc3\u60b8\u3001\u80a2\u4f53\u9ebb\u6728\u3001\u5f62\u4f53\u591a\u80d6\u3001\u820c\u8d28\u7ea2\u3001\u8109\u5f26\u6ed1\u3002 \u8fa8\u8bc1\u5206\u7ecf \u6309\u7ecf\u7edc\u75c5\u5019\u5c5e\u4e8e#\u624b\u5c11\u9634\u5fc3\u7ecf#\u3001#\u8db3\u5c11\u9634\u80be\u7ecf#\u3001#\u8db3\u53a5\u9634\u809d\u7ecf# \u5e38\u7528\u601d\u8def \u6e05\u809d\u6cfb\u70ed \u9002\u7528\u4e8e\u809d\u706b\u70bd\u76db\uff0c\u653b\u51b2\u5934\u76ee\uff1b\u75c7\u89c1\u5934\u75db\u4e14\u6da8\u3001\u53e3\u82e6\u54bd\u5e72\u3001\u80f8\u4e2d\u70e6\u70ed\u3001\u6025\u8e81\u6613\u6012\u3001\u591c\u5bd0\u4e0d\u5b89\u3001\u5927\u4fbf\u5e72\u7ed3\u3001\u5c0f\u4fbf\u77ed\u9ec4\u3001\u820c\u7ea2\u82d4\u9ec4\u3001\u8109\u5f26\u6ed1\u800c\u6570\u3002 \u5e73\u809d\u606f\u98ce \u9002\u7528\u4e8e\u809d\u9633\u4e0a\u4ea2\u3001\u6c14\u8840\u4e0a\u9006\u3001\u6216\u809d\u98ce\u5185\u52a8\u4e4b\u9ad8\u8840\u538b\u75c5\u8005\u3002\u75c7\u89c1\u5934\u6655\u5934\u75db\u3001\u5fc3\u70e6\u8033\u9e23\u3001\u9762\u7ea2\u8033\u8d64\u3001\u5931\u7720\u5065\u5fd8\u3001\u5669\u68a6\u7eb7\u7ead\u3001\u7729\u6655\u6b32\u6251\u3001\u5934\u75db\u5982\u63a3\u3001\u53cc\u624b\u98a4\u6296\u3001\u8bed\u8a00\u4e0d\u5229\u3001\u6b65\u5c65\u4e0d\u7a33\u3001\u820c\u7ea2\u82d4\u767d\u3001\u8109\u5f26\u6570\u6216\u5f26\u957f\u6709\u529b\u3002 \u6ecb\u9634\u6f5c\u9633 \u9002\u7528\u4e8e\u80be\u9634\u4e0d\u8db3\u3001\u865a\u9633\u5931\u6f5c\u3002\u75c7\u89c1\u5934\u6655\u76ee\u7729\u3001\u54bd\u5e72\u8033\u9e23\u3001\u4e24\u6728\u5e72\u6da9\u3001\u89c6\u7269\u660f\u82b1\u3001\u5931\u7720\u5bd0\u6d45\u3001\u70e6\u8e81\u6613\u6012\u3001\u8170\u819d\u9178\u8f6f\u3001\u80a2\u9ebb\u9707\u98a4\u3001\u820c\u7ea2\u3001\u5c11\u82d4\u6216\u65e0\u82d4\u3001\u8109\u5f26\u6216\u7ec6\u6570\u3002 \u8865\u9634\u5408\u9633 \u9002\u7528\u4e8e\u809d\u80be\u4e0d\u8db3\u3001\u9634\u9633\u4e24\u865a\u3002\u75c7\u89c1\u5934\u6655\u8033\u9e23\u3001\u5fc3\u60b8\u5931\u7720\u3001\u5065\u5fd8\u76ee\u5e72\u3001\u8170\u817f\u9178\u8f6f\u3001\u4e0b\u80a2\u4e0d\u6e29\u3001\u591c\u5c3f\u589e\u591a\u3001\u820c\u6de1\u7ea2\u3001\u82d4\u8584\u767d\u3001\u8109\u6c89\u7ec6\u5f31\u3002 \u5de1\u7ecf\u53d6\u7a74 \u5fc3\u7ecf\uff1a#\u795e\u95e8# \u80be\u7ecf\uff1a#\u592a\u6eaa# \u809d\u7ecf\uff1a#\u884c\u95f4#\u3001#\u592a\u51b2# \u968f\u8bc1\u53d6\u7a74 \u9ad8\u8840\u538b\uff1a#\u66f2\u6c60#\u3001#\u8db3\u4e09\u91cc# \u5931\u7720\uff1a#\u4e09\u9634\u4ea4# \u5fc3\u60b8\uff1a#\u5185\u5173# \u75f0\u6e7f\uff1a#\u4e30\u9686# \u65b9\u9488 \u6bcf\u6b21\u53d61~2\u7a74\uff0c\u7528#\u6cfb\u6cd5#\uff0c\u5341\u5929\u4e00\u4e2a\u7597\u7a0b\uff0c\u5982\u6709\u6c14\u4fc3\u3001\u7cbe\u795e\u5446\u6ede\u840e\u75b2\u3001\u5c3f\u9891\u7b49\u9633\u865a\u75c7\u72b6\u8005\uff0c\u53ef\u91c7\u7528\u827e\u5377\u6e29\u548c\u7078\u6cd5\uff0c\u53d6\u795e\u9619\u3001\u5173\u5143\u3001\u540d\u95e8\u4e09\u7a74\uff0c\u6bcf\u65e5\u7078\u4e00\u4e2a\u7a74\u4f4d\uff0c\u6bcf\u6b21\u4e00\u5c0f\u65f6\u8fde\u7eed\u65bd\u7078\u575a\u63011-3\u4e2a\u6708\u3002","title":"\u9ad8\u8840\u538b\u8fa8\u8bc1\u4e0e\u65b9\u9488"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%AB%98%E8%A1%80%E5%8E%8B%E8%BE%A8%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_1","text":"\u809d\u9633\u4e0a\u4ea2\u8005\u53ef\u89c1\u5934\u75db\u3001\u9762\u7ea2\u8033\u8d64\u3001\u53e3\u5e72\u3001\u5fc3\u70e6\u6613\u6012\u3001\u4fbf\u79d8\u3001\u82d4\u9ec4\u3001\u8109\u5f26\u6709\u529b\uff1b \u809d\u80be\u9634\u865a\u8005\u53ef\u89c1\u7729\u6655\u8033\u9e23\u3001\u8170\u9178\u817f\u8f6f\u3001\u5fc3\u60b8\u4e0d\u5bd0\u3001\u820c\u8d28\u7ea2\u3001\u8109\u5f26\u6570\uff1b \u517c\u5939\u75f0\u6e7f\u53ef\u89c1\u80f8\u95f7\u3001\u5fc3\u60b8\u3001\u80a2\u4f53\u9ebb\u6728\u3001\u5f62\u4f53\u591a\u80d6\u3001\u820c\u8d28\u7ea2\u3001\u8109\u5f26\u6ed1\u3002","title":"\u9ad8\u8840\u538b#\u4e3b\u8981\u7531\u4e8e\u809d\u80be\u9634\u9633\u5931\u8c03\uff0c\u4e5f\u53ef\u517c\u5939\u75f0\u6e7f\uff0c\u5176\u4e2d\uff1a"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%AB%98%E8%A1%80%E5%8E%8B%E8%BE%A8%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_2","text":"\u6309\u7ecf\u7edc\u75c5\u5019\u5c5e\u4e8e#\u624b\u5c11\u9634\u5fc3\u7ecf#\u3001#\u8db3\u5c11\u9634\u80be\u7ecf#\u3001#\u8db3\u53a5\u9634\u809d\u7ecf#","title":"\u8fa8\u8bc1\u5206\u7ecf"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%AB%98%E8%A1%80%E5%8E%8B%E8%BE%A8%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_3","text":"\u6e05\u809d\u6cfb\u70ed \u9002\u7528\u4e8e\u809d\u706b\u70bd\u76db\uff0c\u653b\u51b2\u5934\u76ee\uff1b\u75c7\u89c1\u5934\u75db\u4e14\u6da8\u3001\u53e3\u82e6\u54bd\u5e72\u3001\u80f8\u4e2d\u70e6\u70ed\u3001\u6025\u8e81\u6613\u6012\u3001\u591c\u5bd0\u4e0d\u5b89\u3001\u5927\u4fbf\u5e72\u7ed3\u3001\u5c0f\u4fbf\u77ed\u9ec4\u3001\u820c\u7ea2\u82d4\u9ec4\u3001\u8109\u5f26\u6ed1\u800c\u6570\u3002 \u5e73\u809d\u606f\u98ce \u9002\u7528\u4e8e\u809d\u9633\u4e0a\u4ea2\u3001\u6c14\u8840\u4e0a\u9006\u3001\u6216\u809d\u98ce\u5185\u52a8\u4e4b\u9ad8\u8840\u538b\u75c5\u8005\u3002\u75c7\u89c1\u5934\u6655\u5934\u75db\u3001\u5fc3\u70e6\u8033\u9e23\u3001\u9762\u7ea2\u8033\u8d64\u3001\u5931\u7720\u5065\u5fd8\u3001\u5669\u68a6\u7eb7\u7ead\u3001\u7729\u6655\u6b32\u6251\u3001\u5934\u75db\u5982\u63a3\u3001\u53cc\u624b\u98a4\u6296\u3001\u8bed\u8a00\u4e0d\u5229\u3001\u6b65\u5c65\u4e0d\u7a33\u3001\u820c\u7ea2\u82d4\u767d\u3001\u8109\u5f26\u6570\u6216\u5f26\u957f\u6709\u529b\u3002 \u6ecb\u9634\u6f5c\u9633 \u9002\u7528\u4e8e\u80be\u9634\u4e0d\u8db3\u3001\u865a\u9633\u5931\u6f5c\u3002\u75c7\u89c1\u5934\u6655\u76ee\u7729\u3001\u54bd\u5e72\u8033\u9e23\u3001\u4e24\u6728\u5e72\u6da9\u3001\u89c6\u7269\u660f\u82b1\u3001\u5931\u7720\u5bd0\u6d45\u3001\u70e6\u8e81\u6613\u6012\u3001\u8170\u819d\u9178\u8f6f\u3001\u80a2\u9ebb\u9707\u98a4\u3001\u820c\u7ea2\u3001\u5c11\u82d4\u6216\u65e0\u82d4\u3001\u8109\u5f26\u6216\u7ec6\u6570\u3002 \u8865\u9634\u5408\u9633 \u9002\u7528\u4e8e\u809d\u80be\u4e0d\u8db3\u3001\u9634\u9633\u4e24\u865a\u3002\u75c7\u89c1\u5934\u6655\u8033\u9e23\u3001\u5fc3\u60b8\u5931\u7720\u3001\u5065\u5fd8\u76ee\u5e72\u3001\u8170\u817f\u9178\u8f6f\u3001\u4e0b\u80a2\u4e0d\u6e29\u3001\u591c\u5c3f\u589e\u591a\u3001\u820c\u6de1\u7ea2\u3001\u82d4\u8584\u767d\u3001\u8109\u6c89\u7ec6\u5f31\u3002","title":"\u5e38\u7528\u601d\u8def"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%AB%98%E8%A1%80%E5%8E%8B%E8%BE%A8%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_4","text":"\u5fc3\u7ecf\uff1a#\u795e\u95e8# \u80be\u7ecf\uff1a#\u592a\u6eaa# \u809d\u7ecf\uff1a#\u884c\u95f4#\u3001#\u592a\u51b2#","title":"\u5de1\u7ecf\u53d6\u7a74"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%AB%98%E8%A1%80%E5%8E%8B%E8%BE%A8%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_5","text":"\u9ad8\u8840\u538b\uff1a#\u66f2\u6c60#\u3001#\u8db3\u4e09\u91cc# \u5931\u7720\uff1a#\u4e09\u9634\u4ea4# \u5fc3\u60b8\uff1a#\u5185\u5173# \u75f0\u6e7f\uff1a#\u4e30\u9686#","title":"\u968f\u8bc1\u53d6\u7a74"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%AB%98%E8%A1%80%E5%8E%8B%E8%BE%A8%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_6","text":"\u6bcf\u6b21\u53d61~2\u7a74\uff0c\u7528#\u6cfb\u6cd5#\uff0c\u5341\u5929\u4e00\u4e2a\u7597\u7a0b\uff0c\u5982\u6709\u6c14\u4fc3\u3001\u7cbe\u795e\u5446\u6ede\u840e\u75b2\u3001\u5c3f\u9891\u7b49\u9633\u865a\u75c7\u72b6\u8005\uff0c\u53ef\u91c7\u7528\u827e\u5377\u6e29\u548c\u7078\u6cd5\uff0c\u53d6\u795e\u9619\u3001\u5173\u5143\u3001\u540d\u95e8\u4e09\u7a74\uff0c\u6bcf\u65e5\u7078\u4e00\u4e2a\u7a74\u4f4d\uff0c\u6bcf\u6b21\u4e00\u5c0f\u65f6\u8fde\u7eed\u65bd\u7078\u575a\u63011-3\u4e2a\u6708\u3002","title":"\u65b9\u9488"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%BA%A6%E7%B2%92%E8%82%BF%E8%BE%A9%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/","text":"\u9ea6\u7c92\u80bf#\u8868\u73b0\u4e3a\u773c\u7751\u90e8\u76ae\u8102\u817a\u6216\u8138\u677f\u817a\u7684\u6025\u6027\u5316\u8113\u6027\u708e\u75c7\uff0c\u521d\u8d77\u773c\u7751\u90e8\u6709\u75d2\u611f\u6216\u5fae\u80bf\uff0c\u4ee5\u540e\u7ea2\u80bf\u75bc\u75db\uff0c\u6709\u660e\u663e\u538b\u75db\uff0c\u7834\u6e83\u6d41\u8113\u540e\u75bc\u75db\u5373\u53ef\u51cf\u8f7b\u3002 \u53d6\u7a74 \u5149\u660e#\u3001#\u98ce\u6c60#\u3001#\u5408\u8c37 \u9488\u6cd5 \u9488\u523a#\u6cfb\u6cd5#\uff0c\u6bcf\u65e51~2\u6b21\uff0c\u53ef\u7559\u948810 ~ 20 \u5206\u949f\u3002","title":"\u9ea6\u7c92\u80bf\u8fa9\u8bc1\u4e0e\u65b9\u9488"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%BA%A6%E7%B2%92%E8%82%BF%E8%BE%A9%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_1","text":"","title":"\u9ea6\u7c92\u80bf#\u8868\u73b0\u4e3a\u773c\u7751\u90e8\u76ae\u8102\u817a\u6216\u8138\u677f\u817a\u7684\u6025\u6027\u5316\u8113\u6027\u708e\u75c7\uff0c\u521d\u8d77\u773c\u7751\u90e8\u6709\u75d2\u611f\u6216\u5fae\u80bf\uff0c\u4ee5\u540e\u7ea2\u80bf\u75bc\u75db\uff0c\u6709\u660e\u663e\u538b\u75db\uff0c\u7834\u6e83\u6d41\u8113\u540e\u75bc\u75db\u5373\u53ef\u51cf\u8f7b\u3002"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%BA%A6%E7%B2%92%E8%82%BF%E8%BE%A9%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_2","text":"","title":"\u53d6\u7a74"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%BA%A6%E7%B2%92%E8%82%BF%E8%BE%A9%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_3","text":"","title":"\u5149\u660e#\u3001#\u98ce\u6c60#\u3001#\u5408\u8c37"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%81%B5%E6%9E%A2/%E9%BA%A6%E7%B2%92%E8%82%BF%E8%BE%A9%E8%AF%81%E4%B8%8E%E6%96%B9%E9%92%88/#_4","text":"\u9488\u523a#\u6cfb\u6cd5#\uff0c\u6bcf\u65e51~2\u6b21\uff0c\u53ef\u7559\u948810 ~ 20 \u5206\u949f\u3002","title":"\u9488\u6cd5"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%B4%A0%E9%97%AE/%E5%B8%B8%E7%94%A8%E6%96%B9%E5%89%82/","text":"\u5e38\u7528\u65b9\u5242 \u51cf\u80a5 \u67b3\u672f\u4e38 \u67b3\u5b9e30\u514b \u767d\u672f20\u514b \u6cbb\u7597 \u5fc3\u4e0b\u575a\uff0c\u5927\u5982\u76d8\uff0c\u8fb9\u5982\u65cb\u76d8\u3002","title":"\u5e38\u7528\u65b9\u5242"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%B4%A0%E9%97%AE/%E5%B8%B8%E7%94%A8%E6%96%B9%E5%89%82/#_1","text":"","title":"\u5e38\u7528\u65b9\u5242"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%B4%A0%E9%97%AE/%E5%B8%B8%E7%94%A8%E6%96%B9%E5%89%82/#_2","text":"\u67b3\u672f\u4e38 \u67b3\u5b9e30\u514b \u767d\u672f20\u514b \u6cbb\u7597 \u5fc3\u4e0b\u575a\uff0c\u5927\u5982\u76d8\uff0c\u8fb9\u5982\u65cb\u76d8\u3002","title":"\u51cf\u80a5"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%B4%A0%E9%97%AE/%E6%95%91%E5%91%BD%E7%A8%BB%E8%8D%89/","text":"\u6551\u547d\u7a3b\u8349","title":"\u6551\u547d\u7a3b\u8349"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%B4%A0%E9%97%AE/%E6%95%91%E5%91%BD%E7%A8%BB%E8%8D%89/#_1","text":"","title":"\u6551\u547d\u7a3b\u8349"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%B4%A0%E9%97%AE/%E6%96%B0%E6%96%87%E6%A1%A3/","text":"","title":"\u65b0\u6587\u6863"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%B4%A0%E9%97%AE/%E9%BB%84%E5%B8%9D%E5%86%85%E7%BB%8F_%E5%85%BB%E7%94%9F/","text":"\u9ec4\u5e1d\u5185\u7ecf_\u517b\u751f \u300a\u9ec4\u5e1d\u5185\u7ecf\u300b\uff1a\u809d\u4e3a\u5fc3\u4e4b\u6bcd\uff0c\u5fc3\u4e0d\u597d\u8c03\u809d\u3002\u5fc3\u4e3a\u813e\u4e4b\u6bcd\uff0c\u813e\u4e0d\u597d\u8c03\u5fc3\u3002\u813e\u4e3a\u80ba\u4e4b\u6bcd\uff0c\u80ba\u4e0d\u597d\u8c03\u813e\u3002\u80ba\u4e3a\u80be\u4e4b\u6bcd\uff0c\u80be\u4e0d\u597d\u8c03\u80ba\u3002\u80be\u4e3a\u809d\u4e4b\u6bcd\uff0c\u809d\u4e0d\u597d\u8c03\u80be\u3002 \u7259\u9f7f\u4e0e\u810f\u8151\u5bf9\u5e94\u5173\u7cfb\uff1a\u7259\u9f7f\u5bf9\u5e94\u80be\u810f\uff0c\u7259\u9f88\u5bf9\u5e94\u80c3\u80a0\u3002\u4e0a\u7259\u9f88\u5bf9\u5e94\u80c3\u7ecf\u3001\u4e0b\u7259\u9f88\u5bf9\u5e94\u80a0\u7ecf\uff0c\u72ac\u9f7f\u5c5e\u80be\u7ecf\uff0c\u81fc\u9f7f\u5c5e\u813e\u80c3\u7ecf\u3002","title":"\u9ec4\u5e1d\u5185\u7ecf_\u517b\u751f"},{"location":"%E4%B8%AD%E5%8C%BB/%E7%B4%A0%E9%97%AE/%E9%BB%84%E5%B8%9D%E5%86%85%E7%BB%8F_%E5%85%BB%E7%94%9F/#_","text":"\u300a\u9ec4\u5e1d\u5185\u7ecf\u300b\uff1a\u809d\u4e3a\u5fc3\u4e4b\u6bcd\uff0c\u5fc3\u4e0d\u597d\u8c03\u809d\u3002\u5fc3\u4e3a\u813e\u4e4b\u6bcd\uff0c\u813e\u4e0d\u597d\u8c03\u5fc3\u3002\u813e\u4e3a\u80ba\u4e4b\u6bcd\uff0c\u80ba\u4e0d\u597d\u8c03\u813e\u3002\u80ba\u4e3a\u80be\u4e4b\u6bcd\uff0c\u80be\u4e0d\u597d\u8c03\u80ba\u3002\u80be\u4e3a\u809d\u4e4b\u6bcd\uff0c\u809d\u4e0d\u597d\u8c03\u80be\u3002 \u7259\u9f7f\u4e0e\u810f\u8151\u5bf9\u5e94\u5173\u7cfb\uff1a\u7259\u9f7f\u5bf9\u5e94\u80be\u810f\uff0c\u7259\u9f88\u5bf9\u5e94\u80c3\u80a0\u3002\u4e0a\u7259\u9f88\u5bf9\u5e94\u80c3\u7ecf\u3001\u4e0b\u7259\u9f88\u5bf9\u5e94\u80a0\u7ecf\uff0c\u72ac\u9f7f\u5c5e\u80be\u7ecf\uff0c\u81fc\u9f7f\u5c5e\u813e\u80c3\u7ecf\u3002","title":"\u9ec4\u5e1d\u5185\u7ecf_\u517b\u751f"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E4%BC%98%E7%BC%BA%E7%82%B9/","text":"1.\u6734\u7d20\u8d1d\u53f6\u65af \u6734\u7d20\u8d1d\u53f6\u65af\u5c5e\u4e8e\u751f\u6210\u5f0f\u6a21\u578b\uff08\u5173\u4e8e\u751f\u6210\u6a21\u578b\u548c\u5224\u522b\u5f0f\u6a21\u578b\uff0c\u4e3b\u8981\u8fd8\u662f\u5728\u4e8e\u662f\u5426\u662f\u8981\u6c42\u8054\u5408\u5206\u5e03\uff09\uff0c\u975e\u5e38\u7b80\u5355\uff0c\u4f60\u53ea\u662f\u505a\u4e86\u4e00\u5806\u8ba1\u6570\u3002\u5982\u679c\u6ce8\u6709\u6761\u4ef6\u72ec\u7acb\u6027\u5047\u8bbe\uff08\u4e00\u4e2a\u6bd4\u8f83\u4e25\u683c\u7684\u6761\u4ef6\uff09\uff0c\u6734\u7d20\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\u7684\u6536\u655b\u901f\u5ea6\u5c06\u5feb\u4e8e\u5224\u522b\u6a21\u578b\uff0c\u5982\u903b\u8f91\u56de\u5f52\uff0c\u6240\u4ee5\u4f60\u53ea\u9700\u8981\u8f83\u5c11\u7684\u8bad\u7ec3\u6570\u636e\u5373\u53ef\u3002\u5373\u4f7fNB\u6761\u4ef6\u72ec\u7acb\u5047\u8bbe\u4e0d\u6210\u7acb\uff0cNB\u5206\u7c7b\u5668\u5728\u5b9e\u8df5\u4e2d\u4ecd\u7136\u8868\u73b0\u7684\u5f88\u51fa\u8272\u3002\u5b83\u7684\u4e3b\u8981\u7f3a\u70b9\u662f\u5b83\u4e0d\u80fd\u5b66\u4e60\u7279\u5f81\u95f4\u7684\u76f8\u4e92\u4f5c\u7528\uff0c\u7528mRMR\u4e2dR\u6765\u8bb2\uff0c\u5c31\u662f\u7279\u5f81\u5197\u4f59\u3002\u5f15\u7528\u4e00\u4e2a\u6bd4\u8f83\u7ecf\u5178\u7684\u4f8b\u5b50\uff0c\u6bd4\u5982\uff0c\u867d\u7136\u4f60\u559c\u6b22Brad Pitt\u548cTom Cruise\u7684\u7535\u5f71\uff0c\u4f46\u662f\u5b83\u4e0d\u80fd\u5b66\u4e60\u51fa\u4f60\u4e0d\u559c\u6b22\u4ed6\u4eec\u5728\u4e00\u8d77\u6f14\u7684\u7535\u5f71\u3002 \u4f18\u70b9\uff1a \u6734\u7d20\u8d1d\u53f6\u65af\u6a21\u578b\u53d1\u6e90\u4e8e\u53e4\u5178\u6570\u5b66\u7406\u8bba\uff0c\u6709\u7740\u575a\u5b9e\u7684\u6570\u5b66\u57fa\u7840\uff0c\u4ee5\u53ca\u7a33\u5b9a\u7684\u5206\u7c7b\u6548\u7387\u3002 \u5bf9\u5c0f\u89c4\u6a21\u7684\u6570\u636e\u8868\u73b0\u5f88\u597d\uff0c\u80fd\u4e2a\u5904\u7406\u591a\u5206\u7c7b\u4efb\u52a1\uff0c\u9002\u5408\u589e\u91cf\u5f0f\u8bad\u7ec3\uff1b \u5bf9\u7f3a\u5931\u6570\u636e\u4e0d\u592a\u654f\u611f\uff0c\u7b97\u6cd5\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u5e38\u7528\u4e8e\u6587\u672c\u5206\u7c7b\u3002 \u7f3a\u70b9\uff1a \u9700\u8981\u8ba1\u7b97\u5148\u9a8c\u6982\u7387\uff1b \u5206\u7c7b\u51b3\u7b56\u5b58\u5728\u9519\u8bef\u7387\uff1b \u5bf9\u8f93\u5165\u6570\u636e\u7684\u8868\u8fbe\u5f62\u5f0f\u5f88\u654f\u611f\u3002 2.Logistic Regression\uff08\u903b\u8f91\u56de\u5f52\uff09 \u5c5e\u4e8e\u5224\u522b\u5f0f\u6a21\u578b\uff0c\u6709\u5f88\u591a\u6b63\u5219\u5316\u6a21\u578b\u7684\u65b9\u6cd5\uff08L0\uff0c L1\uff0cL2\uff0cetc\uff09\uff0c\u800c\u4e14\u4f60\u4e0d\u5fc5\u50cf\u5728\u7528\u6734\u7d20\u8d1d\u53f6\u65af\u90a3\u6837\u62c5\u5fc3\u4f60\u7684\u7279\u5f81\u662f\u5426\u76f8\u5173\u3002\u4e0e\u51b3\u7b56\u6811\u4e0eSVM\u673a\u76f8\u6bd4\uff0c\u4f60\u8fd8\u4f1a\u5f97\u5230\u4e00\u4e2a\u4e0d\u9519\u7684\u6982\u7387\u89e3\u91ca\uff0c\u4f60\u751a\u81f3\u53ef\u4ee5\u8f7b\u677e\u5730\u5229\u7528\u65b0\u6570\u636e\u6765\u66f4\u65b0\u6a21\u578b\uff08\u4f7f\u7528\u5728\u7ebf\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\uff0conline gradient descent\uff09\u3002\u5982\u679c\u4f60\u9700\u8981\u4e00\u4e2a\u6982\u7387\u67b6\u6784\uff08\u6bd4\u5982\uff0c\u7b80\u5355\u5730\u8c03\u8282\u5206\u7c7b\u9608\u503c\uff0c\u6307\u660e\u4e0d\u786e\u5b9a\u6027\uff0c\u6216\u8005\u662f\u8981\u83b7\u5f97\u7f6e\u4fe1\u533a\u95f4\uff09\uff0c\u6216\u8005\u4f60\u5e0c\u671b\u4ee5\u540e\u5c06\u66f4\u591a\u7684\u8bad\u7ec3\u6570\u636e\u5feb\u901f\u6574\u5408\u5230\u6a21\u578b\u4e2d\u53bb\uff0c\u90a3\u4e48\u4f7f\u7528\u5b83\u5427\u3002 Sigmoid\u51fd\u6570 \uff1a \u4f18\u70b9 \uff1a \u5b9e\u73b0\u7b80\u5355\uff0c\u5e7f\u6cdb\u7684\u5e94\u7528\u4e8e\u5de5\u4e1a\u95ee\u9898\u4e0a\uff1b \u5206\u7c7b\u65f6\u8ba1\u7b97\u91cf\u975e\u5e38\u5c0f\uff0c\u901f\u5ea6\u5f88\u5feb\uff0c\u5b58\u50a8\u8d44\u6e90\u4f4e\uff1b \u4fbf\u5229\u7684\u89c2\u6d4b\u6837\u672c\u6982\u7387\u5206\u6570\uff1b \u5bf9\u903b\u8f91\u56de\u5f52\u800c\u8a00\uff0c\u591a\u91cd\u5171\u7ebf\u6027\u5e76\u4e0d\u662f\u95ee\u9898\uff0c\u5b83\u53ef\u4ee5\u7ed3\u5408L2\u6b63\u5219\u5316\u6765\u89e3\u51b3\u8be5\u95ee\u9898\uff1b \u7f3a\u70b9 \uff1a \u5f53\u7279\u5f81\u7a7a\u95f4\u5f88\u5927\u65f6\uff0c\u903b\u8f91\u56de\u5f52\u7684\u6027\u80fd\u4e0d\u662f\u5f88\u597d\uff1b \u5bb9\u6613\u6b20\u62df\u5408\uff0c\u4e00\u822c\u51c6\u786e\u5ea6\u4e0d\u592a\u9ad8 \u4e0d\u80fd\u5f88\u597d\u5730\u5904\u7406\u5927\u91cf\u591a\u7c7b\u7279\u5f81\u6216\u53d8\u91cf\uff1b \u53ea\u80fd\u5904\u7406\u4e24\u5206\u7c7b\u95ee\u9898\uff08\u5728\u6b64\u57fa\u7840\u4e0a\u884d\u751f\u51fa\u6765\u7684softmax\u53ef\u4ee5\u7528\u4e8e\u591a\u5206\u7c7b\uff09\uff0c\u4e14\u5fc5\u987b\u7ebf\u6027\u53ef\u5206\uff1b \u5bf9\u4e8e\u975e\u7ebf\u6027\u7279\u5f81\uff0c\u9700\u8981\u8fdb\u884c\u8f6c\u6362\uff1b 3.\u7ebf\u6027\u56de\u5f52 \u7ebf\u6027\u56de\u5f52\u662f\u7528\u4e8e\u56de\u5f52\u7684\uff0c\u800c\u4e0d\u50cfLogistic\u56de\u5f52\u662f\u7528\u4e8e\u5206\u7c7b\uff0c\u5176\u57fa\u672c\u601d\u60f3\u662f\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u5bf9\u6700\u5c0f\u4e8c\u4e58\u6cd5\u5f62\u5f0f\u7684\u8bef\u5dee\u51fd\u6570\u8fdb\u884c\u4f18\u5316\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u7528normal equation\u76f4\u63a5\u6c42\u5f97\u53c2\u6570\u7684\u89e3\uff0c\u7ed3\u679c\u4e3a\uff1a \u800c\u5728LWLR\uff08\u5c40\u90e8\u52a0\u6743\u7ebf\u6027\u56de\u5f52\uff09\u4e2d\uff0c\u53c2\u6570\u7684\u8ba1\u7b97\u8868\u8fbe\u5f0f\u4e3a: \u7531\u6b64\u53ef\u89c1LWLR\u4e0eLR\u4e0d\u540c\uff0cLWLR\u662f\u4e00\u4e2a\u975e\u53c2\u6570\u6a21\u578b\uff0c\u56e0\u4e3a\u6bcf\u6b21\u8fdb\u884c\u56de\u5f52\u8ba1\u7b97\u90fd\u8981\u904d\u5386\u8bad\u7ec3\u6837\u672c\u81f3\u5c11\u4e00\u6b21\u3002 \u4f18\u70b9 \uff1a \u5b9e\u73b0\u7b80\u5355\uff0c\u8ba1\u7b97\u7b80\u5355\uff1b \u7f3a\u70b9 \uff1a \u4e0d\u80fd\u62df\u5408\u975e\u7ebf\u6027\u6570\u636e. 4.\u6700\u8fd1\u9886\u7b97\u6cd5\u2014\u2014KNN KNN\u5373\u6700\u8fd1\u90bb\u7b97\u6cd5\uff0c\u5176\u4e3b\u8981\u8fc7\u7a0b\u4e3a\uff1a \u8ba1\u7b97\u8bad\u7ec3\u6837\u672c\u548c\u6d4b\u8bd5\u6837\u672c\u4e2d\u6bcf\u4e2a\u6837\u672c\u70b9\u7684\u8ddd\u79bb\uff08\u5e38\u89c1\u7684\u8ddd\u79bb\u5ea6\u91cf\u6709\u6b27\u5f0f\u8ddd\u79bb\uff0c\u9a6c\u6c0f\u8ddd\u79bb\u7b49\uff09\uff1b2. \u5bf9\u4e0a\u9762\u6240\u6709\u7684\u8ddd\u79bb\u503c\u8fdb\u884c\u6392\u5e8f\uff1b3. \u9009\u524dk\u4e2a\u6700\u5c0f\u8ddd\u79bb\u7684\u6837\u672c\uff1b4. \u6839\u636e\u8fd9k\u4e2a\u6837\u672c\u7684\u6807\u7b7e\u8fdb\u884c\u6295\u7968\uff0c\u5f97\u5230\u6700\u540e\u7684\u5206\u7c7b\u7c7b\u522b\uff1b \u5982\u4f55\u9009\u62e9\u4e00\u4e2a\u6700\u4f73\u7684K\u503c\uff0c\u8fd9\u53d6\u51b3\u4e8e\u6570\u636e\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5728\u5206\u7c7b\u65f6\u8f83\u5927\u7684K\u503c\u80fd\u591f\u51cf\u5c0f\u566a\u58f0\u7684\u5f71\u54cd\u3002\u4f46\u4f1a\u4f7f\u7c7b\u522b\u4e4b\u95f4\u7684\u754c\u9650\u53d8\u5f97\u6a21\u7cca\u3002\u4e00\u4e2a\u8f83\u597d\u7684K\u503c\u53ef\u901a\u8fc7\u5404\u79cd\u542f\u53d1\u5f0f\u6280\u672f\u6765\u83b7\u53d6\uff0c\u6bd4\u5982\uff0c\u4ea4\u53c9\u9a8c\u8bc1\u3002\u53e6\u5916\u566a\u58f0\u548c\u975e\u76f8\u5173\u6027\u7279\u5f81\u5411\u91cf\u7684\u5b58\u5728\u4f1a\u4f7fK\u8fd1\u90bb\u7b97\u6cd5\u7684\u51c6\u786e\u6027\u51cf\u5c0f\u3002 \u8fd1\u90bb\u7b97\u6cd5\u5177\u6709\u8f83\u5f3a\u7684\u4e00\u81f4\u6027\u7ed3\u679c\u3002\u968f\u7740\u6570\u636e\u8d8b\u4e8e\u65e0\u9650\uff0c\u7b97\u6cd5\u4fdd\u8bc1\u9519\u8bef\u7387\u4e0d\u4f1a\u8d85\u8fc7\u8d1d\u53f6\u65af\u7b97\u6cd5\u9519\u8bef\u7387\u7684\u4e24\u500d\u3002\u5bf9\u4e8e\u4e00\u4e9b\u597d\u7684K\u503c\uff0cK\u8fd1\u90bb\u4fdd\u8bc1\u9519\u8bef\u7387\u4e0d\u4f1a\u8d85\u8fc7\u8d1d\u53f6\u65af\u7406\u8bba\u8bef\u5dee\u7387\u3002 KNN\u7b97\u6cd5\u7684\u4f18\u70b9 \u7406\u8bba\u6210\u719f\uff0c\u601d\u60f3\u7b80\u5355\uff0c\u65e2\u53ef\u4ee5\u7528\u6765\u505a\u5206\u7c7b\u4e5f\u53ef\u4ee5\u7528\u6765\u505a\u56de\u5f52\uff1b \u53ef\u7528\u4e8e\u975e\u7ebf\u6027\u5206\u7c7b\uff1b \u8bad\u7ec3\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\uff1b \u5bf9\u6570\u636e\u6ca1\u6709\u5047\u8bbe\uff0c\u51c6\u786e\u5ea6\u9ad8\uff0c\u5bf9outlier\u4e0d\u654f\u611f\uff1b \u7f3a\u70b9 \u8ba1\u7b97\u91cf\u5927\uff1b \u6837\u672c\u4e0d\u5e73\u8861\u95ee\u9898\uff08\u5373\u6709\u4e9b\u7c7b\u522b\u7684\u6837\u672c\u6570\u91cf\u5f88\u591a\uff0c\u800c\u5176\u5b83\u6837\u672c\u7684\u6570\u91cf\u5f88\u5c11\uff09\uff1b \u9700\u8981\u5927\u91cf\u7684\u5185\u5b58\uff1b 5.\u51b3\u7b56\u6811 \u6613\u4e8e\u89e3\u91ca\u3002\u5b83\u53ef\u4ee5\u6beb\u65e0\u538b\u529b\u5730\u5904\u7406\u7279\u5f81\u95f4\u7684\u4ea4\u4e92\u5173\u7cfb\u5e76\u4e14\u662f\u975e\u53c2\u6570\u5316\u7684\uff0c\u56e0\u6b64\u4f60\u4e0d\u5fc5\u62c5\u5fc3\u5f02\u5e38\u503c\u6216\u8005\u6570\u636e\u662f\u5426\u7ebf\u6027\u53ef\u5206\uff08\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u51b3\u7b56\u6811\u80fd\u8f7b\u677e\u5904\u7406\u597d\u7c7b\u522bA\u5728\u67d0\u4e2a\u7279\u5f81\u7ef4\u5ea6x\u7684\u672b\u7aef\uff0c\u7c7b\u522bB\u5728\u4e2d\u95f4\uff0c\u7136\u540e\u7c7b\u522bA\u53c8\u51fa\u73b0\u5728\u7279\u5f81\u7ef4\u5ea6x\u524d\u7aef\u7684\u60c5\u51b5\uff09\u3002\u5b83\u7684\u7f3a\u70b9\u4e4b\u4e00\u5c31\u662f\u4e0d\u652f\u6301\u5728\u7ebf\u5b66\u4e60\uff0c\u4e8e\u662f\u5728\u65b0\u6837\u672c\u5230\u6765\u540e\uff0c\u51b3\u7b56\u6811\u9700\u8981\u5168\u90e8\u91cd\u5efa\u3002\u53e6\u4e00\u4e2a\u7f3a\u70b9\u5c31\u662f\u5bb9\u6613\u51fa\u73b0\u8fc7\u62df\u5408\uff0c\u4f46\u8fd9\u4e5f\u5c31\u662f\u8bf8\u5982\u968f\u673a\u68ee\u6797RF\uff08\u6216\u63d0\u5347\u6811boosted tree\uff09\u4e4b\u7c7b\u7684\u96c6\u6210\u65b9\u6cd5\u7684\u5207\u5165\u70b9\u3002\u53e6\u5916\uff0c\u968f\u673a\u68ee\u6797\u7ecf\u5e38\u662f\u5f88\u591a\u5206\u7c7b\u95ee\u9898\u7684\u8d62\u5bb6\uff08\u901a\u5e38\u6bd4\u652f\u6301\u5411\u91cf\u673a\u597d\u4e0a\u90a3\u4e48\u4e00\u4e01\u70b9\uff09\uff0c\u5b83\u8bad\u7ec3\u5feb\u901f\u5e76\u4e14\u53ef\u8c03\uff0c\u540c\u65f6\u4f60\u65e0\u987b\u62c5\u5fc3\u8981\u50cf\u652f\u6301\u5411\u91cf\u673a\u90a3\u6837\u8c03\u4e00\u5927\u5806\u53c2\u6570\uff0c\u6240\u4ee5\u5728\u4ee5\u524d\u90fd\u4e00\u76f4\u5f88\u53d7\u6b22\u8fce\u3002 \u51b3\u7b56\u6811\u4e2d\u5f88\u91cd\u8981\u7684\u4e00\u70b9\u5c31\u662f\u9009\u62e9\u4e00\u4e2a\u5c5e\u6027\u8fdb\u884c\u5206\u679d\uff0c\u56e0\u6b64\u8981\u6ce8\u610f\u4e00\u4e0b\u4fe1\u606f\u589e\u76ca\u7684\u8ba1\u7b97\u516c\u5f0f\uff0c\u5e76\u6df1\u5165\u7406\u89e3\u5b83\u3002 \u4fe1\u606f\u71b5\u7684\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b: \u5176\u4e2d\u7684n\u4ee3\u8868\u6709n\u4e2a\u5206\u7c7b\u7c7b\u522b\uff08\u6bd4\u5982\u5047\u8bbe\u662f2\u7c7b\u95ee\u9898\uff0c\u90a3\u4e48n=2\uff09\u3002\u5206\u522b\u8ba1\u7b97\u8fd92\u7c7b\u6837\u672c\u5728\u603b\u6837\u672c\u4e2d\u51fa\u73b0\u7684\u6982\u7387p1\u548cp2\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa\u672a\u9009\u4e2d\u5c5e\u6027\u5206\u679d\u524d\u7684\u4fe1\u606f\u71b5\u3002 \u73b0\u5728\u9009\u4e2d\u4e00\u4e2a\u5c5e\u6027xixi\u7528\u6765\u8fdb\u884c\u5206\u679d\uff0c\u6b64\u65f6\u5206\u679d\u89c4\u5219\u662f\uff1a\u5982\u679cxi=vxi=v\u7684\u8bdd\uff0c\u5c06\u6837\u672c\u5206\u5230\u6811\u7684\u4e00\u4e2a\u5206\u652f\uff1b\u5982\u679c\u4e0d\u76f8\u7b49\u5219\u8fdb\u5165\u53e6\u4e00\u4e2a\u5206\u652f\u3002\u5f88\u663e\u7136\uff0c\u5206\u652f\u4e2d\u7684\u6837\u672c\u5f88\u6709\u53ef\u80fd\u5305\u62ec2\u4e2a\u7c7b\u522b\uff0c\u5206\u522b\u8ba1\u7b97\u8fd92\u4e2a\u5206\u652f\u7684\u71b5H1\u548cH2,\u8ba1\u7b97\u51fa\u5206\u679d\u540e\u7684\u603b\u4fe1\u606f\u71b5H\u2019 =p1H1+p2 H2,\u5219\u6b64\u65f6\u7684\u4fe1\u606f\u589e\u76ca\u0394H = H - H\u2019\u3002\u4ee5\u4fe1\u606f\u589e\u76ca\u4e3a\u539f\u5219\uff0c\u628a\u6240\u6709\u7684\u5c5e\u6027\u90fd\u6d4b\u8bd5\u4e00\u8fb9\uff0c\u9009\u62e9\u4e00\u4e2a\u4f7f\u589e\u76ca\u6700\u5927\u7684\u5c5e\u6027\u4f5c\u4e3a\u672c\u6b21\u5206\u679d\u5c5e\u6027\u3002 \u51b3\u7b56\u6811\u81ea\u8eab\u7684\u4f18\u70b9\uff1a \u8ba1\u7b97\u7b80\u5355\uff0c\u6613\u4e8e\u7406\u89e3\uff0c\u53ef\u89e3\u91ca\u6027\u5f3a\uff1b \u6bd4\u8f83\u9002\u5408\u5904\u7406\u6709\u7f3a\u5931\u5c5e\u6027\u7684\u6837\u672c\uff1b \u80fd\u591f\u5904\u7406\u4e0d\u76f8\u5173\u7684\u7279\u5f81\uff1b \u5728\u76f8\u5bf9\u77ed\u7684\u65f6\u95f4\u5185\u80fd\u591f\u5bf9\u5927\u578b\u6570\u636e\u6e90\u505a\u51fa\u53ef\u884c\u4e14\u6548\u679c\u826f\u597d\u7684\u7ed3\u679c\u3002 \u7f3a\u70b9 \u5bb9\u6613\u53d1\u751f\u8fc7\u62df\u5408\uff08\u968f\u673a\u68ee\u6797\u53ef\u4ee5\u5f88\u5927\u7a0b\u5ea6\u4e0a\u51cf\u5c11\u8fc7\u62df\u5408\uff09\uff1b \u5ffd\u7565\u4e86\u6570\u636e\u4e4b\u95f4\u7684\u76f8\u5173\u6027\uff1b \u5bf9\u4e8e\u90a3\u4e9b\u5404\u7c7b\u522b\u6837\u672c\u6570\u91cf\u4e0d\u4e00\u81f4\u7684\u6570\u636e\uff0c\u5728\u51b3\u7b56\u6811\u5f53\u4e2d,\u4fe1\u606f\u589e\u76ca\u7684\u7ed3\u679c\u504f\u5411\u4e8e\u90a3\u4e9b\u5177\u6709\u66f4\u591a\u6570\u503c\u7684\u7279\u5f81\uff08\u53ea\u8981\u662f\u4f7f\u7528\u4e86\u4fe1\u606f\u589e\u76ca\uff0c\u90fd\u6709\u8fd9\u4e2a\u7f3a\u70b9\uff0c\u5982RF\uff09\u3002 5.1 Adaboosting Adaboost\u662f\u4e00\u79cd\u52a0\u548c\u6a21\u578b\uff0c\u6bcf\u4e2a\u6a21\u578b\u90fd\u662f\u57fa\u4e8e\u4e0a\u4e00\u6b21\u6a21\u578b\u7684\u9519\u8bef\u7387\u6765\u5efa\u7acb\u7684\uff0c\u8fc7\u5206\u5173\u6ce8\u5206\u9519\u7684\u6837\u672c\uff0c\u800c\u5bf9\u6b63\u786e\u5206\u7c7b\u7684\u6837\u672c\u51cf\u5c11\u5173\u6ce8\u5ea6\uff0c\u9010\u6b21\u8fed\u4ee3\u4e4b\u540e\uff0c\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u76f8\u5bf9\u8f83\u597d\u7684\u6a21\u578b\u3002\u662f\u4e00\u79cd\u5178\u578b\u7684boosting\u7b97\u6cd5\u3002\u4e0b\u9762\u662f\u603b\u7ed3\u4e0b\u5b83\u7684\u4f18\u7f3a\u70b9\u3002 \u4f18\u70b9 adaboost\u662f\u4e00\u79cd\u6709\u5f88\u9ad8\u7cbe\u5ea6\u7684\u5206\u7c7b\u5668\u3002 \u53ef\u4ee5\u4f7f\u7528\u5404\u79cd\u65b9\u6cd5\u6784\u5efa\u5b50\u5206\u7c7b\u5668\uff0cAdaboost\u7b97\u6cd5\u63d0\u4f9b\u7684\u662f\u6846\u67b6\u3002 \u5f53\u4f7f\u7528\u7b80\u5355\u5206\u7c7b\u5668\u65f6\uff0c\u8ba1\u7b97\u51fa\u7684\u7ed3\u679c\u662f\u53ef\u4ee5\u7406\u89e3\u7684\uff0c\u5e76\u4e14\u5f31\u5206\u7c7b\u5668\u7684\u6784\u9020\u6781\u5176\u7b80\u5355\u3002 \u7b80\u5355\uff0c\u4e0d\u7528\u505a\u7279\u5f81\u7b5b\u9009\u3002 \u4e0d\u5bb9\u6613\u53d1\u751foverfitting\u3002 \u5173\u4e8e\u968f\u673a\u68ee\u6797\u548cGBDT\u7b49\u7ec4\u5408\u7b97\u6cd5\uff0c\u53c2\u8003\u8fd9\u7bc7\u6587\u7ae0\uff1a\u673a\u5668\u5b66\u4e60-\u7ec4\u5408\u7b97\u6cd5\u603b\u7ed3 \u7f3a\u70b9 \uff1a\u5bf9outlier\u6bd4\u8f83\u654f\u611f 6.SVM\u652f\u6301\u5411\u91cf\u673a \u9ad8\u51c6\u786e\u7387\uff0c\u4e3a\u907f\u514d\u8fc7\u62df\u5408\u63d0\u4f9b\u4e86\u5f88\u597d\u7684\u7406\u8bba\u4fdd\u8bc1\uff0c\u800c\u4e14\u5c31\u7b97\u6570\u636e\u5728\u539f\u7279\u5f81\u7a7a\u95f4\u7ebf\u6027\u4e0d\u53ef\u5206\uff0c\u53ea\u8981\u7ed9\u4e2a\u5408\u9002\u7684\u6838\u51fd\u6570\uff0c\u5b83\u5c31\u80fd\u8fd0\u884c\u5f97\u5f88\u597d\u3002\u5728\u52a8\u8f84\u8d85\u9ad8\u7ef4\u7684\u6587\u672c\u5206\u7c7b\u95ee\u9898\u4e2d\u7279\u522b\u53d7\u6b22\u8fce\u3002\u53ef\u60dc\u5185\u5b58\u6d88\u8017\u5927\uff0c\u96be\u4ee5\u89e3\u91ca\uff0c\u8fd0\u884c\u548c\u8c03\u53c2\u4e5f\u6709\u4e9b\u70e6\u4eba\uff0c\u800c\u968f\u673a\u68ee\u6797\u5374\u521a\u597d\u907f\u5f00\u4e86\u8fd9\u4e9b\u7f3a\u70b9\uff0c\u6bd4\u8f83\u5b9e\u7528\u3002 \u4f18\u70b9 \u53ef\u4ee5\u89e3\u51b3\u9ad8\u7ef4\u95ee\u9898\uff0c\u5373\u5927\u578b\u7279\u5f81\u7a7a\u95f4\uff1b \u80fd\u591f\u5904\u7406\u975e\u7ebf\u6027\u7279\u5f81\u7684\u76f8\u4e92\u4f5c\u7528\uff1b \u65e0\u9700\u4f9d\u8d56\u6574\u4e2a\u6570\u636e\uff1b \u53ef\u4ee5\u63d0\u9ad8\u6cdb\u5316\u80fd\u529b\uff1b \u7f3a\u70b9 \u5f53\u89c2\u6d4b\u6837\u672c\u5f88\u591a\u65f6\uff0c\u6548\u7387\u5e76\u4e0d\u662f\u5f88\u9ad8\uff1b \u5bf9\u975e\u7ebf\u6027\u95ee\u9898\u6ca1\u6709\u901a\u7528\u89e3\u51b3\u65b9\u6848\uff0c\u6709\u65f6\u5019\u5f88\u96be\u627e\u5230\u4e00\u4e2a\u5408\u9002\u7684\u6838\u51fd\u6570\uff1b \u5bf9\u7f3a\u5931\u6570\u636e\u654f\u611f\uff1b \u5bf9\u4e8e\u6838\u7684\u9009\u62e9\u4e5f\u662f\u6709\u6280\u5de7\u7684\uff08libsvm\u4e2d\u81ea\u5e26\u4e86\u56db\u79cd\u6838\u51fd\u6570\uff1a\u7ebf\u6027\u6838\u3001\u591a\u9879\u5f0f\u6838\u3001RBF\u4ee5\u53casigmoid\u6838\uff09\uff1a \u7b2c\u4e00\uff0c\u5982\u679c\u6837\u672c\u6570\u91cf\u5c0f\u4e8e\u7279\u5f81\u6570\uff0c\u90a3\u4e48\u5c31\u6ca1\u5fc5\u8981\u9009\u62e9\u975e\u7ebf\u6027\u6838\uff0c\u7b80\u5355\u7684\u4f7f\u7528\u7ebf\u6027\u6838\u5c31\u53ef\u4ee5\u4e86\uff1b \u7b2c\u4e8c\uff0c\u5982\u679c\u6837\u672c\u6570\u91cf\u5927\u4e8e\u7279\u5f81\u6570\u76ee\uff0c\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528\u975e\u7ebf\u6027\u6838\uff0c\u5c06\u6837\u672c\u6620\u5c04\u5230\u66f4\u9ad8\u7ef4\u5ea6\uff0c\u4e00\u822c\u53ef\u4ee5\u5f97\u5230\u66f4\u597d\u7684\u7ed3\u679c\uff1b \u7b2c\u4e09\uff0c\u5982\u679c\u6837\u672c\u6570\u76ee\u548c\u7279\u5f81\u6570\u76ee\u76f8\u7b49\uff0c\u8be5\u60c5\u51b5\u53ef\u4ee5\u4f7f\u7528\u975e\u7ebf\u6027\u6838\uff0c\u539f\u7406\u548c\u7b2c\u4e8c\u79cd\u4e00\u6837\u3002 \u5bf9\u4e8e\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u4e5f\u53ef\u4ee5\u5148\u5bf9\u6570\u636e\u8fdb\u884c\u964d\u7ef4\uff0c\u7136\u540e\u4f7f\u7528\u975e\u7ebf\u6027\u6838\uff0c\u8fd9\u4e5f\u662f\u4e00\u79cd\u65b9\u6cd5\u3002 7. \u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u4f18\u7f3a\u70b9 \u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u4f18\u70b9 \uff1a \u5206\u7c7b\u7684\u51c6\u786e\u5ea6\u9ad8\uff1b \u5e76\u884c\u5206\u5e03\u5904\u7406\u80fd\u529b\u5f3a,\u5206\u5e03\u5b58\u50a8\u53ca\u5b66\u4e60\u80fd\u529b\u5f3a\uff0c \u5bf9\u566a\u58f0\u795e\u7ecf\u6709\u8f83\u5f3a\u7684\u9c81\u68d2\u6027\u548c\u5bb9\u9519\u80fd\u529b\uff0c\u80fd\u5145\u5206\u903c\u8fd1\u590d\u6742\u7684\u975e\u7ebf\u6027\u5173\u7cfb\uff1b \u5177\u5907\u8054\u60f3\u8bb0\u5fc6\u7684\u529f\u80fd\u3002 \u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u7f3a\u70b9 \uff1a \u795e\u7ecf\u7f51\u7edc\u9700\u8981\u5927\u91cf\u7684\u53c2\u6570\uff0c\u5982\u7f51\u7edc\u62d3\u6251\u7ed3\u6784\u3001\u6743\u503c\u548c\u9608\u503c\u7684\u521d\u59cb\u503c\uff1b \u4e0d\u80fd\u89c2\u5bdf\u4e4b\u95f4\u7684\u5b66\u4e60\u8fc7\u7a0b\uff0c\u8f93\u51fa\u7ed3\u679c\u96be\u4ee5\u89e3\u91ca\uff0c\u4f1a\u5f71\u54cd\u5230\u7ed3\u679c\u7684\u53ef\u4fe1\u5ea6\u548c\u53ef\u63a5\u53d7\u7a0b\u5ea6\uff1b \u5b66\u4e60\u65f6\u95f4\u8fc7\u957f,\u751a\u81f3\u53ef\u80fd\u8fbe\u4e0d\u5230\u5b66\u4e60\u7684\u76ee\u7684\u3002 8\u3001K-Means\u805a\u7c7b \u4e4b\u524d\u5199\u8fc7\u4e00\u7bc7\u5173\u4e8eK-Means\u805a\u7c7b\u7684\u6587\u7ae0\uff0c\u535a\u6587\u94fe\u63a5\uff1a\u673a\u5668\u5b66\u4e60\u7b97\u6cd5-K-means\u805a\u7c7b\u3002\u5173\u4e8eK-Means\u7684\u63a8\u5bfc\uff0c\u91cc\u9762\u6709\u7740\u5f88\u5f3a\u5927\u7684EM\u601d\u60f3\u3002 \u4f18\u70b9 \u7b97\u6cd5\u7b80\u5355\uff0c\u5bb9\u6613\u5b9e\u73b0 \uff1b \u5bf9\u5904\u7406\u5927\u6570\u636e\u96c6\uff0c\u8be5\u7b97\u6cd5\u662f\u76f8\u5bf9\u53ef\u4f38\u7f29\u7684\u548c\u9ad8\u6548\u7387\u7684\uff0c\u56e0\u4e3a\u5b83\u7684\u590d\u6742\u5ea6\u5927\u7ea6\u662fO(nkt)\uff0c\u5176\u4e2dn\u662f\u6240\u6709\u5bf9\u8c61\u7684\u6570\u76ee\uff0ck\u662f\u7c07\u7684\u6570\u76ee,t\u662f\u8fed\u4ee3\u7684\u6b21\u6570\u3002\u901a\u5e38k<<n\u3002\u8fd9\u4e2a\u7b97\u6cd5\u901a\u5e38\u5c40\u90e8\u6536\u655b\u3002 \u7b97\u6cd5\u5c1d\u8bd5\u627e\u51fa\u4f7f\u5e73\u65b9\u8bef\u5dee\u51fd\u6570\u503c\u6700\u5c0f\u7684k\u4e2a\u5212\u5206\u3002\u5f53\u7c07\u662f\u5bc6\u96c6\u7684\u3001\u7403\u72b6\u6216\u56e2\u72b6\u7684\uff0c\u4e14\u7c07\u4e0e\u7c07\u4e4b\u95f4\u533a\u522b\u660e\u663e\u65f6\uff0c\u805a\u7c7b\u6548\u679c\u8f83\u597d\u3002 \u7f3a\u70b9 \u5bf9\u6570\u636e\u7c7b\u578b\u8981\u6c42\u8f83\u9ad8\uff0c\u9002\u5408\u6570\u503c\u578b\u6570\u636e\uff1b \u53ef\u80fd\u6536\u655b\u5230\u5c40\u90e8\u6700\u5c0f\u503c\uff0c\u5728\u5927\u89c4\u6a21\u6570\u636e\u4e0a\u6536\u655b\u8f83\u6162 K\u503c\u6bd4\u8f83\u96be\u4ee5\u9009\u53d6\uff1b \u5bf9\u521d\u503c\u7684\u7c07\u5fc3\u503c\u654f\u611f\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684\u521d\u59cb\u503c\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7684\u805a\u7c7b\u7ed3\u679c\uff1b \u4e0d\u9002\u5408\u4e8e\u53d1\u73b0\u975e\u51f8\u9762\u5f62\u72b6\u7684\u7c07\uff0c\u6216\u8005\u5927\u5c0f\u5dee\u522b\u5f88\u5927\u7684\u7c07\u3002 \u5bf9\u4e8e\u201d\u566a\u58f0\u201d\u548c\u5b64\u7acb\u70b9\u6570\u636e\u654f\u611f\uff0c\u5c11\u91cf\u7684\u8be5\u7c7b\u6570\u636e\u80fd\u591f\u5bf9\u5e73\u5747\u503c\u4ea7\u751f\u6781\u5927\u5f71\u54cd\u3002 \u7b97\u6cd5\u9009\u62e9\u53c2\u8003 \u4e4b\u524d\u7ffb\u8bd1\u8fc7\u4e00\u4e9b\u56fd\u5916\u7684\u6587\u7ae0\uff0c\u6709\u4e00\u7bc7\u6587\u7ae0\u4e2d\u7ed9\u51fa\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u7b97\u6cd5\u9009\u62e9\u6280\u5de7\uff1a \u9996\u5f53\u5176\u51b2\u5e94\u8be5\u9009\u62e9\u7684\u5c31\u662f\u903b\u8f91\u56de\u5f52\uff0c\u5982\u679c\u5b83\u7684\u6548\u679c\u4e0d\u600e\u4e48\u6837\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c06\u5b83\u7684\u7ed3\u679c\u4f5c\u4e3a\u57fa\u51c6\u6765\u53c2\u8003\uff0c\u5728\u57fa\u7840\u4e0a\u4e0e\u5176\u4ed6\u7b97\u6cd5\u8fdb\u884c\u6bd4\u8f83\uff1b \u7136\u540e\u8bd5\u8bd5\u51b3\u7b56\u6811\uff08\u968f\u673a\u68ee\u6797\uff09\u770b\u770b\u662f\u5426\u53ef\u4ee5\u5927\u5e45\u5ea6\u63d0\u5347\u4f60\u7684\u6a21\u578b\u6027\u80fd\u3002\u5373\u4fbf\u6700\u540e\u4f60\u5e76\u6ca1\u6709\u628a\u5b83\u5f53\u505a\u4e3a\u6700\u7ec8\u6a21\u578b\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u968f\u673a\u68ee\u6797\u6765\u79fb\u9664\u566a\u58f0\u53d8\u91cf\uff0c\u505a\u7279\u5f81\u9009\u62e9\uff1b \u5982\u679c\u7279\u5f81\u7684\u6570\u91cf\u548c\u89c2\u6d4b\u6837\u672c\u7279\u522b\u591a\uff0c\u90a3\u4e48\u5f53\u8d44\u6e90\u548c\u65f6\u95f4\u5145\u8db3\u65f6\uff08\u8fd9\u4e2a\u524d\u63d0\u5f88\u91cd\u8981\uff09\uff0c\u4f7f\u7528SVM\u4e0d\u5931\u4e3a\u4e00\u79cd\u9009\u62e9\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff1a\u3010GBDT>=SVM>=RF>=Adaboost>=Other\u2026\u3011","title":"\u5e38\u89c1\u7b97\u6cd5\u4f18\u7f3a\u70b9"},{"location":"%E4%BF%AE%E8%A1%8C/%E4%BB%99%E4%BC%A0%E7%8E%84%E6%9C%BA%E5%8F%A3%E8%AF%80/","text":"\u4ed9\u4f20\u7384\u673a\u53e3\u8bc0 \u4fee\u4ed9\u4e4b\u6cd5\uff0c\u5728\u4e4e\u51dd\u795e\u5165\u6c14\u7a74\uff0c\u6c14\u7a74\u5373\u7384\u5173\u4e00\u7a8d\u3002 + \u6b64\u7a8d\u5728\u5fc3\u4e4b\u4e0b\uff0c\u80be\u4e4b\u4e0a\uff0c\u6b63\u4e2d\u865a\u7a7a\u4e4b\u5904\uff0c\u524d\u5bf9\u8110\u8f6e\u540e\u5bf9\u80be\uff0c\u4e43\u751f\u8eab\u7acb\u547d\u4e4b\u6839\u8482\u3002 + \u5148\u5929\u4e00\u6c14\u51dd\u800c\u4e3a\u6027\uff0c\u540e\u5929\u4e00\u6c14\u7ed3\u800c\u4e3a\u547d\uff0c\u6027\u547d\u4e4b\u6e90\uff0c\u751f\u6b7b\u4e4b\u8482\uff0c\u4eba\u4e4b\u5bff\u592d\uff0c\u7686\u7980\u4e8e\u65af\u3002 + \u77e5\u6b64\u7a8d\u800c\u6444\u5fc3\u8c03\u517b\uff0c\u5219\u547d\u5728\u4e8e\u6211\u3002\u6627\u6b64\u7a8d\u800c\u4efb\u5fc3\u6240\u4e3a\uff0c\u5219\u547d\u5728\u4e8e\u5929\u3002 \u5982\u4e0b\u624b\u4e4b\u65f6\uff0c\u4ee5\u5fc3\u6ce8\u5b9a\u7384\u5173\u4e00\u7a8d\uff0c\u5373\u4ee5\u5fc3\u606f\u76f8\u4f9d\u4e4b\u6cd5\uff0c\u5438\u6c14\u5165\u4e4b\uff0c\u8fdb\u5219\u7ef5\u7ef5\uff0c\u51fa\u5219\u5fae\u5fae\uff0c\u51fa\u606f\u672a\u5df2\uff0c\u5373\u4ee5\u5165\u606f\u7ee7\u4e4b\u3002 + \u82e5\u5fc3\u4e0d\u5b88\u7a8d\uff0c\u5219\u606f\u867d\u5165\uff0c\u800c\u795e\u4e0d\u6ce8\uff0c\u5219\u5176\u5173\u4e0d\u5f00\uff0c\u5fc5\u5ff5\u5ff5\u4e0d\u79bb\u800c\u540e\u53ef\u3002 + \u82e5\u606f\u4e0d\u5165\u7a8d\uff0c\u5219\u5fc3\u867d\u5b88\u800c\u6c14\u4e0d\u8d2f\uff0c\u5176\u5173\u4ea6\u4e0d\u5f00\uff0c\u5fc5\u606f\u606f\u5f52\u6839\u800c\u540e\u53ef\u3002 + \u7eb5\u5fc3\u606f\u4ff1\u5230\uff0c\u800c\u4efb\u5176\u51fa\u5165\uff0c\u5219\u6c14\u4e0d\u805a\uff0c\u800c\u5176\u5173\u4ea6\u4e0d\u5f00\uff0c\u5fc5\u82e5\u949f\u79bb\uff08\u6b63\u9633\u771f\u4eba\u4e4b\u300a\u7075\u5b9d\u6bd5\u6cd5\u300b\uff09\u201c\u591a\u5165\u5c11\u51fa\u201d\u800c\u540e\u53ef\u3002 + \u517c\u6b64\u4e09\u8005\uff0c\u52ff\u52a9\u52ff\u5fd8\uff0c\u7f13\u6025\u4e2d\u5ea6\u3002\u52ff\u5fd8\u5373\u7528\u529f\u4e0d\u8f8d\uff0c\u52ff\u52a9\u5373\u4e0d\u987b\u63d0\u8fd0\u52a9\u957f\u3002\u4ee5\u795e\u5b9a\u6c14\u76c8\uff0c\u5145\u6ee1\u4e39\u7530\uff0c\u800c\u7a8d\u5fc5\u5f00\uff0c\u7cbe\u5fc5\u81f3\u4e5f\u3002 + \u8b6c\u5982\u5bc6\u5ba4\u4e4b\u4e2d\uff0c\u9999\u70df\u4e00\u7f15\uff0c\u59cb\u751a\u5fae\u8033\uff0c\u82e5\u706b\u4e0d\u7edd\uff0c\u5176\u70df\u6e10\u6e10\u7b3c\u6ee1\u5ba4\u4e2d\uff0c\u800c\u7a7a\u7a8d\u6240\u901a\uff0c\u65e0\u975e\u900f\u5c04\u4e4b\u5904\u3002 + \u4eba\u8eab\u771f\u6c14\uff0c\u59cb\u800c\u8179\u4e2d\uff0c\u6e10\u800c\u5f00\u7a8d\uff0c\u6e10\u800c\u56db\u80a2\u767e\u9ab8\uff0c\u4ea6\u590d\u5982\u662f\u3002 + \u80fd\u79ef\u6c14\u4fbf\u80fd\u751f\u7cbe\uff0c\u4e0d\u8d8a\u7247\u65f6\uff0c\u800c\u771f\u6c14\u5468\u6d41\uff0c\u771f\u7cbe\u81ea\u751f\u3002\u6240\u8c13\u4e5d\u8fd8\u6210\u5927\u836f\uff0c\u7247\u664c\u663e\u795e\u529f\u4e5f\u3002 + \u6b64\u7a8d\u4e00\u5f00\uff0c\u767e\u7a8d\u4ff1\u5f00\uff0c\u6709\u75c5\u5373\u4e8e\u75c5\u540e\u5fae\u5e26\u70ed\u75db\uff0c\u6216\u4e09\u56db\u65e5\uff0c\u6216\u4e03\u516b\u65e5\uff0c\u5176\u75db\u5373\u6b62\uff0c\u75c5\u4ea6\u968f\u53bb\u3002 + \u65e0\u75c5\u5373\u8865\u52a9\uff0c\u4ee5\u81f3\u4ea4\u59e4\u8fd8\u4e39\uff0c\u5f97\u80ce\u8131\u80ce\uff0c\u8d85\u8131\u795e\u5316\uff0c\u7686\u65f6\u4faf\u81f3\u800c\u5999\u7a8d\u5f00\uff0c\u4e0d\u5047\u4eba\u529b\u9020\u4f5c\u800c\u6210\u8005\u3002 + \u771f\u7cbe\u751f\u65f6\uff0c\u53ea\u8981\u6c14\u8db3\u795e\u5145\uff0c\u4e0d\u7ec8\u65e5\u800c\u5373\u8fbe\u56db\u80a2\u767e\u9ab8\uff0c\u76ae\u80a4\u72b6\u5982\u866b\u884c\u3002 + \u5982\u662f\u7d27\u7d27\u7528\u529f\uff0c\u9877\u523b\u4e0d\u653e\u3002\u4efb\u7763\u4e8c\u8109\uff0c\u4ea4\u4e8e\u5507\u95f4\uff0c\u574e\u79bb\u4e7e\u5764\uff0c\u5927\u5c0f\u5468\u5929\uff0c\u4e09\u8f66\u4e09\u7530\uff0c\u5934\u9762\u6d8c\u6cc9\uff0c\u65e0\u5904\u4e0d\u5230\u3002 + \u5982\u662f\u523b\u523b\u4e0d\u653e\uff0c\u529f\u6548\u65e0\u7a77\uff0c\u5404\u5404\u4e0d\u540c\uff0c\u7ed3\u80ce\u8131\u80ce\uff0c\u65e5\u5408\u6708\u5408\uff0c\u51fa\u795e\u5165\u5316\uff0c\u5c3d\u4ece\u6b64\u53e3\u8bc0\u59cb\u7ec8\u5999\u609f\uff0c\u7686\u81ea\u7136\u800c\u7136\uff0c\u800c\u83ab\u77e5\u5176\u6240\u4ee5\u7136\u4e5f\u3002 \u4fee\u771f\u79d8\u65e8 \u4eba\u5f97\u9634\u9633\u4e8c\u6c14\u4e4b\u5168\uff0c\u800c\u5148\u5929\u540e\u5929\u5206\u7109\u3002 \u5148\u5929\u8005\uff0c\u7eaf\u9633\u4e5f\u3002\u540e\u5929\u8005\uff0c\u7eaf\u9634\u4e5f\u3002 \u4e0a\u4e0b\u8868\u91cc\u800c\u4e3a\u4eba\uff0c\u8d4b\u751f\u53d7\u547d\uff0c\u7686\u7980\u592a\u4e59\uff08\u4e59\u4e3a\u4e00\u7684\u8c10\u97f3\uff09\u542b\u771f\uff0c\u5148\u5929\u7956\u6c14\uff0c\u81f3\u865a\u81f3\u771f\uff0c\u7eaf\u7cb9\u4e2d\u6b63\uff0c\u7686\u53ef\u4e3a\u795e\u4ed9\u4e3a\u5723\u8d24\uff0c\u65e0\u8d35\u65e0\u8d31\uff0c\u4e00\u5207\u540c\u5f97\u3002 \u6b8a\u4e0d\u77e5\u6240\u5f97\u4e3a\u4eba\u8005\uff0c\u820d\u4e00\u70b9\u5148\u5929\u7eaf\u9633\u7956\u6c14\u4e4b\u5916\uff0c\u800c\u6240\u8c13\u8033\u76ee\u53e3\u9f3b\u3001\u5fc3\u809d\u813e\u80ba\u80be\u3001\u6d95\u553e\u6d25\u6db2\uff0c\u4ee5\u81f3\u76ae\u80a4\u722a\u53d1\u3001\u767e\u9ab8\u4e5d\u7a8d\uff0c\u4e00\u8eab\u56db\u80a2\uff0c\u81ea\u9876\u81f3\u8e35\uff0c\u7686\u540e\u5929\u7eaf\u9634\u9020\u5316\uff0c\u56db\u5927\u5047\u5408\u800c\u6210\u8005\u4e5f\u3002 \u5148\u5929\u7956\u6c14\uff0c\u604d\u604d\u60da\u60da\uff0c\u6773\u6773\u51a5\u51a5\uff0c\u5176\u4e2d\u6709\u7269\u800c\u975e\u7269\uff0c\u5176\u4e2d\u6709\u7cbe\u800c\u975e\u7cbe\uff0c\u4f3c\u6709\u4f3c\u65e0\uff0c\u82e5\u4ea1\u82e5\u5b58\uff0c\u5373\uff08\u8fd1\uff09\u4e4b\u4e0d\u53ef\u89c1\uff0c\u6c42\u4e4b\u4e0d\u53ef\u5f97\uff0c\u5176\u5927\u65e0\u5916\uff0c\u5305\u542b\u4e07\u8c61\uff0c\u5176\u5c0f\u65e0\u5185\uff0c\u4e0d\u5bb9\u4e00\u7c9f\u3002 \u5f53\u77e5\u4eba\u8eab\u4e4b\u4e2d\uff0c\u6709\u4e00\u7a74\u81f3\u865a\u4e4b\u5730\u4ee5\u5b58\u4e4b\uff0c\u7384\u5173\u4e00\u7a8d\u662f\u4e5f\u3002\u5f97\u4e4b\u8005\u4e3a\u795e\u4ed9\uff0c\u5931\u4e4b\u8005\u4e3a\u9b3c\u9b42\uff0c\u5f97\u4e4b\u8005\u672a\u95fb\u4e00\u4e8c\uff0c\u5931\u4e4b\u8005\u5e38\u767e\u5343\u4e07\u4e5f\u3002 \u5948\u4f55\u4e16\u4eba\u7686\u4e0d\u80fd\u4fdd\u8eab\uff0c\u4e00\u70b9\u5148\u5929\u7956\u6c14\uff0c\u5f80\u5f80\u7686\u6d41\u4e8e\u540e\u5929\u77e3\u3002 \u6545\u4e09\u5c38\u4e3a\u5bb3\uff0c\u4e5d\u866b\u98df\u7cbe\uff0c\u516d\u8d3c\u76d7\u5f62\uff0c\u4e03\u60c5\u8017\u795e\uff0c\u4e94\u6b32\u6270\u5fc3\uff0c\u51e1\u7269\u832b\u832b\uff0c\u4e07\u673a\u7729\u60d1\uff0c\u8033\u542c\u97f3\u58f0\uff0c\u53e3\u55dc\u6ecb\u5473\uff0c\u968f\u5176\u6240\u6709\uff0c\u5373\u8457\u5176\u76f8\u3002 \u76f8\u8457\u4e8e\u5916\uff0c\u673a\u4ece\u76ee\u5165\uff0c\u5373\u5165\u4e8e\u5185\uff0c\u6545\u52a8\u5176\u5fc3\u3002 \u60c5\u52a8\u4e8e\u4e2d\uff0c\u5fc5\u6447\u5176\u7cbe\uff0c\u65e2\u5931\u5176\u7cbe\uff0c\u5fc5\u8017\u5176\u6c14\u3002 \u5f62\u795e\u59cb\u79bb\uff0c\u604d\u60da\u5984\u5e7b\uff0c\u6270\u60f3\u60d1\u60c5\uff0c\u4e8b\u7269\u52b3\u5f62\uff0c\u7cbe\u4e71\u795e\u6563\uff0c\u771f\u4e00\u79bb\u5fc3\uff0c\u5148\u5929\u4e4b\u6c14\u65e5\u4e27\uff0c\u800c\u8f6c\u8f97\u6d41\u8361\u4e8e\u540e\u5929\u751f\u6b7b\u6b7b\u751f\u4e4b\u57df\u77e3\u3002 \u6211\u9053\u7956\u8001\u541b\u60af\u4e4b\uff0c\u4e8e\u662f\u59cb\u6709\u5927\u9053\uff0c\u6559\u4eba\u4ee5\u8fd4\u8fd8\u4e4b\u8bf4\u3002 \u8fd4\u8005\uff0c\u8fd4\u672c\u4e5f\u3002\u8fd8\u8005\uff0c\u8fd8\u539f\u4e5f\u3002\u4e0d\u8fc7\u8fd4\u5176\u540e\u5929\u8005\u590d\u8fd8\u4e8e\u5148\u5929\u800c\u5df2\u3002 \u81ea\u91d1\u4e39\u4e4b\u540d\u7acb\uff0c\u800c\u91d1\u4e39\u4e4b\u9053\u8457\uff0c\u800c\u91d1\u4e39\u4e4b\u4e66\u51fa\u7109\u3002 \u7a83\u8c13\u91d1\u4e39\u975e\u65e0\uff0c\u5927\u9053\u975e\u6709\uff0c\u6709\u4e2d\u751f\u65e0\uff0c\u65e0\u4e2d\u751f\u6709\u8005\u4e5f\u3002 \u91d1\u4e39\u4e4b\u9053\u975e\u65e0\u800c\u975e\u6709\uff0c\u800c\u6240\u8c13\u836f\u7269\u3001\u706b\u5019\u3001\u9f0e\u5668\u8005\uff0c\u679c\u6709\u8036\uff1f\u679c\u65e0\u8036\uff1f\u6291\u4ea6\uff08\u4e5f\u8bb8\uff09\u5047\u6cd5\u8c61\u4ee5\u660e\u5927\u9053\u8036\uff1f\u80e5\uff08\u5168\uff09\u7531\u91d1\u4e39\u4e8c\u5b57\u6709\u8c61\u4e4b\u6545\uff0c\u610f\u8c13\u94f8\u91d1\u5fc5\u6709\u9f0e\u7089\uff0c\u4fee\u4e39\u5fc5\u6709\u7075\u836f\uff0c\u70bc\u836f\u5fc5\u6709\u706b\u5019\uff1b\u540e\u6b64\u540d\u59cb\u7acb\u77e3\u3002 \u76d6\u805a\u5148\u5929\u7956\u6c14\u4e3a\u836f\u7269\uff0c\u5b88\u7384\u5173\u4e00\u7a8d\u4e3a\u7089\u9f0e\uff0c\u987a\u5143\u795e\u5999\u7528\u4e3a\u706b\u5019\u3002 \u65e5\u7145\u6708\u70bc\uff0c\u65f6\u523b\u4e0d\u5fd8\uff0c\u53ca\u5176\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u8131\u80ce\u6362\u9aa8\uff0c\u8d85\u51e1\u5165\u5723\uff0c\u5927\u9053\u4e4b\u8981\uff0c\u4e0d\u8fc7\u5982\u65af\u800c\u5df2\u3002 \u540e\u4e16\u4e39\u4e66\uff0c\u5f80\u5f80\u4e0d\u80af\u771f\u6307\u771f\u4e00\u9020\u5316\u4e4b\u672c\u539f\uff0c\u4e0b\u624b\u5de5\u592b\u4e4b\u6b21\u5e8f\uff0c\u65e0\u975e\u5047\u8c61\u8bbe\u8b6c\uff0c\u68a6\u4e2d\u8bf4\u68a6\uff0c\u8ff7\u8bef\u540e\u4eba\u3002 \u4e14\u5c31\u836f\u7269\u800c\u8bba\u4e4b\uff1a\u66f0\u4e7e\u5764\u3001\u574e\u79bb\u3001\u9634\u9633\u3001\u94c5\u6c5e\u3001\u6728\u6db2\u91d1\u7cbe\u3001\u4e39\u7802\u6c34\u94f6\u3001\u65e5\u9b42\u6708\u9b44\u3001\u4e4c\u7cbe\u5154\u9ad3\u3001\u9752\u9f99\u767d\u864e\u3001\u7384\u9f9f\u8d64\u86c7\u3001\u4ea4\u68a8\u706b\u67a3\u3001\u9ec4\u7259\u767d\u96ea\u3001\u96cc\u96c4\u9ed1\u767d\uff0c\u82e5\u662f\u4e4b\u4e0d\u4e00\u8005\uff0c\u7686\u836f\u7269\u4e4b\u5f02\u540d\u4e5f\u3002\u5148\u5929\u7956\u6c14\uff0c\u5373\u662f\u836f\u7269\u3002\u5c82\u5148\u5929\u7956\u6c14\u4e4b\u5916\uff0c\u522b\u6709\u6240\u8c13\u836f\u7269\u8036\uff1f \u5373\u9f0e\u7089\u800c\u8bba\u4e4b\uff1a\u66f0\u795e\u7089\u3001\u4e39\u7a74\u3001\u7075\u53f0\u3001\u795e\u5ba4\u3001\u9ec4\u623f\u3001\u7edb\u5bab\u3001\u620a\u5df1\u3001\u9ec4\u4e2d\u3001\u660e\u5802\u3001\u865a\u8c37\u3001\u6731\u7802\u9f0e\u3001\u5043\u6708\u7089\uff0c\u82e5\u662f\u4e4b\u4e0d\u4e00\u8005\uff0c\u7686\u7089\u9f0e\u4e4b\u5f02\u540d\u4e5f\u3002\u7384\u5173\u4e00\u7a8d\uff0c\u5373\u662f\u9f0e\u7089\u3002\u5c82\u7384\u5173\u4e00\u7a8d\u4e4b\u5916\uff0c\u522b\u6709\u6240\u8c13\u9f0e\u7089\u8036\uff1f \u5373\u706b\u5019\u800c\u8bba\u4e4b\uff1a\u66f0\u63a8\u5468\u5929\u3001\u6d4b\u6f6e\u5019\u3001\u6309\u5366\u723b\u3001\u7528\u6587\u6b66\u3001\u51c6\u6666\u6714\u3001\u5b9a\u5f26\u671b\u3001\u660e\u62bd\u6dfb\u3001\u609f\u8fdb\u9000\u3001\u9f13\u6a50\u9fa0\u3001\u79f0\u65a4\u4e24\u3001\u4f53\u5211\u5fb7\u3001\u4e8b\u6c90\u6d74\u3001\u884c\u59e4\u590d\uff0c\u82e5\u662f\u4e4b\u4e0d\u4e00\u8005\uff0c\u7686\u706b\u5019\u4e4b\u5f02\u540d\u4e5f\u3002\u5143\u795e\u5999\u7528\uff0c\u5373\u662f\u706b\u5019\u3002\u5c82\u5143\u795e\u5999\u7528\u4e4b\u5916\uff0c\u522b\u6709\u6240\u8c13\u706b\u5019\u8036\uff1f \u4f59\u4e0d\u6562\u590d\u6548\u524d\u4eba\u4e4b\u8a00\u4ee5\u6b3a\u540e\u4eba\uff0c\u4e43\u76f4\u6307\u91d1\u4e39\u5927\u9053\u4e4b\u672c\u539f\u800c\u8a00\u4e4b\uff0c\u5fc5\u6709\u6b21\u5e8f\u7109\u3002 \u4e00\u66f0\u7acb\u7089\u9f0e\uff0c\u4e8c\u66f0\u805a\u836f\u7269\uff0c\u4e09\u66f0\u884c\u706b\u5019\u3002\u4e09\u8005\u4e4b\u5916\uff0c\u4f59\u4e0d\u6562\u590d\u6709\u589e\u76ca\u7109\u3002 \u7acb\u7089\u9f0e\u8005\u4f55\uff1f\u5373\u5b88\u7384\u5173\u4e00\u7a8d\u4e5f\u3002\u662f\u7a8d\u85cf\u4e8e\u5148\u5929\u6df7\u6c8c\u4e4b\u4e2d\uff0c\u9690\u4e8e\u65e0\u6709\u6709\u65e0\u4e4b\u5185\uff0c\u7236\u6bcd\u672a\u751f\u6b64\u8eab\u5373\u6709\u6b64\u7a8d\uff0c\u65e2\u6709\u6b64\u7a8d\u5373\u6709\u6b64\u8eab\uff0c\u6240\u8c13\u4e0e\u751f\u4ff1\u751f\u8005\u4e5f\u3002\u5373\u5143\u59cb\u60ac\u5b9d\u73e0\u4e8e\u7a7a\u65e0\u4e2d\uff0c\u53bb\u5730\u4e94\u4e08\u4e4b\u6240\u662f\u4e5f\uff0c\u4e0d\u4e0a\u4e0d\u4e0b\uff0c\u4e0d\u5de6\u4e0d\u53f3\uff0c\u4e0d\u524d\u4e0d\u540e\uff0c\u975e\u5185\u975e\u5916\uff0c\u975e\u6709\u975e\u65e0\uff0c\u4e0a\u901a\u7edb\u5bab\u800c\u7ed5\u6ce5\u4e38\uff0c\u4e0b\u63a5\u4e39\u7530\u800c\u8fbe\u6d8c\u6cc9\uff0c\u4e0a\u5f7b\u4e0b\u7a7a\uff0c\u800c\u9ec4\u4e2d\u901a\u7406\u7109\u3002\u6b64\u5373\u7acb\u7089\u9f0e\u4e4b\u80dc\u5730\u4e5f\u3002 \u805a\u836f\u7269\u8005\u4f55\uff1f\u5373\u5b58\u4e00\u70b9\u5148\u5929\u6df7\u5143\u7956\u6c14\u4e5f\u3002\u662f\u6c14\u751f\u4e8e\u65e0\u5f62\u65e0\u8c61\u4e4b\u5148\uff0c\u805a\u4e8e\u65e0\u6781\u592a\u6781\u4e4b\u5185\uff0c\u7236\u6bcd\u672a\u751f\uff0c\u5999\u5408\u800c\u51dd\uff0c\u672a\u6709\u6b64\u8eab\uff0c\u5373\u6709\u6b64\u6c14\uff0c\u65e2\u6709\u6b64\u6c14\uff0c\u5373\u6709\u6b64\u8eab\u3002\u6b64\u6c14\u8fd0\u884c\uff0c\u5468\u6d41\u4e0d\u865a\uff0c\u5f62\u4ee5\u4e4b\u800c\u6210\uff0c\u5fc3\u4ee5\u4e4b\u800c\u865a\uff0c\u8033\u76ee\u4ee5\u4e4b\u800c\u806a\u660e\uff0c\u5143\u7cbe\u4ee5\u4e4b\u800c\u56fa\u5b81\uff0c\u5143\u795e\u4ee5\u4e4b\u800c\u8fd0\u884c\uff0c\u543e\u8eab\u4ee5\u4e4b\u800c\u5316\u751f\u3002\u6563\u4e4b\u5219\u6d51\u878d\u65e0\u95f4\uff0c\u805a\u4e4b\u5219\u51dd\u7ed3\u800c\u6210\u836f\uff0c\u6b64\u5373\u4fee\u70bc\u91d1\u4e39\u4e4b\u5927\u836f\u4e5f\u3002 \u884c\u706b\u5019\u8005\u4f55\uff1f\u5373\u987a\u5143\u795e\u5999\u7528\u4e4b\u4e49\uff0c\u81ea\u7136\u8fd0\u7528\u4e4b\u9053\u4e5f\u3002\u662f\u706b\u53d1\u751f\u4e8e\u771f\u7cbe\u604d\u60da\u4e4b\u4e2d\uff0c\u85b0\u84b8\u4e8e\u56db\u80a2\u767e\u9ab8\u4e4b\u5185\uff0c\u672c\u65e0\u5f62\u8c61\uff0c\u5b89\u6709\u5019\u7109\uff1f\u76d6\u5143\u795e\u6563\u5219\u6210\u6c14\uff0c\u805a\u5219\u6210\u706b\uff0c\u4e00\u805a\u4e00\u6563\uff0c\u4e00\u5347\u4e00\u964d\uff0c\u5faa\u73af\u5f80\u6765\uff0c\u5468\u6d41\u4e0d\u606f\uff0c\u4e0e\u65f6\u5055\u884c\uff0c\u4e0e\u65f6\u5055\u6781\u8005\u4e5f\u3002\u6216\u8005\u7c07\u5e74\u5f52\u6708\uff0c\u7c07\u6708\u5f52\u65f6\uff0c\u7c07\u65f6\u5f52\u523b\uff0c\u51c6\u5b50\u5348\u536f\u9149\uff0c\u5bc5\u7533\u5df3\u4ea5\uff0c\u8fb0\u620c\u4e11\u672a\uff0c\u671d\u5c6f\u66ae\u8499\uff0c\u59e4\u590d\u5764\u5265\uff0c\u5468\u5386\u516d\u5341\u56db\u5366\u3001\u4e8c\u5341\u56db\u6c14\u3001\u4e03\u5341\u4e8c\u5019\u3001\u4e8c\u5341\u516b\u5bbf\u3001\u5468\u5929\u4e09\u767e\u516d\u5341\u4e94\u5ea6\u4ee5\u4e3a\u5019\u3002\u6b8a\u4e0d\u77e5\u6df7\u6c8c\u672a\u5206\u4e4b\u65f6\uff0c\u5b89\u6709\u5e74\u6708\u65e5\u65f6\uff0c\u7532\u7678\u5b50\u4ea5\u53c8\u82e5\u4f55\u63a8\u6d4b\u4e5f\u3002\u5927\u62b5\u771f\u706b\u5373\u662f\u5143\u795e\u4e4b\u8fd0\u884c\uff0c\u5143\u795e\u5373\u662f\u771f\u706b\u4e4b\u5999\u7528\u3002\u771f\u706b\u968f\u771f\u606f\uff0c\u771f\u606f\u70bc\u771f\u6c14\uff0c\u771f\u6c14\u5316\u771f\u7cbe\uff0c\u771f\u7cbe\u5f52\u5143\u795e\uff0c\u5143\u795e\u53d1\u771f\u706b\uff0c\u771f\u7cbe\u7ed3\u6210\u4e39\u3002\u771f\u606f\u4e4b\u51fa\u5165\uff0c\u5373\u771f\u706b\u4e4b\u8fdb\u9000\uff0c\u5373\u6587\u6b66\u4e4b\u62bd\u6dfb\uff0c\u7686\u672c\u81ea\u7136\u800c\u7136\uff0c\u521d\u975e\u6512\u7c07\u968f\u5ff5\u800c\u751f\uff0c\u82e5\u592b\u71ce\u4e8e\u539f\u800c\u4e0d\u53ef\u904f\u8005\uff0c\u975e\u5148\u5929\u4e4b\u771f\u706b\uff0c\u4e43\u540e\u5929\u4e4b\u51e1\u706b\u4e5f\u3002 \u4eca\u4fee\u58eb\u4e0b\u624b\u7acb\u57fa\u4e4b\u59cb\uff0c\u5fc5\u5148\u4f7f\u543e\u5fc3\u5982\u6b62\u6c34\u65e0\u6ce2\uff0c\u592a\u865a\u65e0\u4e91\uff0c\u4e00\u5bc2\u7136\u4e0d\u52a8\u4e4b\u5883\uff0c\u7136\u540e\u4e8e\u7384\u5173\u4e00\u7a8d\u4e4b\u4e2d\uff0c\u505a\u7236\u6bcd\u672a\u751f\u4ee5\u524d\u5de5\u592b\u3002 \u5b58\u5b9a\u771f\u606f\u771f\u6c14\uff0c\u4f7f\u6c14\u4e0d\u79bb\u606f\uff0c\u606f\u4e0d\u79bb\u6c14\uff0c\u5408\u4e3a\u4e00\u5904\u3002 \u5185\u8005\u4e0d\u51fa\uff0c\u5916\u8005\u4e0d\u5165\uff0c\u4e0a\u4e0b\u5f80\u6765\u4e8e\u4e00\u7a8d\u4e4b\u5185\u3002 \u7ef5\u7ef5\u82e5\u5b58\uff0c\u5982\u5728\u7236\u6bcd\u80de\u4e2d\uff0c\u672a\u751f\u4ee5\u524d\u4e00\u70b9\u5148\u5929\u7956\u6c14\uff0c\u6d51\u878d\u78c5\u7934\uff0c\u6e29\u7136\u5982\u6625\uff0c\u9163\u7136\u5982\u9189\uff0c\u7f8e\u5728\u5176\u4e2d\uff0c\u775f\u7136\u89c1\u4e8e\u9762\uff0c\u76ce\u4e8e\u80cc\uff0c\u65bd\u4e8e\u56db\u4f53\uff0c\u56db\u4f53\u4e0d\u8a00\u800c\u55bb\u3002 \u7779\u4e4b\u65e0\u8c61\uff0c\u6c42\u4e4b\u65e0\u5f62\uff0c\u65e0\u4e00\u523b\u4e0d\u5728\u4e8e\u7384\u5173\uff0c\u81f3\u6b64\u5219\u836f\u5f52\u4e8e\u9f0e\u7089\uff0c\u800c\u706b\u5019\u53ef\u884c\u77e3\u3002 \u5982\u662f\u5219\u5143\u795e\u5999\u7528\u81ea\u7136\uff0c\u8fd0\u7528\u771f\u706b\uff0c\u5468\u6d41\u8fd0\u8f6c\u4e8e\u7384\u5173\u4e4b\u5185\uff0c\u6e10\u6e10\u7145\u70bc\uff0c\u6e10\u6e10\u51dd\u7ed3\uff0c\u771f\u7cbe\u65e5\u76ca\uff0c\u529b\u5230\u529f\u6df1\uff0c\u81ea\u5c0f\u81f3\u5927\uff0c\u7531\u5fae\u81f3\u8457\uff0c\u7384\u73e0\u6210\u8c61\uff0c\u7ed3\u6210\u5723\u80ce\uff0c\u7686\u81ea\u7136\u800c\u7136\uff0c\u83ab\u77e5\u5176\u6240\u4ee5\u7136\uff0c\u81ea\u795e\u800c\u795e\uff0c\u83ab\u77e5\u5176\u6240\u4ee5\u795e\u3002\u8fd8\u5982\u5b50\u85cf\u6bcd\u8179\uff0c\u968f\u547c\u968f\u5438\uff0c\u805a\u51b2\u865a\u592a\u548c\u4e4b\u6c14\uff0c\u6210\u7ec8\u53e4\u4e0d\u574f\u4e4b\u4f53\u3002\u4ee5\u81f4\u80ce\u5706\u5341\u6708\uff0c\u5316\u751f\u5a74\u513f\uff0c\u4e0e\u6211\u672a\u751f\u4ee5\u524d\uff0c\u5728\u6bcd\u80ce\u4e2d\u4e00\u822c\u610f\u8c61\u3002\u7136\u540e\u52e4\u52a0\u6e29\u517b\u4e4b\u529f\uff0c\u4e13\u6c14\u81f4\u67d4\uff0c\u5ff5\u5179\u5728\u5179\uff0c\u52a8\u9759\u8bed\u9ed8\uff0c\u9020\u6b21\u5f17\u79bb\u3002\u6e29\u517b\u65e2\u8db3\uff0c\u4f53\u5982\u7a7a\u865a\uff0c\u4e8e\u662f\u5288\u7834\u9e3f\u8499\uff0c\u51ff\u5f00\u6df7\u6c8c\uff0c\u73b0\u51fa\u672c\u6765\u9762\u76ee\uff0c\u8eab\u5916\u6709\u8eab\uff0c\u7eb5\u6a2a\u81ea\u5728\uff0c\u53d8\u5316\u65e0\u65b9\u77e3\u3002","title":"\u4ed9\u4f20\u7384\u673a\u53e3\u8bc0"},{"location":"%E4%BF%AE%E8%A1%8C/%E4%BB%99%E4%BC%A0%E7%8E%84%E6%9C%BA%E5%8F%A3%E8%AF%80/#_1","text":"\u4fee\u4ed9\u4e4b\u6cd5\uff0c\u5728\u4e4e\u51dd\u795e\u5165\u6c14\u7a74\uff0c\u6c14\u7a74\u5373\u7384\u5173\u4e00\u7a8d\u3002 + \u6b64\u7a8d\u5728\u5fc3\u4e4b\u4e0b\uff0c\u80be\u4e4b\u4e0a\uff0c\u6b63\u4e2d\u865a\u7a7a\u4e4b\u5904\uff0c\u524d\u5bf9\u8110\u8f6e\u540e\u5bf9\u80be\uff0c\u4e43\u751f\u8eab\u7acb\u547d\u4e4b\u6839\u8482\u3002 + \u5148\u5929\u4e00\u6c14\u51dd\u800c\u4e3a\u6027\uff0c\u540e\u5929\u4e00\u6c14\u7ed3\u800c\u4e3a\u547d\uff0c\u6027\u547d\u4e4b\u6e90\uff0c\u751f\u6b7b\u4e4b\u8482\uff0c\u4eba\u4e4b\u5bff\u592d\uff0c\u7686\u7980\u4e8e\u65af\u3002 + \u77e5\u6b64\u7a8d\u800c\u6444\u5fc3\u8c03\u517b\uff0c\u5219\u547d\u5728\u4e8e\u6211\u3002\u6627\u6b64\u7a8d\u800c\u4efb\u5fc3\u6240\u4e3a\uff0c\u5219\u547d\u5728\u4e8e\u5929\u3002 \u5982\u4e0b\u624b\u4e4b\u65f6\uff0c\u4ee5\u5fc3\u6ce8\u5b9a\u7384\u5173\u4e00\u7a8d\uff0c\u5373\u4ee5\u5fc3\u606f\u76f8\u4f9d\u4e4b\u6cd5\uff0c\u5438\u6c14\u5165\u4e4b\uff0c\u8fdb\u5219\u7ef5\u7ef5\uff0c\u51fa\u5219\u5fae\u5fae\uff0c\u51fa\u606f\u672a\u5df2\uff0c\u5373\u4ee5\u5165\u606f\u7ee7\u4e4b\u3002 + \u82e5\u5fc3\u4e0d\u5b88\u7a8d\uff0c\u5219\u606f\u867d\u5165\uff0c\u800c\u795e\u4e0d\u6ce8\uff0c\u5219\u5176\u5173\u4e0d\u5f00\uff0c\u5fc5\u5ff5\u5ff5\u4e0d\u79bb\u800c\u540e\u53ef\u3002 + \u82e5\u606f\u4e0d\u5165\u7a8d\uff0c\u5219\u5fc3\u867d\u5b88\u800c\u6c14\u4e0d\u8d2f\uff0c\u5176\u5173\u4ea6\u4e0d\u5f00\uff0c\u5fc5\u606f\u606f\u5f52\u6839\u800c\u540e\u53ef\u3002 + \u7eb5\u5fc3\u606f\u4ff1\u5230\uff0c\u800c\u4efb\u5176\u51fa\u5165\uff0c\u5219\u6c14\u4e0d\u805a\uff0c\u800c\u5176\u5173\u4ea6\u4e0d\u5f00\uff0c\u5fc5\u82e5\u949f\u79bb\uff08\u6b63\u9633\u771f\u4eba\u4e4b\u300a\u7075\u5b9d\u6bd5\u6cd5\u300b\uff09\u201c\u591a\u5165\u5c11\u51fa\u201d\u800c\u540e\u53ef\u3002 + \u517c\u6b64\u4e09\u8005\uff0c\u52ff\u52a9\u52ff\u5fd8\uff0c\u7f13\u6025\u4e2d\u5ea6\u3002\u52ff\u5fd8\u5373\u7528\u529f\u4e0d\u8f8d\uff0c\u52ff\u52a9\u5373\u4e0d\u987b\u63d0\u8fd0\u52a9\u957f\u3002\u4ee5\u795e\u5b9a\u6c14\u76c8\uff0c\u5145\u6ee1\u4e39\u7530\uff0c\u800c\u7a8d\u5fc5\u5f00\uff0c\u7cbe\u5fc5\u81f3\u4e5f\u3002 + \u8b6c\u5982\u5bc6\u5ba4\u4e4b\u4e2d\uff0c\u9999\u70df\u4e00\u7f15\uff0c\u59cb\u751a\u5fae\u8033\uff0c\u82e5\u706b\u4e0d\u7edd\uff0c\u5176\u70df\u6e10\u6e10\u7b3c\u6ee1\u5ba4\u4e2d\uff0c\u800c\u7a7a\u7a8d\u6240\u901a\uff0c\u65e0\u975e\u900f\u5c04\u4e4b\u5904\u3002 + \u4eba\u8eab\u771f\u6c14\uff0c\u59cb\u800c\u8179\u4e2d\uff0c\u6e10\u800c\u5f00\u7a8d\uff0c\u6e10\u800c\u56db\u80a2\u767e\u9ab8\uff0c\u4ea6\u590d\u5982\u662f\u3002 + \u80fd\u79ef\u6c14\u4fbf\u80fd\u751f\u7cbe\uff0c\u4e0d\u8d8a\u7247\u65f6\uff0c\u800c\u771f\u6c14\u5468\u6d41\uff0c\u771f\u7cbe\u81ea\u751f\u3002\u6240\u8c13\u4e5d\u8fd8\u6210\u5927\u836f\uff0c\u7247\u664c\u663e\u795e\u529f\u4e5f\u3002 + \u6b64\u7a8d\u4e00\u5f00\uff0c\u767e\u7a8d\u4ff1\u5f00\uff0c\u6709\u75c5\u5373\u4e8e\u75c5\u540e\u5fae\u5e26\u70ed\u75db\uff0c\u6216\u4e09\u56db\u65e5\uff0c\u6216\u4e03\u516b\u65e5\uff0c\u5176\u75db\u5373\u6b62\uff0c\u75c5\u4ea6\u968f\u53bb\u3002 + \u65e0\u75c5\u5373\u8865\u52a9\uff0c\u4ee5\u81f3\u4ea4\u59e4\u8fd8\u4e39\uff0c\u5f97\u80ce\u8131\u80ce\uff0c\u8d85\u8131\u795e\u5316\uff0c\u7686\u65f6\u4faf\u81f3\u800c\u5999\u7a8d\u5f00\uff0c\u4e0d\u5047\u4eba\u529b\u9020\u4f5c\u800c\u6210\u8005\u3002 + \u771f\u7cbe\u751f\u65f6\uff0c\u53ea\u8981\u6c14\u8db3\u795e\u5145\uff0c\u4e0d\u7ec8\u65e5\u800c\u5373\u8fbe\u56db\u80a2\u767e\u9ab8\uff0c\u76ae\u80a4\u72b6\u5982\u866b\u884c\u3002 + \u5982\u662f\u7d27\u7d27\u7528\u529f\uff0c\u9877\u523b\u4e0d\u653e\u3002\u4efb\u7763\u4e8c\u8109\uff0c\u4ea4\u4e8e\u5507\u95f4\uff0c\u574e\u79bb\u4e7e\u5764\uff0c\u5927\u5c0f\u5468\u5929\uff0c\u4e09\u8f66\u4e09\u7530\uff0c\u5934\u9762\u6d8c\u6cc9\uff0c\u65e0\u5904\u4e0d\u5230\u3002 + \u5982\u662f\u523b\u523b\u4e0d\u653e\uff0c\u529f\u6548\u65e0\u7a77\uff0c\u5404\u5404\u4e0d\u540c\uff0c\u7ed3\u80ce\u8131\u80ce\uff0c\u65e5\u5408\u6708\u5408\uff0c\u51fa\u795e\u5165\u5316\uff0c\u5c3d\u4ece\u6b64\u53e3\u8bc0\u59cb\u7ec8\u5999\u609f\uff0c\u7686\u81ea\u7136\u800c\u7136\uff0c\u800c\u83ab\u77e5\u5176\u6240\u4ee5\u7136\u4e5f\u3002","title":"\u4ed9\u4f20\u7384\u673a\u53e3\u8bc0"},{"location":"%E4%BF%AE%E8%A1%8C/%E4%BB%99%E4%BC%A0%E7%8E%84%E6%9C%BA%E5%8F%A3%E8%AF%80/#_2","text":"\u4eba\u5f97\u9634\u9633\u4e8c\u6c14\u4e4b\u5168\uff0c\u800c\u5148\u5929\u540e\u5929\u5206\u7109\u3002 \u5148\u5929\u8005\uff0c\u7eaf\u9633\u4e5f\u3002\u540e\u5929\u8005\uff0c\u7eaf\u9634\u4e5f\u3002 \u4e0a\u4e0b\u8868\u91cc\u800c\u4e3a\u4eba\uff0c\u8d4b\u751f\u53d7\u547d\uff0c\u7686\u7980\u592a\u4e59\uff08\u4e59\u4e3a\u4e00\u7684\u8c10\u97f3\uff09\u542b\u771f\uff0c\u5148\u5929\u7956\u6c14\uff0c\u81f3\u865a\u81f3\u771f\uff0c\u7eaf\u7cb9\u4e2d\u6b63\uff0c\u7686\u53ef\u4e3a\u795e\u4ed9\u4e3a\u5723\u8d24\uff0c\u65e0\u8d35\u65e0\u8d31\uff0c\u4e00\u5207\u540c\u5f97\u3002 \u6b8a\u4e0d\u77e5\u6240\u5f97\u4e3a\u4eba\u8005\uff0c\u820d\u4e00\u70b9\u5148\u5929\u7eaf\u9633\u7956\u6c14\u4e4b\u5916\uff0c\u800c\u6240\u8c13\u8033\u76ee\u53e3\u9f3b\u3001\u5fc3\u809d\u813e\u80ba\u80be\u3001\u6d95\u553e\u6d25\u6db2\uff0c\u4ee5\u81f3\u76ae\u80a4\u722a\u53d1\u3001\u767e\u9ab8\u4e5d\u7a8d\uff0c\u4e00\u8eab\u56db\u80a2\uff0c\u81ea\u9876\u81f3\u8e35\uff0c\u7686\u540e\u5929\u7eaf\u9634\u9020\u5316\uff0c\u56db\u5927\u5047\u5408\u800c\u6210\u8005\u4e5f\u3002 \u5148\u5929\u7956\u6c14\uff0c\u604d\u604d\u60da\u60da\uff0c\u6773\u6773\u51a5\u51a5\uff0c\u5176\u4e2d\u6709\u7269\u800c\u975e\u7269\uff0c\u5176\u4e2d\u6709\u7cbe\u800c\u975e\u7cbe\uff0c\u4f3c\u6709\u4f3c\u65e0\uff0c\u82e5\u4ea1\u82e5\u5b58\uff0c\u5373\uff08\u8fd1\uff09\u4e4b\u4e0d\u53ef\u89c1\uff0c\u6c42\u4e4b\u4e0d\u53ef\u5f97\uff0c\u5176\u5927\u65e0\u5916\uff0c\u5305\u542b\u4e07\u8c61\uff0c\u5176\u5c0f\u65e0\u5185\uff0c\u4e0d\u5bb9\u4e00\u7c9f\u3002 \u5f53\u77e5\u4eba\u8eab\u4e4b\u4e2d\uff0c\u6709\u4e00\u7a74\u81f3\u865a\u4e4b\u5730\u4ee5\u5b58\u4e4b\uff0c\u7384\u5173\u4e00\u7a8d\u662f\u4e5f\u3002\u5f97\u4e4b\u8005\u4e3a\u795e\u4ed9\uff0c\u5931\u4e4b\u8005\u4e3a\u9b3c\u9b42\uff0c\u5f97\u4e4b\u8005\u672a\u95fb\u4e00\u4e8c\uff0c\u5931\u4e4b\u8005\u5e38\u767e\u5343\u4e07\u4e5f\u3002 \u5948\u4f55\u4e16\u4eba\u7686\u4e0d\u80fd\u4fdd\u8eab\uff0c\u4e00\u70b9\u5148\u5929\u7956\u6c14\uff0c\u5f80\u5f80\u7686\u6d41\u4e8e\u540e\u5929\u77e3\u3002 \u6545\u4e09\u5c38\u4e3a\u5bb3\uff0c\u4e5d\u866b\u98df\u7cbe\uff0c\u516d\u8d3c\u76d7\u5f62\uff0c\u4e03\u60c5\u8017\u795e\uff0c\u4e94\u6b32\u6270\u5fc3\uff0c\u51e1\u7269\u832b\u832b\uff0c\u4e07\u673a\u7729\u60d1\uff0c\u8033\u542c\u97f3\u58f0\uff0c\u53e3\u55dc\u6ecb\u5473\uff0c\u968f\u5176\u6240\u6709\uff0c\u5373\u8457\u5176\u76f8\u3002 \u76f8\u8457\u4e8e\u5916\uff0c\u673a\u4ece\u76ee\u5165\uff0c\u5373\u5165\u4e8e\u5185\uff0c\u6545\u52a8\u5176\u5fc3\u3002 \u60c5\u52a8\u4e8e\u4e2d\uff0c\u5fc5\u6447\u5176\u7cbe\uff0c\u65e2\u5931\u5176\u7cbe\uff0c\u5fc5\u8017\u5176\u6c14\u3002 \u5f62\u795e\u59cb\u79bb\uff0c\u604d\u60da\u5984\u5e7b\uff0c\u6270\u60f3\u60d1\u60c5\uff0c\u4e8b\u7269\u52b3\u5f62\uff0c\u7cbe\u4e71\u795e\u6563\uff0c\u771f\u4e00\u79bb\u5fc3\uff0c\u5148\u5929\u4e4b\u6c14\u65e5\u4e27\uff0c\u800c\u8f6c\u8f97\u6d41\u8361\u4e8e\u540e\u5929\u751f\u6b7b\u6b7b\u751f\u4e4b\u57df\u77e3\u3002 \u6211\u9053\u7956\u8001\u541b\u60af\u4e4b\uff0c\u4e8e\u662f\u59cb\u6709\u5927\u9053\uff0c\u6559\u4eba\u4ee5\u8fd4\u8fd8\u4e4b\u8bf4\u3002 \u8fd4\u8005\uff0c\u8fd4\u672c\u4e5f\u3002\u8fd8\u8005\uff0c\u8fd8\u539f\u4e5f\u3002\u4e0d\u8fc7\u8fd4\u5176\u540e\u5929\u8005\u590d\u8fd8\u4e8e\u5148\u5929\u800c\u5df2\u3002 \u81ea\u91d1\u4e39\u4e4b\u540d\u7acb\uff0c\u800c\u91d1\u4e39\u4e4b\u9053\u8457\uff0c\u800c\u91d1\u4e39\u4e4b\u4e66\u51fa\u7109\u3002 \u7a83\u8c13\u91d1\u4e39\u975e\u65e0\uff0c\u5927\u9053\u975e\u6709\uff0c\u6709\u4e2d\u751f\u65e0\uff0c\u65e0\u4e2d\u751f\u6709\u8005\u4e5f\u3002 \u91d1\u4e39\u4e4b\u9053\u975e\u65e0\u800c\u975e\u6709\uff0c\u800c\u6240\u8c13\u836f\u7269\u3001\u706b\u5019\u3001\u9f0e\u5668\u8005\uff0c\u679c\u6709\u8036\uff1f\u679c\u65e0\u8036\uff1f\u6291\u4ea6\uff08\u4e5f\u8bb8\uff09\u5047\u6cd5\u8c61\u4ee5\u660e\u5927\u9053\u8036\uff1f\u80e5\uff08\u5168\uff09\u7531\u91d1\u4e39\u4e8c\u5b57\u6709\u8c61\u4e4b\u6545\uff0c\u610f\u8c13\u94f8\u91d1\u5fc5\u6709\u9f0e\u7089\uff0c\u4fee\u4e39\u5fc5\u6709\u7075\u836f\uff0c\u70bc\u836f\u5fc5\u6709\u706b\u5019\uff1b\u540e\u6b64\u540d\u59cb\u7acb\u77e3\u3002 \u76d6\u805a\u5148\u5929\u7956\u6c14\u4e3a\u836f\u7269\uff0c\u5b88\u7384\u5173\u4e00\u7a8d\u4e3a\u7089\u9f0e\uff0c\u987a\u5143\u795e\u5999\u7528\u4e3a\u706b\u5019\u3002 \u65e5\u7145\u6708\u70bc\uff0c\u65f6\u523b\u4e0d\u5fd8\uff0c\u53ca\u5176\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u8131\u80ce\u6362\u9aa8\uff0c\u8d85\u51e1\u5165\u5723\uff0c\u5927\u9053\u4e4b\u8981\uff0c\u4e0d\u8fc7\u5982\u65af\u800c\u5df2\u3002 \u540e\u4e16\u4e39\u4e66\uff0c\u5f80\u5f80\u4e0d\u80af\u771f\u6307\u771f\u4e00\u9020\u5316\u4e4b\u672c\u539f\uff0c\u4e0b\u624b\u5de5\u592b\u4e4b\u6b21\u5e8f\uff0c\u65e0\u975e\u5047\u8c61\u8bbe\u8b6c\uff0c\u68a6\u4e2d\u8bf4\u68a6\uff0c\u8ff7\u8bef\u540e\u4eba\u3002 \u4e14\u5c31\u836f\u7269\u800c\u8bba\u4e4b\uff1a\u66f0\u4e7e\u5764\u3001\u574e\u79bb\u3001\u9634\u9633\u3001\u94c5\u6c5e\u3001\u6728\u6db2\u91d1\u7cbe\u3001\u4e39\u7802\u6c34\u94f6\u3001\u65e5\u9b42\u6708\u9b44\u3001\u4e4c\u7cbe\u5154\u9ad3\u3001\u9752\u9f99\u767d\u864e\u3001\u7384\u9f9f\u8d64\u86c7\u3001\u4ea4\u68a8\u706b\u67a3\u3001\u9ec4\u7259\u767d\u96ea\u3001\u96cc\u96c4\u9ed1\u767d\uff0c\u82e5\u662f\u4e4b\u4e0d\u4e00\u8005\uff0c\u7686\u836f\u7269\u4e4b\u5f02\u540d\u4e5f\u3002\u5148\u5929\u7956\u6c14\uff0c\u5373\u662f\u836f\u7269\u3002\u5c82\u5148\u5929\u7956\u6c14\u4e4b\u5916\uff0c\u522b\u6709\u6240\u8c13\u836f\u7269\u8036\uff1f \u5373\u9f0e\u7089\u800c\u8bba\u4e4b\uff1a\u66f0\u795e\u7089\u3001\u4e39\u7a74\u3001\u7075\u53f0\u3001\u795e\u5ba4\u3001\u9ec4\u623f\u3001\u7edb\u5bab\u3001\u620a\u5df1\u3001\u9ec4\u4e2d\u3001\u660e\u5802\u3001\u865a\u8c37\u3001\u6731\u7802\u9f0e\u3001\u5043\u6708\u7089\uff0c\u82e5\u662f\u4e4b\u4e0d\u4e00\u8005\uff0c\u7686\u7089\u9f0e\u4e4b\u5f02\u540d\u4e5f\u3002\u7384\u5173\u4e00\u7a8d\uff0c\u5373\u662f\u9f0e\u7089\u3002\u5c82\u7384\u5173\u4e00\u7a8d\u4e4b\u5916\uff0c\u522b\u6709\u6240\u8c13\u9f0e\u7089\u8036\uff1f \u5373\u706b\u5019\u800c\u8bba\u4e4b\uff1a\u66f0\u63a8\u5468\u5929\u3001\u6d4b\u6f6e\u5019\u3001\u6309\u5366\u723b\u3001\u7528\u6587\u6b66\u3001\u51c6\u6666\u6714\u3001\u5b9a\u5f26\u671b\u3001\u660e\u62bd\u6dfb\u3001\u609f\u8fdb\u9000\u3001\u9f13\u6a50\u9fa0\u3001\u79f0\u65a4\u4e24\u3001\u4f53\u5211\u5fb7\u3001\u4e8b\u6c90\u6d74\u3001\u884c\u59e4\u590d\uff0c\u82e5\u662f\u4e4b\u4e0d\u4e00\u8005\uff0c\u7686\u706b\u5019\u4e4b\u5f02\u540d\u4e5f\u3002\u5143\u795e\u5999\u7528\uff0c\u5373\u662f\u706b\u5019\u3002\u5c82\u5143\u795e\u5999\u7528\u4e4b\u5916\uff0c\u522b\u6709\u6240\u8c13\u706b\u5019\u8036\uff1f \u4f59\u4e0d\u6562\u590d\u6548\u524d\u4eba\u4e4b\u8a00\u4ee5\u6b3a\u540e\u4eba\uff0c\u4e43\u76f4\u6307\u91d1\u4e39\u5927\u9053\u4e4b\u672c\u539f\u800c\u8a00\u4e4b\uff0c\u5fc5\u6709\u6b21\u5e8f\u7109\u3002 \u4e00\u66f0\u7acb\u7089\u9f0e\uff0c\u4e8c\u66f0\u805a\u836f\u7269\uff0c\u4e09\u66f0\u884c\u706b\u5019\u3002\u4e09\u8005\u4e4b\u5916\uff0c\u4f59\u4e0d\u6562\u590d\u6709\u589e\u76ca\u7109\u3002 \u7acb\u7089\u9f0e\u8005\u4f55\uff1f\u5373\u5b88\u7384\u5173\u4e00\u7a8d\u4e5f\u3002\u662f\u7a8d\u85cf\u4e8e\u5148\u5929\u6df7\u6c8c\u4e4b\u4e2d\uff0c\u9690\u4e8e\u65e0\u6709\u6709\u65e0\u4e4b\u5185\uff0c\u7236\u6bcd\u672a\u751f\u6b64\u8eab\u5373\u6709\u6b64\u7a8d\uff0c\u65e2\u6709\u6b64\u7a8d\u5373\u6709\u6b64\u8eab\uff0c\u6240\u8c13\u4e0e\u751f\u4ff1\u751f\u8005\u4e5f\u3002\u5373\u5143\u59cb\u60ac\u5b9d\u73e0\u4e8e\u7a7a\u65e0\u4e2d\uff0c\u53bb\u5730\u4e94\u4e08\u4e4b\u6240\u662f\u4e5f\uff0c\u4e0d\u4e0a\u4e0d\u4e0b\uff0c\u4e0d\u5de6\u4e0d\u53f3\uff0c\u4e0d\u524d\u4e0d\u540e\uff0c\u975e\u5185\u975e\u5916\uff0c\u975e\u6709\u975e\u65e0\uff0c\u4e0a\u901a\u7edb\u5bab\u800c\u7ed5\u6ce5\u4e38\uff0c\u4e0b\u63a5\u4e39\u7530\u800c\u8fbe\u6d8c\u6cc9\uff0c\u4e0a\u5f7b\u4e0b\u7a7a\uff0c\u800c\u9ec4\u4e2d\u901a\u7406\u7109\u3002\u6b64\u5373\u7acb\u7089\u9f0e\u4e4b\u80dc\u5730\u4e5f\u3002 \u805a\u836f\u7269\u8005\u4f55\uff1f\u5373\u5b58\u4e00\u70b9\u5148\u5929\u6df7\u5143\u7956\u6c14\u4e5f\u3002\u662f\u6c14\u751f\u4e8e\u65e0\u5f62\u65e0\u8c61\u4e4b\u5148\uff0c\u805a\u4e8e\u65e0\u6781\u592a\u6781\u4e4b\u5185\uff0c\u7236\u6bcd\u672a\u751f\uff0c\u5999\u5408\u800c\u51dd\uff0c\u672a\u6709\u6b64\u8eab\uff0c\u5373\u6709\u6b64\u6c14\uff0c\u65e2\u6709\u6b64\u6c14\uff0c\u5373\u6709\u6b64\u8eab\u3002\u6b64\u6c14\u8fd0\u884c\uff0c\u5468\u6d41\u4e0d\u865a\uff0c\u5f62\u4ee5\u4e4b\u800c\u6210\uff0c\u5fc3\u4ee5\u4e4b\u800c\u865a\uff0c\u8033\u76ee\u4ee5\u4e4b\u800c\u806a\u660e\uff0c\u5143\u7cbe\u4ee5\u4e4b\u800c\u56fa\u5b81\uff0c\u5143\u795e\u4ee5\u4e4b\u800c\u8fd0\u884c\uff0c\u543e\u8eab\u4ee5\u4e4b\u800c\u5316\u751f\u3002\u6563\u4e4b\u5219\u6d51\u878d\u65e0\u95f4\uff0c\u805a\u4e4b\u5219\u51dd\u7ed3\u800c\u6210\u836f\uff0c\u6b64\u5373\u4fee\u70bc\u91d1\u4e39\u4e4b\u5927\u836f\u4e5f\u3002 \u884c\u706b\u5019\u8005\u4f55\uff1f\u5373\u987a\u5143\u795e\u5999\u7528\u4e4b\u4e49\uff0c\u81ea\u7136\u8fd0\u7528\u4e4b\u9053\u4e5f\u3002\u662f\u706b\u53d1\u751f\u4e8e\u771f\u7cbe\u604d\u60da\u4e4b\u4e2d\uff0c\u85b0\u84b8\u4e8e\u56db\u80a2\u767e\u9ab8\u4e4b\u5185\uff0c\u672c\u65e0\u5f62\u8c61\uff0c\u5b89\u6709\u5019\u7109\uff1f\u76d6\u5143\u795e\u6563\u5219\u6210\u6c14\uff0c\u805a\u5219\u6210\u706b\uff0c\u4e00\u805a\u4e00\u6563\uff0c\u4e00\u5347\u4e00\u964d\uff0c\u5faa\u73af\u5f80\u6765\uff0c\u5468\u6d41\u4e0d\u606f\uff0c\u4e0e\u65f6\u5055\u884c\uff0c\u4e0e\u65f6\u5055\u6781\u8005\u4e5f\u3002\u6216\u8005\u7c07\u5e74\u5f52\u6708\uff0c\u7c07\u6708\u5f52\u65f6\uff0c\u7c07\u65f6\u5f52\u523b\uff0c\u51c6\u5b50\u5348\u536f\u9149\uff0c\u5bc5\u7533\u5df3\u4ea5\uff0c\u8fb0\u620c\u4e11\u672a\uff0c\u671d\u5c6f\u66ae\u8499\uff0c\u59e4\u590d\u5764\u5265\uff0c\u5468\u5386\u516d\u5341\u56db\u5366\u3001\u4e8c\u5341\u56db\u6c14\u3001\u4e03\u5341\u4e8c\u5019\u3001\u4e8c\u5341\u516b\u5bbf\u3001\u5468\u5929\u4e09\u767e\u516d\u5341\u4e94\u5ea6\u4ee5\u4e3a\u5019\u3002\u6b8a\u4e0d\u77e5\u6df7\u6c8c\u672a\u5206\u4e4b\u65f6\uff0c\u5b89\u6709\u5e74\u6708\u65e5\u65f6\uff0c\u7532\u7678\u5b50\u4ea5\u53c8\u82e5\u4f55\u63a8\u6d4b\u4e5f\u3002\u5927\u62b5\u771f\u706b\u5373\u662f\u5143\u795e\u4e4b\u8fd0\u884c\uff0c\u5143\u795e\u5373\u662f\u771f\u706b\u4e4b\u5999\u7528\u3002\u771f\u706b\u968f\u771f\u606f\uff0c\u771f\u606f\u70bc\u771f\u6c14\uff0c\u771f\u6c14\u5316\u771f\u7cbe\uff0c\u771f\u7cbe\u5f52\u5143\u795e\uff0c\u5143\u795e\u53d1\u771f\u706b\uff0c\u771f\u7cbe\u7ed3\u6210\u4e39\u3002\u771f\u606f\u4e4b\u51fa\u5165\uff0c\u5373\u771f\u706b\u4e4b\u8fdb\u9000\uff0c\u5373\u6587\u6b66\u4e4b\u62bd\u6dfb\uff0c\u7686\u672c\u81ea\u7136\u800c\u7136\uff0c\u521d\u975e\u6512\u7c07\u968f\u5ff5\u800c\u751f\uff0c\u82e5\u592b\u71ce\u4e8e\u539f\u800c\u4e0d\u53ef\u904f\u8005\uff0c\u975e\u5148\u5929\u4e4b\u771f\u706b\uff0c\u4e43\u540e\u5929\u4e4b\u51e1\u706b\u4e5f\u3002 \u4eca\u4fee\u58eb\u4e0b\u624b\u7acb\u57fa\u4e4b\u59cb\uff0c\u5fc5\u5148\u4f7f\u543e\u5fc3\u5982\u6b62\u6c34\u65e0\u6ce2\uff0c\u592a\u865a\u65e0\u4e91\uff0c\u4e00\u5bc2\u7136\u4e0d\u52a8\u4e4b\u5883\uff0c\u7136\u540e\u4e8e\u7384\u5173\u4e00\u7a8d\u4e4b\u4e2d\uff0c\u505a\u7236\u6bcd\u672a\u751f\u4ee5\u524d\u5de5\u592b\u3002 \u5b58\u5b9a\u771f\u606f\u771f\u6c14\uff0c\u4f7f\u6c14\u4e0d\u79bb\u606f\uff0c\u606f\u4e0d\u79bb\u6c14\uff0c\u5408\u4e3a\u4e00\u5904\u3002 \u5185\u8005\u4e0d\u51fa\uff0c\u5916\u8005\u4e0d\u5165\uff0c\u4e0a\u4e0b\u5f80\u6765\u4e8e\u4e00\u7a8d\u4e4b\u5185\u3002 \u7ef5\u7ef5\u82e5\u5b58\uff0c\u5982\u5728\u7236\u6bcd\u80de\u4e2d\uff0c\u672a\u751f\u4ee5\u524d\u4e00\u70b9\u5148\u5929\u7956\u6c14\uff0c\u6d51\u878d\u78c5\u7934\uff0c\u6e29\u7136\u5982\u6625\uff0c\u9163\u7136\u5982\u9189\uff0c\u7f8e\u5728\u5176\u4e2d\uff0c\u775f\u7136\u89c1\u4e8e\u9762\uff0c\u76ce\u4e8e\u80cc\uff0c\u65bd\u4e8e\u56db\u4f53\uff0c\u56db\u4f53\u4e0d\u8a00\u800c\u55bb\u3002 \u7779\u4e4b\u65e0\u8c61\uff0c\u6c42\u4e4b\u65e0\u5f62\uff0c\u65e0\u4e00\u523b\u4e0d\u5728\u4e8e\u7384\u5173\uff0c\u81f3\u6b64\u5219\u836f\u5f52\u4e8e\u9f0e\u7089\uff0c\u800c\u706b\u5019\u53ef\u884c\u77e3\u3002 \u5982\u662f\u5219\u5143\u795e\u5999\u7528\u81ea\u7136\uff0c\u8fd0\u7528\u771f\u706b\uff0c\u5468\u6d41\u8fd0\u8f6c\u4e8e\u7384\u5173\u4e4b\u5185\uff0c\u6e10\u6e10\u7145\u70bc\uff0c\u6e10\u6e10\u51dd\u7ed3\uff0c\u771f\u7cbe\u65e5\u76ca\uff0c\u529b\u5230\u529f\u6df1\uff0c\u81ea\u5c0f\u81f3\u5927\uff0c\u7531\u5fae\u81f3\u8457\uff0c\u7384\u73e0\u6210\u8c61\uff0c\u7ed3\u6210\u5723\u80ce\uff0c\u7686\u81ea\u7136\u800c\u7136\uff0c\u83ab\u77e5\u5176\u6240\u4ee5\u7136\uff0c\u81ea\u795e\u800c\u795e\uff0c\u83ab\u77e5\u5176\u6240\u4ee5\u795e\u3002\u8fd8\u5982\u5b50\u85cf\u6bcd\u8179\uff0c\u968f\u547c\u968f\u5438\uff0c\u805a\u51b2\u865a\u592a\u548c\u4e4b\u6c14\uff0c\u6210\u7ec8\u53e4\u4e0d\u574f\u4e4b\u4f53\u3002\u4ee5\u81f4\u80ce\u5706\u5341\u6708\uff0c\u5316\u751f\u5a74\u513f\uff0c\u4e0e\u6211\u672a\u751f\u4ee5\u524d\uff0c\u5728\u6bcd\u80ce\u4e2d\u4e00\u822c\u610f\u8c61\u3002\u7136\u540e\u52e4\u52a0\u6e29\u517b\u4e4b\u529f\uff0c\u4e13\u6c14\u81f4\u67d4\uff0c\u5ff5\u5179\u5728\u5179\uff0c\u52a8\u9759\u8bed\u9ed8\uff0c\u9020\u6b21\u5f17\u79bb\u3002\u6e29\u517b\u65e2\u8db3\uff0c\u4f53\u5982\u7a7a\u865a\uff0c\u4e8e\u662f\u5288\u7834\u9e3f\u8499\uff0c\u51ff\u5f00\u6df7\u6c8c\uff0c\u73b0\u51fa\u672c\u6765\u9762\u76ee\uff0c\u8eab\u5916\u6709\u8eab\uff0c\u7eb5\u6a2a\u81ea\u5728\uff0c\u53d8\u5316\u65e0\u65b9\u77e3\u3002","title":"\u4fee\u771f\u79d8\u65e8"},{"location":"%E4%BF%AE%E8%A1%8C/%E4%BF%AE%E8%A1%8C%E5%87%BA%E5%81%8F/","text":"\u600e\u4e48\u8bf4\u5462\uff0c\u51fa\u504f\u6c38\u8fdc\u662f\u4e00\u4e2a\u8c1c\u4e00\u6837\u7684\u8bdd\u9898\u3002 \u90e8\u5206\u5634\u91cc\u6e05\u9759\u81ea\u7136\u4e4b\u8f88\uff0c\u6c38\u8fdc\u90fd\u662f\uff0c\u529f\u6cd5\u4e0d\u53ef\u80fd\u51fa\u504f\uff0c\u8fd8\u6709\u90e8\u5206\u672c\u8eab\u5c31\u662f \u628a\u4e09\u4e94\u9519\u843d\u7684\u4e39\u9053\u53e3\u8bc0\uff0c\u4fee\u6210\u6c5f\u6e56\u5356\u836f\u9152\u7684\u6c14\u529f\u628a\u5f0f \u3002 \u53e3\u4e2d\u5404\u79cd\u5185\u4e39\u8bcd\u6c47\uff0c\u4e39\u7ecf\u4e5f\u662f\u6ca1\u4e8b\u53e3\u8bc0\u6210\u9882 \uff0c\u504f\u504f\u5185\u666f\u5bf9\u4e0d\u5bf9\u5f97\u4e0a\uff0c\u9a8c\u8bc1\u662f\u4e0d\u662f\u4e25\u4e1d\u5408\u7f1d\uff0c\u8eab\u5fc3\u662f\u4e0d\u662f\u771f\u7684\u5982\u4e39\u6cd5\u6240\u8a00\uff0c\u5c31\u53ea\u6709\u4ed6\u81ea\u5df1\u77e5\u9053\u4e86\u3002 \u8fd8\u6709\u4e00\u4e9b\uff0c\u81ea\u5df1\u6839\u672c\u6ca1\u6709\u4e39\u9053\u5b9e\u8bc1\uff0c\u4f46\u662f\u4e5f\u662f\u7ecf\u5e74\u8001\u7ec3\u529f\u6cb9\u5b50\u4e86\uff0c \u770b\u4f60\u529f\u611f\uff0c\u89c9\u5f97\u8d70\u6c14\u884c\u6c14\u6d51\u8eab\u53d1\u70ed\uff0c\u5076\u5c14\u6765\u4e2a\u53e3\u6c34\u53d1\u751c\uff0c\u5c31\u89c9\u5f97\u662f\u7389\u6db2\u4e0b\u964d\uff0c\u5076\u5c14\u8eab\u4f53\u7535\u9ebb\uff0c\u5c31\u8ba4\u4e3a\u662f\u5148\u5929\u6c14\u840c\u53d1\u4e86 \uff0c\u628a\u4f60\u5938\u6210\u7ec3\u529f\u5947\u624d\uff0c\u4ee5\u76f2\u6307\u76f2\uff0c\u9519\u5230\u54c7\u6293\u56fd\u53bb\u4e86\u3002 \u5f88\u591a\u5e74\u8f7b\u4eba\uff0c \u521d\u4e00\u4e0a\u624b\u53e3\u8bc0\uff0c\u53ea\u89c9\u5f97\u4e39\u7530\u706b\u70ed\uff0c\u6d51\u8eab\u8d70\u6c14\uff0c\u66f4\u6709\u751a\u8005\uff0c\u611f\u89c9\u77ac\u95f4\u6253\u901a\u5927\u5c0f\u5468\u5929\uff0c\u94fe\u63a5\u65e0\u7a77\u5b87\u5b99\uff0c\u4ee5\u4e3a\u81ea\u5df1\u662f\u7ec3\u529f\u5947\u624d \uff0c\u7f51\u7edc\u4e0a\u534a\u61c2\u4e0d\u61c2\u7684\uff0c\u4e00\u9635\u5439\u6367\uff0c\u90a3\u5c31\u98d8\u98d8\u7136\u4e0d\u77e5\u6240\u4ee5\uff0c\u7136\u540e\u6b65\u4e0a\u4fee\u70bc\u795e\u529f\u7684\u4f20\u5947\u4e00\u751f\u3002 \u4f46\u662f\u6211\u5fc5\u987b\u544a\u8bc9\u4f60\u7684\u662f\uff0c \u4fee\u884c\uff0c\u771f\u7684\u4e0d\u662f\u5982\u6b64 \u3002 \u4fee\u884c\u70bc\u7081\uff0c\u6211\u4e0d\u80fd\u8bf4\u53d1\u70ed\u662f\u5168\u90e8\u90fd\u9519\uff0c\u4f46\u662f\u6240\u8c13\u7684 \u521d\u4e00\u5b58\u601d\uff0c\u5b88\u7a8d\uff0c\u5c31\u4e00\u7247\u706b\u70ed\uff0c\u5e76\u4e0d\u662f\u4ec0\u4e48\u5185\u70bc\u4e4b\u5143\u6c14\uff0c\u5148\u5929\u4e4b\u6c14\uff0c\u751a\u81f3\u4e5f\u4e0d\u662f\u7eaf\u7cb9\u7684\u4eba\u8eab\u9633\u6c14\uff0c\u53ea\u662f\u6b66\u706b\uff0c\u5c31\u662f\u610f\u5ff5\u8fc7\u91cd\uff0c\u52a0\u4e0a\u5e74\u8f7b\u8eab\u4f53\u5e95\u5b50\u5c1a\u597d\uff0c\u706b\u6c14\u65fa\u76db\uff0c\u51fa\u73b0\u7684\u6d6e\u9633\u4e0a\u5f15\uff0c\u9664\u4e86\u8bc1\u660e\u4f60\u8eab\u4f53\u8fd8\u884c\uff0c\u706b\u6c14\u6709\u70b9\u5927\u4e4b\u5916\uff0c\u548c\u8d44\u8d28\u6ca1\u534a\u6bdb\u94b1\u5173\u7cfb\uff0c\u751a\u81f3\u53ef\u4ee5\u8bf4\u7528\u610f\u592a\u91cd\uff0c\u5e76\u4e0d\u662f\u5f88\u597d\u7684\u529f\u6001 \u3002 \u6709\u7ecf\u9a8c\u7684\u5e08\u5085\u770b\u4f60\u7b2c\u4e00\u6b65\uff0c\u5c31\u4f1a\u6559\u4f60\u8fdb\u706b\u9000\u7b26\u4e4b\u6cd5\uff0c\u4f60\u5982\u679c\u706b\u91cd\uff0c\u711a\u70e7\u81ea\u8eab\u5143\u6c14\u4e86\uff0c\u90a3\u5c31\u5f97\u9000\u706b\uff0c\u5426\u5219\u70e7\u5230\u81ea\u5df1\u4e94\u810f\u6c14\u7684\u65f6\u5019\uff0c\u4f60\u662f\u6d51\u8eab\u8212\u723d\uff0c\u7a0d\u5b8c\u4f60\u4eba\u5dee\u4e0d\u591a\u5c31\u534a\u5e9f\u4e86\u3002 \u800c \u4f60\u81ea\u5df1\u6839\u672c\u4e0d\u77e5\u9053\uff0c\u4ec0\u4e48\u662f\u4fee\u884c\u7684\u5ea6 \uff0c\u8fd9\u4e2a\u4e5f\u662f \u56e0\u4eba\u800c\u5f02 \uff0c\u6839\u672c\u4e0d\u4f1a\u4e5f\u6ca1\u6cd5\u88ab\u8bb0\u5f55\u3002 \u800c\u7389\u6db2\u7518\u751c\uff0c\u4e5f\u4e0d\u7b97\u4ec0\u4e48\uff0c\u6709\u7684\u4eba\u4e0d\u4fee\u70bc\u90fd\u5929\u5929\u751c\uff0c\u800c\u4e14\u4e00\u4f46\u53d7\u5230\u4e00\u4e9b\u6587\u5b57\u6697\u793a\uff0c\u5177\u4f53\u662f\u4e0d\u662f\u771f\u7684\u751c\uff0c\u5929\u624d\u77e5\u9053\u3002\u6709\u7684\u65f6\u5019\u610f\u5ff5\u4e5f\u662f\u53ef\u4ee5\u5bfc\u81f4\u4eba\u9519\u8ba4\u7684\uff0c \u771f\u6b63\u7684\u7389\u6db2\u7518\u751c\uff0c\u548c\u5bfb\u5e38\u7684\u751c\uff0c\u5176\u5b9e\u5e76\u4e0d\u4e00\u6837\u3002 \u800c\u6c14\u8d70\u7ecf\u7edc\uff0c\u522b\u8bf4\u4fee\u70bc\u4e86\uff0c\u4f60\u50ac\u7720\u6697\u793a\u4e00\u4e0b\uff0c\u7528\u610f\u5b58\u5f15\u5bfc\u4e00\u4e0b\u90fd\u53ef\u4ee5\u51fa\u73b0\uff0c\u5b8c\u5168\u4e5f\u6ca1\u6709\u9a8c\u8bc1\u7684\u610f\u4e49\u3002 \u4f46\u662f\uff0c\u504f\u504f\u6709\u4eba\u628a\u4e00\u4e9b\u4fee\u70bc\u4e4b\u4e2d\u5f88\u5bb9\u6613\u51fa\u73b0\u7684\u72b6\u51b5\uff0c\u751a\u81f3\u662f\u504f\u79fb\uff0c\u9519\u8ba4\u4e3a\u662f\u771f\u6b63\u7684\u6210\u679c\uff0c\u628a\u540e\u5929\u4e4b\u6c14\u9519\u8ba4\u4e3a\u5148\u5929\u4e4b\u6c14\uff0c\u628a\u6e05\u51c0\u4e4b\u6c14\uff0c\u8ba4\u4f5c\u662f\u9634\u6c14\u5165\u4f53\uff0c\u5982\u6b64\u4fee\u70bc\uff0c\u8c08\u4f55\u4e0d\u51fa\u5dee\u9519\u3002 \u9519\u8ba4\u6c34\u6e90\uff0c\u8fa8\u9519\u6e05\u6d4a\uff0c\u9519\u6f0f\u65f6\u673a\uff0c\u5b9e\u9645\u64cd\u4f5c\u6765\u8bf4\uff0c\u5f88\u590d\u6742\u5f88\u9ebb\u70e6\uff0c\u5f88\u56e0\u4eba\u800c\u5f02\u3002 \u4fee\u884c\u4e3a\u4ec0\u4e48\u8981\u5f3a\u8c03\u5e08\u627f\u5462\uff1f \u56e0\u4e3a \u4eba\u6709\u7684\u65f6\u5019\u4f1a\u72af\u4e3b\u89c2\u6027\u9519\u8bef \uff0c\u6bd4\u5982\u8bf4\uff0c\u4e39\u4e66\u529f\u6cd5\u4e0a\u548c\u4f60\u8bf4\uff0c\u553e\u6db2\u4f1a\u8fd4\u751c\uff0c\u4f46\u662f\uff0c\u4f60\u7ec3\u4e86\uff0c\u80fd\u591f\u5355\u7eaf\u4ee5\u553e\u6db2\u53d1\u751c\u4e3a\u6807\u51c6\u4e48\uff1f\u4e0d\u80fd\uff0c\u4e3a\u4ec0\u4e48\uff0c\u56e0\u4e3a \u5f88\u591a\u771f\u6b63\u7684\u5e08\u5085\u7ecf\u5386\u8fc7\u81ea\u4ee5\u4e3a\u53d1\u751c\uff0c\u548c\u771f\u6b63\u7684\u7389\u6db2\u957f\u751f\u9152\u4e4b\u540e\uff0c\u5c31\u4f1a\u53d1\u73b0\uff0c\u538b\u6839\u4e0d\u4e00\u6837\u554a\u3002 \u4f60\u62ff\u7740\u4e00\u4e2a\u7c97\u7565\u7684\u63cf\u8ff0\uff0c\u53bb\u5957\u7528\u4fee\u884c\u53d8\u5316\uff0c\u5927\u7ea6\u5c31\u662f\u62ff\u5361\u5c3a\u6d4b\u5fae\u7c73\uff0c\u4e0d\u80fd\u591f\u554a\u3002 \u56e0\u4e3a\u4f60 \u8bc1\u660e\u771f\u6b63\u7684\u7389\u6db2\u4e4b\u540e\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u4f60\u8fd8\u662f\u6ca1\u6cd5\u7279\u522b\u7c97\u7565\u7684\u63cf\u8ff0\u51fa\u6765\uff0c\u4f60\u4e5f\u53ea\u80fd\u8bf4\uff0c\u7389\u6db2\u7518\u751c \uff0c\u4f46\u662f\u6709\u7ecf\u9a8c\u7684\u5e08\u5085\uff0c\u548c\u4f60\u4e00\u5bf9\uff0c\u6bd4\u5bf9\u4e00\u4e0b\u8eab\u4f53\u5176\u4ed6\u7684\u5185\u666f\u4f53\u9a8c\uff0c\u5c31\u80fd\u77e5\u9053\u4f60\u662f\u4e0d\u662f\u771f\u7684\u5230\u4e86\u8fd9\u4e00\u6b65\uff0c\u800c\u4e0d\u662f\u9519\u7528\u706b\u5019\uff0c\u8fa8\u5c94\u9a8c\u8bc1\u3002 \u8fd9\u4e9b\uff0c\u4f60\u9760\u672c\u8eab\u5b66\u7684\u5927\u6742\u70e9\u7684\u7fa4\u53cb\uff0c\u8fd8\u6709\u4f60\u81ea\u5df1\uff0c\u90fd\u662f\u5b8c\u5168\u6ca1\u6cd5\u53bb\u5224\u65ad\u7684\u3002\u5185\u4fee\uff0c\u672a\u66fe\u5165\u95e8\u8fd8\u597d\uff0c\u82e5\u662f\u5165\u95e8\u5374\u884c\u5dee\u8e0f\u9519\uff0c\u90a3\u4e48\u65e5\u540e\u4f60\u8c03\u517b\u8eab\u4f53\uff0c\u6cbb\u7597\u7ec3\u529f\u75c5\uff0c\u8981\u5e9f\u6389\u6563\u6389\u8fd9\u4e00\u8eab\u9519\u8bef\u7684\u529f\u592b\u7684\u65f6\u5019\uff0c\u90a3\u591a\u75db\u82e6\u4f60\u60f3\u4e0d\u5230\u3002\u4f1a\u803d\u8bef\u591a\u5c11\u771f\u6b63\u5165\u9053\u4fee\u884c\u7684\u65f6\u95f4\uff0c\u4f60\u60f3\u4e0d\u5230\u3002 \u6211\u8ba4\u8bc6\u5f88\u591a\u9053\u53cb\uff0c\u81ea\u5df1\u80e1\u4e71\u7ec3\u4e60\u4e86\u4e00\u4e9b\u4e1c\u897f\uff0c\u5e73\u65f6\u4e5f\u6709\u70b9\u5c0f\u9a8c\u8bc1\uff0c\u4f46\u662f\u627e\u7740\u771f\u6b63\u61c2\u5185\u4e39\uff0c\u61c2\u4fee\u70bc\u7684\u5e08\u5085\u540e\uff0c\u7b2c\u4e00\u6b65\uff0c\u5e9f\u6cd5\uff0c\u7b2c\u4e8c\u6b65\uff0c\u517b\u8eab\u4f53\uff0c\u4e00\u4e24\u5e74\u65e5\u5b50\u5c31\u8fc7\u53bb\u4e86\uff0c\u4e5f\u4e0d\u803d\u8bef\uff0c\u6284\u7ecf\u561b\u3002 \u4f46\u662f\u56e0\u4e3a\u81ea\u5df1\u8111\u5b50\u4e00\u70ed\u80e1\u4e71\u5c1d\u8bd5\uff0c\u5c31\u53bb\u900f\u652f\u81ea\u5df1\u672a\u6765\u7684\u53ef\u80fd\u6027\uff0c\u800c\u53bb\u505a\u67d0\u4e9b\u4e0d\u660e\u6765\u5386\u7684\u5185\u4e39\u529f\u6cd5\u7684\u4eba\u4f53\u8bd5\u9a8c\uff0c\u592a\u4f1f\u5927\u4e86\u5427\u3002 \u6240\u4ee5\uff0c \u771f\u5fc3\u5efa\u8bae\u4f60\uff0c\u505c\u4e0b\u6765 \uff0c\u6216\u8bb8\u4f60\u771f\u7684\u662f\u5929\u624d\uff0c\u4f46\u662f\u5929\u624d\u8d70\u9519\u4e00\u6b65\u7684\u4ee3\u4ef7\uff0c\u90a3\u8de8\u5ea6\u66f4\u662f\u666e\u901a\u4eba\u6240\u96be\u4ee5\u6bd4\u5f97\u4e0a\u7684\uff0c\u4f60\u8981\u7ea0\u6b63\u56de\u6765\uff0c\u4e5f\u66f4\u9ebb\u70e6\u3002 \u5373\u4f7f\u4f60\u9047\u5230\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5e08\u5085\uff0c\u4f46\u662f\uff0c\u4f60\u548c\u4eba\u5bb6\u7ec3\u5f97\u53c8\u4e0d\u4e00\u6837\uff0c\u5373\u4f7f\u6709\u5fc3\u60f3\u8981\u6307\u70b9\u4f60\uff0c \u6211\u62ff\u5b55\u5987\u4ea7\u540e\u6307\u5357\u53bb\u7ea0\u6b63\u6bcd\u732a\u4ea7\u540e\u62a4\u7406\u51fa\u73b0\u7684\u5dee\u9519\uff0c\u4f60\u89c9\u5f97\u53ef\u80fd\u4f1a\u504f\u6210\u4ec0\u4e48\u6837 \uff1f \u6240\u4ee5 \u51fa\u504f\uff0c\u662f\u4f60\u5f97\u77e5\u9053\u4ec0\u4e48\u662f\u6b63\u786e\u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u80fd\u5224\u65ad\u7684 \uff0c\u800c \u7f51\u7edc\u4e0a\u7684\u90a3\u4e9b\u4e1c\u897f\uff0c\u4f60\u6c38\u8fdc\u4e5f\u4e0d\u53ef\u80fd\u77e5\u9053\u4ec0\u4e48\u662f\u5bf9\u90a3\u4e9b\u83ab\u540d\u5176\u5999\u90aa\u95e8\u6b6a\u9053\u7684\u6cd5\u5b50\u6b63\u786e\u7684\u529f\u6001 \uff0c\u6240\u4ee5\uff0c\u9519\u4e0a\u52a0\u9519\uff0c\u62ff\u7740\u788e\u7247\u5316\u7684\u7ecf\u9a8c\u6240\u6784\u5efa\u7684\u4fee\u884c\u7406\u8bba\uff0c\u662f\u57fa\u672c\u4e0d\u592a\u6709\u53ef\u80fd\u6027\u77e5\u9053\u4ec0\u4e48\u662f\u771f\u7684\u6b63\u786e\u7684\u3002 \u6240\u4ee5\uff0c\u522b\u81ea\u5df1\u778e\u7ec3\u4e86\uff0c\u670b\u53cb\u3002","title":"\u4fee\u884c\u51fa\u504f"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E4%B8%8B%E6%89%8B%E5%90%8E%E6%AC%B2%E6%9C%9B%E5%BC%BA%E7%83%88%E7%9A%84%E9%97%AE%E9%A2%98/","text":"\u6709\u4eba\u5728\u77e5\u4e4e\u95ee\u8fc7\uff0c\u8fd9\u662f\u4e2a\u597d\u95ee\u9898\uff0c\u88ab\u5220\u4e86\uff0c\u6211\u8bf4\u51e0\u53e5\u3002 \u4e39\u9053\u529f\u592b\u4e0b\u624b\u540e\u6b32\u671b\u53d8\u5f97\u5f3a\u70c8\uff0c\u51e0\u4e4e\u662f\u4e00\u4e2a\u4e0d\u53ef\u907f\u514d\u7684\u95ee\u9898\u3002 \u6240\u8c13\u9971\u6696\u601d\u90a3\u4e2a\uff0c\u666e\u901a\u4eba\uff0c\u6c14\u8840\u65fa\u76db\u4e86\uff0c\u8fd9\u65b9\u9762\u7684\u60f3\u6cd5\u81ea\u7136\u591a\u4e86\uff0c\u8fd9\u662f\u6b63\u5e38\u73b0\u8c61\u3002\u9664\u975e\u4f60\u7684\u5fc3\u6027\u4fee\u4e3a\u8fbe\u5230\u6781\u9ad8\u7684\u5883\u754c\uff0c\u5426\u5219\u907f\u4e0d\u5f00\u8fd9\u4e2a\u4e8b\u60c5\u3002 \u4e39\u5bb6\u8bb2\u7a76\u6027\u547d\u53cc\u4fee\uff0c\u7ae5\u8eab\u4fee\u884c\u8005\u6bd5\u7adf\u662f\u6781\u5c11\u6570\uff0c\u5386\u53f2\u4e0a\u80fd\u6709\u51e0\u4e2a\uff1f\u6b63\u5e38\u60c5\u51b5\uff0c\u547d\u529f\u4f60\u662f\u7ed5\u4e0d\u8fc7\u53bb\u7684\u3002\u5982\u679c\u4e00\u4e2a\u4eba\u6c14\u8840\u8870\u8d25\u7684\u8fde\u90a3\u4e9b\u60f3\u6cd5\u90fd\u6ca1\u6709\uff0c\u4e39\u9053\u4fee\u884c\u4e0d\u53ef\u80fd\u6709\u6210\u3002\u771f\u6709\u90a3\u79cd\u60c5\u51b5\uff0c\u4f60\u5fc5\u987b\u5148\u8fde\u547d\u529f\u8865\u8db3\u6c14\u8840\uff0c\u628a\u90a3\u4e9b\u6b32\u671b\u7ec3\u51fa\u6765\uff0c\u7136\u540e\u518d\u5904\u7406\u6389\u3002 \u8fd9\u662f\u4e00\u4e2a\u6096\u8bba\u3002\u4e0d\u907f\u5f00\u8fd9\u4e9b\u4e8b\u60c5\uff0c\u4fee\u4e3a\u65e0\u6cd5\u63d0\u5347\u3002\u53ef\u662f\u4fee\u4e3a\u63d0\u5347\u4e86\uff0c\u6b32\u671b\u4f1a\u66f4\u52a0\u5f3a\u70c8\uff0c\u4e00\u4e2a\u5904\u7406\u4e0d\u597d\u53cd\u800c\u4f24\u8eab\u3002 \u600e\u4e48\u529e\uff1f\u7406\u8bba\u4e0a\u8bb2\uff0c\u7ec3\u5230\u7cbe\u6ee1\u4e0d\u601d\u6b32\uff0c\u4e8b\u60c5\u5c31\u597d\u529e\u4e86\u3002\uff08\u8fd9\u548c\u6c14\u529f\u5468\u5929\u4e0d\u662f\u4e00\u56de\u4e8b\uff0c\u522b\u5f80\u90a3\u513f\u626f\uff09 \u547d\u529f\u4fee\u884c\u6709\u6709\u4e3a\u6cd5\uff0c\u6709\u65e0\u4e3a\u6cd5\u3002\u6709\u4e3a\u5feb\uff0c\u65e0\u4e3a\u6162\u3002 \u82e5\u662f\u662f\u4ee5\u6709\u4e3a\u6cd5\u5165\u624b\uff0c\u89c1\u6548\u901f\u5ea6\u8d8a\u5feb\uff0c\u95ee\u9898\u5c31\u4f1a\u8d8a\u4e25\u91cd\uff0c\u4f60\u4e5f\u5fc5\u987b\u4ee5\u66f4\u5f3a\u7684\u5fc3\u6027\u4fee\u4e3a\u53bb\u5e94\u5bf9\u95ee\u9898 \u3002 \u6bd4\u8f83\u6781\u7aef\u7684\u4f8b\u5b50\u5c31\u662f\u4e09\u9633\u9053\u4eba\u5f20\u677e\u8c37\u4f20\u51fa\u6765\u7684\u8865\u4e8f\u6b63\u6cd5\u3002\u4e39\u5bb6\u6b63\u7edf\uff0c\u987a\u8f6c\u6cb3\u8f66\u3002\u5feb\u4e0d\u5feb\uff1f\u5feb\u3002\u51e0\u5341\u5929\u5c31\u89c1\u6548\u3002\u4f46\u6c14\u805a\u9634\u8df7\u4f1a\u4ea7\u751f\u591a\u5927\u7684\u6b32\u671b\uff1f\u4f60\u731c\u731c\u770b\u3002\u800c\u4e14\u4fee\u4e3a\u8d8a\u6df1\uff0c\u538b\u529b\u4f1a\u8d8a\u5927\u3002\u4e00\u65e6\u63a7\u5236\u4e0d\u597d\uff0c\u662f\u4ec0\u4e48\u540e\u679c?\u5927\u75c5\u4e00\u573a\u90fd\u662f\u5ba2\u6c14\u7684\uff0c\u8981\u662f\u6765\u4e2a\u9a6c\u4e0a\u98ce\u4f60\u627e\u8c01\u558a\u51a4\u53bb? \u8fd9\u8fd8\u662f\u4e39\u5bb6\u6b63\u7edf\u6cd5\u95e8\uff0c\u90a3\u4e9b\u6c5f\u6e56\u9a97\u5b50\u4e71\u4e03\u516b\u7cdf\u7684\u4e1c\u897f\uff0c\u6211\u5c31\u4e0d\u8bf4\u4e86\u3002 \u8fd9\u5c31\u50cf\u7406\u8d22\u6536\u76ca\uff0c\u53ea\u8981\u6536\u76ca\u8d8a\u9ad8\uff0c\u5fc5\u7136\u98ce\u9669\u8d8a\u5927\u3002\u6536\u76ca\u9ad8\uff0c\u65e0\u98ce\u9669\u7684\u7406\u8d22\uff1f\u5fc5\u7136\u662f\u9a97\u5b50\u3002 \u5982\u679c\u6709\u4eba\u544a\u8bc9\u4f60\u4e00\u4e2a\u6cd5\u8bc0\uff0c\u5feb\u901f\uff0c\u65e0\u98ce\u9669\uff0c\u4e0d\u9700\u8981\u5f3a\u5927\u7684\u5fc3\u6027\u4fee\u4e3a\u4e3a\u4f9d\u6258\uff0c\u60f3\u90fd\u4e0d\u7528\u60f3\uff0c\u4e00\u5b9a\u662f\u9a97\u5b50\u3002 \u6597\u80c6\u8bf4\u4e00\u53e5\uff0c\u975e\u4e13\u95e8\u7684\u4fee\u884c\u8005\uff0c\u6709\u4e3a\u6cd5\u5feb\u901f\u8865\u8db3\u540e\u5929\u6c14\u8840\u8fd9\u4e8b\u60c5\uff0c\u4f60\u641e\u4e0d\u5b9a\u7684\u3002\u90a3\u4efd\u5fc3\u6027\u4fee\u4e3a\u548c\u5916\u90e8\u6761\u4ef6\uff0c\u4f60\u522b\u60f3\u4e86\u3002 \u522b\u4e0d\u4fe1\u3002 \u4f60\u8bf4\u4f60\u610f\u5fd7\u529b\u575a\u5f3a\uff0c\u4e13\u6ce8\u4fee\u884c\uff0c\u4f60\u80fd\u4e13\u6ce8\u591a\u4e45\uff1f\u4e00\u5929\u4e24\u5929\uff1f\u4e00\u661f\u671f\uff1f\u4e00\u4e2a\u6708\uff1f\u4e00\u76f4\u4e13\u6ce8\u5230\u7cbe\u6ee1\u4e0d\u601d\u6b32\uff0c\u6bcf\u5929\u90fd\u505a\u5230\u201c\u795e\u4e0d\u5916\u5f1b\u6c14\u81ea\u5b9a\u201d\uff0c\u4f60\u89c9\u5f97\u53ef\u80fd\u5417\uff1f\u4f60\u53bb\u9053\u89c2\u4fee\u884c\uff0c\u4e0d\u4e0a\u73ed\u4e0d\u4e0a\u5b66\u4e86\uff1f\u8bf4\u4e0d\u5b9a\u54ea\u4e2a\u5973\u540c\u4e8b\u65e0\u610f\u5728\u4f60\u9762\u524d\u5f2f\u8170\u6361\u4e2a\u4e1c\u897f\uff0c\u90fd\u80fd\u8ba9\u4f60\u524d\u529f\u5c3d\u5f03\u4fe1\u4e0d\u4fe1\uff1f\u5c31\u7b97\u767d\u5929\u4f60\u625b\u4f4f\u4e86\uff0c\u665a\u4e0a\u7761\u7740\u4e86\u5462\uff1f \u600e\u4e48\u5904\u7406\u5462\uff1f \u4ece\u65e0\u4e3a\u6cd5\u5165\u624b\u3002 \u65e0\u4e3a\u6cd5\u6162\uff0c\u4f46\u4e0d\u5bb9\u6613\u51fa\u95ee\u9898\u3002\u9010\u6b65\u9010\u6b65\u8865\u8db3\u540e\u5929\u7cbe\u6c14\uff0c\u540c\u65f6\u628a\u9010\u6b65\u5fc3\u6027\u4fee\u4e3a\u63d0\u5347\u5230\u8db3\u4ee5\u627f\u8f7d\u4f60\u547d\u529f\u4fee\u4e3a\u7684\u5730\u6b65\u3002 \u65e0\u4e3a\u6cd5\u4e0b\u624b\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u4e5f\u4f1a\u6709\u4e00\u4e2a\u90a3\u4e9b\u60f3\u6cd5\u589e\u5f3a\u7684\u8fc7\u7a0b\uff0c\u4f46\u8fd9\u4e2a\u5f3a\u5ea6\u4f1a\u5f88\u5f31\u3002\u7edd\u4e0d\u81f3\u4e8e\u5230\u5b8c\u5168\u65e0\u6cd5\u514b\u5236\u7684\u5730\u6b65\u3002 \u6216\u8005\u8bf4\uff0c\u5728\u8fbe\u5230\u4f60\u53d7\u4e0d\u4e86\u7684\u7a0b\u5ea6\u4e4b\u524d\uff0c\u4eba\u4f53\u4f1a\u542f\u52a8\u81ea\u6211\u4fdd\u62a4\uff0c\u7cbe\u6ee1\u5219\u6ea2\u6f0f\u6389\u3002 \u5f53\u7136\uff0c\u8fd9\u4e2a\u7cbe\u6ee1\u5219\u6ea2\u662f\u4eba\u4f53\u7684\u6b63\u5e38\u81ea\u6211\u4fdd\u62a4\uff0c\u4e0d\u662f\u4eba\u4e3a\u5e72\u9884\u9020\u6210\u7684\u5f02\u5e38\u6001\uff0c\u7edd\u4e0d\u81f3\u4e8e\u5bf9\u8eab\u4f53\u9020\u6210\u4e25\u91cd\u7684\u4f24\u5bb3\u3002 \u6f0f\u5c31\u6f0f\u5427\uff0c\u4e0d\u7528\u53bb\u7ba1\u4ed6\uff0c\u66f4\u4e0d\u8981\u4eba\u4e3a\u5f3a\u5236\u5e72\u9884\u7559\u4f4f\u3002\u65e2\u7136\u751f\u4ea7\u51fa\u6765\u4e86\uff0c\u4f60\u7559\u4e5f\u7559\u4e0d\u4f4f\uff0c\u7559\u4f4f\u4e5f\u6ca1\u6709\u610f\u4e49\uff0c\u53cd\u800c\u618b\u51fa\u75c5\u6765 \u7b49\u4f60\u7684\u6027\u547d\u4e24\u65b9\u9762\u7684\u4fee\u4e3a\u9010\u6b65\u52a0\u6df1\uff0c\u90a3\u4e9b\u6c34\uff0c\u81ea\u7136\u751f\u4ea7\u7684\u8d8a\u6765\u8d8a\u5c11\uff0c\u751f\u4ea7\u7684\u5c11\uff0c\u81ea\u7136\u6f0f\u7684\u4e5f\u5c11\u3002\u6d88\u8017\u7684\u5c11\uff0c\u79ef\u7d2f\u7684\u5c31\u591a\u3002\u8fd9\u5c31\u53eb \u79ef\u7cbe\u7d2f\u6c14 \u3002 \u8fd9\u6837\u5c31\u7b97\u505a\u7684\u4e0d\u597d\uff0c\u9876\u591a\u4e5f\u662f\u6ca1\u4ec0\u4e48\u6548\u679c\uff0c\u4e0d\u4f1a\u6709\u4ec0\u4e48\u574f\u5904\u3002 \u6700\u540e\u8fbe\u5230\u7cbe\u6ee1\u4e0d\u601d\u6b32\u7684\u7a0b\u5ea6\uff0c\u9f50\u6d3b\u3002 \u9644 \u5e84\u5b50 \u5916\u7bc7 \u5728\u5ba5\u7b2c\u5341\u4e00 \u5e7f\u6210\u5b50\u8e76\u7136\u800c\u8d77\uff0c\u66f0\uff1a\u201c\u5584\u54c9\uff0c\u95ee\u4e4e\uff01\u6765\uff0c\u543e\u8bed\u5973\u81f3\u9053\u3002\u81f3\u9053\u4e4b\u7cbe\uff0c\u7a88\u7a88\u51a5\u51a5\u3002\u81f3\u9053\u4e4b\u6781\uff0c\u660f\u660f\u9ed8\u9ed8\u3002\u65e0\u89c6\u65e0\u542c\uff0c\u62b1\u795e\u4ee5\u9759\uff0c\u5f62\u5c06\u81ea\u6b63\u3002\u5fc5\u9759\u5fc5\u6e05\uff0c\u65e0\u52b3\u5973\u5f62\uff0c\u65e0\u6447\u5973\u7cbe\uff0c\u4e43\u53ef\u4ee5\u957f\u751f\u3002\u76ee\u65e0\u6240\u89c1\uff0c\u8033\u65e0\u6240\u95fb\uff0c\u5fc3\u65e0\u6240\u77e5\uff0c\u5973\u795e\u5c06\u5b88\u5f62\uff0c\u5f62\u4e43\u957f\u751f\u3002\u614e\u5973\u5185\uff0c\u95ed\u5973\u5916\uff0c\u591a\u77e5\u4e3a\u8d25\u3002\u6211\u4e3a\u5973\u9042\u4e8e\u5927\u660e\u4e4b\u4e0a\u77e3\uff0c\u81f3\u5f7c\u81f3\u9633\u4e4b\u539f\u4e5f\u3002\u4e3a\u5973\u5165\u4e8e\u7a88\u51a5\u4e4b\u95e8\u77e3\uff0c\u81f3\u5f7c\u81f3\u9634\u4e4b\u539f\u4e5f\u3002\u5929\u5730\u6709\u5b98\uff0c\u9634\u9633\u6709\u85cf\u3002\u614e\u5b88\u5973\u8eab\uff0c\u7269\u5c06\u81ea\u58ee\u3002\u6211\u5b88\u5176\u4e00\u4ee5\u5904\u5176\u548c\uff0c\u6545\u6211\u4fee\u8eab\u5343\u4e8c\u767e\u5c81\u77e3\uff0c\u543e\u5f62\u672a\u5e38\u8870\u3002\u201d","title":"\u5173\u4e8e\u4e39\u9053\u4e0b\u624b\u540e\u6b32\u671b\u5f3a\u70c8\u7684\u95ee\u9898"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E5%88%9D%E5%AD%A6%E8%80%85%E4%B8%8B%E6%89%8B%E5%AE%9E%E4%BF%AE%E5%8A%9F%E5%A4%AB/","text":"\u5e38\u6709\u4eba\u79c1\u4fe1\u6211\u4e39\u9053\u5982\u4f55\u4e0b\u624b\u5b9e\u4fee\uff0c\u5199\u7bc7\u6587\u7ae0\u7edf\u4e00\u56de\u590d\u4e0b\uff0c\u4e0d\u7528\u518d\u79c1\u4fe1\u4e86\u3002 \u8def\u53ef\u80fd\u6709\u5f88\u591a\u6761\uff0c\u8fd9\u7bc7\u6587\u7ae0\u53ea\u5199\u5176\u4e2d\u4e00\u6761\u3002\u8fd9\u6761\u8def\u53ef\u80fd\u662f\u6700\u6162\u7684\u4e00\u6761\u8def\uff0c\u4f46\u57fa\u672c\u4e0a\u4e5f\u662f\u6700\u7a33\u59a5\u7684\u4e00\u6761\u3002\u5176\u4ed6\u7684\u8def\uff0c\u65e0\u8bba\u6b63\u786e\u4e0e\u5426\uff0c\u4e0e\u672c\u6587\u65e0\u5173\u3002 \u5148\u660e\u786e\u4e0b\u521d\u5b66\u8005\u7684\u5b9a\u4e49\u3002 \u51e1\u662f\u4e0d\u80fd\u89c1\u5230\u5143\u795e\u7684\uff0c\u90fd\u662f\u521d\u5b66\u8005 \u3002\u5982\u6b64\u5b9a\u4e49\u7684\u539f\u56e0\u5728\u6587\u7ae0\u6700\u540e\u3002 \u4e0b\u624b\u5b9e\u4fee\u7684\u53e3\u8bc0\uff0c\u5176\u5b9e\u5c31\u662f\u56db\u4e2a\u5b57\uff0c \u5fc3\u606f\u76f8\u4f9d \u3002\uff08\u4e16\u95f4\u6709\u5728\u5fc3\u606f\u76f8\u4f9d\u540e\u52a0\u4e0a\u5927\u5b9a\u865a\u7a7a\u56db\u5b57\u53e3\u8bc0\uff0c\u672c\u6587\u4e0d\u6d89\u53ca\u4e0d\u8bc4\u4ef7\u3002\u8fd9\u91cc\u53ea\u8bb2\u5fc3\u606f\u76f8\u4f9d\u56db\u5b57\u3002\uff09 \u8fd9\u56db\u4e2a\u5b57\u5728\u5386\u4ee3\u4e39\u7ecf\u4e2d\u65e9\u5c31\u7ffb\u6765\u8986\u53bb\u7684\u8bf4\uff0c\u6211\u4e5f\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u7684\u5185\u5bb9\u3002\u6211\u53ea\u662f\u7528\u73b0\u4ee3\u4eba\u5bb9\u6613\u61c2\u7684\u8bed\u8a00\uff0c\u518d\u8bf4\u4e00\u904d\u7f62\u4e86\u3002\u8fd9\u4e9b\u4e1c\u897f\u653e\u5230\u7ebf\u4e0b\u5b66\u4e60\u73ed\u53bb\uff0c\u522b\u8bf4\u51e0\u5343\u4e0a\u4e07\u7684\u5b66\u8d39\uff0c\u4e94\u6bdb\u94b1\u5b66\u8d39\u90fd\u4e0d\u4f1a\u6709\u4eba\u7ed9\u3002\u4f46\u7a76\u7adf\u54ea\u4e9b\u624d\u662f\u6b63\u7edf\u4e39\u5bb6\u529f\u592b\uff0c\u8fd8\u6709\u6211\u8bf4\u7684\u5bf9\u4e0d\u5bf9\uff0c\u8bf7\u81ea\u884c\u5224\u65ad\u3002 1 \u4e0b\u624b\u5148\u505a\u57fa\u672c\u529f\u3002 \u4e00\u822c\u9700\u8981\u505a\u5230\u8fde\u7eed\u5750\u4e24\u4e2a\u5c0f\u65f6\u4e0d\u52a8\u3002\u522b\u7ba1\u4ec0\u4e48\u5165\u9759\u5165\u5b9a\uff0c\u5148\u505a\u5230\u8eab\u4f53\u4e0d\u52a8\u3002\u4e0d\u8981\u76d8\u5750\uff0c\u5c31\u5728\u6905\u5b50\u4e0a\u5782\u817f\u800c\u5750\u3002\u53ef\u4ee5\u7528\u624b\u673a\u8ba1\u65f6\uff0c\u5173\u95ed\u95f9\u94c3\u58f0\u97f3\uff0c\u4fdd\u7559\u5c4f\u5e55\u5e38\u4eae\u3002\u8fd9\u6837\u65e2\u53ef\u4ee5\u77e5\u9053\u65f6\u95f4\uff0c\u53c8\u4e0d\u4f1a\u53d7\u5230\u60ca\u6270\u3002\u6446\u8131\u624b\u673a\u7684\u4e8b\u60c5\u4ee5\u540e\u518d\u8bf4\u3002 \u65b9\u6cd5\u6709\u4e24\u79cd \u5176\u4e00\uff0c\u76f4\u63a5\u5750\u4e24\u4e2a\u5c0f\u65f6\u3002\u5bf9\u65b0\u4eba\u800c\u8a00\uff0c\u8fd9\u662f\u5f88\u96be\u53d7\u7684\u3002\u5750\u4e0d\u4e0b\u542c\u542c\u97f3\u4e50\uff0c\u6709\u58f0\u6545\u4e8b\uff0c\u751a\u81f3\u770b\u4e2a\u7535\u5f71\u90fd\u65e0\u6240\u8c13\uff0c\u4f46\u662f\u4f60\u8981\u4fdd\u6301\u8eab\u4f53\u4e0d\u52a8\u3002\u575a\u6301\u4e00\u4e2a\u6708\u5de6\u53f3\uff0c\u8ba9\u8eab\u4f53\u9002\u5e94\u9759\u6b62\u4e0d\u52a8\u7684\u72b6\u6001\uff0c\u7136\u540e\u6446\u8131\u5916\u90e8\u8f85\u52a9\uff0c\u505a\u5230\u80fd\u8fde\u5750\u4e24\u4e2a\u5c0f\u65f6\u4e0d\u52a8\u3002 \u5176\u4e8c\uff0c\u4ece\u534a\u5c0f\u65f6\u5f00\u59cb\uff0c\u6bcf\u5929\u589e\u52a0\u4e00\u5206\u949f\uff0c\u52a0\u5230\u4e24\u4e2a\u5c0f\u65f6\u4e3a\u6b62\u3002 \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u90fd\u662f\u53ef\u4ee5\u7684\uff0c\u82b1\u7684\u65f6\u95f4\u4e5f\u5dee\u4e0d\u591a\uff0c\u770b\u4f60\u600e\u4e48\u9009\u4e86\u3002 \u8fd9\u4e00\u6b65\u90fd\u8fc7\u4e0d\u53bb\u7684\uff0c\u4e5f\u522b\u60f3\u4fee\u4ec0\u4e48\u4e39\u9053\u4e86\u3002 2 \u521d\u6b65\u5165\u9759\u529f\u592b \u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5f00\u59cb\u5c3d\u91cf\u5165\u9759\u3002 \u666e\u901a\u4eba\u8981\u505a\u5230\u5fc3\u4e0d\u52a8\u662f\u5f88\u96be\u7684\uff0c\u57fa\u672c\u4e0a\u6742\u5ff5\u5728\u4e0d\u65ad\u7684\u4ea7\u751f\u3002\u6ca1\u5173\u7cfb\uff0c\u4f60\u7ba1\u4f60\u505a\u597d\u5fc3\u606f\u76f8\u4f9d\u5c31\u662f\u4e86\u3002\u3001 \u6253\u4e2a\u6bd4\u65b9 \u6742\u5ff5\u5982\u843d\u53f6\uff0c\u5fc3\u606f\u76f8\u4f9d\u5982\u626b\u5730\u3002\u6811\u53f6\u4e0d\u65ad\u843d\u4e0b\uff0c\u4f60\u4e0d\u65ad\u7684\u626b\u3002\u53ea\u8981\u4e0d\u505c\u7684\u626b\uff0c\u603b\u6709\u626b\u5e72\u51c0\u7684\u65f6\u5019\u3002\u626b\u5e72\u51c0\u4e86\u6811\u53f6\u53c8\u843d\u4e0b\u600e\u4e48\u529e\uff1f\u7ee7\u7eed\u626b\u6389\u5457\u3002\u603b\u5f52\u4f1a\u6709\u6216\u957f\u6216\u77ed\u7684\u4e00\u6bb5\u65f6\u95f4\uff0c\u5730\u9762\u4e0a\u662f\u5e72\u51c0\u7684\u3002 \u5c06\u6765\u529f\u592b\u8d8a\u6765\u8d8a\u6df1\uff0c\u5730\u4e0a\u81ea\u7136\u8d8a\u6765\u8d8a\u5e72\u51c0\u3002 \u6c34\u78e8\u5de5\u592b\uff0c\u6025\u4e0d\u5f97\u3002 3 \u5fc3\u606f\u76f8\u4f9d\u7684\u521d\u6b65\u5b9e\u9645\u64cd\u4f5c\u65b9\u5f0f \u9053\u7406\u4e0a\u8bb2\u662f\u542c\u547c\u5438\uff0c\u5176\u5b9e\u547c\u5438\u662f\u6ca1\u6709\u58f0\u97f3\u7684\u3002\u8bf4\u662f\u542c\uff0c\u5176\u5b9e\u53ea\u662f\u7559\u610f\u3002\u8bf4\u7a7f\u4e86\u5c31\u662f\uff0c \u4e00\u547c\u4e00\u5438\u90fd\u4e0d\u8981\u5728\u4f60\u8111\u6d77\u4e2d\u9003\u8fc7\u3002 \u8bc0\u7a8d\u5c31\u662f \u52ff\u5fd8\u52ff\u52a9 \u56db\u4e2a\u5b57\u3002 \u6240\u8c13\u52ff\u52a9\uff0c\u5c31\u662f\u4e0d\u80fd\u7528\u610f\u8bc6\u53bb\u63a7\u5236\u547c\u5438\uff0c\u54ea\u6015\u662f\u521d\u6b65\u529f\u592b\uff0c\u4e5f\u5bb9\u6613\u9020\u6210\u80f8\u95f7\u6c14\u5598\uff0c\u7c7b\u4f3c\u73b0\u4ee3\u533b\u5b66\u7684\u690d\u7269\u795e\u7ecf\u7d0a\u4e71\u3002\u540c\u65f6\u4e5f\u4f1a\u9020\u6210\u4f60\u529f\u592b\u7ee7\u7eed\u505a\u4e0b\u53bb\u7684\u963b\u788d\u3002 \uff08\u6572\u9ed1\u677f\uff0c\u91cd\u70b9\uff0c\u8981\u8003\uff09 \u6240\u8c13\u52ff\u5fd8\uff0c\u5c31\u662f\u540e\u5929\u795e\u4e0d\u8981\u8131\u79bb\u540e\u5929\u6c14\u3002 \u4e39\u9053\u529f\u592b\u7684\u6838\u5fc3\u662f\u4ec0\u4e48\uff1f\u662f \u795e\u6c14\u5408\u4e00 \u3002 \u800c\u5fc3\u606f\u76f8\u4f9d\u7684\u521d\u6b65\u529f\u592b\uff0c\u5176\u5b9e\u5c31\u662f\u540e\u5929\u795e\u4e0e\u540e\u5929\u6c14\u7684\u76f8\u5408\u3002 \u62bd\u8c61\u70b9\u8bf4\uff0c\u5c31\u662f\u7528\u540e\u5929\u6c14\u5305\u88f9\u4f4f\u540e\u5929\u795e\u3002 \u4e0d\u7528\u6c14\u5305\u88f9\u4f4f\uff0c\u795e\u5bb9\u6613\u6563\u3002 \u5c24\u5176\u662f\u521d\u5b66\u8005\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u8fd9\u795e\u90fd\u6563\u7684\u4e0d\u77e5\u9053\u54ea\u91cc\u53bb\u4e86\uff0c\u7136\u540e\u4e71\u4e03\u516b\u7cdf\u7684\u9634\u795e\u53cd\u5e94\u5c31\u51fa\u73b0\u4e86\u3002\u4e0d\u77e5\u9053\u7684\u8fd8\u4ee5\u4e3a\u81ea\u5df1\u600e\u4e48\u4e86\u4e0d\u8d77\uff0c\u4fee\u6210\u4ec0\u4e48\u795e\u901a\u4e86\u3002 \u7528\u6d45\u767d\u7684\u8bed\u8a00\u63cf\u8ff0\uff0c\u5c31\u662f\u4f60\u8111\u5b50\u5c3d\u91cf\u653e\u7a7a\uff0c\u4f46\u4e0d\u80fd\u771f\u7684\u5565\u90fd\u4e0d\u5269\u4e0b\uff0c\u8fd8\u5f97\u7559\u4e0b\u4e00\u5c0f\u5757\u5730\u65b9\uff0c\u653e\u7740\u4f60\u7684\u547c\u5438\u3002 \uff08\u518d\u6b21\u6572\u9ed1\u677f\uff09 \u540c\u65f6\uff0c \u4f60\u4e5f\u4e0d\u80fd\u628a\u547c\u5438\u8fd9\u4e2a\u5ff5\u5934\u6293\u7684\u592a\u6b7b \u3002\u6293\u7684\u592a\u6b7b\uff0c\u6ca1\u6cd5\u5b50\u8fdb\u5165\u4e0b\u4e00\u6b65\u72b6\u6001\u3002 \u4e24\u4e2a\u6bd4\u55bb\u3002 \u7b2c\u4e00\u4e2a\uff0c\u6c14\u7403 \u6c14\u7403\u4e0d\u80fd\u6309\u5728\u5730\u4e0a\uff0c\u4f60\u5f97\u653e\u5f00\u4e86\uff0c\u5f97\u5728\u5929\u4e0a\u98de\uff0c\u4f46\u4e5f\u4e0d\u80fd\u771f\u98de\u4e86\uff0c\u4f60\u5f97\u6709\u6839\u7ef3\u5b50\u8fde\u5728\u5730\u4e0a\u3002\u8fd9\u6839\u7ef3\u5b50\uff0c\u4e00\u5b9a\u4e0d\u80fd\u65ad\u3002\u65ad\u4e86\uff0c\u6c14\u7403\u98de\u5f97\u4f60\u627e\u90fd\u627e\u4e0d\u5230\u3002\u8fd9\u7ef3\u5b50\uff0c\u5c31\u662f\u5fc3\u606f\u76f8\u4f9d\u3002 \u7b2c\u4e8c\u4e2a\uff0c\u516b\u722a\u9c7c\u3002 \u4f60\u7684\u540e\u5929\u795e\u5c31\u662f\u516b\u722a\u9c7c\uff0c\u6709\u516b\u4e2a\u722a\u5b50\u3002\u4f46\u4f60\u53ea\u80fd\u7528\u4e00\u4e2a\u722a\u5b50\u5c16\u4e0a\u90a3\u4e48\u4e00\u70b9\u513f\uff0c\u7c98\u5728\u4e00\u5757\u77f3\u5934\u4e0a\u3002\u4f60\u4e0d\u80fd\u516b\u4e2a\u722a\u5b50\u5168\u53bb\u6293\u77f3\u5934\uff0c\u751a\u81f3\u4e0d\u80fd\u4e00\u4e2a\u722a\u5b50\u5168\u90fd\u76d8\u5728\u77f3\u5934\u4e0a\u3002\u4f46\u662f\u90a3\u4e00\u70b9\u513f\uff0c\u4f60\u5fc5\u987b\u5f97\u7c98\u4f4f\u3002 4 \u529f\u592b\u505a\u5f97\u4e45\u4e86\uff0c\u4f60\u4f1a\u5f88\u5bb9\u6613\u505a\u5230\u4e0a\u9762\u4e00\u70b9\u3002\u5728\u6b64\u72b6\u6001\u4e0b\uff0c\u6742\u5ff5\u975e\u5e38\u5c11\uff0c\u5f88\u5bb9\u6613\u505a\u5230\u8111\u5b50\u91cc\u53ea\u5269\u4e0b\u547c\u5438\uff0c\u522b\u7684\u57fa\u672c\u6ca1\u6709\u3002 \u4f60\u53bb\u770b\u4e39\u7ecf\uff0c\u5c24\u5176\u4e50\u80b2\u5802\u8bed\u5f55\u4e0a\u8bf4\u7684\u201c\u4e0b\u624b\u529f\u592b\u201d\uff0c\u5176\u5b9e\u5927\u90e8\u5206\u8bf4\u7684\u5c31\u662f\u8fd9\u4e2a\u72b6\u6001\u3002\u9ec4\u5143\u5409\u89c9\u5f97\u8fd9\u662f\u4e0b\u624b\u529f\u592b\uff0c\u4ed6\u662f\u9ec4\u5143\u5409\u3002\u5bf9\u5927\u90e8\u5206\u4eba\u800c\u8a00\uff0c\u8fd8\u662f\u8981\u4e0b\u8db3\u591f\u7684\u82e6\u5de5\u624d\u80fd\u505a\u5230\u3002\u6211\u4e2a\u4eba\u7684\u5224\u65ad\uff0c\u6dd8\u6c70\u6389\u4e00\u534a\u4eba\u662f\u7edd\u5bf9\u6ca1\u95ee\u9898\u7684\u3002 \u5728\u6b64\u529f\u592b\u57fa\u7840\u4e0a\uff0c\u4fdd\u6301\u4f4f\u52ff\u5fd8\u52ff\u52a9\u90a3\u4e2a\u72b6\u6001\uff0c\u529f\u592b\u8d8a\u6765\u8d8a\u6df1\uff0c\u795e\u6c14\u6253\u6210\u4e00\u7247\u3002\u5728\u8fd9\u4e2a\u72b6\u6001\uff0c\u5176\u5b9e\u5df2\u7ecf\u65e0\u6240\u8c13\u52ff\u5fd8\u4e00\u8bf4\u4e86\u3002\u56e0\u4e3a\u795e\u6c14\u5df2\u7ecf\u6253\u6210\u4e00\u7247\uff0c\u4e0d\u5b58\u5728\u5206\u5f00\u7684\u95ee\u9898\u3002\u5fd8\u4e5f\u597d\uff0c\u4e0d\u5fd8\u4e5f\u597d\uff0c\u90fd\u65e0\u6240\u8c13\u3002\u8fd9\u4e2a\u72b6\u6001\u4e0d\u592a\u597d\u7528\u8bed\u8a00\u63cf\u8ff0\uff0c\u4e0d\u7cbe\u786e\u7684\u8868\u8ff0\u4e00\u4e0b\u3002\u795e\u6c14\u95f4\u7684\u8054\u7cfb\u4eff\u4f5b\u662f\u4e00\u79cd\u65e2\u6210\u4e8b\u5b9e\uff0c\u4f60\u5fd8\u8bb0\u6216\u8005\u4e0d\u5fd8\u8bb0\uff0c\u4ed6\u90fd\u5728\u54ea\u91cc\u3002\u6216\u8005\u8bf4\uff0c\u901a\u5e38\u7684\u5fd8\u8bb0\uff0c\u5176\u5b9e\u662f\u4e00\u4e2a\u5ff5\u5934\u66ff\u4ee3\u53e6\u4e00\u4e2a\u5ff5\u5934\u3002\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5176\u5b9e\u4f60\u6ca1\u6709\u53e6\u4e00\u4e2a\u5ff5\u5934\u3002\u90a3\u4f60\u7b2c\u4e00\u4e2a\u5ff5\u5934\u5c31\u5361\u5728\u90a3\u91cc\u4e86\uff0c\u53c8\u600e\u4e48\u5fd8\u8bb0\u5462\uff1f \u4f46\u8fd9\u4e24\u4e2a\u8868\u8ff0\u90fd\u4e0d\u592a\u7cbe\u786e\uff0c\u770b\u770b\u5c31\u884c\uff0c\u522b\u592a\u5728\u610f\u3002 \u6211\u5c06\u6765\u60f3\u5230\u66f4\u597d\u7684\u8868\u8ff0\u65b9\u5f0f\u518d\u8865\u5145\u4fee\u6539\u3002 \u8fd9\u4f9d\u7136\u662f\u540e\u5929\u72b6\u6001\u3002\u7ee7\u7eed\u505a\u529f\u592b\uff0c \u529f\u592b\u8db3\u591f\uff0c\u6c34\u5230\u6e20\u6210\u4e4b\u65f6\uff0c\u53ef\u4ee5\u505a\u5230 \u8bc6\u795e\u9000\u4f4d\uff0c\u5143\u795e\u663e\u50cf\u3002 \u5f88\u591a\u4eba\u79c1\u4fe1\u95ee\u5143\u795e\u663e\u50cf\u5230\u5e95\u662f\u4ec0\u4e48\u72b6\u6001\uff0c\u5176\u5b9e\u4e0d\u7528\u95ee\uff0c\u95ee\u4e86\u4e5f\u5f88\u96be\u56de\u7b54\u3002\u4ec0\u4e48\u6709\u89c9\u65e0\u5ff5\uff0c\u6027\u5149\u5e38\u660e\uff0c\u5185\u5916\u4e00\u4f53\u7b49\u7b49\uff0c\u5176\u5b9e\u8bf4\u4e86\u548c\u6ca1\u8bf4\u4e00\u6837\u3002 \u4eba\u7684\u8bed\u8a00\u65e0\u6cd5\u63cf\u8ff0\u4f60\u6ca1\u89c1\u8fc7\u7684\u4e1c\u897f\uff0c\u751a\u81f3\u4eba\u6ca1\u529e\u6cd5\u60f3\u8c61\u4f60\u6ca1\u89c1\u8fc7\u7684\u4e1c\u897f\u3002\u6bd4\u5982\uff0c\u60f3\u8c61\u4e00\u79cd\u4f60\u6ca1\u89c1\u8fc7\u7684\u989c\u8272\u8bd5\u8bd5\u770b\uff1f\uff08\u4f60\u5728\u80ce\u513f\uff0c\u5a74\u513f\u521d\u671f\u89c1\u8fc7\u5143\u795e\uff0c\u4f46\u5f7b\u5e95\u5fd8\u4e86\uff0c\u548c\u6ca1\u89c1\u8fc7\u4e00\u6837\u3002\uff09 \u4f60\u9700\u8981\u5b9e\u8bc1\u3002\u8bc1\u5230\u4e86\u81ea\u7136\u5c31\u660e\u767d\u4e86\u3002 \u56e0\u4e3a\u8fd9\u4e2a\u72b6\u6001\uff0c\u4f60\u5728\u8bc6\u795e\u72b6\u6001\u4e0b\uff0c\u662f\u7edd\u5bf9\u6a21\u62df\u4e0d\u51fa\u6765\u7684\u3002\u4f60\u5728\u5b9a\u5883\u4e2d\u8bc1\u5165\u8bc6\u795e\u72b6\u6001\u7edd\u5bf9\u4e0d\u53ef\u80fd\u51fa\u73b0\u7684\u72b6\u6001\uff0c\u90a3\u4e0d\u662f\u5143\u795e\u72b6\u6001\u662f\u4ec0\u4e48\uff1f \u9664\u975e\u4f60\u8fde\u7740\u6c14\u7403\u7684\u90a3\u6839\u7ebf\u65ad\u4e86\uff0c\u6216\u8005\u8bf4\u4f60\u7684\u795e\u6c14\u6ca1\u6709\u6253\u6210\u4e00\u7247\uff0c\u5426\u5219\u4e00\u822c\u4e0d\u4f1a\u8bc1\u5165\u987d\u7a7a\u3002 \u800c\u4e14\u987d\u7a7a\u4e0e\u771f\u7a7a\u662f\u5b8c\u5168\u4e0d\u540c\u7684\uff0c\u4f60\u6ca1\u7406\u7531\u5206\u8fa8\u4e0d\u51fa\u6765\uff08\u8fd9\u4e00\u6761\u662f\u6211\u63a8\u6d4b\u7684\uff0c\u56e0\u4e3a\u6211\u4e5f\u6ca1\u8bc1\u5165\u8fc7\u987d\u7a7a\u3002\u4f46\u662f\u4ece\u4e39\u7ecf\u8bb0\u8f7d\uff0c\u7279\u5f81\u533a\u5206\u7684\u5f88\u660e\u663e\u3002\u7167\u7740\u4e39\u7ecf\u4e00\u5bf9\u6bd4\u5c31\u80fd\u660e\u767d\u3002\u4f60\u51ed\u7a7a\u5206\u4e0d\u6e05\u624b\u673a\u548c\u7816\u5934\u7684\u533a\u522b\uff0c\u4e00\u4e2a\u624b\u673a\u62ff\u5728\u624b\u91cc\u8fd8\u80fd\u5206\u4e0d\u6e05\uff1f\u4e0d\u7528\u5de6\u624b\u624b\u673a\u53f3\u624b\u7816\u5934\uff0c\u5bf9\u5427\u3002\uff09 \u5728\u6b64\u72b6\u6001\uff0c\u4e5f\u662f\u4e8b\u5b9e\u4e0a\u7684\u79ef\u7cbe\u7d2f\u6c14\u8fc7\u7a0b\u3002 \u529f\u592b\u505a\u8db3\uff0c\u7406\u8bba\u4e0a\u8bb2\u53ef\u4ee5\u5b8c\u6210\u7b51\u57fa\u3002 \u4e0d\u5fc5\u53e6\u5bfb\u7b51\u57fa\u53e3\u8bc0\u3002\uff08\u5f53\u7136\uff0c\u8fd9\u662f\u7406\u8bba\u4e0a\u8bb2\u3002\u5b9e\u9645\u4e0a\u8fd8\u9700\u8981\u5916\u90e8\u6761\u4ef6\u914d\u5408\u3002\u6bcf\u5929996\u7684\u96be\u4e86\u3002\uff09 \u529f\u592b\u5230\u6b64\uff0c\u80fd\u89c1\u5143\u795e\uff0c\u5df2\u7ecf\u4e0d\u7b97\u521d\u5b66\u8005\uff0c\u4f59\u4e0b\u7684\u4e8b\u60c5\uff0c\u5c31\u770b\u4f60\u81ea\u5df1\u4e86\u3002 \u56e0\u4e3a\uff0c\u4f60 \u5df2\u7ecf\u53ef\u4ee5\u8bfb\u61c2\u4e39\u7ecf\u4e0a\u7684\u5927\u90e8\u5206\u5185\u5bb9 \u3002 \u4e39\u7ecf\u4e0a\u7684\u5f88\u591a\u5185\u5bb9\uff0c\u5176\u5b9e\u90fd\u662f\u5728\u5143\u795e\u72b6\u6001\u4e0b\u7684\u63cf\u8ff0\uff0c\u4f60\u5728\u8bc6\u795e\u72b6\u6001\u4e0b\u662f\u4e0d\u4f1a\u51fa\u73b0\u7684\uff0c\u7528\u8bc6\u795e\u53bb\u6a21\u62df\u4e5f\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002 \u8fd8\u662f\u90a3\u53e5\u8bdd\uff0c\u4f60\u6ca1\u529e\u6cd5\u60f3\u8c61\u4f60\u6ca1\u89c1\u8fc7\u7684\u4e1c\u897f\u3002\u4e3a\u4ec0\u4e48\u5f88\u591a\u4eba\u8bfb\u4e0d\u61c2\u4e39\u7ecf\uff0c\u6216\u8005\u628a\u7ecf\u8bfb\u6b6a\u4e86\uff0c\u5176\u5b9e\u95ee\u9898\u5c31\u5728\u8fd9\u513f\u3002 \u4f46 \u4f60\u8bc1\u5165\u5143\u795e\u540e\uff0c\u81ea\u7136\u5c31\u770b\u61c2\u4e86 \uff0c\u56e0\u4e3a\u4f60\u89c1\u8fc7\u4e86\u3002\u4e0d\u4f46\u80fd\u770b\u61c2\uff0c\u800c\u4e14\u5f88\u591a\u4f60\u90fd\u80fd\u77e5\u9053\u4e39\u7ecf\u4e0a\u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e48\u8bf4\u3002\u4e3a\u4ec0\u4e48\u4e39\u7ecf\u4e0a\u6709\u4e9b\u4e1c\u897f\u8bf4\u7684\u90a3\u4e48\u7384\u4e4b\u53c8\u7384\uff0c\u4ec0\u4e48\u4e0d\u5728\u8eab\u4e0a\uff0c\u4e0d\u5728\u8eab\u5916\uff0c\u4ec0\u4e48\u975e\u5185\u975e\u5916\u7b49\u7b49\uff0c\u8fd9\u4e9b\u90fd\u9700\u8981\u4f60\u5b9e\u8bc1\u5143\u795e\u4e4b\u540e\u624d\u80fd\u660e\u767d\u3002 \u5f53\u521d\u6211\u7b2c\u4e00\u6b21\u89c1\u5143\u795e\u7684\u65f6\u5019\uff0c\u660e\u767d\u7684\u7b2c\u4e00\u4e2a\u9053\u7406\u5c31\u662f\u201c\u6211\u9760\uff0c\u539f\u6765\u4e39\u7ecf\u4e0a\u8bf4\u7684\u90fd\u662f\u771f\u7684\u3002\u201d \u7136\u540e\u968f\u7740\u529f\u592b\u8d8a\u505a\u8d8a\u6df1\uff0c\u518d\u53bb\u8bfb\u4e39\u7ecf\uff0c\u6709\u4e9b\u4e1c\u897f\u5c31\u5f88\u5bb9\u6613\u5c31\u7406\u89e3\u4e86\u3002 \u201c\u54e6\uff0c\u96f7\u58f0\u9690\u9690\u9707\u865a\u7a7a\u201d\u8bf4\u7684\u662f\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u662f\u5728\u8fd9\u91cc\u51fa\u73b0\u7684\uff0c\u771f\u7684\u5f88\u50cf\u96f7\u58f0\uff0c\u5c31\u662f\u6709\u70b9\u95f7\uff0c\u4e0d\u8106\uff0c\u8fd8\u662f\u50cf\u6876\u91cc\u653e\u70ae\u4ed7\u591a\u4e9b\u3002\u201c\u661f\u5149\u70b9\u70b9\u201d\u662f\u90a3\u4e2a\u72b6\u6001\uff0c\u662f\u5728\u90a3\u91cc\u51fa\u73b0\u7684\uff0c\u8fd8\u771f\u7684\u4e0d\u518d\u8272\u8eab\u4e0a\uff0c\u4e5f\u4e0d\u518d\u8272\u8eab\u5916\u3002\u7c7b\u4f3c\u5982\u6b64\u3002 \u7136\u540e\u518d\u628a\u4e39\u7ecf\u4e0a\u8fd9\u4e9b\u4e1c\u897f\u4e32\u8d77\u6765\uff0c\u81ea\u7136\u5c31\u660e\u767d\u4e86\u3002\u8fd9\u4e9b\u90fd\u4f9d\u8d56\u4e8e\u4f60\u7684\u5b9e\u8bc1\u4fee\u4e3a\uff0c\u9760\u522b\u4eba\u8bb2\uff0c\u78e8\u7834\u5634\u76ae\u5b50\u4e5f\u6ca1\u7528\u3002 \u7136\u540e\u4f60\u613f\u610f\u63e3\u6469\u4e39\u7ecf\u4e5f\u884c\uff0c\u613f\u610f\u5230\u5904\u5bfb\u5e08\u4e5f\u65e0\u6240\u8c13\u3002\u4f60\u6709\u8fd9\u4e9b\u5e95\u5b50\uff0c\u770b\u61c2\u6b63\u7edf\u4e39\u7ecf\u540e\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u6c5f\u6e56\u9a97\u5b50\u6c5f\u6e56\u90aa\u672f\uff0c\u80fd\u591a\u770b\u4e00\u773c\u6211\u90fd\u7b97\u4f60\u8010\u5fc3\u597d\u3002 \u5bfb\u5e08\u591a\u4e5f\u5c31\u662f\u65e0\u6240\u5f97\uff0c\u4e0d\u81f3\u4e8e\u53d7\u9a97\u4e0a\u5f53\u3002 \u4ee5\u4e0a \u5206\u5272\u7ebf \u6ce8 \u9650\u4e8e\u4e2a\u4eba\u4fee\u4e3a\uff0c\u6b64\u6587\u82e5\u6709\u4e0d\u5f53\u5904\uff0c\u8bf7\u53ca\u65f6\u6307\u6b63\uff0c\u4f46\u9650\u4e8e\u4e39\u5bb6\u6b63\u7edf\u3002\u5439\u725b\u88c5\u903c\u6c5f\u6e56\u9a97\u5b50\u7684\u5c31\u7b97\u4e86\uff0c\u61d2\u5f97\u6760\u3002","title":"\u5173\u4e8e\u4e39\u9053\u521d\u5b66\u8005\u4e0b\u624b\u5b9e\u4fee\u529f\u592b"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/","text":"\u79c1\u4fe1\u95ee\u5173\u4e8e\u4e39\u9053\u6cbb\u75c5\u7684\u4eba\u4e0d\u5c11\uff0c\u7edf\u4e00\u8bf4\u4e0b\u3002 \u4ee5\u4e0b\u4e3a\u6211\u4e2a\u4eba\u73b0\u9636\u6bb5\u7684\u7406\u89e3\uff0c\u53ea\u662f\u7ed9\u4e2a\u53c2\u8003\u5efa\u8bae\u3002\u9650\u4e8e\u4e2a\u4eba\u4fee\u4e3a\u5c42\u6b21\uff0c\u53ef\u80fd\u6709\u4e0d\u5c11\u9519\u8bef\u4e4b\u5904\uff0c\u5404\u4f4d\u628a\u6b64\u6587\u5f53\u6210\u4e2a\u4eba\u4fee\u884c\u7684\u8bb0\u5f55\u5c31\u884c\u3002 \u672c\u6587\u4e3b\u8981\u9488\u5bf9\u975e\u4e13\u95e8\u4fee\u884c\u8005\uff0c\u6211\u4f1a\u5c3d\u91cf\u51cf\u5c11\u4f7f\u7528\u4e39\u9053\u672f\u8bed\uff0c\u591a\u4f7f\u7528\u73b0\u4ee3\u4eba\u7684\u8bed\u8a00\uff0c\u56e0\u6b64\u53ef\u80fd\u8868\u8ff0\u4e0a\u4f1a\u6709\u6240\u6b20\u7f3a\u3002\u6587\u7ae0\u592a\u957f\uff0c\u5982\u679c\u4f60\u6709\u4f9d\u8d56\u4e39\u9053\u529f\u592b\u6cbb\u75c5\u7684\u6253\u7b97\uff0c\u8bf7\u52a1\u5fc5\u8010\u7740\u6027\u5b50\u770b\u5b8c\u3002\u5982\u679c\u5b9e\u5728\u6ca1\u8010\u5fc3\u770b\uff0c\u53ea\u770b\u4e0b\u9762\u52a0\u7c97\u7684\u4e00\u6bb5\u4e5f\u884c\u3002 \u5148\u8bf4\u7ed3\u8bba\u3002 \u8981\u76f8\u4fe1\u79d1\u5b66\uff0c\u6709\u75c5\u53bb\u6b63\u89c4\u533b\u9662\u6c42\u52a9\u73b0\u4ee3\u533b\u5b66\uff0c\u522b\u6307\u671b\u4e39\u9053\u3002*\u80fd\u5e2e\u52a9\u4f60\u7684\u662f\u7a7f\u767d\u5927\u8902\u5f00\u5316\u9a8c\u5355\u7684\u4eba\uff0c\u4e0d\u662f\u7a7f\u9053\u888d\u7684\uff0c\u66f4\u4e0d\u662f\u5f00\u5b66\u4e60\u73ed\u7684\u3002* 1\u4e39\u9053\u6cbb\u75c5\u7684\u73b0\u5b9e\u60c5\u51b5 \u5728\u8eab\u4f53\u57fa\u672c\u5065\u5eb7\u7684\u60c5\u51b5\u4e0b\uff0c\u4e39\u9053\u529f\u592b\u5f3a\u8eab\u5065\u4f53\uff0c\u662f\u6709\u4e00\u5b9a\u6548\u679c\u3002\u4f46\u8bf4\u5230\u6cbb\u75c5\uff0c\u4f60\u6240\u4e86\u89e3\u5230\u7684\u90a3\u4e9b\u201c\u795e\u5947\u201d\u6548\u679c\uff0c\u57fa\u672c\u4e0a\u90fd\u662f\u67d0\u4e9b\u522b\u6709\u7528\u5fc3\u7684\u4eba\uff0c\u5439\u51fa\u6765\u5ffd\u60a0\u4eba\u7684\u3002\uff08\u540e\u9762\u89e3\u91ca\uff0c\u62ac\u6760\u7684\u8bf7\u770b\u5b8c\u5728\u62ac\uff09\u90a3\u4e9b\u5f00\u5b66\u4e60\u73ed\u7684\uff0c\u88c5\u5927\u5e08\u5230\u5904\u627e\u5f92\u5f1f\u7684\uff0c\u4e0d\u628a\u725b\u5439\u4e0a\u5929\uff0c\u53ef\u5f97\u6709\u4eba\u9001\u94b1\u554a\u3002\u81f3\u4e8e\u4f60\u9001\u5b8c\u94b1\u4e4b\u540e\u75c5\u597d\u6ca1\u597d\uff0c\u8c01\u6709\u7a7a\u7ba1\u4f60\u3002 \u4e39\u9053\u6cbb\u75c5\u8fd9\u4e8b\u60c5\uff0c\u786e\u5b9e\u6709\uff0c\u4f46\u88ab\u4e25\u91cd\u5938\u5927\u4e86\u3002\u8fd9\u5938\u5927\uff0c\u4e0d\u662f\u8bf4\u6548\u679c\uff0c\u662f\u6709\u6548\u7387\u3002\u9488\u5bf9\u5c0f\u6bdb\u5c0f\u75c5\u610f\u4e49\u4e0d\u5927\uff0c\u800c\u9488\u5bf9\u4e25\u91cd\u75be\u75c5\u5c24\u5176\u662f\u73b0\u4ee3\u533b\u5b66\u675f\u624b\u65e0\u63aa\u7684\u75be\u75c5\u7684\u6709\u6548\u7387\u592a\u4f4e\uff0c\u4f4e\u5230\u4ee4\u4eba\u53d1\u6307\u7684\u5730\u6b65\u3002 \u5e38\u6709\u4eba\u8bf4\uff0c\u67d0\u67d0\u67d0\u5f97\u4e86\u4ec0\u4e48\u75c5\uff0c\u533b\u9662\u6ca1\u529e\u6cd5\uff0c\u5c31\u662f\u6c14\u529f\uff0c\u4e39\u9053\uff0c\u7ad9\u6869\u7b49\u7b49\u6cbb\u597d\u7684\u3002\u8fd9\u79cd\u6c5f\u6e56\u4f20\u8bf4\u54ea\u90fd\u6709\uff0c\u4e5f\u8bb8\u6709\u771f\u7684\uff0c \u4f46\u662f \u4f60\u522b\u5149\u770b\u6cbb\u597d\u7684\uff0c\u4e5f\u770b\u770b\u90a3\u4e9b\u6cbb\u4e0d\u597d\u7684\u3002 \u90a3\u4e9b\u6cbb\u597d\u7684\u62ff\u51fa\u6765\u8bf4\u4e8b\uff0c\u6cbb\u4e0d\u597d\u7684\u5c31\u5ffd\u7565\u4e0d\u8ba1\u4e86\uff1f\u5168\u56fd\u6bcf\u5e74\u90a3\u4e48\u591a\u4eba\u5f97\u764c\u75c7\uff0c\u9760\u6c14\u529f\u7ad9\u6869\u6cbb\u597d\u7684\u6709\u51e0\u4e2a\uff1f\u4e00\u4e07\u4e2a\u4eba\uff0c\u751a\u81f3\u4e00\u767e\u4e07\u91cc\u4e00\u4e2a\u6709\u6548\uff0c\u90a3\u4e0d\u53eb\u6cbb\u7597\u65b9\u6848\uff0c\u90a3\u53eb\u6b7b\u9a6c\u5f53\u6d3b\u9a6c\u533b\u3002 \u8fd8\u6709\uff0c\u8fd9\u4eba\u7a76\u7adf\u662f\u4e0d\u662f\u6c14\u529f\u7b49\u7b49\u6cbb\u597d\u7684\uff0c\u4ed6\u4e0d\u7ec3\u6c14\u529f\u80fd\u4e0d\u80fd\u81ea\u6108\uff0c\u751a\u81f3\u5230\u5e95\u4e16\u754c\u4e0a\u6709\u6ca1\u6709\u8fd9\u4e2a\u4eba\uff0c\u8bf4\u7684\u6e05\u695a\u5417\uff1f\u53ea\u8981\u57fa\u6570\u8db3\u591f\u5927\uff0c\u8981\u627e\u4e00\u4e9b\u7279\u4f8b\u603b\u80fd\u627e\u5230\u3002\u4f60\u5168\u5370\u5ea6\u7684\u53bb\u627e\u5403\u725b\u7caa\u6cbb\u75c5\u7684\uff0c\u4e5f\u80fd\u627e\u51fa\u7279\u4f8b\u6765\u3002\u751a\u81f3\u827e\u6ecb\u75c5\u81ea\u6108\u4e5f\u80fd\u627e\u5230\u7279\u4f8b\uff0c\u7279\u4f8b\u80fd\u8bf4\u660e\u95ee\u9898\u5417\uff1f \u771f\u6709\u8fd9\u4e48\u9ad8\u6548\u7684\u533b\u7597\u624b\u6bb5\uff0c\u751a\u81f3\u80fd\u7a81\u7834\u73b0\u4ee3\u533b\u5b66\u7684\u6781\u9650\uff0c\u600e\u4e48\u6ca1\u63a8\u5e7f\uff1f\u5168\u4e16\u754c\u90a3\u4e48\u591a\u533b\u5b66\u4e13\u5bb6\u90fd\u50bb\u4e86\uff1f \u8fd8\u6709\u4eba\u53ef\u80fd\u4f1a\u8bf4\u79d8\u4f20\u529f\u592b\u4ec0\u4e48\u7684\uff0c\u5475\u5475\uff0c\u8bf7\u770b\u4e0b\u53bb\u3002 2\u4e39\u9053\u6cbb\u75c5\u7684\u539f\u7406\u3002 \u5176\u5b9e\u4eba\u4f53\u662f\u6709\u5f88\u5f3a\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\u7684\uff0c\u514d\u75ab\u529b\uff0c\u4f24\u53e3\u6108\u5408\u80fd\u529b\uff0c\u4ee3\u507f\u80fd\u529b\u7b49\uff0c\u90fd\u5c5e\u4e8e\u8fd9\u79cd\u81ea\u6211\u4fee\u590d\u80fd\u529b\u3002\u54ea\u6015\u73b0\u4ee3\u533b\u5b66\u5982\u6b64\u53d1\u8fbe\uff0c\u5f88\u591a\u75be\u75c5\u5176\u5b9e\u90fd\u662f\u4f9d\u8d56\u4eba\u4f53\u7684\u81ea\u6211\u4fee\u590d\u3002\u533b\u5b66\uff0c\u5f88\u591a\u65f6\u5019\u4e0d\u8fc7\u662f\u8d77\u4e00\u4e2a\u8f85\u52a9\u4f5c\u7528\u7f62\u4e86\u3002\u6700\u5e38\u89c1\u7684\uff0c\u611f\u5192\uff0c\u5403\u4e0d\u5403\u836f\u90fd\u662f\u4e00\u4e24\u4e2a\u661f\u671f\uff0c\u5c31\u662f\u8fd9\u4e2a\u9053\u7406\u3002 \u4f46\u76f8\u5bf9\u4e0d\u540c\u4e2a\u4f53\uff0c\u5176\u81ea\u6211\u4fee\u590d\u80fd\u529b\u662f\u6709\u5dee\u5f02\u7684\u3002\u540c\u6837\u7684\u75c5\uff0c\u8eab\u4f53\u597d\u7684\u625b\u8fc7\u53bb\uff0c\u8eab\u4f53\u5dee\u7684\u6dd8\u6c70\u6389\uff0c\u4e0d\u96be\u7406\u89e3\u5427\u3002 \u800c\u6240\u8c13\u4e39\u9053\u6cbb\u75c5\uff0c\u6ca1\u4ec0\u4e48\u7384\u4e4b\u53c8\u7384\u7684\uff0c\u5176\u5b9e\u5c31\u662f\u5f3a\u5316\u8fd9\u79cd\u81ea\u6211\u4fee\u590d\u80fd\u529b\u3002 \u5f3a\u5316\u7684\u65b9\u6cd5\u6709\u591a\u79cd\uff0c\u4f46\u603b\u7ed3\u8d77\u6765\uff0c\u65e0\u975e\u662f \u540e\u5929\u529f\u592b\u4e0e\u5148\u5929\u529f\u592b\u4e24\u79cd \u3002 3\u540e\u5929\u529f\u592b \u8fd9\u91cc\u9700\u8981\u5f15\u5165\u4e00\u4e2a\u4e39\u9053\u7684\u57fa\u672c\u6982\u5ff5\uff0c \u5143\u795e\u4e0e\u8bc6\u795e \u3002 \u7c97\u7565\u7684\u8bf4\uff0c \u5143\u795e\u5c31\u662f\u4f60\u5728\u80ce\u513f\u65f6\u671f\u548c\u5a74\u513f\u521d\u671f\u7684\u610f\u8bc6\u72b6\u6001\u3002\u8bc6\u795e\u5c31\u662f\u4f60\u73b0\u5728\u6240\u5904\u7684\u5e73\u5e38\u72b6\u6001 \u3002\u901a\u5e38\u6211\u4eec\u8bf4\u5143\u795e\u662f\u5148\u5929\uff0c\u8bc6\u795e\u662f\u540e\u5929\u3002 \u6240\u6709\u5728\u8bc6\u795e\u72b6\u6001\u4e0b\u505a\u7684\u529f\u592b\uff0c\u90fd\u662f\u540e\u5929\u529f\u592b\u3002 \u540e\u5929\u529f\u592b\u5206\u4e24\u79cd\uff0c\u4e00\u79cd\u65e0\u4e3a\uff0c\u4e00\u79cd\u6709\u4e3a\u3002 A\u6240\u8c13\u65e0\u4e3a\uff0c\u5c31\u662f\u5750\u7740\u4e0d\u52a8\u3002\u6709\u6ca1\u6709\u6742\u5ff5\uff0c\u5176\u5b9e\u4e5f\u4e0d\u5f71\u54cd\uff0c\u4e00\u822c\u505a\u5230\u8eab\u4e0d\u52a8\u4e5f\u5c31\u662f\u4e86\u3002\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u521d\u6b65\u7684\u79ef\u7cbe\u7d2f\u6c14\u8fc7\u7a0b\u3002\u5728\u6cbb\u75c5\u8fd9\u4e00\u5757\uff0c\u4e0d\u80fd\u8bf4\u5b8c\u5168\u65e0\u6548\uff0c\u7cbe\u6c14\u5145\u8db3\u4e86\uff0c\u8eab\u4f53\u81ea\u7136\u5f3a\u5065\u4e86\uff0c\u75c5\u597d\u7684\u5feb\u4e9b\u4e5f\u6b63\u5e38\u3002\u4f46\u6548\u679c\u76f8\u5f53\u6709\u9650\uff0c\u5982\u679c\u4f60\u7684\u75c5\u65e0\u6cd5\u81ea\u6108\u7684\u8bdd\uff0c\u8fd9\u79cd\u624b\u6bb5\u7684\u6548\u679c\u57fa\u672c\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\u3002\u60f3\u60f3\u4e5f\u77e5\u9053\uff0c\u82e5\u4ec5\u4ec5\u5750\u7740\u4e0d\u52a8\u5c31\u80fd\u6cbb\u7597\u75be\u75c5\uff0c\u8fd8\u8981\u533b\u9662\u5e72\u561b\uff1f B\u6709\u4e3a\u529f\u592b\u3002 \u5176\u5b9e \u5404\u79cd\u6240\u8c13\u95e8\u6d3e\u79d8\u4f20\uff0c\u57fa\u672c\u90fd\u5c5e\u4e8e\u540e\u5929\u6709\u4e3a\u529f\u592b\u8303\u7574\u3002 \u8fd8\u6709\u6240\u8c13\u7684\u6c14\u529f\uff0c\u57fa\u672c\u4e5f\u662f\u8fd9\u4e2a\u8303\u7574\u3002 \u800c\u90a3\u4e9b\u6c5f\u6e56\u5b66\u4e60\u73ed\uff0c\u66f4\u52a0\u53ea\u80fd\u5728\u540e\u5929\u6709\u4e3a\u529f\u592b\u8fd9\u4e2a\u8303\u56f4\u5185\u626f\u6de1\u3002\u56e0\u4e3a\u5148\u5929\u529f\u592b\u90a3\u4e2a\u5c42\u9762\uff0c\u4ed6\u4eec\u63a5\u89e6\u4e0d\u5230\u3002 \u6ca1\u6709\u4ec0\u4e48\u4e5d\u9633\u795e\u529f\uff0c\u6ca1\u6709\u4ec0\u4e48\u4e5d\u9634\u771f\u7ecf\uff0c\u522b\u542c\u90a3\u4e9b\u5546\u4e1a\u5316\u7684\u201c\u5927\u5e08\u201d\u80e1\u5439\u5927\u6c14\u3002\u8bf7\u8bb0\uff0c\u65e0\u8bba\u4ec0\u4e48\u95e8\u6d3e\u79d8\u4f20\uff0c\u65e0\u8bba\u5bf9\u65b9\u600e\u4e48\u5439\u5618\uff0c \u53ea\u8981\u662f\u540e\u5929\u529f\u592b\uff0c\u4ed6\u7684\u4e0a\u9650\u90fd\u662f\u9501\u6b7b\u7684 \u3002\u4ed6\u90fd\u6709\u4e00\u4e2a\u65e0\u6cd5\u7a81\u7834\u7684\u5929\u82b1\u677f\uff0c\u662f\u4e0d\u53ef\u80fd\u7a81\u7834\u7684\uff0c\u6ca1\u6709\u4efb\u4f55\u4f8b\u5916\u3002 \u800c\u4e14\u8fd9\u4e2a\u4e0a\u9650\uff0c\u5e76\u4e0d\u9ad8\u3002\uff08\u5f53\u7136\uff0c\u4e0b\u9650\u5c31\u4e0d\u597d\u8bf4\u4e86\uff0c\u770b\u201c\u5927\u5e08\u201d\u7684\u8138\u76ae\u539a\u5ea6\u4e86\u3002\uff09 \u540e\u5929\u529f\u592b\u8bf4\u7a7f\u4e86\u65e0\u975e\u662f\u610f\u5b88\uff0c\u5f15\u5bfc\uff0c\u642c\u8fd0\uff0c\u62c9\u4f38\uff0c\u6309\u6469\u7b49\u7b49\u7c7b\u4f3c\u7684\u624b\u6bb5\u7f62\u4e86\uff0c\u6765\u6765\u53bb\u53bb\u5c31\u8fd9\u4e9b\u5185\u5bb9\u3002 \u6240\u8c13\u95e8\u6d3e\u79d8\u4f20\u4e5f\u8131\u4e0d\u5f00\u8fd9\u4e9b\u8303\u7574\uff0c\u4e0d\u8fc7\u662f\u4e00\u4e9b\u72ec\u6709\u7684\u64cd\u4f5c\u65b9\u5f0f\u800c\u5df2\u3002\u540c\u65f6\u9700\u8981\u7279\u522b\u5f3a\u8c03\u7684\u662f\uff0c\u72ec\u6709\uff0c\u4e0d\u4ee3\u8868\u6709\u6548\u3002\u4e5f\u53ef\u80fd\u662f\u778e\u7f16\u7684\u6bd4\u8f83\u6709\u65b0\u610f\u800c\u5df2\u3002 \u6b63\u786e\u7684\u540e\u5929\u529f\u592b\uff0c\u5728\u6cbb\u75c5\u8fd9\u4e00\u5757\uff0c\u5176\u672c\u8d28\uff0c\u5c31\u662f\u5c06\u4eba\u4f53\u6709\u9650\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\uff0c\u96c6\u4e2d\u5230\u6700\u9700\u8981\u7684\u5730\u65b9\uff0c\u4ee5\u4ea7\u751f\u6700\u5927\u7684\u6548\u679c\u3002 \u6240\u4ee5\u4f60\u770b\u6709\u4e9b\u6c14\u529f\uff0c\u6559\u4f60\u7528\u610f\u5ff5\u5f15\u5bfc\u6c14\u611f\u8fc7\u751f\u75c5\u7684\u4f4d\u7f6e\u7b49\u7b49\uff0c\u4e5f\u4f1a\u6709\u4e00\u5b9a\u7684\u6548\u679c\u3002\u5176\u5b9e\u5c31\u662f\u7528\u540e\u5929\u610f\u8bc6\u5f3a\u5316\u4e86\u5c40\u90e8\u8303\u56f4\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\u3002 \u5ba2\u89c2\u7684\u8bf4\uff0c\u6b63\u786e\u7684\u540e\u5929\u529f\u592b\u6709\u4e00\u5b9a\u6548\u679c\uff0c\u4e5f\u6bd4\u8f83\u5bb9\u6613\u89c1\u6548\u3002 \u6253\u4e2a\u6bd4\u55bb \u6253\u4ed7\u3002\u4f60\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\u662f\u4e00\u4e2a\u8fde\uff0c\u75be\u75c5\u662f\u654c\u519b\uff0c\u6709\u53ef\u80fd\u4e00\u4e2a\u6392\uff0c\u6709\u53ef\u80fd\u4e00\u4e2a\u8425\uff0c\u751a\u81f3\u4e00\u4e2a\u56e2\u3002\u800c\u8fd9\u540e\u5929\u529f\u592b\uff0c\u5c31\u662f\u6218\u573a\u6307\u6325\u80fd\u529b\u3002 \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e0d\u505a\u529f\u592b\uff0c\u9760\u7740\u672c\u80fd\uff0c\u4f60\u4e00\u4e2a\u8fde\u6253\u4e00\u4e2a\u6392\u6ca1\u95ee\u9898\uff0c\u6253\u4e00\u4e2a\u8fde\u4e5f\u51d1\u6d3b\u3002\u4f46\u5982\u679c\u75be\u75c5\u7684\u5f3a\u5ea6\u662f\u4e00\u4e2a\u8425\u7684\u8bdd\uff0c\u6293\u778e\u4e86\u3002 \u7136\u540e\u4f60\u505a\u6b63\u786e\u7684\u540e\u5929\u529f\u592b\uff0c\u6bd4\u55bb\u4e3a\u6b63\u786e\u4f18\u79c0\u7684\u6307\u6325\u80fd\u529b\u3002\u8fd9\u65f6\u5019\u4e00\u4e2a\u8fde\u5b8c\u5168\u6709\u53ef\u80fd\u6253\u8d62\u4e00\u4e2a\u8425\u7684\u654c\u65b9\u5175\u529b\u3002 \u9760\u6b63\u786e\u7684\u8c03\u5ea6\u6307\u6325\u6765\u6253\u80dc\u4ed7\uff0c\u8fd9\u5c31\u662f\u540e\u5929\u529f\u592b\u6cbb\u75c5\u7684\u65b9\u5f0f\u3002 \u6c5f\u6e56\u4e0a\u90a3\u4e9b\u6c14\u529f\uff0c\u7ad9\u6869\uff0c\u4e39\u9053\uff0c\u7b49\u7b49\uff0c\u6cbb\u75c5\u7684\u4f20\u8bf4\u600e\u4e48\u6765\u7684\uff1f\u5c31\u662f\u8fd9\u4e48\u6765\u7684\u3002 \u6709\u6548\u679c\u4e48\uff1f\u6709\u3002 \u4f46\u662f\u53d1\u73b0\u95ee\u9898\u4e86\u6ca1\u6709\uff1f\u4e3a\u4ec0\u4e48\u8bf4\u8fd9\u4e2a\u65b9\u5f0f\u4e0a\u9650\u4e0d\u4f1a\u592a\u9ad8\uff1f \u4e00\u4e2a\u8fde\u7684\u5175\u529b\uff0c\u4f60\u518d\u600e\u4e48\u6307\u6325\uff0c\u59cb\u7ec8\u53ea\u662f\u4e00\u4e2a\u8fde\u3002 \u4f60\u6307\u6325\u7684\u518d\u597d\uff0c\u4e00\u4e2a\u8fde\u80fd\u6253\u8d62\u4e00\u4e2a\u5e08\uff1f \u5982\u679c\u662f\u5e76\u4e0d\u4e25\u91cd\u7684\u75be\u75c5\uff0c\u6b63\u5e38\u7684\u81ea\u6211\u4fee\u590d\u914d\u5408\u73b0\u4ee3\u533b\u5b66\u5b8c\u5168\u80fd\u641e\u5b9a\uff0c\u4f60\u5e72\u561b\u8981\u5f04\u4ec0\u4e48\u6c14\u529f\uff0c\u4e39\u9053\uff1f\u4e00\u5929\u6253\u5750\u7ad9\u6869\u56db\u4e94\u4e2a\u5c0f\u65f6\uff0c\u4e0d\u5acc\u9ebb\u70e6\uff1f \u5982\u679c\u75be\u75c5\u7684\u5175\u529b\u662f\u4e00\u4e2a\u5e08\u3002\u3002\u3002\u3002\u3002\u522b\u53bb\u542c\u6c5f\u6e56\u4f20\u8bf4\uff0c\u522b\u53bb\u4fe1\u7f51\u7edc\u4e0a\u4e0d\u8d1f\u8d23\u4efb\u7684\u8a00\u8bba\u3002\u53bb\u6b63\u89c4\u533b\u9662\u79d1\u73ed\u51fa\u8eab\u7684\u533b\u751f\u90a3\u91cc\u6253\u542c\u4e00\u4e0b\uff0c\u5230\u5e95\u6709\u6ca1\u6709\uff0c\u6709\u591a\u5c11\u901a\u8fc7\u6c14\u529f\uff0c\u7ad9\u6869\u7b49\u7b49\u8fbe\u6210\u533b\u5b66\u5947\u8ff9\u7684\u6848\u4f8b\u3002 \u4f60\u5175\u8425\u91cc\u6709\u591a\u5c11\u5175\u529b\uff0c\u5c31\u53ea\u80fd\u6d3e\u51fa\u6765\u591a\u5c11\u5175\u529b\uff0c\u8fd9\u5c31\u662f\u540e\u5929\u529f\u592b\u7684\u4e0a\u9650 \u3002\u4f60\u5175\u8425\u91cc\u4e00\u4e2a\u8fde\uff0c\u666e\u901a\u4eba\u53ef\u4ee5\u6d3e\u51fa\u4e00\u4e2a\u6392\u7684\u5175\u529b\uff0c\u505a\u540e\u5929\u529f\u592b\u7684\u4eba\u53ef\u4ee5\u6d3e\u51fa\u4e24\u4e2a\u6392\uff0c\u770b\u7740\u4f3c\u4e4e\u6bd4\u666e\u901a\u4eba\u591a\uff0c\u4f46\u662f\u7edd\u5bf9\u6ca1\u6709\u672c\u8d28\u533a\u522b\u3002\u4f60\u7edd\u4e0d\u53ef\u80fd\u6d3e\u51fa\u4e00\u4e2a\u8425\u6765\u3002 \u522b\u8bf4\u4f60\u5728\u7f51\u4e0a\u627e\u5230\u7684\u201c\u4e16\u5916\u9ad8\u4eba\u201d\uff0c\u54ea\u6015\u5e7f\u6210\u5b50\u964d\u4e16\u76f4\u63a5\u4f20\u4f60\uff0c\u53ea\u8981\u662f\u540e\u5929\u529f\u592b\uff0c\u5c31\u4e0d\u53ef\u80fd\u7a81\u7834\u4e0a\u9650\u3002\u5982\u679c\u6709\u4eba\u8bf4\u53ef\u4ee5\u51ed\u540e\u5929\u529f\u592b\u7a81\u7834\u4e0a\u9650\uff0c\u5efa\u8bae\u4f60\u9001\u4ed6\u4e00\u4e2a\u5b57\u201c\u5478\u201d\u3002 \u90a3\u6709\u6ca1\u6709\u529e\u6cd5\u7a81\u7834\u8fd9\u4e2a\u4e0a\u9650\uff1f 4\u5148\u5929\u529f\u592b\u3002 \uff08\u7279\u522b\u8bf4\u660e\u3002\u6b63\u9762\uff0c\u5f7b\u5e95\u7684\u5b9e\u8bc1\u4e0b\u9762\u7684\u5185\u5bb9\uff0c \u81f3\u5c11\u9700\u8981\u8109\u4f4f\u6c14\u505c\u4fee\u4e3a\u2014\u2014\u662f\u771f\u6b63\u7684\u8109\u4f4f\u6c14\u505c\uff0c\u4e0d\u662f\u5fc3\u8df3\u653e\u6162\u547c\u5438\u653e\u7f13\u90a3\u79cd\u5077\u5de5\u51cf\u6599\u7684\u3002\u5426\u5219\u4f60\u7684\u5148\u5929\u6c14\u53ea\u80fd\u611f\u5e94\uff0c\u65e0\u6cd5\u51dd\u7ed3\uff0c\u4e0d\u80fd\u8bf4\u6b63\u9762\u5b9e\u8bc1\u3002 \u6211\u6ca1\u8fd9\u4efd\u4fee\u4e3a\uff0c\u4e5f\u6ca1\u89c1\u8fc7\u73b0\u5b9e\u4e2d\u6709\u4eba\u6709\u8fd9\u4efd\u4fee\u4e3a\u7684\u3002\u7f51\u4e0a\u81ea\u79f0\u6709\u6b64\u4fee\u4e3a\u7684\u9ad8\u4eba\uff0c\u90fd\u5df2\u7ecf\u88ab\u6211\u62c9\u9ed1\u3002\u6211\u53ea\u80fd\u57fa\u4e8e\u81ea\u8eab\u5df2\u6709\u4fee\u4e3a\u4ee5\u53ca\u4e39\u7ecf\u8bb0\u8f7d\u7ed9\u51fa\u7406\u8bba\u3002\u6b63\u786e\u4e0e\u5426\uff0c\u8bf7\u81ea\u5df1\u5224\u65ad\u3002\uff09 \u5f15\u5165\u4e39\u9053\u7b2c\u4e8c\u4e2a\u57fa\u672c\u6982\u5ff5 \u5148\u5929\u6c14 \uff0c\u6216\u8005\u8bf4\uff0c\u7081\u3002 \u8fd9\u91cc\u8bf4\u7684 \u7081\uff0c\u4e0d\u662f\u4f60\u540e\u5929\u72b6\u6001\u4ec0\u4e48\u610f\u5b88\u4e39\u7530\uff0c\u7136\u540e\u809a\u8110\u70ed\u70d8\u70d8\u7684\uff0c\u6216\u8005\u4f60\u5f15\u5bfc\u6765\u5f15\u5bfc\u53bb\uff0c\u5230\u5904\u6709\u6c14\u611f\u7684\u90a3\u79cd\u3002\u4e0d\u662f\u4e00\u56de\u4e8b\u3002\u66f4\u4e0d\u662f\u4f60\u5bf9\u7740\u592a\u9633\uff0c\u6708\u4eae\uff0c\u5927\u6811\u81c6\u60f3\u5438\u5165\u4f53\u5185\u7684\u80fd\u91cf\u4e4b\u7c7b\u7684\u626f\u6de1\u5185\u5bb9\u3002 \u6ca1\u6709\u8bc1\u5165\u5143\u795e\u7684\u4eba\uff0c\u662f\u65e0\u6cd5\u5207\u5b9e\u4f53\u9a8c\u7684\uff0c\u6240\u4ee5\u4e0d\u7528\u53bb\u60f3\u8c61\u4e86\uff0c\u4f60\u60f3\u4e0d\u51fa\u6765\u7684\u3002 \u7081\u7684\u672c\u8d28\uff0c\u5c31\u662f\u4ece\u80ce\u4e2d\u5e26\u6765\u7684\u751f\u547d\u529b\u672c\u6e90\u3002 \u4eba\u6d3b\u7740\uff0c\u5c31\u5f97\u6d88\u8017\u8fd9\u4e2a\uff0c\u6d88\u8017\u5b8c\uff0c\u4eba\u5c31\u6b7b\u4e86\u3002\u4eba\u4e0d\u8bba\u8eab\u4f53\u591a\u5065\u5eb7\uff0c\u90fd\u4e0d\u80fd\u957f\u751f\u4e0d\u6b7b\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5148\u5929\u6c14\u603b\u5f52\u662f\u6709\u9650\u7684\u3002\u4eff\u4f5b\u4e00\u4e2a\u7164\u6c14\u7f50\uff0c\u51fa\u751f\u7684\u65f6\u5019\uff0c\u62ff\u5230\u591a\u5c11\u7b97\u591a\u5c11\uff0c\u7528\u5b8c\u62c9\u5230\u3002 \u5bb9\u6613\u7406\u89e3\uff0c\u5176\u5b9e\u4eba\u4f53\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\uff0c\u6839\u672c\u4e0a\u662f\u6e90\u4e8e\u8fd9\u751f\u547d\u529b\u672c\u6e90\uff0c\u4e5f\u5c31\u662f\u5148\u5929\u6c14\u3002\u5148\u5929\u6c14\u5145\u8db3\uff0c\u4fee\u590d\u80fd\u529b\u5c31\u5f3a\uff0c\u5148\u5929\u6c14\u5f31\uff0c\u4fee\u590d\u80fd\u529b\u4e5f\u5f31\u3002\u540c\u6837\u7684\u75c5\uff0c\u5e74\u8f7b\u4eba\u53ef\u80fd\u7761\u4e00\u89c9\u5c31\u6ca1\u4e8b\u4e86\uff0c\u8001\u5e74\u4eba\u53ef\u80fd\u4f1a\u6709\u751f\u547d\u5371\u9669\uff0c\u4e0d\u96be\u7406\u89e3\u5427\u3002 \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u5148\u5929\u6c14\u662f\u6ca1\u529e\u6cd5\u8865\u5145\u7684\u3002\u4e3a\u4ec0\u4e48\u540e\u5929\u529f\u592b\u4e0a\u9650\u5b9a\u6b7b\u4e86\uff0c\u56e0\u4e3a\u4f60\u5148\u5929\u6c14\u603b\u91cf\u6ca1\u53d8\u5316\u3002 \u7164\u6c14\u7f50\u91cc\u7684\u7164\u6c14\u5c31\u90a3\u4e9b\uff0c\u4f60\u5149\u5927\u706b\u5c0f\u706b\u7684\u8c03\u8282\uff0c\u80fd\u6709\u4ec0\u4e48\u672c\u8d28\u53d8\u5316\uff1f\u4f60\u5175\u8425\u91cc\u603b\u5171\u5c31\u4e00\u4e2a\u8425\uff0c\u503e\u5de2\u800c\u51fa\uff0c\u53c8\u80fd\u600e\u4e48\u6837\uff1f \u6709\u6b63\u5e38\u60c5\u51b5\uff0c\u5c31\u6709\u7279\u6b8a\u60c5\u51b5\u3002 \u4e39\u9053\u7406\u8bba\u4f53\u7cfb\u8ba4\u4e3a\uff0c\u5148\u5929\u6c14\u662f\u4ece\u80ce\u4e2d\u5e26\u6765\u7684\u3002\u4eba\u5728\u80ce\u513f\u4ee5\u53ca\u5a74\u513f\u521a\u51fa\u751f\u65f6\u671f\uff0c\u53ef\u4ee5\u91c7\u96c6\u865a\u7a7a\u4e2d\u7684\u5148\u5929\u6c14\u3002\u800c\u4eba\u6210\u957f\u4ee5\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u505a\u529f\u592b\u7684\u65b9\u5f0f\uff0c\u91c7\u96c6\u5148\u5929\u6c14\u3002\u8fd9\u662f\u5148\u5929\u529f\u592b\u4e0e\u540e\u5929\u529f\u592b\u7684\u4e00\u4e2a\u672c\u8d28\u533a\u522b\uff0c\u4e5f\u662f\u540e\u5929\u529f\u592b\u5929\u82b1\u677f\u6240\u5728\u3002 \u540e\u5929\u529f\u592b\uff0c\u65e0\u8bba\u600e\u4e48\u64cd\u4f5c\uff0c\u90fd\u4e0d\u53ef\u80fd\u91c7\u53d6\u5230\u5148\u5929\u6c14 \u3002\u8fd9\u5c31\u50cf\u70ed\u6c14\u7403\u98de\u7684\u518d\u9ad8\uff0c\u4e5f\u4e0a\u4e0d\u4e86\u6708\u7403\u4e00\u6837\uff0c\u4e0d\u662f\u4f60\u6c34\u5e73\u9ad8\u4e0d\u9ad8\u7684\u95ee\u9898\uff0c\u70ed\u6c14\u7403\u98de\u884c\u7684\u539f\u7406\u51b3\u5b9a\u4e86\u5b83\u5c31\u4e0d\u53ef\u80fd\u4e0a\u6708\u7403\u3002 \u8fd8\u7528\u6253\u4ed7\u6bd4\u55bb\u3002\u540e\u5929\u529f\u592b\u662f\u6709\u6548\u7684\u8c03\u914d\u519b\u961f\uff0c\u5148\u5929\u529f\u592b\uff0c\u5c31\u662f\u76f4\u63a5\u589e\u5f3a\u4f60\u7684\u7efc\u5408\u56fd\u529b\u3002 \u8fd9\u4e2a\u725b\u53c9\u4e86\u3002\u7efc\u5408\u56fd\u529b\u78be\u538b\uff0c\u4f60\u6839\u672c\u4e0d\u9700\u8981\u64cd\u5fc3\u4ec0\u4e48\u6218\u672f\uff0c\u4e00\u6837\u6253\u80dc\u4ed7\u3002\u4e00\u4e2a\u8fde\u6253\u4e0d\u8d62\u6211\u8fd9\u513f\u6709\u822a\u6bcd\u7f16\u961f\uff0c\u7f8e\u56fd\u6253\u963f\u5bcc\u6c57\u8981\u4e2a\u9524\u5b50\u6218\u672f\u3002 \u8fd9\u5c31\u662f\u4e39\u9053\u4fee\u884c\u8fc7\u7a0b\u4e2d\u5bbf\u75be\u5168\u6d88\u8bf4\u6cd5\u7684\u6765\u6e90\u3002\u8bf7\u8bb0\uff0c \u5bbf\u75be\u5168\u6d88\u662f\u57fa\u4e8e\u5148\u5929\u529f\u592b\u800c\u4e0d\u662f\u540e\u5929\u529f\u592b \u3002\u4e0d\u8981\u53bb\u4fe1\u90a3\u4e9b\u5927\u5e08\u4e86\uff0c\u4efb\u4f55\u5149\u602a\u9646\u79bb\u7684\u79d8\u4f20\u529f\u592b\uff0c\u90fd\u4e0d\u53ef\u80fd\u8bc1\u5230\u8fd9\u4e2a\u5730\u6b65\u3002\u9760\u7740\u6c14\u529f\u4e4b\u7c7b\u7684\u540e\u5929\u529f\u592b\uff0c\u672c\u8eab\u8eab\u4f53\u6bd4\u8f83\u5f3a\u58ee\uff0c\u6cbb\u597d\u5c0f\u6bdb\u5c0f\u75c5\u7684\u6709\uff0c\u5230\u5bbf\u75be\u5168\u6d88\u7684\u5730\u6b65\u4f60\u60f3\u90fd\u4e0d\u7528\u60f3\u3002 \u5148\u5929\u529f\u592b\u53ef\u4ee5\u8bc1\u5bbf\u75be\u5168\u6d88\uff0c\u662f\u4e0d\u662f\u5f88\u7f8e\u597d\uff1f\u5475\u5475\uff0c\u662f\u5f88\u7f8e\uff0c\u4f60\u60f3\u5f97\u5f88\u7f8e\u3002 5\u7406\u60f3\u5f88\u4e30\u6ee1\uff0c\u73b0\u5b9e\u5f88\u9aa8\u611f\u3002 \u9996\u5148\uff0c\u80fd\u8fdb\u5165\u91c7\u96c6\u5148\u5929\u6c14\u8fd9\u4e2a\u5c42\u6b21\u7684\u4eba\uff0c\u5c11\u4e4b\u53c8\u5c11\u3002\u7edd\u5927\u90e8\u5206\u4eba\uff0c\u7ec3\u4e00\u8f88\u5b50\u6c14\u529f\uff0c\u7ad9\u6869\uff0c\u6253\u5750\u7b49\u7b49\uff0c\u90fd\u6ca1\u89c1\u8fc7\u5143\u795e\uff0c\u6839\u672c\u6d89\u53ca\u4e0d\u5230\u5148\u5929\u8fd9\u4e2a\u5c42\u6b21\uff0c\u4e0d\u7ba1\u662f\u5148\u5929\u6c14\u8fd8\u662f\u5148\u5929\u795e\u3002\u4e00\u4e2a\u5728\u4eba\u4e16\u95f4\u751f\u6d3b\u4e86\u51e0\u5341\u5e74\u7684\u4eba\uff0c\u8981\u8bc1\u5165\u80ce\u513f\u7684\u610f\u8bc6\u72b6\u6001\uff0c\u8c08\u4f55\u5bb9\u6613\uff1f\u8bf7\u626a\u5fc3\u81ea\u95ee\uff0c\u4e0d\u88c5\u903c\uff0c\u4e0d\u5439\u725b\uff0c\u5b9e\u5b9e\u5728\u5728\u8bf4\u4e00\u53e5\uff0c\u4f60\u5b9e\u8bc1\u8fc7\u54ea\u6015\u4e00\u6b21\u5143\u795e\u663e\u50cf\u5417\uff1f \u7136\u540e\u5728\u89c1\u5230\u5143\u795e\u7684\u57fa\u7840\u4e0a\uff0c\u8981\u6c42\u4f60\u6bcf\u6b21\u90fd\u8fdb\u5165\u5143\u795e\u663e\u50cf\uff0c\u518d\u8981\u6c42\u4f60\u5728\u5143\u795e\u72b6\u6001\u8fdb\u884c\u4e3b\u52a8\u64cd\u4f5c\uff0c\u4f60\u80fd\u505a\u5230\u5417\uff1f\u6211\u4e2a\u4eba\u7684\u7ecf\u9a8c\uff0c\u8fd9\u4e09\u4ef6\u4e8b\u60c5\uff0c\u96be\u5ea6\u7528\u51e0\u4f55\u7ea7\u589e\u957f\u6765\u63cf\u8ff0\u90fd\u4e0d\u4e00\u5b9a\u591f\u3002\u5f53\u7136\uff0c\u5f80\u4e0b\u8fd8\u6709\u66f4\u53d8\u6001\u7684\uff0c\u6b64\u5904\u4e0d\u8bba\u3002 \u603b\u4e4b\uff0c\u771f\u6b63\u80fd\u505a\u597d\u5148\u5929\u529f\u592b\u7684\uff0c\u522b\u8bf4\u4e07\u91cc\u6311\u4e00\uff0c\u767e\u4e07\u91cc\u6311\u4e00\u90fd\u662f\u5ba2\u6c14\u7684\u3002 \u96be\u5ea6\u8fd8\u4e0d\u662f\u552f\u4e00\u7684\u95ee\u9898\uff0c\u901f\u5ea6\u4e5f\u662f \u3002 \u9664\u4e86\u67d0\u4e9b\u5b97\u5e08\u7ea7\u522b\u7684\u6781\u7aef\u725b\u4eba\u4e0d\u7b97\uff0c\u5bf9\u5927\u90e8\u5206\u4eba\u800c\u8a00\uff0c\u901a\u8fc7\u505a\u529f\u592b\u8865\u5145\u5148\u5929\u6c14\u7684\u901f\u5ea6\uff0c\u5b9e\u5728\u592a\u6162\u3002 \u4eba\u6d3b\u7740\uff0c\u5c31\u5fc5\u7136\u6d88\u8017\u751f\u547d\u529b\uff0c\u4e5f\u5c31\u662f\u5148\u5929\u6c14\u3002\u4eff\u4f5b\u4e00\u4e2a\u6e38\u6cf3\u6c60\u4e00\u76f4\u5728\u6f0f\u6c34\uff0c\u5c24\u5176\u751f\u75c5\u4e86\u4ee5\u540e\uff0c\u6f0f\u7684\u66f4\u5feb\u3002\u8fd9\u65f6\u5019\u4f60\u53bb\u9ea6\u5f53\u52b3\u8981\u6839\u5438\u7ba1\u5f80\u6cf3\u6c60\u6ce8\u6c34\uff0c\u6709\u4e2a\u5c41\u7528\u3002 \u5f53\u7136\u8fd8\u6709\u4e00\u4e2a\u529e\u6cd5\uff0c\u4f60\u53ef\u4ee5\u51cf\u5c11\u6d88\u8017\u3002\u8865\u7684\u5c11\uff0c\u6d88\u8017\u7684\u66f4\u5c11\uff0c\u6cf3\u6c60\u91cc\u7684\u6c34\u81ea\u7136\u6e10\u6e10\u591a\u4e86\u3002\u4e00\u5750\u5750\u4e09\u5929\uff0c\u5403\u70b9\u4e1c\u897f\uff0c\u7ee7\u7eed\u5750\u3002\u53ef\u4ee5\uff0c\u6e05\u4fee\u4e00\u8109\u8bb2\u7a76\u7684\u5c31\u662f\u6d3b\u6b7b\u4eba\u529f\u592b\uff0c\u6ca1\u95ee\u9898\uff0c\u4f60\u505a\u5f97\u5230\u5c31\u884c\u3002\u4f46\u662f\u522b\u5fd8\u4e86\uff0c\u4f60\u7684\u521d\u8877\u662f\u6cbb\u75c5\u3002\u6cbb\u75c5\u4e3a\u4e86\u4ec0\u4e48\uff1f \u4e0d\u5355\u5355\u662f\u5ef6\u957f\u5bff\u547d\uff0c\u8fd8\u8981\u63d0\u9ad8\u751f\u6d3b\u8d28\u91cf\u3002\u50cf\u6d3b\u6b7b\u4eba\u4e00\u6837\u4e00\u5750\u5750\u4e09\u5929\uff0c\u4f60\u7684\u751f\u6d3b\u8d28\u91cf\u63d0\u9ad8\u5728\u54ea\u91cc\uff1f \u4e3a\u4e86\u4e0d\u77e5\u9053\u591a\u6d3b\u51e0\u5e74\uff0c\u82b1\u4e8620\u5e74\u65f6\u95f4\u6253\u5750\uff0c\u6709\u610f\u601d\u5417\uff1f \u5386\u53f2\u4e0a\u4e39\u5bb6\u9ad8\u4eba\u5927\u5b9a\u4e09\u5929\uff0c\u5927\u5b9a\u4e03\u5929\u7b49\u7b49\u662f\u5e38\u4e8b\uff0c\u4ed6\u4eec\u7684\u4fee\u884c\u6307\u5411\u9633\u795e\u51b2\u4e3e\uff0c\u4e0d\u662f\u6cbb\u75c5\u3002\u4f60\u4e3a\u4e86\u6cbb\u75c5\u50cf\u4ed6\u4eec\u4e00\u6837\u629b\u5f03\u4e16\u4fd7\u7684\u4e00\u5207\uff0c\u505a\u6307\u5411\u9633\u795e\u7684\u529f\u592b\uff0c\u90a3\u4e0d\u662f\u5927\u70ae\u6253\u868a\u5b50\u5417\uff1f\u8fd8\u662f\u82b1\u5de8\u8d44\u9020\u4e00\u95e8\u81ea\u4ece\u6709\u4e86\u5f55\u50cf\u6280\u672f\u540e\u4ece\u6765\u6ca1\u8bc1\u5b9e\u8fc7\u7684\u5927\u70ae\u53bb\u6253\u868a\u5b50\uff0c\u4f60\u786e\u4fe1\u8fd9\u4e48\u505a\u9760\u8c31\uff1f \u96be\u5ea6\u548c\u901f\u5ea6\u90fd\u4e0d\u662f\u6700\u8981\u547d\u7684\u95ee\u9898 \uff0c\u6700\u8981\u547d\u7684\u662f\uff0c\u4f60\u7684\u8eab\u4f53\u72b6\u6001\u4f1a\u76f4\u63a5\u5f71\u54cd\u5230\u4f60\u5165\u9759\u5165\u5b9a\u7684\u80fd\u529b\u3002 \u4e16\u95f4\u5531\u9ad8\u8c03\u8005\u5e38\u8a00\uff0c\u4e0d\u6267\u8457\u8272\u8eab\uff0c\u4e0d\u4e3a\u5f62\u6240\u7d2f\u7b49\u7b49\uff0c\u9053\u7406\u6ca1\u9519\u3002\u4f46\u662f\u88c5\u903c\u6ca1\u7528\uff0c\u4f60\u5f97\u505a\u5f97\u5230\u3002 \u6211\u5c31\u6700\u7b80\u5355\u7684\u95ee\u4e00\u53e5\uff0c\u7259\u75db\u7684\u65f6\u5019\uff0c\u4f60\u771f\u6709\u672c\u4e8b\u6253\u5750\u5165\u5b9a\u4e48\uff1f \u8eab\u4f53\u51fa\u4e86\u4e25\u91cd\u95ee\u9898\u7684\u65f6\u5019\uff0c\u4f60\u5b9a\u4e0d\u4e0b\u53bb\u3002\u4f60\u5b9a\u4e0d\u4e0b\u53bb\uff0c\u5c31\u6ca1\u6cd5\u8865\u5148\u5929\u6c14\u3002\u4f60\u4e0d\u80fd\u8865\u5145\u5148\u5929\u6c14\uff0c\u6ca1\u529e\u6cd5\u5904\u7406\u4e25\u91cd\u7684\u8eab\u4f53\u95ee\u9898\u3002\u8eab\u4f53\u95ee\u9898\u66f4\u4e25\u91cd\uff0c\u66f4\u5b9a\u4e0d\u4e0b\u53bb\u3002\u3002\u3002\u3002\u3002 \u6076\u6027\u5faa\u73af\u4e86\u5427\u3002 \u8981\u6253\u7834\u6076\u6027\u5faa\u73af\u4e5f\u4e0d\u662f\u5b8c\u5168\u4e0d\u53ef\u80fd\uff0c\u4f60\u5148\u505a\u5230\u7259\u75db\u7684\u65f6\u5019\u7167\u6837\u5165\u5b9a\u5427\u3002\u53cd\u6b63\u6211\u662f\u505a\u4e0d\u5230\u3002 6\u6458\u4e24\u6bb5\u4e39\u7ecf \u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u8fd9\u4e24\u6bb5\u4e39\u7ecf\u662f\u9ec4\u5143\u5409\u5bf9\u5f1f\u5b50\u6709\u9488\u5bf9\u6027\u7684\u8bb2\u89e3\uff0c\u4f60\u4e0d\u80fd\u628a\u5176\u5f53\u4f5c\u666e\u9002\u6027\u7684\u4e39\u8bc0\u5904\u7406\u3002\u529f\u592b\u5230\u6b64\u5730\u6b65\uff0c\u7406\u89e3\u9519\u8bef\u6216\u8005\u5904\u7406\u7684\u4e0d\u597d\uff0c\u662f\u6709\u4e00\u5b9a\u5371\u9669\u6027\u7684\u3002 \u60df\u80fd\u865a\u4e4b\u6781\uff0c\u9633\u4e43\u4ece\u4e2d\u800c\u751f\uff0c\u6211\u5373\u4ee5 \u771f\u610f \u91c7\u53d6\u4e4b\uff0c\u70f9\u70bc\u4e4b\uff0c\u6c90\u6d74\u6e29\u517b\u4e4b\uff0c\u4e00\u5982\u5929\u5730\u521d\u5f00\uff0c\u70df\u4e91\u969c\u853d\uff0c\u771f\u9633\u4e00\u5230\uff0c\u800c\u878d\u878d\u6625\u610f\uff0c\u65e0\u975e\u662f\u4e00\u56e2\u592a\u548c\uff0c\u915d\u4e4b\u917f\u4e4b\uff0c\u4ee5\u5916\u6089\u5316\u4e3a\u4e4c\u6709\u77e3\u3002\u6709\u8005\u65e2\u5316\uff0c\u800c\u65e0\u8005\u53c8\u4ece\u6b64\u751f\u3002\u76d6\u5b9e\u8005\u865a\u800c\u865a\u8005\u5b9e\uff0c\u8981\u7686\u4e00\u9633\u4e4b\u6c14\u81ea\u7136\u9020\u5316\u4e8e\u5176\u4e2d\uff0c\u800c\u521d\u65e0\u5bb9\u5fc3\u7109\u3002\u300a\u5b9a\u5149\u7ecf\u300b\u4e91\uff1a\u201c\u5f97\u9053\u4e4b\u9a8c\uff0c\u7b2c\u4e00\u5bbf\u75be\u9f50\u6d88\uff0c\u8eab\u5fc3\u723d\u5feb\uff0c\u884c\u6b65\u5982\u98de\uff0c\u989c\u8272\u5149\u8000\u201d\uff0c\u7686\u4e00\u9633\u4e4b\u5316\u5316\u751f\u751f\u8005\u4e5f\u3002 \u679c\u80fd\u4e58\u7384\u5173\u4e00\u7a8d\u4e0d\u5931\u5176\u673a\u2014\u2014\u987b\u77e5\u5148\u5929\u5143\u6c14\u5fc5\u8981\u5148\u5929\u9634\u9633\u6c34\u706b\u8c03\u517b\uff0c\u59cb\u80fd\u540c\u7c7b\u76f8\u4eb2\uff0c\u53e4\u4eba\u55bb\u201c\u62b1\u9e21\u5f53\u7528\u5375\uff0c\u8865\u9505\u5fc5\u9700\u91d1\u201d\u662f\u77e3\u2014\u2014\u7531\u662f\u4ee5\u6211 \u5143\u795e \u5f15\u4e4b\u5f00\u5173\uff0c\u4e0a\u6ce5\u4e38\uff0c\u6211\u5934\u76ee\u4e4b\u660f\u6655\u8005\uff0c\u88ab\u6b64\u795e\u706b\u4e00\u7167\uff0c\u5c3d\u5316\u4e3a\u795e\u6c34\uff0c\u5165\u4e8e\u7edb\u5bab\uff0c\u4e00\u7247\u6e05\u51c9\uff0c\u6b64\u5373\u300a\u6613\u300b\u6240\u8c13\u201c\u5c71\u6cfd\u901a\u6c14\u201d\u4e5f\u3002\u7136\u6b64\u6c14\u6b64\u6db2\uff0c\u5b9e\u4e3a\u957f\u751f\u5927\u836f\uff0c\u53ef\u4ee5\u517b\u80b2\u51e1\u4f53\uff0c\u751f\u6210\u6cd5\u8eab \u3002\u5b66\u4eba\u679c\u5f97\u6b64\u771f\u6c14\u7075\u6db2\uff0c\u591a\u5e74\u987d\u6b8b\u5bbf\u75be\uff0c\u7686\u53ef\u4ece\u6b64\u800c\u666e\u6d88\u3002 \u53ea\u6015\u4e00\u676f\u4e4b\u6c34\uff0c\u96be\u6551\u8f66\u85aa\u4e4b\u706b\u8033\u3002\u4e50\u80b2\u5802\u8bed\u5f55 \u770b\u4e0d\u61c2\u6ca1\u5173\u7cfb\uff0c\u4f60\u53ea\u8981\u77e5\u9053\u9ec4\u5143\u5409\u628a\u5bbf\u75be\u5168\u6d88\u7684\u9053\u7406\u8bf4\u900f\u4e86\u5c31\u884c\u3002 \u770b\u6e05\u695a\u4e86\uff0c\u4e0d\u662f\u4ec0\u4e48\u6c14\u529f\u5c0f\u5468\u5929\u4e0d\u662f\u4ec0\u4e48\u771f\u6c14\u8fd0\u884c\u6cd5\u3002 \u771f\u610f\u91c7\u53d6\u4e4b\uff0c\u4ee5\u6211\u5143\u795e\u5f15\u4e4b\u5f00\u5173\uff0c\u4e0a\u6ce5\u4e38\u3002 \u5143\u795e\uff0c\u5143\u795e\uff0c\u5143\u795e\u3002 \u91cd\u8981\u7684\u4e8b\u60c5\u8bf4\u4e09\u904d\u3002 \u9759\u4e3a\u5143\u795e\uff0c\u52a8\u4e3a\u771f\u610f\u3002\u8fd9\u4e2a\u662f\u5728 \u5143\u795e\u72b6\u6001 \u4e0b\u8fdb\u884c\u7684\u4e3b\u52a8\u64cd\u4f5c\uff0c\u4e0d\u662f\u540e\u5929\u529f\u592b\u80fd\u6d89\u53ca\u5230\u7684\u5c42\u9762\u3002\u6839\u672c\u4e0d\u662f\u4ec0\u4e48\u4f60\u540e\u5929\u8bc6\u795e\u610f\u5b88\u5f15\u53d1\u7684\u4ec0\u4e48\u6c14\u611f\uff0c\u70ed\u611f\uff0c\u9488\u523a\u611f\u7b49\u7b49\uff0c\u516b\u7aff\u5b50\u6253\u4e0d\u7740\u3002 \u8fd9\u4e2a\u771f\u4e0d\u5bb9\u6613\u505a\u5230\uff0c\u65e0\u6cd5\u5b9e\u8bc1\u5143\u795e\u7684\u4eba\u5c31\u522b\u60f3\u592a\u591a\u4e86\u3002\u522b\u8bf4\u505a\u5230\uff0c\u8981\u505a\u4ec0\u4e48\u4f60\u90fd\u60f3\u4e0d\u51fa\u6765\u3002\u800c\u4e14\u6211\u4e2a\u4eba\u603b\u7ed3\uff0c\u5143\u795e\u72b6\u6001\u4e0b\u4e3b\u52a8\u64cd\u4f5c\u6bd4\u8fdb\u5165\u5143\u795e\u72b6\u6001\u96be\u5ea6\u5927\u592a\u591a\u4e86\u3002\u5076\u5c14\u5b9e\u8bc1\u4e00\u4e24\u6b21\u5143\u795e\uff0c\u6839\u672c\u4e0d\u8db3\u4ee5\u4fdd\u8bc1\u4f60\u5b8c\u6210\u8fd9\u4e2a\u64cd\u4f5c\u3002\u4e3a\u4ec0\u4e48\u4e39\u7ecf\u5bf9\u8fd9\u4e00\u5757\u7684\u63cf\u8ff0\u5927\u591a\u542b\u7cca\u5176\u8f9e\uff1f\u662f\u771f\u7684\u5f88\u96be\u7528\u8bed\u8a00\u63cf\u8ff0\u3002 \u5c31\u7b97\u4f60\u505a\u5230\u4e86\uff0c\u8fd8\u6709\u4e0b\u53e5 \u53ea\u6015\u4e00\u676f\u4e4b\u6c34\uff0c\u96be\u6551\u8f66\u85aa\u4e4b\u706b\u8033\u3002 \u8fd9\u5c31\u662f\u524d\u9762\u8bb2\u7684\u91cf\u7684\u95ee\u9898\u4e86\u3002\u771f\u7684\u5f88\u65e0\u8bed\u3002 \u672c\u5c31\u662f\u4e00\u4e2a\u9ad8\u96be\u5ea6\u7684\u64cd\u4f5c\uff0c\u8fd8\u8981\u6c42\u4fdd\u8d28\u4fdd\u91cf\u7684\u505a\u5230\uff1f\u60a8\u8981\u771f\u80fd\u505a\u5230\uff0c\u8bf7\u5141\u8bb8\u6211\u79f0\u60a8\u4e00\u58f0\u201c\u5927\u4f6c\u201d\u3002 7\u4e3e\u4e24\u4e2a\u4f8b\u5b50 \u5982\u679c\u4f60\u89c9\u5f97\u540e\u5929\u529f\u592b\u6216\u8bb8\u4e5f\u80fd\u521b\u9020\u5947\u8ff9\uff0c\u62b1\u4e07\u4e00\u7684\u5e0c\u671b\uff0c\u4e0d\u59a8\u770b\u770b\u5927\u660e\u725b\u4eba \u738b\u9633\u660e \u7684\u4e8b\u60c5\u3002 \u5982\u679c\u627e\u5bfb\u6700\u63a5\u8fd1\u6216\u8005\u8fbe\u5230\u5723\u4eba\u5fc3\u5883\u7684\u4eba\uff0c\u9633\u660e\u5148\u751f\u7edd\u5bf9\u662f\u5176\u4e2d\u4e4b\u4e00\u3002 \u738b\u9633\u660e\u516b\u4e5d\u5c81\u7684\u65f6\u5019\u5c31\u5f00\u59cb\u7422\u78e8\u9053\u5bb6\u529f\u592b\uff0c\u5176\u540e\u904d\u5386\u540d\u5c71\uff0c\u5230\u5904\u53c2\u7384\u8bbf\u9053\uff0c\u65b0\u5a5a\u4e4b\u591c\u90fd\u662f\u5728\u9053\u89c2\u5ea6\u8fc7\u7684\u3002 \u201c\u544a\u75c5\u5f52\u8d8a\uff0c\u7b51\u5ba4\u9633\u660e\u6d1e\u4e2d\uff0c\u884c\u5bfc\u5f15\u672f\u3002\u201d\u8fd9\u5bfc\u5f15\u672f\u4e00\u770b\u5c31\u77e5\u9053\uff0c\u5c31\u662f\u540e\u5929\u529f\u592b\u3002 \u5177\u4f53\u738b\u9633\u660e\u505a\u7684\u4ec0\u4e48\u529f\u592b\u96be\u4ee5\u8003\u8bc1\uff0c\u4f46\u5f53\u65f6\u738b\u9633\u660e\u5df2\u7ecf\u4e09\u5341\u591a\u5c81\uff0c\u7422\u78e8\u9053\u5bb6\u529f\u592b\u4e8c\u5341\u591a\u5e74\u4e86\u3002\u4ee5\u4ed6\u7684\u667a\u5546\uff0c\u9605\u5386\uff0c\u6587\u5316\u5e95\u8574\uff0c\u96be\u9053\u8fd8\u5206\u4e0d\u51fa\u529f\u592b\u7684\u771f\u5047\u6765\uff1f\u603b\u7684\u6765\u8bf4\uff0c\u4ed6\u505a\u7684\u90a3\u4e9b\u529f\u592b\uff0c\u5dee\u4e0d\u5230\u90a3\u91cc\u53bb\u3002 \u4f46\u6548\u679c\u5982\u4f55\uff1f \u738b\u9633\u660e\u4e2d\u5e74\u4ee5\u540e\u8eab\u4f53\u4e00\u76f4\u4e0d\u597d\uff0c\u5230\u6700\u540e\u4e5f\u6ca1\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u201c \u4eca\u5df2\u4f59\u4e09\u5341\u5e74\u77e3\uff0c\u9f7f\u6e10\u6447\u52a8\uff0c\u53d1\u5df2\u6709\u4e00\u4e8c\u830e\u53d8\u5316\u6210\u767d\uff0c\u76ee\u5149\u4ec5\u76c8\u5c3a\uff0c\u58f0\u95fb\u51fd\u4e08\u4e4b\u5916\uff0c\u53c8\u5e38\u7ecf\u6708\u5367\u75c5\u4e0d\u51fa\uff0c\u836f\u91cf\u9aa4\u8fdb\uff0c\u6b64\u6b86\u5176\u6548\u4e5f\uff0c\u800c\u76f8\u77e5\u8005\u72b9\u5984\u8c13\u4e4b\u80fd\u5f97\u5176\u9053\u3002 \u201d\u5c31\u770b\u8fd9\u4e00\u6bb5\u8bdd\uff0c\u4f60\u80fd\u8bf4\u4ed6\u8eab\u4f53\u5f3a\u5065\u4e48\uff1f \u800c\u540e\u5728\u300a\u4e0e\u9646\u539f\u9759\u300b\u6587\u4e2d\uff0c\u66f4\u660e\u786e\u8868\u793a\u4ed6\u653e\u5f03\u4e86\u4ee5\u4e39\u9053\u6cbb\u75c5\u7684\u6253\u7b97\u3002 \u8fd9\u5c31\u662f\u4ee5\u9633\u660e\u5148\u751f\u7684\u5fc3\u6027\u4fee\u4e3a\uff0c\u505a\u540e\u5929\u529f\u592b\u7684\u6548\u679c\u3002 \u738b\u9633\u660e\u90fd\u65e0\u6cd5\u7528\u540e\u5929\u529f\u592b\u7a81\u7834\u5929\u82b1\u677f\uff0c\u4f60\u7684\u5404\u65b9\u9762\u80fd\u529b\u6bd4\u738b\u9633\u660e\u600e\u4e48\u6837\u81ea\u5df1\u60f3\u3002 \u82e5\u4f60\u89c9\u5f97\uff0c\u9633\u660e\u5148\u751f\u505a\u7684\u7ec8\u7a76\u53ea\u662f\u540e\u5929\u529f\u592b\uff0c\u6216\u8005\u5e76\u975e\u4e13\u95e8\u7684\u9053\u5bb6\u4fee\u884c\u8005\uff0c\u90a3\u4e48\uff0c\u8bf7\u7ee7\u7eed\u770b\u3002 \u6613\u5fc3\u83b9\uff0c\u524d\u9053\u534f\u526f\u4f1a\u957f\uff0c\u5168\u771f\u9f99\u95e8\u6d3e\u7b2c\u4e8c\u5341\u4e8c\u4ee3\u9053\u58eb \u3002\uff08\u4ee5\u4e0b\u8a00\u8bba\u6765\u81ea\u767e\u5ea6\u767e\u79d1\uff09 1975\u5e74\uff0c\u5fc3\u83b9\u5bf9\u51e0\u4f4d\u8001\u9053\u53cb\u8bf4\uff1a\u201c\u660e\u5e74\u4e1c\u5317\u707e\u53d8\u5f02\u5e38\uff0c\u5f71\u54cd\u5168\u56fd\u3002\u201d\u65c1\u4eba\u95ee\uff1a\u201c\u4f1a\u4e0d\u4f1a\u5f71\u54cd\u5230\u9752\u57ce\u5c71\uff0c\u80fd\u79b3\u707e\u5417\uff1f\u201d\u5fc3\u83b9\u56de\u7b54\uff1a\u201c\u6211\u5df2\u597d\u591a\u5e74\u6ca1\u89c1\u5143\u795e\u4e86\uff0c\u6700\u8fd1\u4f53\u8870\u795e\u660f\uff0c\u6050\u6015\u5df2\u96be\u79b3\u707e\u3002\u660e\u5e74\u6211\u5927\u9650\u5c06\u4e34\uff0c\u5230\u65f6\u6709\u4eba\u5f3a\u884c\u706b\u5316\uff0c\u82e5\u5165\u706b\u4e0d\u5316\uff0c\u5219\u6211\u4f1a\u79b3\u707e\u7684\u3002\u201d \u770b\u8fd9\u53e5\u201c \u6211\u5df2\u597d\u591a\u5e74\u6ca1\u89c1\u5143\u795e\u4e86\uff0c \u6700\u8fd1\u4f53\u8870\u795e\u660f\u3002\u3002\u3002\u3002\u201d \u660e\u773c\u4eba\u4e00\u770b\u5c31\u77e5\u9053\u8fd9\u610f\u5473\u7740\u4ec0\u4e48\u3002\u89c1\u5143\u795e\u5c31\u662f\u89c1\u5143\u795e\uff0c\u6ca1\u4ec0\u4e48\u7384\u7684\u3002\u81f3\u4e8e\u5165\u706b\u4e0d\u5316\u4ec0\u4e48\u7684\uff0c\u5176\u5b9e\u660e\u773c\u4eba\u4e5f\u80fd\u770b\u660e\u767d\uff0c\u4e0e\u672c\u6587\u65e0\u5173\uff0c\u4e0d\u6d89\u53ca\u3002 \u8fd9\u5c31\u662f\u6807\u51c6\u7684\u8eab\u4f53\u72b6\u6001\u5f71\u54cd\u5165\u5b9a\u6548\u679c\u3002\u6613\u5fc3\u83b9\u9053\u957f\u5728\u540e\u671f\uff0c\u8eab\u4f53\u72b6\u6001\u6025\u5267\u4e0b\u964d\uff0c\u5bfc\u81f4\u4ed6\u5df2\u7ecf\u6ca1\u529e\u6cd5\u505a\u5230\u8bc6\u795e\u9000\u4f4d\uff0c\u5143\u795e\u663e\u50cf\u4e86\u3002\u8fd9\u5df2\u7ecf\u4e0d\u662f\u529f\u592b\u505a\u5f97\u597d\u4e0d\u597d\u7684\u95ee\u9898\u4e86\uff0c\u751a\u81f3\u4ed6\u8fde\u505a\u5148\u5929\u529f\u592b\u7684\u8d44\u683c\u90fd\u6ca1\u4e86\u3002 \u9053\u534f\u526f\u4f1a\u957f\uff0c\u5728\u5dc5\u5cf0\u72b6\u6001\u4fee\u4e3a\uff0c\u628a\u77e5\u4e4e\u4e0a\u7edd\u5927\u90e8\u5206\u4eba\u6309\u5728\u5730\u4e0a\u6469\u64e6\u5e94\u8be5\u6ca1\u4ec0\u4e48\u95ee\u9898\uff0c\u4f46\u5728\u8eab\u4f53\u72b6\u6001\u4e0b\u964d\u7684\u65f6\u5019\uff0c\u8fde\u5148\u5929\u529f\u592b\u7684\u95e8\u69db\u90fd\u8fc7\u4e0d\u53bb\uff0c\u4f60\u89c9\u5f97\u4e00\u822c\u4eba\uff0c\u6709\u591a\u5927\u673a\u4f1a\u5f3a\u884c\u6392\u9664\u8eab\u4f53\u72b6\u6001\u7684\u5e72\u6270\uff0c\u8bc1\u5165\u5148\u5929\u72b6\u6001\uff0c\u4e43\u81f3\u505a\u597d\u5148\u5929\u529f\u592b\uff0c\u6253\u7834\u4e0a\u9762\u8bf4\u7684\u90a3\u4e2a\u6076\u6027\u5faa\u73af\uff1f 8\u603b\u7ed3 \u4e39\u9053\u529f\u592b\uff0c\u5c31\u662f\u4e00\u4e2a\u6307\u5411\u9633\u795e\u7684\u8d85\u8131\u529f\u592b\uff0c\u62a2\u5728\u4f60\u8eab\u4f53\u5d29\u6e83\u524d\uff0c\u5f04\u51fa\u9633\u795e\uff0c\u8d85\u8131\u751f\u6b7b\u3002 \u4e39\u9053\u4fee\u884c\u7684\u771f\u6b63\u76ee\u6807\uff0c\u4ece\u6765\u90fd\u4e0d\u662f\u6cbb\u75c5\u3002 \u9633\u795e\u662f\u5426\u786e\u5b9e\u5b58\u5728\u672c\u6587\u4e0d\u6d89\u53ca\uff0c\u4f46\u6240\u8c13\u6cbb\u75c5\uff0c\u5176\u5b9e\u53ea\u662f\u6027\u547d\u53cc\u4fee\u4ea7\u751f\u7684\u4e00\u4e2a\u610f\u5916\u4ea7\u54c1\u3002 \u7528\u4e39\u9053\u529f\u592b\u6cbb\u75c5\uff0c\u5206\u51e0\u79cd\u60c5\u51b5 A\u517b\u751f\u3002\u8eab\u4f53\u57fa\u672c\u5065\u5eb7\u7684\u60c5\u51b5\u4e0b\uff0c\u4f20\u7edf\u533b\u5b66\u548c\u73b0\u4ee3\u533b\u5b66\u90fd\u7ed9\u51fa\u4e86\u517b\u8eab\u5efa\u8bae\u3002\u8fd9\u4e9b\u5efa\u8bae\u90fd\u5dee\u4e0d\u591a\uff0c\u65e0\u975e\u662f\u5747\u8861\u996e\u98df\uff0c\u5408\u7406\u4f5c\u606f\uff0c\u9002\u91cf\u8fd0\u52a8\u7b49\u7b49\u3002\u76f8\u4fe1\u6211\uff0c\u8fd9\u4e9b\u6bd4\u4e39\u9053\u529f\u592b\u6548\u7387\u9ad8\u7684\u591a\u3002 B\u82e5\u662f\u5c0f\u6bdb\u5c0f\u75c5\uff0c\u672c\u5c31\u4e0d\u7528\u53bb\u533b\u9662\uff0c\u4f11\u606f\u4e24\u4e09\u5929\u5c31\u597d\u7684\u3002\u82e5\u4f60\u80fd\u505a\u6b63\u786e\u7684\u529f\u592b\uff0c\u53ef\u80fd\u5f88\u5feb\u5c31\u597d\u3002\u5728\u786e\u4fdd\u4f60\u505a\u7684\u529f\u592b\u6ca1\u95ee\u9898\u7684\u524d\u63d0\u4e0b\uff0c\u9053\u7406\u4e0a\u8bb2\uff0c\u53ef\u4ee5\u3002\u4f46\u4e8b\u5b9e\u4e0a\u4e00\u822c\u4eba\u5f88\u96be\u4fdd\u8bc1\u4f60\u505a\u7684\u529f\u592b\u6ca1\u95ee\u9898\uff0c\u6240\u4ee5\uff0c\u8fd8\u662f\u4e0d\u5efa\u8bae\u3002 C\u82e5\u662f\u672c\u8eab\u96be\u4ee5\u81ea\u6108\uff0c\u522b\u72b9\u8c6b\uff0c \u53bb\u6b63\u89c4\u533b\u9662\uff0c\u6c42\u52a9\u73b0\u4ee3\u533b\u5b66\u3002\u8be5\u6253\u9488\u6253\u9488\uff0c\u8be5\u5403\u836f\u5403\u836f\u3002\u5343\u4e07\u522b\u88ab\u4ec0\u4e48\u6c14\u529f\uff0c\u7ad9\u6869\uff0c\u4e39\u9053\u7b49\u7b49\u803d\u8bef\u4e86\u65f6\u95f4\u3002 D\u82e5\u662f\u73b0\u4ee3\u533b\u5b66\u5b9e\u5728\u662f\u675f\u624b\u65e0\u7b56\u4e86\uff0c\u533b\u751f\u90fd\u4e0d\u7ed9\u51fa\u6cbb\u7597\u65b9\u6848\u4e86\uff0c\u53ea\u544a\u8bc9\u4f60\u60f3\u5403\u5565\u5403\u5565\uff0c\u60f3\u53bb\u54ea\u73a9\u53bb\u54ea\u73a9\u7684\u8bdd\u3002\u3002\u3002\u3002\u3002\u5982\u679c\u4f60\u89c9\u5f97\uff0c\u6b7b\u9a6c\u5f53\u6d3b\u9a6c\u533b\u603b\u597d\u8fc7\u653e\u5f03\uff0c\u90a3\u5c31\u53bb\u8d4c\u90a3\u767e\u4e07\u5206\u4e4b\u4e00\u7684\u6982\u7387\u5427\u3002\u4f46\u662f\u5230\u90a3\u4e2a\u5730\u6b65\uff0c\u57fa\u672c\u4e0a\u4f60\u5f97\u9760\u81ea\u5df1\u4e86\u3002\u6211\u7684\u4fee\u4e3a\u89c1\u77e5\u5e2e\u4e0d\u4e86\u4f60\uff0c\u6211\u4e5f\u6ca1\u89c1\u8fc7\u4efb\u4f55\u4e00\u4e2a\u4eba\u5b9e\u4fee\u5230\u8fd9\u4e2a\u5c42\u6b21\u7684\u3002\u6211\u552f\u4e00\u80fd\u7ed9\u4f60\u7684\u5efa\u8bae\u662f\uff0c \u77e5\u4e4e\u4e0a\u82e5\u6709\u4eba\u81ea\u79f0\u6709\u6b64\u4fee\u4e3a\uff0c\u62c9\u9ed1\u4e86\u5427\u3002 \u5439\u725b\u8c01\u4e0d\u4f1a\uff0c\u77e5\u4e4e\u4e0a\u5439\u9633\u795e\u4e5f\u4e0d\u8fc7\u4e00\u53e5\u8bdd\u7684\u4e8b\u60c5\u3002\u8bdd\u5df2\u7ecf\u8bf4\u5230\u8fd9\u4efd\u4e0a\u4e86\uff0c\u82e5\u8fd8\u6709\u4eba\u76f8\u4fe1\u90a3\u4e9b\u80e1\u5439\u5927\u6c14\u4e4b\u5f92\u803d\u8bef\u75c5\u60c5\uff0c\u6211\u53ea\u80fd\u8bf4\u4e00\u53e5 \u201c\u597d\u826f\u8a00\u96be\u529d**\u7684*\u201d\u3002 \u6700\u540e\u8bf4\u4e00\u53e5\u201c\u4eca\u4e4b\u5c11\u5e74\u6c42\u957f\u751f\uff0c\u53e4\u4e4b\u5c11\u5e74\u4eca\u5b89\u5728\uff1f\u201d \u4ee5\u4e0a\u3002 \u5206\u5272\u7ebf \u672c\u6587\u65e9\u5c31\u5199\u4e86\uff0c\u672c\u60f3\u7b49\u6709\u4e86\u5b9e\u8bc1\u518d\u53d1\u51fa\u6765\u3002\u7ed3\u679c\u8109\u4f4f\u6c14\u505c\u8fd9\u4e8b\u513f\u5bf9\u6211\u6765\u8bf4\u771f\u7684\u592a\u96be\u4e86\uff0c\u95ed\u5173\u4e86\u51e0\u6b21\u8fde\u8fb9\u90fd\u6ca1\u6478\u5230\u3002 \u6240\u4ee5\u8fd9\u662f\u5728\u7f3a\u5c11\u8db3\u591f\u81ea\u8eab\u5b9e\u8bc1\u7684\u524d\u63d0\u4e0b\u5199\u7684\u6587\u7ae0\uff0c\u8bf8\u4f4d\u51d1\u6d3b\u7740\u770b\u770b\u5c31\u5f97\uff0c\u522b\u592a\u5f53\u771f\u3002","title":"\u5173\u4e8e\u4e39\u9053\u6cbb\u75c5"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/#1","text":"\u5728\u8eab\u4f53\u57fa\u672c\u5065\u5eb7\u7684\u60c5\u51b5\u4e0b\uff0c\u4e39\u9053\u529f\u592b\u5f3a\u8eab\u5065\u4f53\uff0c\u662f\u6709\u4e00\u5b9a\u6548\u679c\u3002\u4f46\u8bf4\u5230\u6cbb\u75c5\uff0c\u4f60\u6240\u4e86\u89e3\u5230\u7684\u90a3\u4e9b\u201c\u795e\u5947\u201d\u6548\u679c\uff0c\u57fa\u672c\u4e0a\u90fd\u662f\u67d0\u4e9b\u522b\u6709\u7528\u5fc3\u7684\u4eba\uff0c\u5439\u51fa\u6765\u5ffd\u60a0\u4eba\u7684\u3002\uff08\u540e\u9762\u89e3\u91ca\uff0c\u62ac\u6760\u7684\u8bf7\u770b\u5b8c\u5728\u62ac\uff09\u90a3\u4e9b\u5f00\u5b66\u4e60\u73ed\u7684\uff0c\u88c5\u5927\u5e08\u5230\u5904\u627e\u5f92\u5f1f\u7684\uff0c\u4e0d\u628a\u725b\u5439\u4e0a\u5929\uff0c\u53ef\u5f97\u6709\u4eba\u9001\u94b1\u554a\u3002\u81f3\u4e8e\u4f60\u9001\u5b8c\u94b1\u4e4b\u540e\u75c5\u597d\u6ca1\u597d\uff0c\u8c01\u6709\u7a7a\u7ba1\u4f60\u3002 \u4e39\u9053\u6cbb\u75c5\u8fd9\u4e8b\u60c5\uff0c\u786e\u5b9e\u6709\uff0c\u4f46\u88ab\u4e25\u91cd\u5938\u5927\u4e86\u3002\u8fd9\u5938\u5927\uff0c\u4e0d\u662f\u8bf4\u6548\u679c\uff0c\u662f\u6709\u6548\u7387\u3002\u9488\u5bf9\u5c0f\u6bdb\u5c0f\u75c5\u610f\u4e49\u4e0d\u5927\uff0c\u800c\u9488\u5bf9\u4e25\u91cd\u75be\u75c5\u5c24\u5176\u662f\u73b0\u4ee3\u533b\u5b66\u675f\u624b\u65e0\u63aa\u7684\u75be\u75c5\u7684\u6709\u6548\u7387\u592a\u4f4e\uff0c\u4f4e\u5230\u4ee4\u4eba\u53d1\u6307\u7684\u5730\u6b65\u3002 \u5e38\u6709\u4eba\u8bf4\uff0c\u67d0\u67d0\u67d0\u5f97\u4e86\u4ec0\u4e48\u75c5\uff0c\u533b\u9662\u6ca1\u529e\u6cd5\uff0c\u5c31\u662f\u6c14\u529f\uff0c\u4e39\u9053\uff0c\u7ad9\u6869\u7b49\u7b49\u6cbb\u597d\u7684\u3002\u8fd9\u79cd\u6c5f\u6e56\u4f20\u8bf4\u54ea\u90fd\u6709\uff0c\u4e5f\u8bb8\u6709\u771f\u7684\uff0c \u4f46\u662f \u4f60\u522b\u5149\u770b\u6cbb\u597d\u7684\uff0c\u4e5f\u770b\u770b\u90a3\u4e9b\u6cbb\u4e0d\u597d\u7684\u3002 \u90a3\u4e9b\u6cbb\u597d\u7684\u62ff\u51fa\u6765\u8bf4\u4e8b\uff0c\u6cbb\u4e0d\u597d\u7684\u5c31\u5ffd\u7565\u4e0d\u8ba1\u4e86\uff1f\u5168\u56fd\u6bcf\u5e74\u90a3\u4e48\u591a\u4eba\u5f97\u764c\u75c7\uff0c\u9760\u6c14\u529f\u7ad9\u6869\u6cbb\u597d\u7684\u6709\u51e0\u4e2a\uff1f\u4e00\u4e07\u4e2a\u4eba\uff0c\u751a\u81f3\u4e00\u767e\u4e07\u91cc\u4e00\u4e2a\u6709\u6548\uff0c\u90a3\u4e0d\u53eb\u6cbb\u7597\u65b9\u6848\uff0c\u90a3\u53eb\u6b7b\u9a6c\u5f53\u6d3b\u9a6c\u533b\u3002 \u8fd8\u6709\uff0c\u8fd9\u4eba\u7a76\u7adf\u662f\u4e0d\u662f\u6c14\u529f\u7b49\u7b49\u6cbb\u597d\u7684\uff0c\u4ed6\u4e0d\u7ec3\u6c14\u529f\u80fd\u4e0d\u80fd\u81ea\u6108\uff0c\u751a\u81f3\u5230\u5e95\u4e16\u754c\u4e0a\u6709\u6ca1\u6709\u8fd9\u4e2a\u4eba\uff0c\u8bf4\u7684\u6e05\u695a\u5417\uff1f\u53ea\u8981\u57fa\u6570\u8db3\u591f\u5927\uff0c\u8981\u627e\u4e00\u4e9b\u7279\u4f8b\u603b\u80fd\u627e\u5230\u3002\u4f60\u5168\u5370\u5ea6\u7684\u53bb\u627e\u5403\u725b\u7caa\u6cbb\u75c5\u7684\uff0c\u4e5f\u80fd\u627e\u51fa\u7279\u4f8b\u6765\u3002\u751a\u81f3\u827e\u6ecb\u75c5\u81ea\u6108\u4e5f\u80fd\u627e\u5230\u7279\u4f8b\uff0c\u7279\u4f8b\u80fd\u8bf4\u660e\u95ee\u9898\u5417\uff1f \u771f\u6709\u8fd9\u4e48\u9ad8\u6548\u7684\u533b\u7597\u624b\u6bb5\uff0c\u751a\u81f3\u80fd\u7a81\u7834\u73b0\u4ee3\u533b\u5b66\u7684\u6781\u9650\uff0c\u600e\u4e48\u6ca1\u63a8\u5e7f\uff1f\u5168\u4e16\u754c\u90a3\u4e48\u591a\u533b\u5b66\u4e13\u5bb6\u90fd\u50bb\u4e86\uff1f \u8fd8\u6709\u4eba\u53ef\u80fd\u4f1a\u8bf4\u79d8\u4f20\u529f\u592b\u4ec0\u4e48\u7684\uff0c\u5475\u5475\uff0c\u8bf7\u770b\u4e0b\u53bb\u3002","title":"1\u4e39\u9053\u6cbb\u75c5\u7684\u73b0\u5b9e\u60c5\u51b5"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/#2","text":"\u5176\u5b9e\u4eba\u4f53\u662f\u6709\u5f88\u5f3a\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\u7684\uff0c\u514d\u75ab\u529b\uff0c\u4f24\u53e3\u6108\u5408\u80fd\u529b\uff0c\u4ee3\u507f\u80fd\u529b\u7b49\uff0c\u90fd\u5c5e\u4e8e\u8fd9\u79cd\u81ea\u6211\u4fee\u590d\u80fd\u529b\u3002\u54ea\u6015\u73b0\u4ee3\u533b\u5b66\u5982\u6b64\u53d1\u8fbe\uff0c\u5f88\u591a\u75be\u75c5\u5176\u5b9e\u90fd\u662f\u4f9d\u8d56\u4eba\u4f53\u7684\u81ea\u6211\u4fee\u590d\u3002\u533b\u5b66\uff0c\u5f88\u591a\u65f6\u5019\u4e0d\u8fc7\u662f\u8d77\u4e00\u4e2a\u8f85\u52a9\u4f5c\u7528\u7f62\u4e86\u3002\u6700\u5e38\u89c1\u7684\uff0c\u611f\u5192\uff0c\u5403\u4e0d\u5403\u836f\u90fd\u662f\u4e00\u4e24\u4e2a\u661f\u671f\uff0c\u5c31\u662f\u8fd9\u4e2a\u9053\u7406\u3002 \u4f46\u76f8\u5bf9\u4e0d\u540c\u4e2a\u4f53\uff0c\u5176\u81ea\u6211\u4fee\u590d\u80fd\u529b\u662f\u6709\u5dee\u5f02\u7684\u3002\u540c\u6837\u7684\u75c5\uff0c\u8eab\u4f53\u597d\u7684\u625b\u8fc7\u53bb\uff0c\u8eab\u4f53\u5dee\u7684\u6dd8\u6c70\u6389\uff0c\u4e0d\u96be\u7406\u89e3\u5427\u3002 \u800c\u6240\u8c13\u4e39\u9053\u6cbb\u75c5\uff0c\u6ca1\u4ec0\u4e48\u7384\u4e4b\u53c8\u7384\u7684\uff0c\u5176\u5b9e\u5c31\u662f\u5f3a\u5316\u8fd9\u79cd\u81ea\u6211\u4fee\u590d\u80fd\u529b\u3002 \u5f3a\u5316\u7684\u65b9\u6cd5\u6709\u591a\u79cd\uff0c\u4f46\u603b\u7ed3\u8d77\u6765\uff0c\u65e0\u975e\u662f \u540e\u5929\u529f\u592b\u4e0e\u5148\u5929\u529f\u592b\u4e24\u79cd \u3002","title":"2\u4e39\u9053\u6cbb\u75c5\u7684\u539f\u7406\u3002"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/#3","text":"\u8fd9\u91cc\u9700\u8981\u5f15\u5165\u4e00\u4e2a\u4e39\u9053\u7684\u57fa\u672c\u6982\u5ff5\uff0c \u5143\u795e\u4e0e\u8bc6\u795e \u3002 \u7c97\u7565\u7684\u8bf4\uff0c \u5143\u795e\u5c31\u662f\u4f60\u5728\u80ce\u513f\u65f6\u671f\u548c\u5a74\u513f\u521d\u671f\u7684\u610f\u8bc6\u72b6\u6001\u3002\u8bc6\u795e\u5c31\u662f\u4f60\u73b0\u5728\u6240\u5904\u7684\u5e73\u5e38\u72b6\u6001 \u3002\u901a\u5e38\u6211\u4eec\u8bf4\u5143\u795e\u662f\u5148\u5929\uff0c\u8bc6\u795e\u662f\u540e\u5929\u3002 \u6240\u6709\u5728\u8bc6\u795e\u72b6\u6001\u4e0b\u505a\u7684\u529f\u592b\uff0c\u90fd\u662f\u540e\u5929\u529f\u592b\u3002 \u540e\u5929\u529f\u592b\u5206\u4e24\u79cd\uff0c\u4e00\u79cd\u65e0\u4e3a\uff0c\u4e00\u79cd\u6709\u4e3a\u3002 A\u6240\u8c13\u65e0\u4e3a\uff0c\u5c31\u662f\u5750\u7740\u4e0d\u52a8\u3002\u6709\u6ca1\u6709\u6742\u5ff5\uff0c\u5176\u5b9e\u4e5f\u4e0d\u5f71\u54cd\uff0c\u4e00\u822c\u505a\u5230\u8eab\u4e0d\u52a8\u4e5f\u5c31\u662f\u4e86\u3002\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u521d\u6b65\u7684\u79ef\u7cbe\u7d2f\u6c14\u8fc7\u7a0b\u3002\u5728\u6cbb\u75c5\u8fd9\u4e00\u5757\uff0c\u4e0d\u80fd\u8bf4\u5b8c\u5168\u65e0\u6548\uff0c\u7cbe\u6c14\u5145\u8db3\u4e86\uff0c\u8eab\u4f53\u81ea\u7136\u5f3a\u5065\u4e86\uff0c\u75c5\u597d\u7684\u5feb\u4e9b\u4e5f\u6b63\u5e38\u3002\u4f46\u6548\u679c\u76f8\u5f53\u6709\u9650\uff0c\u5982\u679c\u4f60\u7684\u75c5\u65e0\u6cd5\u81ea\u6108\u7684\u8bdd\uff0c\u8fd9\u79cd\u624b\u6bb5\u7684\u6548\u679c\u57fa\u672c\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\u3002\u60f3\u60f3\u4e5f\u77e5\u9053\uff0c\u82e5\u4ec5\u4ec5\u5750\u7740\u4e0d\u52a8\u5c31\u80fd\u6cbb\u7597\u75be\u75c5\uff0c\u8fd8\u8981\u533b\u9662\u5e72\u561b\uff1f B\u6709\u4e3a\u529f\u592b\u3002 \u5176\u5b9e \u5404\u79cd\u6240\u8c13\u95e8\u6d3e\u79d8\u4f20\uff0c\u57fa\u672c\u90fd\u5c5e\u4e8e\u540e\u5929\u6709\u4e3a\u529f\u592b\u8303\u7574\u3002 \u8fd8\u6709\u6240\u8c13\u7684\u6c14\u529f\uff0c\u57fa\u672c\u4e5f\u662f\u8fd9\u4e2a\u8303\u7574\u3002 \u800c\u90a3\u4e9b\u6c5f\u6e56\u5b66\u4e60\u73ed\uff0c\u66f4\u52a0\u53ea\u80fd\u5728\u540e\u5929\u6709\u4e3a\u529f\u592b\u8fd9\u4e2a\u8303\u56f4\u5185\u626f\u6de1\u3002\u56e0\u4e3a\u5148\u5929\u529f\u592b\u90a3\u4e2a\u5c42\u9762\uff0c\u4ed6\u4eec\u63a5\u89e6\u4e0d\u5230\u3002 \u6ca1\u6709\u4ec0\u4e48\u4e5d\u9633\u795e\u529f\uff0c\u6ca1\u6709\u4ec0\u4e48\u4e5d\u9634\u771f\u7ecf\uff0c\u522b\u542c\u90a3\u4e9b\u5546\u4e1a\u5316\u7684\u201c\u5927\u5e08\u201d\u80e1\u5439\u5927\u6c14\u3002\u8bf7\u8bb0\uff0c\u65e0\u8bba\u4ec0\u4e48\u95e8\u6d3e\u79d8\u4f20\uff0c\u65e0\u8bba\u5bf9\u65b9\u600e\u4e48\u5439\u5618\uff0c \u53ea\u8981\u662f\u540e\u5929\u529f\u592b\uff0c\u4ed6\u7684\u4e0a\u9650\u90fd\u662f\u9501\u6b7b\u7684 \u3002\u4ed6\u90fd\u6709\u4e00\u4e2a\u65e0\u6cd5\u7a81\u7834\u7684\u5929\u82b1\u677f\uff0c\u662f\u4e0d\u53ef\u80fd\u7a81\u7834\u7684\uff0c\u6ca1\u6709\u4efb\u4f55\u4f8b\u5916\u3002 \u800c\u4e14\u8fd9\u4e2a\u4e0a\u9650\uff0c\u5e76\u4e0d\u9ad8\u3002\uff08\u5f53\u7136\uff0c\u4e0b\u9650\u5c31\u4e0d\u597d\u8bf4\u4e86\uff0c\u770b\u201c\u5927\u5e08\u201d\u7684\u8138\u76ae\u539a\u5ea6\u4e86\u3002\uff09 \u540e\u5929\u529f\u592b\u8bf4\u7a7f\u4e86\u65e0\u975e\u662f\u610f\u5b88\uff0c\u5f15\u5bfc\uff0c\u642c\u8fd0\uff0c\u62c9\u4f38\uff0c\u6309\u6469\u7b49\u7b49\u7c7b\u4f3c\u7684\u624b\u6bb5\u7f62\u4e86\uff0c\u6765\u6765\u53bb\u53bb\u5c31\u8fd9\u4e9b\u5185\u5bb9\u3002 \u6240\u8c13\u95e8\u6d3e\u79d8\u4f20\u4e5f\u8131\u4e0d\u5f00\u8fd9\u4e9b\u8303\u7574\uff0c\u4e0d\u8fc7\u662f\u4e00\u4e9b\u72ec\u6709\u7684\u64cd\u4f5c\u65b9\u5f0f\u800c\u5df2\u3002\u540c\u65f6\u9700\u8981\u7279\u522b\u5f3a\u8c03\u7684\u662f\uff0c\u72ec\u6709\uff0c\u4e0d\u4ee3\u8868\u6709\u6548\u3002\u4e5f\u53ef\u80fd\u662f\u778e\u7f16\u7684\u6bd4\u8f83\u6709\u65b0\u610f\u800c\u5df2\u3002 \u6b63\u786e\u7684\u540e\u5929\u529f\u592b\uff0c\u5728\u6cbb\u75c5\u8fd9\u4e00\u5757\uff0c\u5176\u672c\u8d28\uff0c\u5c31\u662f\u5c06\u4eba\u4f53\u6709\u9650\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\uff0c\u96c6\u4e2d\u5230\u6700\u9700\u8981\u7684\u5730\u65b9\uff0c\u4ee5\u4ea7\u751f\u6700\u5927\u7684\u6548\u679c\u3002 \u6240\u4ee5\u4f60\u770b\u6709\u4e9b\u6c14\u529f\uff0c\u6559\u4f60\u7528\u610f\u5ff5\u5f15\u5bfc\u6c14\u611f\u8fc7\u751f\u75c5\u7684\u4f4d\u7f6e\u7b49\u7b49\uff0c\u4e5f\u4f1a\u6709\u4e00\u5b9a\u7684\u6548\u679c\u3002\u5176\u5b9e\u5c31\u662f\u7528\u540e\u5929\u610f\u8bc6\u5f3a\u5316\u4e86\u5c40\u90e8\u8303\u56f4\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\u3002 \u5ba2\u89c2\u7684\u8bf4\uff0c\u6b63\u786e\u7684\u540e\u5929\u529f\u592b\u6709\u4e00\u5b9a\u6548\u679c\uff0c\u4e5f\u6bd4\u8f83\u5bb9\u6613\u89c1\u6548\u3002 \u6253\u4e2a\u6bd4\u55bb \u6253\u4ed7\u3002\u4f60\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\u662f\u4e00\u4e2a\u8fde\uff0c\u75be\u75c5\u662f\u654c\u519b\uff0c\u6709\u53ef\u80fd\u4e00\u4e2a\u6392\uff0c\u6709\u53ef\u80fd\u4e00\u4e2a\u8425\uff0c\u751a\u81f3\u4e00\u4e2a\u56e2\u3002\u800c\u8fd9\u540e\u5929\u529f\u592b\uff0c\u5c31\u662f\u6218\u573a\u6307\u6325\u80fd\u529b\u3002 \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e0d\u505a\u529f\u592b\uff0c\u9760\u7740\u672c\u80fd\uff0c\u4f60\u4e00\u4e2a\u8fde\u6253\u4e00\u4e2a\u6392\u6ca1\u95ee\u9898\uff0c\u6253\u4e00\u4e2a\u8fde\u4e5f\u51d1\u6d3b\u3002\u4f46\u5982\u679c\u75be\u75c5\u7684\u5f3a\u5ea6\u662f\u4e00\u4e2a\u8425\u7684\u8bdd\uff0c\u6293\u778e\u4e86\u3002 \u7136\u540e\u4f60\u505a\u6b63\u786e\u7684\u540e\u5929\u529f\u592b\uff0c\u6bd4\u55bb\u4e3a\u6b63\u786e\u4f18\u79c0\u7684\u6307\u6325\u80fd\u529b\u3002\u8fd9\u65f6\u5019\u4e00\u4e2a\u8fde\u5b8c\u5168\u6709\u53ef\u80fd\u6253\u8d62\u4e00\u4e2a\u8425\u7684\u654c\u65b9\u5175\u529b\u3002 \u9760\u6b63\u786e\u7684\u8c03\u5ea6\u6307\u6325\u6765\u6253\u80dc\u4ed7\uff0c\u8fd9\u5c31\u662f\u540e\u5929\u529f\u592b\u6cbb\u75c5\u7684\u65b9\u5f0f\u3002 \u6c5f\u6e56\u4e0a\u90a3\u4e9b\u6c14\u529f\uff0c\u7ad9\u6869\uff0c\u4e39\u9053\uff0c\u7b49\u7b49\uff0c\u6cbb\u75c5\u7684\u4f20\u8bf4\u600e\u4e48\u6765\u7684\uff1f\u5c31\u662f\u8fd9\u4e48\u6765\u7684\u3002 \u6709\u6548\u679c\u4e48\uff1f\u6709\u3002 \u4f46\u662f\u53d1\u73b0\u95ee\u9898\u4e86\u6ca1\u6709\uff1f\u4e3a\u4ec0\u4e48\u8bf4\u8fd9\u4e2a\u65b9\u5f0f\u4e0a\u9650\u4e0d\u4f1a\u592a\u9ad8\uff1f \u4e00\u4e2a\u8fde\u7684\u5175\u529b\uff0c\u4f60\u518d\u600e\u4e48\u6307\u6325\uff0c\u59cb\u7ec8\u53ea\u662f\u4e00\u4e2a\u8fde\u3002 \u4f60\u6307\u6325\u7684\u518d\u597d\uff0c\u4e00\u4e2a\u8fde\u80fd\u6253\u8d62\u4e00\u4e2a\u5e08\uff1f \u5982\u679c\u662f\u5e76\u4e0d\u4e25\u91cd\u7684\u75be\u75c5\uff0c\u6b63\u5e38\u7684\u81ea\u6211\u4fee\u590d\u914d\u5408\u73b0\u4ee3\u533b\u5b66\u5b8c\u5168\u80fd\u641e\u5b9a\uff0c\u4f60\u5e72\u561b\u8981\u5f04\u4ec0\u4e48\u6c14\u529f\uff0c\u4e39\u9053\uff1f\u4e00\u5929\u6253\u5750\u7ad9\u6869\u56db\u4e94\u4e2a\u5c0f\u65f6\uff0c\u4e0d\u5acc\u9ebb\u70e6\uff1f \u5982\u679c\u75be\u75c5\u7684\u5175\u529b\u662f\u4e00\u4e2a\u5e08\u3002\u3002\u3002\u3002\u3002\u522b\u53bb\u542c\u6c5f\u6e56\u4f20\u8bf4\uff0c\u522b\u53bb\u4fe1\u7f51\u7edc\u4e0a\u4e0d\u8d1f\u8d23\u4efb\u7684\u8a00\u8bba\u3002\u53bb\u6b63\u89c4\u533b\u9662\u79d1\u73ed\u51fa\u8eab\u7684\u533b\u751f\u90a3\u91cc\u6253\u542c\u4e00\u4e0b\uff0c\u5230\u5e95\u6709\u6ca1\u6709\uff0c\u6709\u591a\u5c11\u901a\u8fc7\u6c14\u529f\uff0c\u7ad9\u6869\u7b49\u7b49\u8fbe\u6210\u533b\u5b66\u5947\u8ff9\u7684\u6848\u4f8b\u3002 \u4f60\u5175\u8425\u91cc\u6709\u591a\u5c11\u5175\u529b\uff0c\u5c31\u53ea\u80fd\u6d3e\u51fa\u6765\u591a\u5c11\u5175\u529b\uff0c\u8fd9\u5c31\u662f\u540e\u5929\u529f\u592b\u7684\u4e0a\u9650 \u3002\u4f60\u5175\u8425\u91cc\u4e00\u4e2a\u8fde\uff0c\u666e\u901a\u4eba\u53ef\u4ee5\u6d3e\u51fa\u4e00\u4e2a\u6392\u7684\u5175\u529b\uff0c\u505a\u540e\u5929\u529f\u592b\u7684\u4eba\u53ef\u4ee5\u6d3e\u51fa\u4e24\u4e2a\u6392\uff0c\u770b\u7740\u4f3c\u4e4e\u6bd4\u666e\u901a\u4eba\u591a\uff0c\u4f46\u662f\u7edd\u5bf9\u6ca1\u6709\u672c\u8d28\u533a\u522b\u3002\u4f60\u7edd\u4e0d\u53ef\u80fd\u6d3e\u51fa\u4e00\u4e2a\u8425\u6765\u3002 \u522b\u8bf4\u4f60\u5728\u7f51\u4e0a\u627e\u5230\u7684\u201c\u4e16\u5916\u9ad8\u4eba\u201d\uff0c\u54ea\u6015\u5e7f\u6210\u5b50\u964d\u4e16\u76f4\u63a5\u4f20\u4f60\uff0c\u53ea\u8981\u662f\u540e\u5929\u529f\u592b\uff0c\u5c31\u4e0d\u53ef\u80fd\u7a81\u7834\u4e0a\u9650\u3002\u5982\u679c\u6709\u4eba\u8bf4\u53ef\u4ee5\u51ed\u540e\u5929\u529f\u592b\u7a81\u7834\u4e0a\u9650\uff0c\u5efa\u8bae\u4f60\u9001\u4ed6\u4e00\u4e2a\u5b57\u201c\u5478\u201d\u3002 \u90a3\u6709\u6ca1\u6709\u529e\u6cd5\u7a81\u7834\u8fd9\u4e2a\u4e0a\u9650\uff1f","title":"3\u540e\u5929\u529f\u592b"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/#4","text":"\uff08\u7279\u522b\u8bf4\u660e\u3002\u6b63\u9762\uff0c\u5f7b\u5e95\u7684\u5b9e\u8bc1\u4e0b\u9762\u7684\u5185\u5bb9\uff0c \u81f3\u5c11\u9700\u8981\u8109\u4f4f\u6c14\u505c\u4fee\u4e3a\u2014\u2014\u662f\u771f\u6b63\u7684\u8109\u4f4f\u6c14\u505c\uff0c\u4e0d\u662f\u5fc3\u8df3\u653e\u6162\u547c\u5438\u653e\u7f13\u90a3\u79cd\u5077\u5de5\u51cf\u6599\u7684\u3002\u5426\u5219\u4f60\u7684\u5148\u5929\u6c14\u53ea\u80fd\u611f\u5e94\uff0c\u65e0\u6cd5\u51dd\u7ed3\uff0c\u4e0d\u80fd\u8bf4\u6b63\u9762\u5b9e\u8bc1\u3002 \u6211\u6ca1\u8fd9\u4efd\u4fee\u4e3a\uff0c\u4e5f\u6ca1\u89c1\u8fc7\u73b0\u5b9e\u4e2d\u6709\u4eba\u6709\u8fd9\u4efd\u4fee\u4e3a\u7684\u3002\u7f51\u4e0a\u81ea\u79f0\u6709\u6b64\u4fee\u4e3a\u7684\u9ad8\u4eba\uff0c\u90fd\u5df2\u7ecf\u88ab\u6211\u62c9\u9ed1\u3002\u6211\u53ea\u80fd\u57fa\u4e8e\u81ea\u8eab\u5df2\u6709\u4fee\u4e3a\u4ee5\u53ca\u4e39\u7ecf\u8bb0\u8f7d\u7ed9\u51fa\u7406\u8bba\u3002\u6b63\u786e\u4e0e\u5426\uff0c\u8bf7\u81ea\u5df1\u5224\u65ad\u3002\uff09 \u5f15\u5165\u4e39\u9053\u7b2c\u4e8c\u4e2a\u57fa\u672c\u6982\u5ff5 \u5148\u5929\u6c14 \uff0c\u6216\u8005\u8bf4\uff0c\u7081\u3002 \u8fd9\u91cc\u8bf4\u7684 \u7081\uff0c\u4e0d\u662f\u4f60\u540e\u5929\u72b6\u6001\u4ec0\u4e48\u610f\u5b88\u4e39\u7530\uff0c\u7136\u540e\u809a\u8110\u70ed\u70d8\u70d8\u7684\uff0c\u6216\u8005\u4f60\u5f15\u5bfc\u6765\u5f15\u5bfc\u53bb\uff0c\u5230\u5904\u6709\u6c14\u611f\u7684\u90a3\u79cd\u3002\u4e0d\u662f\u4e00\u56de\u4e8b\u3002\u66f4\u4e0d\u662f\u4f60\u5bf9\u7740\u592a\u9633\uff0c\u6708\u4eae\uff0c\u5927\u6811\u81c6\u60f3\u5438\u5165\u4f53\u5185\u7684\u80fd\u91cf\u4e4b\u7c7b\u7684\u626f\u6de1\u5185\u5bb9\u3002 \u6ca1\u6709\u8bc1\u5165\u5143\u795e\u7684\u4eba\uff0c\u662f\u65e0\u6cd5\u5207\u5b9e\u4f53\u9a8c\u7684\uff0c\u6240\u4ee5\u4e0d\u7528\u53bb\u60f3\u8c61\u4e86\uff0c\u4f60\u60f3\u4e0d\u51fa\u6765\u7684\u3002 \u7081\u7684\u672c\u8d28\uff0c\u5c31\u662f\u4ece\u80ce\u4e2d\u5e26\u6765\u7684\u751f\u547d\u529b\u672c\u6e90\u3002 \u4eba\u6d3b\u7740\uff0c\u5c31\u5f97\u6d88\u8017\u8fd9\u4e2a\uff0c\u6d88\u8017\u5b8c\uff0c\u4eba\u5c31\u6b7b\u4e86\u3002\u4eba\u4e0d\u8bba\u8eab\u4f53\u591a\u5065\u5eb7\uff0c\u90fd\u4e0d\u80fd\u957f\u751f\u4e0d\u6b7b\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5148\u5929\u6c14\u603b\u5f52\u662f\u6709\u9650\u7684\u3002\u4eff\u4f5b\u4e00\u4e2a\u7164\u6c14\u7f50\uff0c\u51fa\u751f\u7684\u65f6\u5019\uff0c\u62ff\u5230\u591a\u5c11\u7b97\u591a\u5c11\uff0c\u7528\u5b8c\u62c9\u5230\u3002 \u5bb9\u6613\u7406\u89e3\uff0c\u5176\u5b9e\u4eba\u4f53\u7684\u81ea\u6211\u4fee\u590d\u80fd\u529b\uff0c\u6839\u672c\u4e0a\u662f\u6e90\u4e8e\u8fd9\u751f\u547d\u529b\u672c\u6e90\uff0c\u4e5f\u5c31\u662f\u5148\u5929\u6c14\u3002\u5148\u5929\u6c14\u5145\u8db3\uff0c\u4fee\u590d\u80fd\u529b\u5c31\u5f3a\uff0c\u5148\u5929\u6c14\u5f31\uff0c\u4fee\u590d\u80fd\u529b\u4e5f\u5f31\u3002\u540c\u6837\u7684\u75c5\uff0c\u5e74\u8f7b\u4eba\u53ef\u80fd\u7761\u4e00\u89c9\u5c31\u6ca1\u4e8b\u4e86\uff0c\u8001\u5e74\u4eba\u53ef\u80fd\u4f1a\u6709\u751f\u547d\u5371\u9669\uff0c\u4e0d\u96be\u7406\u89e3\u5427\u3002 \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u5148\u5929\u6c14\u662f\u6ca1\u529e\u6cd5\u8865\u5145\u7684\u3002\u4e3a\u4ec0\u4e48\u540e\u5929\u529f\u592b\u4e0a\u9650\u5b9a\u6b7b\u4e86\uff0c\u56e0\u4e3a\u4f60\u5148\u5929\u6c14\u603b\u91cf\u6ca1\u53d8\u5316\u3002 \u7164\u6c14\u7f50\u91cc\u7684\u7164\u6c14\u5c31\u90a3\u4e9b\uff0c\u4f60\u5149\u5927\u706b\u5c0f\u706b\u7684\u8c03\u8282\uff0c\u80fd\u6709\u4ec0\u4e48\u672c\u8d28\u53d8\u5316\uff1f\u4f60\u5175\u8425\u91cc\u603b\u5171\u5c31\u4e00\u4e2a\u8425\uff0c\u503e\u5de2\u800c\u51fa\uff0c\u53c8\u80fd\u600e\u4e48\u6837\uff1f \u6709\u6b63\u5e38\u60c5\u51b5\uff0c\u5c31\u6709\u7279\u6b8a\u60c5\u51b5\u3002 \u4e39\u9053\u7406\u8bba\u4f53\u7cfb\u8ba4\u4e3a\uff0c\u5148\u5929\u6c14\u662f\u4ece\u80ce\u4e2d\u5e26\u6765\u7684\u3002\u4eba\u5728\u80ce\u513f\u4ee5\u53ca\u5a74\u513f\u521a\u51fa\u751f\u65f6\u671f\uff0c\u53ef\u4ee5\u91c7\u96c6\u865a\u7a7a\u4e2d\u7684\u5148\u5929\u6c14\u3002\u800c\u4eba\u6210\u957f\u4ee5\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u505a\u529f\u592b\u7684\u65b9\u5f0f\uff0c\u91c7\u96c6\u5148\u5929\u6c14\u3002\u8fd9\u662f\u5148\u5929\u529f\u592b\u4e0e\u540e\u5929\u529f\u592b\u7684\u4e00\u4e2a\u672c\u8d28\u533a\u522b\uff0c\u4e5f\u662f\u540e\u5929\u529f\u592b\u5929\u82b1\u677f\u6240\u5728\u3002 \u540e\u5929\u529f\u592b\uff0c\u65e0\u8bba\u600e\u4e48\u64cd\u4f5c\uff0c\u90fd\u4e0d\u53ef\u80fd\u91c7\u53d6\u5230\u5148\u5929\u6c14 \u3002\u8fd9\u5c31\u50cf\u70ed\u6c14\u7403\u98de\u7684\u518d\u9ad8\uff0c\u4e5f\u4e0a\u4e0d\u4e86\u6708\u7403\u4e00\u6837\uff0c\u4e0d\u662f\u4f60\u6c34\u5e73\u9ad8\u4e0d\u9ad8\u7684\u95ee\u9898\uff0c\u70ed\u6c14\u7403\u98de\u884c\u7684\u539f\u7406\u51b3\u5b9a\u4e86\u5b83\u5c31\u4e0d\u53ef\u80fd\u4e0a\u6708\u7403\u3002 \u8fd8\u7528\u6253\u4ed7\u6bd4\u55bb\u3002\u540e\u5929\u529f\u592b\u662f\u6709\u6548\u7684\u8c03\u914d\u519b\u961f\uff0c\u5148\u5929\u529f\u592b\uff0c\u5c31\u662f\u76f4\u63a5\u589e\u5f3a\u4f60\u7684\u7efc\u5408\u56fd\u529b\u3002 \u8fd9\u4e2a\u725b\u53c9\u4e86\u3002\u7efc\u5408\u56fd\u529b\u78be\u538b\uff0c\u4f60\u6839\u672c\u4e0d\u9700\u8981\u64cd\u5fc3\u4ec0\u4e48\u6218\u672f\uff0c\u4e00\u6837\u6253\u80dc\u4ed7\u3002\u4e00\u4e2a\u8fde\u6253\u4e0d\u8d62\u6211\u8fd9\u513f\u6709\u822a\u6bcd\u7f16\u961f\uff0c\u7f8e\u56fd\u6253\u963f\u5bcc\u6c57\u8981\u4e2a\u9524\u5b50\u6218\u672f\u3002 \u8fd9\u5c31\u662f\u4e39\u9053\u4fee\u884c\u8fc7\u7a0b\u4e2d\u5bbf\u75be\u5168\u6d88\u8bf4\u6cd5\u7684\u6765\u6e90\u3002\u8bf7\u8bb0\uff0c \u5bbf\u75be\u5168\u6d88\u662f\u57fa\u4e8e\u5148\u5929\u529f\u592b\u800c\u4e0d\u662f\u540e\u5929\u529f\u592b \u3002\u4e0d\u8981\u53bb\u4fe1\u90a3\u4e9b\u5927\u5e08\u4e86\uff0c\u4efb\u4f55\u5149\u602a\u9646\u79bb\u7684\u79d8\u4f20\u529f\u592b\uff0c\u90fd\u4e0d\u53ef\u80fd\u8bc1\u5230\u8fd9\u4e2a\u5730\u6b65\u3002\u9760\u7740\u6c14\u529f\u4e4b\u7c7b\u7684\u540e\u5929\u529f\u592b\uff0c\u672c\u8eab\u8eab\u4f53\u6bd4\u8f83\u5f3a\u58ee\uff0c\u6cbb\u597d\u5c0f\u6bdb\u5c0f\u75c5\u7684\u6709\uff0c\u5230\u5bbf\u75be\u5168\u6d88\u7684\u5730\u6b65\u4f60\u60f3\u90fd\u4e0d\u7528\u60f3\u3002 \u5148\u5929\u529f\u592b\u53ef\u4ee5\u8bc1\u5bbf\u75be\u5168\u6d88\uff0c\u662f\u4e0d\u662f\u5f88\u7f8e\u597d\uff1f\u5475\u5475\uff0c\u662f\u5f88\u7f8e\uff0c\u4f60\u60f3\u5f97\u5f88\u7f8e\u3002","title":"4\u5148\u5929\u529f\u592b\u3002"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/#5","text":"\u9996\u5148\uff0c\u80fd\u8fdb\u5165\u91c7\u96c6\u5148\u5929\u6c14\u8fd9\u4e2a\u5c42\u6b21\u7684\u4eba\uff0c\u5c11\u4e4b\u53c8\u5c11\u3002\u7edd\u5927\u90e8\u5206\u4eba\uff0c\u7ec3\u4e00\u8f88\u5b50\u6c14\u529f\uff0c\u7ad9\u6869\uff0c\u6253\u5750\u7b49\u7b49\uff0c\u90fd\u6ca1\u89c1\u8fc7\u5143\u795e\uff0c\u6839\u672c\u6d89\u53ca\u4e0d\u5230\u5148\u5929\u8fd9\u4e2a\u5c42\u6b21\uff0c\u4e0d\u7ba1\u662f\u5148\u5929\u6c14\u8fd8\u662f\u5148\u5929\u795e\u3002\u4e00\u4e2a\u5728\u4eba\u4e16\u95f4\u751f\u6d3b\u4e86\u51e0\u5341\u5e74\u7684\u4eba\uff0c\u8981\u8bc1\u5165\u80ce\u513f\u7684\u610f\u8bc6\u72b6\u6001\uff0c\u8c08\u4f55\u5bb9\u6613\uff1f\u8bf7\u626a\u5fc3\u81ea\u95ee\uff0c\u4e0d\u88c5\u903c\uff0c\u4e0d\u5439\u725b\uff0c\u5b9e\u5b9e\u5728\u5728\u8bf4\u4e00\u53e5\uff0c\u4f60\u5b9e\u8bc1\u8fc7\u54ea\u6015\u4e00\u6b21\u5143\u795e\u663e\u50cf\u5417\uff1f \u7136\u540e\u5728\u89c1\u5230\u5143\u795e\u7684\u57fa\u7840\u4e0a\uff0c\u8981\u6c42\u4f60\u6bcf\u6b21\u90fd\u8fdb\u5165\u5143\u795e\u663e\u50cf\uff0c\u518d\u8981\u6c42\u4f60\u5728\u5143\u795e\u72b6\u6001\u8fdb\u884c\u4e3b\u52a8\u64cd\u4f5c\uff0c\u4f60\u80fd\u505a\u5230\u5417\uff1f\u6211\u4e2a\u4eba\u7684\u7ecf\u9a8c\uff0c\u8fd9\u4e09\u4ef6\u4e8b\u60c5\uff0c\u96be\u5ea6\u7528\u51e0\u4f55\u7ea7\u589e\u957f\u6765\u63cf\u8ff0\u90fd\u4e0d\u4e00\u5b9a\u591f\u3002\u5f53\u7136\uff0c\u5f80\u4e0b\u8fd8\u6709\u66f4\u53d8\u6001\u7684\uff0c\u6b64\u5904\u4e0d\u8bba\u3002 \u603b\u4e4b\uff0c\u771f\u6b63\u80fd\u505a\u597d\u5148\u5929\u529f\u592b\u7684\uff0c\u522b\u8bf4\u4e07\u91cc\u6311\u4e00\uff0c\u767e\u4e07\u91cc\u6311\u4e00\u90fd\u662f\u5ba2\u6c14\u7684\u3002 \u96be\u5ea6\u8fd8\u4e0d\u662f\u552f\u4e00\u7684\u95ee\u9898\uff0c\u901f\u5ea6\u4e5f\u662f \u3002 \u9664\u4e86\u67d0\u4e9b\u5b97\u5e08\u7ea7\u522b\u7684\u6781\u7aef\u725b\u4eba\u4e0d\u7b97\uff0c\u5bf9\u5927\u90e8\u5206\u4eba\u800c\u8a00\uff0c\u901a\u8fc7\u505a\u529f\u592b\u8865\u5145\u5148\u5929\u6c14\u7684\u901f\u5ea6\uff0c\u5b9e\u5728\u592a\u6162\u3002 \u4eba\u6d3b\u7740\uff0c\u5c31\u5fc5\u7136\u6d88\u8017\u751f\u547d\u529b\uff0c\u4e5f\u5c31\u662f\u5148\u5929\u6c14\u3002\u4eff\u4f5b\u4e00\u4e2a\u6e38\u6cf3\u6c60\u4e00\u76f4\u5728\u6f0f\u6c34\uff0c\u5c24\u5176\u751f\u75c5\u4e86\u4ee5\u540e\uff0c\u6f0f\u7684\u66f4\u5feb\u3002\u8fd9\u65f6\u5019\u4f60\u53bb\u9ea6\u5f53\u52b3\u8981\u6839\u5438\u7ba1\u5f80\u6cf3\u6c60\u6ce8\u6c34\uff0c\u6709\u4e2a\u5c41\u7528\u3002 \u5f53\u7136\u8fd8\u6709\u4e00\u4e2a\u529e\u6cd5\uff0c\u4f60\u53ef\u4ee5\u51cf\u5c11\u6d88\u8017\u3002\u8865\u7684\u5c11\uff0c\u6d88\u8017\u7684\u66f4\u5c11\uff0c\u6cf3\u6c60\u91cc\u7684\u6c34\u81ea\u7136\u6e10\u6e10\u591a\u4e86\u3002\u4e00\u5750\u5750\u4e09\u5929\uff0c\u5403\u70b9\u4e1c\u897f\uff0c\u7ee7\u7eed\u5750\u3002\u53ef\u4ee5\uff0c\u6e05\u4fee\u4e00\u8109\u8bb2\u7a76\u7684\u5c31\u662f\u6d3b\u6b7b\u4eba\u529f\u592b\uff0c\u6ca1\u95ee\u9898\uff0c\u4f60\u505a\u5f97\u5230\u5c31\u884c\u3002\u4f46\u662f\u522b\u5fd8\u4e86\uff0c\u4f60\u7684\u521d\u8877\u662f\u6cbb\u75c5\u3002\u6cbb\u75c5\u4e3a\u4e86\u4ec0\u4e48\uff1f \u4e0d\u5355\u5355\u662f\u5ef6\u957f\u5bff\u547d\uff0c\u8fd8\u8981\u63d0\u9ad8\u751f\u6d3b\u8d28\u91cf\u3002\u50cf\u6d3b\u6b7b\u4eba\u4e00\u6837\u4e00\u5750\u5750\u4e09\u5929\uff0c\u4f60\u7684\u751f\u6d3b\u8d28\u91cf\u63d0\u9ad8\u5728\u54ea\u91cc\uff1f \u4e3a\u4e86\u4e0d\u77e5\u9053\u591a\u6d3b\u51e0\u5e74\uff0c\u82b1\u4e8620\u5e74\u65f6\u95f4\u6253\u5750\uff0c\u6709\u610f\u601d\u5417\uff1f \u5386\u53f2\u4e0a\u4e39\u5bb6\u9ad8\u4eba\u5927\u5b9a\u4e09\u5929\uff0c\u5927\u5b9a\u4e03\u5929\u7b49\u7b49\u662f\u5e38\u4e8b\uff0c\u4ed6\u4eec\u7684\u4fee\u884c\u6307\u5411\u9633\u795e\u51b2\u4e3e\uff0c\u4e0d\u662f\u6cbb\u75c5\u3002\u4f60\u4e3a\u4e86\u6cbb\u75c5\u50cf\u4ed6\u4eec\u4e00\u6837\u629b\u5f03\u4e16\u4fd7\u7684\u4e00\u5207\uff0c\u505a\u6307\u5411\u9633\u795e\u7684\u529f\u592b\uff0c\u90a3\u4e0d\u662f\u5927\u70ae\u6253\u868a\u5b50\u5417\uff1f\u8fd8\u662f\u82b1\u5de8\u8d44\u9020\u4e00\u95e8\u81ea\u4ece\u6709\u4e86\u5f55\u50cf\u6280\u672f\u540e\u4ece\u6765\u6ca1\u8bc1\u5b9e\u8fc7\u7684\u5927\u70ae\u53bb\u6253\u868a\u5b50\uff0c\u4f60\u786e\u4fe1\u8fd9\u4e48\u505a\u9760\u8c31\uff1f \u96be\u5ea6\u548c\u901f\u5ea6\u90fd\u4e0d\u662f\u6700\u8981\u547d\u7684\u95ee\u9898 \uff0c\u6700\u8981\u547d\u7684\u662f\uff0c\u4f60\u7684\u8eab\u4f53\u72b6\u6001\u4f1a\u76f4\u63a5\u5f71\u54cd\u5230\u4f60\u5165\u9759\u5165\u5b9a\u7684\u80fd\u529b\u3002 \u4e16\u95f4\u5531\u9ad8\u8c03\u8005\u5e38\u8a00\uff0c\u4e0d\u6267\u8457\u8272\u8eab\uff0c\u4e0d\u4e3a\u5f62\u6240\u7d2f\u7b49\u7b49\uff0c\u9053\u7406\u6ca1\u9519\u3002\u4f46\u662f\u88c5\u903c\u6ca1\u7528\uff0c\u4f60\u5f97\u505a\u5f97\u5230\u3002 \u6211\u5c31\u6700\u7b80\u5355\u7684\u95ee\u4e00\u53e5\uff0c\u7259\u75db\u7684\u65f6\u5019\uff0c\u4f60\u771f\u6709\u672c\u4e8b\u6253\u5750\u5165\u5b9a\u4e48\uff1f \u8eab\u4f53\u51fa\u4e86\u4e25\u91cd\u95ee\u9898\u7684\u65f6\u5019\uff0c\u4f60\u5b9a\u4e0d\u4e0b\u53bb\u3002\u4f60\u5b9a\u4e0d\u4e0b\u53bb\uff0c\u5c31\u6ca1\u6cd5\u8865\u5148\u5929\u6c14\u3002\u4f60\u4e0d\u80fd\u8865\u5145\u5148\u5929\u6c14\uff0c\u6ca1\u529e\u6cd5\u5904\u7406\u4e25\u91cd\u7684\u8eab\u4f53\u95ee\u9898\u3002\u8eab\u4f53\u95ee\u9898\u66f4\u4e25\u91cd\uff0c\u66f4\u5b9a\u4e0d\u4e0b\u53bb\u3002\u3002\u3002\u3002\u3002 \u6076\u6027\u5faa\u73af\u4e86\u5427\u3002 \u8981\u6253\u7834\u6076\u6027\u5faa\u73af\u4e5f\u4e0d\u662f\u5b8c\u5168\u4e0d\u53ef\u80fd\uff0c\u4f60\u5148\u505a\u5230\u7259\u75db\u7684\u65f6\u5019\u7167\u6837\u5165\u5b9a\u5427\u3002\u53cd\u6b63\u6211\u662f\u505a\u4e0d\u5230\u3002","title":"5\u7406\u60f3\u5f88\u4e30\u6ee1\uff0c\u73b0\u5b9e\u5f88\u9aa8\u611f\u3002"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/#6","text":"\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u8fd9\u4e24\u6bb5\u4e39\u7ecf\u662f\u9ec4\u5143\u5409\u5bf9\u5f1f\u5b50\u6709\u9488\u5bf9\u6027\u7684\u8bb2\u89e3\uff0c\u4f60\u4e0d\u80fd\u628a\u5176\u5f53\u4f5c\u666e\u9002\u6027\u7684\u4e39\u8bc0\u5904\u7406\u3002\u529f\u592b\u5230\u6b64\u5730\u6b65\uff0c\u7406\u89e3\u9519\u8bef\u6216\u8005\u5904\u7406\u7684\u4e0d\u597d\uff0c\u662f\u6709\u4e00\u5b9a\u5371\u9669\u6027\u7684\u3002 \u60df\u80fd\u865a\u4e4b\u6781\uff0c\u9633\u4e43\u4ece\u4e2d\u800c\u751f\uff0c\u6211\u5373\u4ee5 \u771f\u610f \u91c7\u53d6\u4e4b\uff0c\u70f9\u70bc\u4e4b\uff0c\u6c90\u6d74\u6e29\u517b\u4e4b\uff0c\u4e00\u5982\u5929\u5730\u521d\u5f00\uff0c\u70df\u4e91\u969c\u853d\uff0c\u771f\u9633\u4e00\u5230\uff0c\u800c\u878d\u878d\u6625\u610f\uff0c\u65e0\u975e\u662f\u4e00\u56e2\u592a\u548c\uff0c\u915d\u4e4b\u917f\u4e4b\uff0c\u4ee5\u5916\u6089\u5316\u4e3a\u4e4c\u6709\u77e3\u3002\u6709\u8005\u65e2\u5316\uff0c\u800c\u65e0\u8005\u53c8\u4ece\u6b64\u751f\u3002\u76d6\u5b9e\u8005\u865a\u800c\u865a\u8005\u5b9e\uff0c\u8981\u7686\u4e00\u9633\u4e4b\u6c14\u81ea\u7136\u9020\u5316\u4e8e\u5176\u4e2d\uff0c\u800c\u521d\u65e0\u5bb9\u5fc3\u7109\u3002\u300a\u5b9a\u5149\u7ecf\u300b\u4e91\uff1a\u201c\u5f97\u9053\u4e4b\u9a8c\uff0c\u7b2c\u4e00\u5bbf\u75be\u9f50\u6d88\uff0c\u8eab\u5fc3\u723d\u5feb\uff0c\u884c\u6b65\u5982\u98de\uff0c\u989c\u8272\u5149\u8000\u201d\uff0c\u7686\u4e00\u9633\u4e4b\u5316\u5316\u751f\u751f\u8005\u4e5f\u3002 \u679c\u80fd\u4e58\u7384\u5173\u4e00\u7a8d\u4e0d\u5931\u5176\u673a\u2014\u2014\u987b\u77e5\u5148\u5929\u5143\u6c14\u5fc5\u8981\u5148\u5929\u9634\u9633\u6c34\u706b\u8c03\u517b\uff0c\u59cb\u80fd\u540c\u7c7b\u76f8\u4eb2\uff0c\u53e4\u4eba\u55bb\u201c\u62b1\u9e21\u5f53\u7528\u5375\uff0c\u8865\u9505\u5fc5\u9700\u91d1\u201d\u662f\u77e3\u2014\u2014\u7531\u662f\u4ee5\u6211 \u5143\u795e \u5f15\u4e4b\u5f00\u5173\uff0c\u4e0a\u6ce5\u4e38\uff0c\u6211\u5934\u76ee\u4e4b\u660f\u6655\u8005\uff0c\u88ab\u6b64\u795e\u706b\u4e00\u7167\uff0c\u5c3d\u5316\u4e3a\u795e\u6c34\uff0c\u5165\u4e8e\u7edb\u5bab\uff0c\u4e00\u7247\u6e05\u51c9\uff0c\u6b64\u5373\u300a\u6613\u300b\u6240\u8c13\u201c\u5c71\u6cfd\u901a\u6c14\u201d\u4e5f\u3002\u7136\u6b64\u6c14\u6b64\u6db2\uff0c\u5b9e\u4e3a\u957f\u751f\u5927\u836f\uff0c\u53ef\u4ee5\u517b\u80b2\u51e1\u4f53\uff0c\u751f\u6210\u6cd5\u8eab \u3002\u5b66\u4eba\u679c\u5f97\u6b64\u771f\u6c14\u7075\u6db2\uff0c\u591a\u5e74\u987d\u6b8b\u5bbf\u75be\uff0c\u7686\u53ef\u4ece\u6b64\u800c\u666e\u6d88\u3002 \u53ea\u6015\u4e00\u676f\u4e4b\u6c34\uff0c\u96be\u6551\u8f66\u85aa\u4e4b\u706b\u8033\u3002\u4e50\u80b2\u5802\u8bed\u5f55 \u770b\u4e0d\u61c2\u6ca1\u5173\u7cfb\uff0c\u4f60\u53ea\u8981\u77e5\u9053\u9ec4\u5143\u5409\u628a\u5bbf\u75be\u5168\u6d88\u7684\u9053\u7406\u8bf4\u900f\u4e86\u5c31\u884c\u3002 \u770b\u6e05\u695a\u4e86\uff0c\u4e0d\u662f\u4ec0\u4e48\u6c14\u529f\u5c0f\u5468\u5929\u4e0d\u662f\u4ec0\u4e48\u771f\u6c14\u8fd0\u884c\u6cd5\u3002 \u771f\u610f\u91c7\u53d6\u4e4b\uff0c\u4ee5\u6211\u5143\u795e\u5f15\u4e4b\u5f00\u5173\uff0c\u4e0a\u6ce5\u4e38\u3002 \u5143\u795e\uff0c\u5143\u795e\uff0c\u5143\u795e\u3002 \u91cd\u8981\u7684\u4e8b\u60c5\u8bf4\u4e09\u904d\u3002 \u9759\u4e3a\u5143\u795e\uff0c\u52a8\u4e3a\u771f\u610f\u3002\u8fd9\u4e2a\u662f\u5728 \u5143\u795e\u72b6\u6001 \u4e0b\u8fdb\u884c\u7684\u4e3b\u52a8\u64cd\u4f5c\uff0c\u4e0d\u662f\u540e\u5929\u529f\u592b\u80fd\u6d89\u53ca\u5230\u7684\u5c42\u9762\u3002\u6839\u672c\u4e0d\u662f\u4ec0\u4e48\u4f60\u540e\u5929\u8bc6\u795e\u610f\u5b88\u5f15\u53d1\u7684\u4ec0\u4e48\u6c14\u611f\uff0c\u70ed\u611f\uff0c\u9488\u523a\u611f\u7b49\u7b49\uff0c\u516b\u7aff\u5b50\u6253\u4e0d\u7740\u3002 \u8fd9\u4e2a\u771f\u4e0d\u5bb9\u6613\u505a\u5230\uff0c\u65e0\u6cd5\u5b9e\u8bc1\u5143\u795e\u7684\u4eba\u5c31\u522b\u60f3\u592a\u591a\u4e86\u3002\u522b\u8bf4\u505a\u5230\uff0c\u8981\u505a\u4ec0\u4e48\u4f60\u90fd\u60f3\u4e0d\u51fa\u6765\u3002\u800c\u4e14\u6211\u4e2a\u4eba\u603b\u7ed3\uff0c\u5143\u795e\u72b6\u6001\u4e0b\u4e3b\u52a8\u64cd\u4f5c\u6bd4\u8fdb\u5165\u5143\u795e\u72b6\u6001\u96be\u5ea6\u5927\u592a\u591a\u4e86\u3002\u5076\u5c14\u5b9e\u8bc1\u4e00\u4e24\u6b21\u5143\u795e\uff0c\u6839\u672c\u4e0d\u8db3\u4ee5\u4fdd\u8bc1\u4f60\u5b8c\u6210\u8fd9\u4e2a\u64cd\u4f5c\u3002\u4e3a\u4ec0\u4e48\u4e39\u7ecf\u5bf9\u8fd9\u4e00\u5757\u7684\u63cf\u8ff0\u5927\u591a\u542b\u7cca\u5176\u8f9e\uff1f\u662f\u771f\u7684\u5f88\u96be\u7528\u8bed\u8a00\u63cf\u8ff0\u3002 \u5c31\u7b97\u4f60\u505a\u5230\u4e86\uff0c\u8fd8\u6709\u4e0b\u53e5 \u53ea\u6015\u4e00\u676f\u4e4b\u6c34\uff0c\u96be\u6551\u8f66\u85aa\u4e4b\u706b\u8033\u3002 \u8fd9\u5c31\u662f\u524d\u9762\u8bb2\u7684\u91cf\u7684\u95ee\u9898\u4e86\u3002\u771f\u7684\u5f88\u65e0\u8bed\u3002 \u672c\u5c31\u662f\u4e00\u4e2a\u9ad8\u96be\u5ea6\u7684\u64cd\u4f5c\uff0c\u8fd8\u8981\u6c42\u4fdd\u8d28\u4fdd\u91cf\u7684\u505a\u5230\uff1f\u60a8\u8981\u771f\u80fd\u505a\u5230\uff0c\u8bf7\u5141\u8bb8\u6211\u79f0\u60a8\u4e00\u58f0\u201c\u5927\u4f6c\u201d\u3002","title":"6\u6458\u4e24\u6bb5\u4e39\u7ecf"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/#7","text":"\u5982\u679c\u4f60\u89c9\u5f97\u540e\u5929\u529f\u592b\u6216\u8bb8\u4e5f\u80fd\u521b\u9020\u5947\u8ff9\uff0c\u62b1\u4e07\u4e00\u7684\u5e0c\u671b\uff0c\u4e0d\u59a8\u770b\u770b\u5927\u660e\u725b\u4eba \u738b\u9633\u660e \u7684\u4e8b\u60c5\u3002 \u5982\u679c\u627e\u5bfb\u6700\u63a5\u8fd1\u6216\u8005\u8fbe\u5230\u5723\u4eba\u5fc3\u5883\u7684\u4eba\uff0c\u9633\u660e\u5148\u751f\u7edd\u5bf9\u662f\u5176\u4e2d\u4e4b\u4e00\u3002 \u738b\u9633\u660e\u516b\u4e5d\u5c81\u7684\u65f6\u5019\u5c31\u5f00\u59cb\u7422\u78e8\u9053\u5bb6\u529f\u592b\uff0c\u5176\u540e\u904d\u5386\u540d\u5c71\uff0c\u5230\u5904\u53c2\u7384\u8bbf\u9053\uff0c\u65b0\u5a5a\u4e4b\u591c\u90fd\u662f\u5728\u9053\u89c2\u5ea6\u8fc7\u7684\u3002 \u201c\u544a\u75c5\u5f52\u8d8a\uff0c\u7b51\u5ba4\u9633\u660e\u6d1e\u4e2d\uff0c\u884c\u5bfc\u5f15\u672f\u3002\u201d\u8fd9\u5bfc\u5f15\u672f\u4e00\u770b\u5c31\u77e5\u9053\uff0c\u5c31\u662f\u540e\u5929\u529f\u592b\u3002 \u5177\u4f53\u738b\u9633\u660e\u505a\u7684\u4ec0\u4e48\u529f\u592b\u96be\u4ee5\u8003\u8bc1\uff0c\u4f46\u5f53\u65f6\u738b\u9633\u660e\u5df2\u7ecf\u4e09\u5341\u591a\u5c81\uff0c\u7422\u78e8\u9053\u5bb6\u529f\u592b\u4e8c\u5341\u591a\u5e74\u4e86\u3002\u4ee5\u4ed6\u7684\u667a\u5546\uff0c\u9605\u5386\uff0c\u6587\u5316\u5e95\u8574\uff0c\u96be\u9053\u8fd8\u5206\u4e0d\u51fa\u529f\u592b\u7684\u771f\u5047\u6765\uff1f\u603b\u7684\u6765\u8bf4\uff0c\u4ed6\u505a\u7684\u90a3\u4e9b\u529f\u592b\uff0c\u5dee\u4e0d\u5230\u90a3\u91cc\u53bb\u3002 \u4f46\u6548\u679c\u5982\u4f55\uff1f \u738b\u9633\u660e\u4e2d\u5e74\u4ee5\u540e\u8eab\u4f53\u4e00\u76f4\u4e0d\u597d\uff0c\u5230\u6700\u540e\u4e5f\u6ca1\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u201c \u4eca\u5df2\u4f59\u4e09\u5341\u5e74\u77e3\uff0c\u9f7f\u6e10\u6447\u52a8\uff0c\u53d1\u5df2\u6709\u4e00\u4e8c\u830e\u53d8\u5316\u6210\u767d\uff0c\u76ee\u5149\u4ec5\u76c8\u5c3a\uff0c\u58f0\u95fb\u51fd\u4e08\u4e4b\u5916\uff0c\u53c8\u5e38\u7ecf\u6708\u5367\u75c5\u4e0d\u51fa\uff0c\u836f\u91cf\u9aa4\u8fdb\uff0c\u6b64\u6b86\u5176\u6548\u4e5f\uff0c\u800c\u76f8\u77e5\u8005\u72b9\u5984\u8c13\u4e4b\u80fd\u5f97\u5176\u9053\u3002 \u201d\u5c31\u770b\u8fd9\u4e00\u6bb5\u8bdd\uff0c\u4f60\u80fd\u8bf4\u4ed6\u8eab\u4f53\u5f3a\u5065\u4e48\uff1f \u800c\u540e\u5728\u300a\u4e0e\u9646\u539f\u9759\u300b\u6587\u4e2d\uff0c\u66f4\u660e\u786e\u8868\u793a\u4ed6\u653e\u5f03\u4e86\u4ee5\u4e39\u9053\u6cbb\u75c5\u7684\u6253\u7b97\u3002 \u8fd9\u5c31\u662f\u4ee5\u9633\u660e\u5148\u751f\u7684\u5fc3\u6027\u4fee\u4e3a\uff0c\u505a\u540e\u5929\u529f\u592b\u7684\u6548\u679c\u3002 \u738b\u9633\u660e\u90fd\u65e0\u6cd5\u7528\u540e\u5929\u529f\u592b\u7a81\u7834\u5929\u82b1\u677f\uff0c\u4f60\u7684\u5404\u65b9\u9762\u80fd\u529b\u6bd4\u738b\u9633\u660e\u600e\u4e48\u6837\u81ea\u5df1\u60f3\u3002 \u82e5\u4f60\u89c9\u5f97\uff0c\u9633\u660e\u5148\u751f\u505a\u7684\u7ec8\u7a76\u53ea\u662f\u540e\u5929\u529f\u592b\uff0c\u6216\u8005\u5e76\u975e\u4e13\u95e8\u7684\u9053\u5bb6\u4fee\u884c\u8005\uff0c\u90a3\u4e48\uff0c\u8bf7\u7ee7\u7eed\u770b\u3002 \u6613\u5fc3\u83b9\uff0c\u524d\u9053\u534f\u526f\u4f1a\u957f\uff0c\u5168\u771f\u9f99\u95e8\u6d3e\u7b2c\u4e8c\u5341\u4e8c\u4ee3\u9053\u58eb \u3002\uff08\u4ee5\u4e0b\u8a00\u8bba\u6765\u81ea\u767e\u5ea6\u767e\u79d1\uff09 1975\u5e74\uff0c\u5fc3\u83b9\u5bf9\u51e0\u4f4d\u8001\u9053\u53cb\u8bf4\uff1a\u201c\u660e\u5e74\u4e1c\u5317\u707e\u53d8\u5f02\u5e38\uff0c\u5f71\u54cd\u5168\u56fd\u3002\u201d\u65c1\u4eba\u95ee\uff1a\u201c\u4f1a\u4e0d\u4f1a\u5f71\u54cd\u5230\u9752\u57ce\u5c71\uff0c\u80fd\u79b3\u707e\u5417\uff1f\u201d\u5fc3\u83b9\u56de\u7b54\uff1a\u201c\u6211\u5df2\u597d\u591a\u5e74\u6ca1\u89c1\u5143\u795e\u4e86\uff0c\u6700\u8fd1\u4f53\u8870\u795e\u660f\uff0c\u6050\u6015\u5df2\u96be\u79b3\u707e\u3002\u660e\u5e74\u6211\u5927\u9650\u5c06\u4e34\uff0c\u5230\u65f6\u6709\u4eba\u5f3a\u884c\u706b\u5316\uff0c\u82e5\u5165\u706b\u4e0d\u5316\uff0c\u5219\u6211\u4f1a\u79b3\u707e\u7684\u3002\u201d \u770b\u8fd9\u53e5\u201c \u6211\u5df2\u597d\u591a\u5e74\u6ca1\u89c1\u5143\u795e\u4e86\uff0c \u6700\u8fd1\u4f53\u8870\u795e\u660f\u3002\u3002\u3002\u3002\u201d \u660e\u773c\u4eba\u4e00\u770b\u5c31\u77e5\u9053\u8fd9\u610f\u5473\u7740\u4ec0\u4e48\u3002\u89c1\u5143\u795e\u5c31\u662f\u89c1\u5143\u795e\uff0c\u6ca1\u4ec0\u4e48\u7384\u7684\u3002\u81f3\u4e8e\u5165\u706b\u4e0d\u5316\u4ec0\u4e48\u7684\uff0c\u5176\u5b9e\u660e\u773c\u4eba\u4e5f\u80fd\u770b\u660e\u767d\uff0c\u4e0e\u672c\u6587\u65e0\u5173\uff0c\u4e0d\u6d89\u53ca\u3002 \u8fd9\u5c31\u662f\u6807\u51c6\u7684\u8eab\u4f53\u72b6\u6001\u5f71\u54cd\u5165\u5b9a\u6548\u679c\u3002\u6613\u5fc3\u83b9\u9053\u957f\u5728\u540e\u671f\uff0c\u8eab\u4f53\u72b6\u6001\u6025\u5267\u4e0b\u964d\uff0c\u5bfc\u81f4\u4ed6\u5df2\u7ecf\u6ca1\u529e\u6cd5\u505a\u5230\u8bc6\u795e\u9000\u4f4d\uff0c\u5143\u795e\u663e\u50cf\u4e86\u3002\u8fd9\u5df2\u7ecf\u4e0d\u662f\u529f\u592b\u505a\u5f97\u597d\u4e0d\u597d\u7684\u95ee\u9898\u4e86\uff0c\u751a\u81f3\u4ed6\u8fde\u505a\u5148\u5929\u529f\u592b\u7684\u8d44\u683c\u90fd\u6ca1\u4e86\u3002 \u9053\u534f\u526f\u4f1a\u957f\uff0c\u5728\u5dc5\u5cf0\u72b6\u6001\u4fee\u4e3a\uff0c\u628a\u77e5\u4e4e\u4e0a\u7edd\u5927\u90e8\u5206\u4eba\u6309\u5728\u5730\u4e0a\u6469\u64e6\u5e94\u8be5\u6ca1\u4ec0\u4e48\u95ee\u9898\uff0c\u4f46\u5728\u8eab\u4f53\u72b6\u6001\u4e0b\u964d\u7684\u65f6\u5019\uff0c\u8fde\u5148\u5929\u529f\u592b\u7684\u95e8\u69db\u90fd\u8fc7\u4e0d\u53bb\uff0c\u4f60\u89c9\u5f97\u4e00\u822c\u4eba\uff0c\u6709\u591a\u5927\u673a\u4f1a\u5f3a\u884c\u6392\u9664\u8eab\u4f53\u72b6\u6001\u7684\u5e72\u6270\uff0c\u8bc1\u5165\u5148\u5929\u72b6\u6001\uff0c\u4e43\u81f3\u505a\u597d\u5148\u5929\u529f\u592b\uff0c\u6253\u7834\u4e0a\u9762\u8bf4\u7684\u90a3\u4e2a\u6076\u6027\u5faa\u73af\uff1f","title":"7\u4e3e\u4e24\u4e2a\u4f8b\u5b50"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%85%B3%E4%BA%8E%E4%B8%B9%E9%81%93%E6%B2%BB%E7%97%85/#8","text":"\u4e39\u9053\u529f\u592b\uff0c\u5c31\u662f\u4e00\u4e2a\u6307\u5411\u9633\u795e\u7684\u8d85\u8131\u529f\u592b\uff0c\u62a2\u5728\u4f60\u8eab\u4f53\u5d29\u6e83\u524d\uff0c\u5f04\u51fa\u9633\u795e\uff0c\u8d85\u8131\u751f\u6b7b\u3002 \u4e39\u9053\u4fee\u884c\u7684\u771f\u6b63\u76ee\u6807\uff0c\u4ece\u6765\u90fd\u4e0d\u662f\u6cbb\u75c5\u3002 \u9633\u795e\u662f\u5426\u786e\u5b9e\u5b58\u5728\u672c\u6587\u4e0d\u6d89\u53ca\uff0c\u4f46\u6240\u8c13\u6cbb\u75c5\uff0c\u5176\u5b9e\u53ea\u662f\u6027\u547d\u53cc\u4fee\u4ea7\u751f\u7684\u4e00\u4e2a\u610f\u5916\u4ea7\u54c1\u3002 \u7528\u4e39\u9053\u529f\u592b\u6cbb\u75c5\uff0c\u5206\u51e0\u79cd\u60c5\u51b5 A\u517b\u751f\u3002\u8eab\u4f53\u57fa\u672c\u5065\u5eb7\u7684\u60c5\u51b5\u4e0b\uff0c\u4f20\u7edf\u533b\u5b66\u548c\u73b0\u4ee3\u533b\u5b66\u90fd\u7ed9\u51fa\u4e86\u517b\u8eab\u5efa\u8bae\u3002\u8fd9\u4e9b\u5efa\u8bae\u90fd\u5dee\u4e0d\u591a\uff0c\u65e0\u975e\u662f\u5747\u8861\u996e\u98df\uff0c\u5408\u7406\u4f5c\u606f\uff0c\u9002\u91cf\u8fd0\u52a8\u7b49\u7b49\u3002\u76f8\u4fe1\u6211\uff0c\u8fd9\u4e9b\u6bd4\u4e39\u9053\u529f\u592b\u6548\u7387\u9ad8\u7684\u591a\u3002 B\u82e5\u662f\u5c0f\u6bdb\u5c0f\u75c5\uff0c\u672c\u5c31\u4e0d\u7528\u53bb\u533b\u9662\uff0c\u4f11\u606f\u4e24\u4e09\u5929\u5c31\u597d\u7684\u3002\u82e5\u4f60\u80fd\u505a\u6b63\u786e\u7684\u529f\u592b\uff0c\u53ef\u80fd\u5f88\u5feb\u5c31\u597d\u3002\u5728\u786e\u4fdd\u4f60\u505a\u7684\u529f\u592b\u6ca1\u95ee\u9898\u7684\u524d\u63d0\u4e0b\uff0c\u9053\u7406\u4e0a\u8bb2\uff0c\u53ef\u4ee5\u3002\u4f46\u4e8b\u5b9e\u4e0a\u4e00\u822c\u4eba\u5f88\u96be\u4fdd\u8bc1\u4f60\u505a\u7684\u529f\u592b\u6ca1\u95ee\u9898\uff0c\u6240\u4ee5\uff0c\u8fd8\u662f\u4e0d\u5efa\u8bae\u3002 C\u82e5\u662f\u672c\u8eab\u96be\u4ee5\u81ea\u6108\uff0c\u522b\u72b9\u8c6b\uff0c \u53bb\u6b63\u89c4\u533b\u9662\uff0c\u6c42\u52a9\u73b0\u4ee3\u533b\u5b66\u3002\u8be5\u6253\u9488\u6253\u9488\uff0c\u8be5\u5403\u836f\u5403\u836f\u3002\u5343\u4e07\u522b\u88ab\u4ec0\u4e48\u6c14\u529f\uff0c\u7ad9\u6869\uff0c\u4e39\u9053\u7b49\u7b49\u803d\u8bef\u4e86\u65f6\u95f4\u3002 D\u82e5\u662f\u73b0\u4ee3\u533b\u5b66\u5b9e\u5728\u662f\u675f\u624b\u65e0\u7b56\u4e86\uff0c\u533b\u751f\u90fd\u4e0d\u7ed9\u51fa\u6cbb\u7597\u65b9\u6848\u4e86\uff0c\u53ea\u544a\u8bc9\u4f60\u60f3\u5403\u5565\u5403\u5565\uff0c\u60f3\u53bb\u54ea\u73a9\u53bb\u54ea\u73a9\u7684\u8bdd\u3002\u3002\u3002\u3002\u3002\u5982\u679c\u4f60\u89c9\u5f97\uff0c\u6b7b\u9a6c\u5f53\u6d3b\u9a6c\u533b\u603b\u597d\u8fc7\u653e\u5f03\uff0c\u90a3\u5c31\u53bb\u8d4c\u90a3\u767e\u4e07\u5206\u4e4b\u4e00\u7684\u6982\u7387\u5427\u3002\u4f46\u662f\u5230\u90a3\u4e2a\u5730\u6b65\uff0c\u57fa\u672c\u4e0a\u4f60\u5f97\u9760\u81ea\u5df1\u4e86\u3002\u6211\u7684\u4fee\u4e3a\u89c1\u77e5\u5e2e\u4e0d\u4e86\u4f60\uff0c\u6211\u4e5f\u6ca1\u89c1\u8fc7\u4efb\u4f55\u4e00\u4e2a\u4eba\u5b9e\u4fee\u5230\u8fd9\u4e2a\u5c42\u6b21\u7684\u3002\u6211\u552f\u4e00\u80fd\u7ed9\u4f60\u7684\u5efa\u8bae\u662f\uff0c \u77e5\u4e4e\u4e0a\u82e5\u6709\u4eba\u81ea\u79f0\u6709\u6b64\u4fee\u4e3a\uff0c\u62c9\u9ed1\u4e86\u5427\u3002 \u5439\u725b\u8c01\u4e0d\u4f1a\uff0c\u77e5\u4e4e\u4e0a\u5439\u9633\u795e\u4e5f\u4e0d\u8fc7\u4e00\u53e5\u8bdd\u7684\u4e8b\u60c5\u3002\u8bdd\u5df2\u7ecf\u8bf4\u5230\u8fd9\u4efd\u4e0a\u4e86\uff0c\u82e5\u8fd8\u6709\u4eba\u76f8\u4fe1\u90a3\u4e9b\u80e1\u5439\u5927\u6c14\u4e4b\u5f92\u803d\u8bef\u75c5\u60c5\uff0c\u6211\u53ea\u80fd\u8bf4\u4e00\u53e5 \u201c\u597d\u826f\u8a00\u96be\u529d**\u7684*\u201d\u3002 \u6700\u540e\u8bf4\u4e00\u53e5\u201c\u4eca\u4e4b\u5c11\u5e74\u6c42\u957f\u751f\uff0c\u53e4\u4e4b\u5c11\u5e74\u4eca\u5b89\u5728\uff1f\u201d \u4ee5\u4e0a\u3002 \u5206\u5272\u7ebf \u672c\u6587\u65e9\u5c31\u5199\u4e86\uff0c\u672c\u60f3\u7b49\u6709\u4e86\u5b9e\u8bc1\u518d\u53d1\u51fa\u6765\u3002\u7ed3\u679c\u8109\u4f4f\u6c14\u505c\u8fd9\u4e8b\u513f\u5bf9\u6211\u6765\u8bf4\u771f\u7684\u592a\u96be\u4e86\uff0c\u95ed\u5173\u4e86\u51e0\u6b21\u8fde\u8fb9\u90fd\u6ca1\u6478\u5230\u3002 \u6240\u4ee5\u8fd9\u662f\u5728\u7f3a\u5c11\u8db3\u591f\u81ea\u8eab\u5b9e\u8bc1\u7684\u524d\u63d0\u4e0b\u5199\u7684\u6587\u7ae0\uff0c\u8bf8\u4f4d\u51d1\u6d3b\u7740\u770b\u770b\u5c31\u5f97\uff0c\u522b\u592a\u5f53\u771f\u3002","title":"8\u603b\u7ed3"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%A5%B3%E7%94%9F%E6%83%B3%E8%A6%81%E4%BF%AE%E9%81%93%E8%A6%81%E6%80%8E%E4%B9%88%E5%81%9A/","text":"\u5973\u751f\u4fee\u9053\u600e\u4e48\u505a-\u4e24\u7bc7 \u5176\u5b9e\u8fd8\u5904\u5728\u7ea0\u7ed3\u7537\u5973\u4f53\u8d28\u4e0d\u540c\uff0c\u4e0d\u77e5\u5982\u4f55\u4fee\u70bc\u4e39\u9053\u7684\u4eba\uff0c\u4e0d\u5efa\u8bae\u4e0b\u624b\u5b9e\u4fee\uff0c\u5efa\u8bae\u8bfb\u900f\u4e39\u7ecf\u518d\u8bf4\uff0c\u56e0\u4e3a\u4f60\u5bf9\u4e39\u9053\u8fd8\u6ca1\u6709\u4e00\u4e2a\u7cfb\u7edf\u7684\u6982\u5ff5\u3002 \u5148\u8bf4\u7ed3\u8bba \u4e0a\u4e58\u529f\u592b\uff0c\u6ca1\u4ec0\u4e48\u7537\u5973\u533a\u522b\u3002\u4e0b\u624b\u529f\u592b\uff0c\u6709\u7684\u6cd5\u95e8\u4e5f\u6ca1\u533a\u522b\uff0c\u6709\u4e00\u90e8\u5206\u8def\u7ebf\u6709\u7537\u5973\u533a\u522b\uff0c\u4f46\u8fd9\u4e9b\u4e0d\u662f\u4e0d\u53ef\u7ed5\u8fc7\u3002 \u4e39\u9053\u5206\u547d\u529f\u6027\u529f\u4e24\u90e8\u5206\u3002\u5176\u4e2d\u547d\u529f\uff0c\u6ca1\u90a3\u4e48\u7384\u4e4e\uff0c\u8bf4\u7a7f\u4e86\u5c31\u662f\u79ef\u7cbe\u7d2f\u6c14\uff0c\u79ef\u7d2f\u5230\u540e\u5929\u7cbe\u6c14\u795e\u5177\u8db3\uff0c\u7136\u540e\u5165\u5927\u5b9a\uff0c\u529f\u592b\u5230\u4e86\uff0c\u7406\u8bba\u4e0a\u8bb2\uff0c\u81ea\u7136\u4ea7\u751f\u8109\u4f4f\u6c14\u505c\u3002\uff08\u6211\u6ca1\u5b9e\u8bc1\uff0c\u6240\u4ee5\u53ea\u80fd\u8bf4\u7406\u8bba\u4e0a\u8bb2\u3002 \u77e5\u4e4e\u4e0a\u51e1\u8bf4\u81ea\u5df1\u6709\u6b64\u5b9e\u8bc1\u7684\uff0c\u5efa\u8bae\u4e00\u5f8b\u62c9\u9ed1\u3002\uff09 \u547d\u529f\u4e0b\u624b\u529f\u592b\uff0c\u6700\u57fa\u672c\u7684\uff0c\u65e0\u975e\u662f\u5e84\u5b50\u4e0a\u9ec4\u5e1d\u95ee\u9053\u5e7f\u6210\u5b50\u90a3\u4e00\u6bb5\u3002\u6709\u90a3\u4e00\u6bb5\u8bdd\u5c31\u8db3\u591f\u4e86\uff0c\u4e0d\u5fc5\u518d\u627e\u4e86\u3002\u81f3\u4e8e\u90a3\u4e9b\u53e3\u8bc0\uff0c\u79d8\u4f20\u4e5f\u7f62\uff0c\u666e\u4f20\u4e5f\u7f62\uff0c\u5e08\u4f20\u4e5f\u7f62\uff0c\u5b66\u4e60\u73ed\u4e5f\u7f62\uff0c\u57fa\u672c\u4e0a\u90fd\u662f\u4e00\u4e9b\u540e\u5929\u642c\u8fd0\u6280\u5de7\u3002\u8fd9\u4e9b\u529f\u592b\uff0c\u5b58\u5728\u7537\u5973\u533a\u522b\u662f\u6709\u7684\u3002 \u8fd9\u79cd\u540e\u5929\u64cd\u4f5c\uff0c\u4e0d\u80fd\u8bf4\u5b8c\u5168\u6ca1\u7528\uff0c\u4f46\u6211\u770b\u4e0b\u6765\uff0c\u5e02\u9762\u6240\u6d41\u4f20\u8005\uff0c\u5927\u90e8\u5206\u90fd\u662f\u80e1\u7f16\u7684\u3002\u771f\u6b63\u6709\u6548\u7684\uff0c\u4e0d\u8d85\u8fc7\u4e00\u6210\u3002\u800c\u8fd9\u6709\u6548\u7684\u529f\u592b\uff0c\u4e00\u5219\u4e5f\u4e0d\u662f\u4e0d\u53ef\u66ff\u4ee3\uff0c\u4e8c\u5219\u591a\u6709\u9650\u5236\uff0c\u5bf9\u666e\u901a\u4eba\u53ef\u64cd\u4f5c\u6027\u4e0d\u5f3a\u3002\uff08\u81f3\u4e8e\u90a3\u4e9b\u5f00\u8bbe\u5b66\u4e60\u73ed\u8005\uff0c\u4e3a\u4ec0\u4e48\u8981\u5c06\u53e3\u8bc0\u5439\u7684\u7384\u4e4b\u53c8\u7384\uff0c\u731c\u4e5f\u731c\u5230\u4e86\u3002\uff09 \u79ef\u7cbe\u7d2f\u6c14\u529f\u592b\uff0c\u5c31\u662f\u5e73\u5b9e\u7b80\u5355\u7684\u3002\u771f\u6ca1\u5fc5\u8981\u641e\u90a3\u4e48\u7384\u4e4e\u3002\u4f60\u53bb\u770b\u4e00\u4e0b\u5e84\u5b50\u90a3\u4e00\u6bb5\u8bdd\u5c31\u4f1a\u660e\u767d\uff0c\u8fd9\u4e2a\u548c\u7537\u5973\u771f\u7684\u6ca1\u4ec0\u4e48\u5173\u7cfb\uff0c\u90fd\u4e00\u6837\u7684\u3002 \u800c\u4e0b\u624b\u9636\u6bb5\u5fc3\u6027\u4fee\u4e3a\uff0c\u66f4\u52a0\u548c\u7537\u5973\u6ca1\u5173\u7cfb\u4e86 \u3002\u4f60\u89c9\u5f97\u4e00\u4e2a\u4eba\u7684\u89c1\u8bc6\uff0c\u5fc3\u6001\uff0c\u5883\u754c\uff0c\u4f1a\u53d7\u5230\u6027\u522b\u7684\u9650\u5236\uff1f \u800c\u4e2d\u540e\u671f\u7684\u529f\u592b\uff0c\u57fa\u672c\u4e0a\u90fd\u662f\u5728\u5148\u5929\u72b6\u6001\u4e0b\u505a\u529f\u592b\uff0c\u4e5f\u5c31\u662f\u5728\u5143\u795e\u72b6\u6001\u4e0b\u8fdb\u884c\u3002\u5728\u540e\u5929\u72b6\u6001\u6298\u817e\u90a3\u662f\u5916\u884c\u4eba\u80e1\u95f9\u3002\u66f4\u4e0d\u662f\u5728\u8272\u8eab\u4e0a\u641e\u4ec0\u4e48\u82b1\u4fcf\u3002 \u4f60\u5982\u679c\u5b9e\u8bc1\u7384\u5173\u4e00\u7a8d\uff0c\u5c31\u4f1a\u660e\u767d\u3002\u5728\u5f00\u7384\u7a8d\u4e4b\u524d\uff0c\u4f1a\u6709\u4e00\u4e2a\u8bc1\u4e00\u8eab\u7686\u7a7a\u7684\u8fc7\u7a0b\u3002 \u4f60\u81ea\u5df1\u89c9\u5f97\uff0c \u4f60\u90fd\u8bc1\u4e00\u8eab\u7686\u7a7a\u4e86\uff0c\u800c\u4e14\u662f\u5728\u5148\u5929\u72b6\u6001\uff0c\u7537\u5973\u8272\u8eab\uff0c\u8fd8\u80fd\u6709\u4ec0\u4e48\u533a\u522b\uff1f \u5c31\u7b97\u4f60\u60f3\u6709\u533a\u522b\uff0c\u4f60\u533a\u522b\u7684\u8d77\u6765\u5417\uff1f \u5206\u5272\u7ebf \u5e84\u5b50\u5916\u7bc7 \u5728\u5ba5\u7b2c\u5341\u4e00 \u5e7f\u6210\u5b50\u8e76\u7136\u800c\u8d77\uff0c\u66f0\uff1a\u201c\u5584\u54c9\uff0c\u95ee\u4e4e\uff01\u6765\uff0c\u543e\u8bed\u5973\u81f3\u9053\u3002\u81f3\u9053\u4e4b\u7cbe\uff0c\u7a88\u7a88\u51a5\u51a5\u3002\u81f3\u9053\u4e4b\u6781\uff0c\u660f\u660f\u9ed8\u9ed8\u3002 \u65e0\u89c6\u65e0\u542c\uff0c\u62b1\u795e\u4ee5\u9759\uff0c\u5f62\u5c06\u81ea\u6b63\u3002\u5fc5\u9759\u5fc5\u6e05\uff0c \u65e0\u52b3\u5973\u5f62\uff0c\u65e0\u6447\u5973\u7cbe\uff0c\u4e43\u53ef\u4ee5\u957f\u751f\u3002\u76ee\u65e0\u6240\u89c1\uff0c\u8033\u65e0\u6240\u95fb\uff0c\u5fc3\u65e0\u6240\u77e5\uff0c\u5973\u795e\u5c06\u5b88\u5f62\uff0c\u5f62\u4e43\u957f\u751f\u3002\u614e\u5973\u5185\uff0c\u95ed\u5973\u5916\uff0c\u591a\u77e5\u4e3a\u8d25\u3002\u6211\u4e3a\u5973\u9042\u4e8e\u5927\u660e\u4e4b\u4e0a\u77e3\uff0c\u81f3\u5f7c\u81f3\u9633\u4e4b\u539f\u4e5f\u3002\u4e3a\u5973\u5165\u4e8e\u7a88\u51a5\u4e4b\u95e8\u77e3\uff0c\u81f3\u5f7c\u81f3\u9634\u4e4b\u539f\u4e5f\u3002\u5929\u5730\u6709\u5b98\uff0c\u9634\u9633\u6709\u85cf\u3002\u614e\u5b88\u5973\u8eab\uff0c\u7269\u5c06\u81ea\u58ee\u3002 \u6211\u5b88\u5176\u4e00\u4ee5\u5904\u5176\u548c \uff0c\u6545\u6211\u4fee\u8eab\u5343\u4e8c\u767e\u5c81\u77e3\uff0c\u543e\u5f62\u672a\u5e38\u8870\u3002\u201d \u4e0d\u7ba1\u4ee5\u540e\u4f60\u80fd\u9047\u4e0a\u8c01\u3001\u62dc\u8c01\uff0c\u5fc3\u91cc\u8981\u6709\u4e2a\u51c6\u7ef3\uff0c\u5c31\u662f\u5b81\u53ef\u591f\u6839\u8471\uff0c\u4e5f\u522b\u70b9\u5929\u706f\u3002 \u600e\u4e48\u53eb\u591f\u6839\u8471\uff0c\u5c31\u662f\u4eba\u5bb6\u7ed9\u4f60\u6307\u51fa\u6761\u8def\uff0c\u5b89\u6392\u4f60\u4e2a\u76ee\u6807\uff0c\u4f60\u4e0d\u7ba1\u662f\u642c\u4e2a\u51f3\u4e5f\u597d\uff0c\u662f\u722c\u4e2a\u68af\u3001\u8e2e\u4e2a\u811a\u4e5f\u7f62\uff0c\u6700\u540e\u5728\u6709\u751f\u4e4b\u5e74\u4f60\u5f97\u80fd\u591f\u7740\u8fd9\u4e1c\u897f\u5e76\u4e14\u628a\u5b83\u5403\u5230\u5634\u91cc\uff0c\u5bf9\u4f60\u7684\u751f\u6d3b\u8d77\u5b9e\u9645\u6548\u7528\u3002 \u70b9\u5929\u706f\u5c31\u5b8c\u4e86\uff0c\u4ed6\u7ed9\u4f60\u63cf\u6479\u4e00\u4e2a\u5927\u5149\u660e\uff0c\u53c8\u9ad8\u53c8\u4eae\uff0c\u8fd9\u8f88\u5b50\u4f60\u90fd\u53ea\u80fd\u4ef0\u671b\uff0c\u8d70\u4e0d\u5230\u5730\u65b9\uff0c\u90a3\u5c31\u662f\u767d\u642d\u5de5\u3002 \u591f\u7740\u6839\u8471\uff0c\u597d\u4e00\u70b9\u7684\u4e09\u4e94\u4e2a\u6708\u8eab\u5fc3\u6709\u4e2a\u6539\u5584\uff0c\u751a\u81f3\u5f53\u673a\u7acb\u65ad\u5fc3\u4e0b\u5c31\u655e\u4eae\uff0c\u8eab\u5b50\u6162\u8ddf\u4e0d\u8fc7\u6765\u90fd\u4e0d\u5403\u7d27\u7684\u3002\u4f60\u770b\u50cf\u9e23\u5929\u9f13\u3001\u91d1\u51b7\u6cd5\u3001\u63c9\u8179\u529f\u8fd9\u4e9b\uff0c\u65e9\u90fd\u6d41\u6cfb\u5728\u5916\u5934\u591a\u5c11\u5e74\u4e86\uff0c\u771f\u4e0d\u771f\u575a\u6301\u7ec3\u7528\u5c31\u77e5\u9053\uff0c\u5fc3\u6cd5\u4e0a\u7684\u4e1c\u897f\uff0c\u70b9\u7834\u4f60\u7684\u5927\u6839\u5b50\u5728\u54ea\uff0c\u600e\u4e48\u4e2a\u53bb\u5206\u522b\u81ea\u6211\u6d88\u4ea1\uff0c\u600e\u4e48\u4e2a\u9a7e\u865a\u821f\u652f\u79bb\u5176\u5fb7\uff0c\u662f\u90a3\u6839\u5668\u5fc3\u773c\u513f\u5f53\u65f6\u5c31\u5f00\uff0c\u4e0a\u534a\u664c\u7236\u6bcd\u53cc\u4ea1\u54ed\u5929\u62b9\u6cea\uff0c\u4e0b\u534a\u664c\u542c\u5b8c\u4e86\uff0c\u4ed6\u4eec\u4fe9\u5c31\u662f\u65e9\u751f\u51e0\u65e5\uff0c\u6211\u4e0d\u8fc7\u665a\u751f\u51e0\u65e5\uff0c\u540d\u662f\u7236\u6bcd\uff0c\u5b9e\u5219\u4e0d\u8fc7\u662f\u53cc\u80de\u80ce\u4ed6\u5148\u51fa\u6765\u4f60\u540e\u6482\u5730\uff0c\u54ed\u4ed6\u8d70\uff0c\u4f60\u5c06\u6765\u8d70\u4e0d\u8d70\uff1f\u4f60\u4e5f\u5f97\u8d70\uff0c\u4f60\u751f\u4f60\u517b\u7684\u8d70\u4e0d\u8d70\uff1f\u66f4\u5f97\u8d70\uff0c\u90a3\u5148\u6765\u7684\u5148\u8d70\u4e00\u6b65\u53c8\u6709\u4ec0\u4e48\u53ef\u5fc3\u75bc\uff1f\u5148\u6765\u5148\u8d70\u4e0d\u5fc3\u75bc\uff0c\u90a3\u767d\u53d1\u4eba\u9001\u9ed1\u53d1\u4eba\u53c8\u503c\u5f53\u5fc3\u75bc\u4e48\uff1f\u4e0d\u8fc7\u662f\u4f60\u8d70\u9053\u513f\u4ed6\u9a91\u7684\u6469\u6258\uff0c\u4f60\u8fd9\u8303\u8001\u5e08\u67b6\u4e2a\u62d0\u8fd8\u632a\u5462\uff0c\u4ed6\u90a3\u5c0f\u6c88\u9633\u201c\u6211\u5230\u5bb6\u4e86\u201d\u3002 \u6709\u4e9b\u4e2a\u7528\u4e0d\u7740\u7684\u4e1c\u897f\uff0c\u8bf4\u51fa\u6765\u90fd\u633a\u9ad8\u5927\u4e0a\uff0c\u7f8e\u5176\u540d\u53eb\u4f20\u7edf\u6587\u5316\uff0c\u5b9e\u5219\u610f\u4e49\u4e0d\u5927\uff0c\u6bd4\u5982\u4f60\u8bf4\u6211\u77e5\u9053\u5929\u5730\u5408\u6570\u4e3a\u4e94\u5341\u4e94\uff0c\u8fd9\u6709\u5565\u7528\uff1f\u4e00\u70b9\u7528\u6ca1\u6709\u3002\u73b0\u5728\u8bdd\u8bf4\u53eb\u201c\u5947\u602a\u7684\u77e5\u8bc6\u53c8\u589e\u52a0\u4e86\u201d\uff0c\u603b\u8bf4\u827a\u4e0d\u538b\u8eab\uff0c\u77e5\u8bc6\u6539\u53d8\u547d\u8fd0\uff0c\u5f52\u5176\u77e5\u9053\u8fd9\u73a9\u610f\u53ea\u80fd\u589e\u52a0\u4f60\u7684\u8d1f\u62c5\uff0c\u5728\u8bb0\u5fc6\u5361\u91cc\u767d\u5360\u4e2a\u7a7a\u683c\u513f\u3002 \u751f\u6709\u6daf\u77e5\u65e0\u6daf\uff0c\u6211\u4fee\u811a\u6211\u5c31\u4e00\u95e8\u5fc3\u601d\u7814\u7a76\u7070\u6307\u7532\u5c31\u5bf9\u4e86\uff0c\u90a3\u9ad8\u4f4e\u97f3\u90e8\u4ed6\u7231\u548b\u5206\u548b\u5206\uff0c\u6211\u95f2\u4e86\u542c\u4f60\u4e2a\u4e50\u5b50\uff0c\u4e0d\u7231\u542c\u54ea\u51c9\u5feb\u54ea\u5f85\u7740\u53bb\uff0c\u5f04\u4e00\u5806\u7528\u4e0d\u4e0a\u7684\u4e1c\u897f\u6401\u5fc3\u773c\u91cc\u5835\u7740\uff0c\u90a3\u4e2a\u52b2\u513f\u96be\u53d7\u7740\u5462\u3002 \u81ea\u79f0\u5973\u751f\u4f60\u5fc3\u91cc\u6709\u6027\u522b\uff0c\u90a3\u544a\u8bc9\u4f60\u8981\u6253\u7834\u6027\u522b\u504f\u89c1\u7136\u540e\u53c8\u4e0a\u6765\u8ddf\u4f60\u8033\u9b13\u53ae\u78e8\u7684\u4f60\u5c31\u79bb\u4ed6\u8fdc\u70b9\u513f\uff0c\u4fee\u884c\u6709\u4fee\u884c\u7684\u5e38\u8bc6\uff0c\u4eba\u95f4\u6709\u4eba\u95f4\u7684\u5e38\u8bc6\uff0c\u6253\u7740\u4fee\u884c\u65d7\u53f7\u628a\u4eba\u5f53\u50bb\u5b50\u7cca\u5f04\u7684\u591a\u4e86\uff0c\u6709\u65f6\u5019\u5fc3\u5883\u4e0a\u53bb\u4e86\uff0c\u5374\u8981\u5403\u4eba\u95f4\u7684\u4e8f\uff0c\u8fd9\u662f\u5e38\u6001\uff0c\u5c31\u770b\u4f60\u81ea\u5df1\u7684\u628a\u63e1\uff0c\u4e0d\u662f\u8bf4\u53ea\u6709\u5728\u771f\u5e08\u90a3\u624d\u80fd\u5f97\u9053\uff0c\u4ece\u9a97\u5b50\u90a3\u5b66\u660e\u767d\u7684\u4e5f\u4e0d\u5c11\u3002\u4f60\u8981\u77e5\u9053\uff0c\u4f60\u672c\u662f\u62d6\u7740\u8fd9\u6b7b\u5c38\u6765\uff0c\u5fc3\u91cc\u6709\u82e6\uff0c\u5b66\u8fd9\u5b66\u90a3\u4e0d\u8fc7\u4e3a\u4e00\u4e2a\u89e3\u8131\uff0c\u8131\u534a\u5929\u4f60\u5fc3\u7075\u6ca1\u89e3\u653e\uff0c\u5c0f\u8902\u5148\u6559\u4eba\u6252\u8d70\u4e86\u90a3\u4f60\u8fd9\u591a\u61ca\u7cdf\u3002","title":"\u5973\u751f\u4fee\u9053\u600e\u4e48\u505a-\u4e24\u7bc7"},{"location":"%E4%BF%AE%E8%A1%8C/%E5%A5%B3%E7%94%9F%E6%83%B3%E8%A6%81%E4%BF%AE%E9%81%93%E8%A6%81%E6%80%8E%E4%B9%88%E5%81%9A/#-","text":"\u5176\u5b9e\u8fd8\u5904\u5728\u7ea0\u7ed3\u7537\u5973\u4f53\u8d28\u4e0d\u540c\uff0c\u4e0d\u77e5\u5982\u4f55\u4fee\u70bc\u4e39\u9053\u7684\u4eba\uff0c\u4e0d\u5efa\u8bae\u4e0b\u624b\u5b9e\u4fee\uff0c\u5efa\u8bae\u8bfb\u900f\u4e39\u7ecf\u518d\u8bf4\uff0c\u56e0\u4e3a\u4f60\u5bf9\u4e39\u9053\u8fd8\u6ca1\u6709\u4e00\u4e2a\u7cfb\u7edf\u7684\u6982\u5ff5\u3002 \u5148\u8bf4\u7ed3\u8bba \u4e0a\u4e58\u529f\u592b\uff0c\u6ca1\u4ec0\u4e48\u7537\u5973\u533a\u522b\u3002\u4e0b\u624b\u529f\u592b\uff0c\u6709\u7684\u6cd5\u95e8\u4e5f\u6ca1\u533a\u522b\uff0c\u6709\u4e00\u90e8\u5206\u8def\u7ebf\u6709\u7537\u5973\u533a\u522b\uff0c\u4f46\u8fd9\u4e9b\u4e0d\u662f\u4e0d\u53ef\u7ed5\u8fc7\u3002 \u4e39\u9053\u5206\u547d\u529f\u6027\u529f\u4e24\u90e8\u5206\u3002\u5176\u4e2d\u547d\u529f\uff0c\u6ca1\u90a3\u4e48\u7384\u4e4e\uff0c\u8bf4\u7a7f\u4e86\u5c31\u662f\u79ef\u7cbe\u7d2f\u6c14\uff0c\u79ef\u7d2f\u5230\u540e\u5929\u7cbe\u6c14\u795e\u5177\u8db3\uff0c\u7136\u540e\u5165\u5927\u5b9a\uff0c\u529f\u592b\u5230\u4e86\uff0c\u7406\u8bba\u4e0a\u8bb2\uff0c\u81ea\u7136\u4ea7\u751f\u8109\u4f4f\u6c14\u505c\u3002\uff08\u6211\u6ca1\u5b9e\u8bc1\uff0c\u6240\u4ee5\u53ea\u80fd\u8bf4\u7406\u8bba\u4e0a\u8bb2\u3002 \u77e5\u4e4e\u4e0a\u51e1\u8bf4\u81ea\u5df1\u6709\u6b64\u5b9e\u8bc1\u7684\uff0c\u5efa\u8bae\u4e00\u5f8b\u62c9\u9ed1\u3002\uff09 \u547d\u529f\u4e0b\u624b\u529f\u592b\uff0c\u6700\u57fa\u672c\u7684\uff0c\u65e0\u975e\u662f\u5e84\u5b50\u4e0a\u9ec4\u5e1d\u95ee\u9053\u5e7f\u6210\u5b50\u90a3\u4e00\u6bb5\u3002\u6709\u90a3\u4e00\u6bb5\u8bdd\u5c31\u8db3\u591f\u4e86\uff0c\u4e0d\u5fc5\u518d\u627e\u4e86\u3002\u81f3\u4e8e\u90a3\u4e9b\u53e3\u8bc0\uff0c\u79d8\u4f20\u4e5f\u7f62\uff0c\u666e\u4f20\u4e5f\u7f62\uff0c\u5e08\u4f20\u4e5f\u7f62\uff0c\u5b66\u4e60\u73ed\u4e5f\u7f62\uff0c\u57fa\u672c\u4e0a\u90fd\u662f\u4e00\u4e9b\u540e\u5929\u642c\u8fd0\u6280\u5de7\u3002\u8fd9\u4e9b\u529f\u592b\uff0c\u5b58\u5728\u7537\u5973\u533a\u522b\u662f\u6709\u7684\u3002 \u8fd9\u79cd\u540e\u5929\u64cd\u4f5c\uff0c\u4e0d\u80fd\u8bf4\u5b8c\u5168\u6ca1\u7528\uff0c\u4f46\u6211\u770b\u4e0b\u6765\uff0c\u5e02\u9762\u6240\u6d41\u4f20\u8005\uff0c\u5927\u90e8\u5206\u90fd\u662f\u80e1\u7f16\u7684\u3002\u771f\u6b63\u6709\u6548\u7684\uff0c\u4e0d\u8d85\u8fc7\u4e00\u6210\u3002\u800c\u8fd9\u6709\u6548\u7684\u529f\u592b\uff0c\u4e00\u5219\u4e5f\u4e0d\u662f\u4e0d\u53ef\u66ff\u4ee3\uff0c\u4e8c\u5219\u591a\u6709\u9650\u5236\uff0c\u5bf9\u666e\u901a\u4eba\u53ef\u64cd\u4f5c\u6027\u4e0d\u5f3a\u3002\uff08\u81f3\u4e8e\u90a3\u4e9b\u5f00\u8bbe\u5b66\u4e60\u73ed\u8005\uff0c\u4e3a\u4ec0\u4e48\u8981\u5c06\u53e3\u8bc0\u5439\u7684\u7384\u4e4b\u53c8\u7384\uff0c\u731c\u4e5f\u731c\u5230\u4e86\u3002\uff09 \u79ef\u7cbe\u7d2f\u6c14\u529f\u592b\uff0c\u5c31\u662f\u5e73\u5b9e\u7b80\u5355\u7684\u3002\u771f\u6ca1\u5fc5\u8981\u641e\u90a3\u4e48\u7384\u4e4e\u3002\u4f60\u53bb\u770b\u4e00\u4e0b\u5e84\u5b50\u90a3\u4e00\u6bb5\u8bdd\u5c31\u4f1a\u660e\u767d\uff0c\u8fd9\u4e2a\u548c\u7537\u5973\u771f\u7684\u6ca1\u4ec0\u4e48\u5173\u7cfb\uff0c\u90fd\u4e00\u6837\u7684\u3002 \u800c\u4e0b\u624b\u9636\u6bb5\u5fc3\u6027\u4fee\u4e3a\uff0c\u66f4\u52a0\u548c\u7537\u5973\u6ca1\u5173\u7cfb\u4e86 \u3002\u4f60\u89c9\u5f97\u4e00\u4e2a\u4eba\u7684\u89c1\u8bc6\uff0c\u5fc3\u6001\uff0c\u5883\u754c\uff0c\u4f1a\u53d7\u5230\u6027\u522b\u7684\u9650\u5236\uff1f \u800c\u4e2d\u540e\u671f\u7684\u529f\u592b\uff0c\u57fa\u672c\u4e0a\u90fd\u662f\u5728\u5148\u5929\u72b6\u6001\u4e0b\u505a\u529f\u592b\uff0c\u4e5f\u5c31\u662f\u5728\u5143\u795e\u72b6\u6001\u4e0b\u8fdb\u884c\u3002\u5728\u540e\u5929\u72b6\u6001\u6298\u817e\u90a3\u662f\u5916\u884c\u4eba\u80e1\u95f9\u3002\u66f4\u4e0d\u662f\u5728\u8272\u8eab\u4e0a\u641e\u4ec0\u4e48\u82b1\u4fcf\u3002 \u4f60\u5982\u679c\u5b9e\u8bc1\u7384\u5173\u4e00\u7a8d\uff0c\u5c31\u4f1a\u660e\u767d\u3002\u5728\u5f00\u7384\u7a8d\u4e4b\u524d\uff0c\u4f1a\u6709\u4e00\u4e2a\u8bc1\u4e00\u8eab\u7686\u7a7a\u7684\u8fc7\u7a0b\u3002 \u4f60\u81ea\u5df1\u89c9\u5f97\uff0c \u4f60\u90fd\u8bc1\u4e00\u8eab\u7686\u7a7a\u4e86\uff0c\u800c\u4e14\u662f\u5728\u5148\u5929\u72b6\u6001\uff0c\u7537\u5973\u8272\u8eab\uff0c\u8fd8\u80fd\u6709\u4ec0\u4e48\u533a\u522b\uff1f \u5c31\u7b97\u4f60\u60f3\u6709\u533a\u522b\uff0c\u4f60\u533a\u522b\u7684\u8d77\u6765\u5417\uff1f \u5206\u5272\u7ebf \u5e84\u5b50\u5916\u7bc7 \u5728\u5ba5\u7b2c\u5341\u4e00 \u5e7f\u6210\u5b50\u8e76\u7136\u800c\u8d77\uff0c\u66f0\uff1a\u201c\u5584\u54c9\uff0c\u95ee\u4e4e\uff01\u6765\uff0c\u543e\u8bed\u5973\u81f3\u9053\u3002\u81f3\u9053\u4e4b\u7cbe\uff0c\u7a88\u7a88\u51a5\u51a5\u3002\u81f3\u9053\u4e4b\u6781\uff0c\u660f\u660f\u9ed8\u9ed8\u3002 \u65e0\u89c6\u65e0\u542c\uff0c\u62b1\u795e\u4ee5\u9759\uff0c\u5f62\u5c06\u81ea\u6b63\u3002\u5fc5\u9759\u5fc5\u6e05\uff0c \u65e0\u52b3\u5973\u5f62\uff0c\u65e0\u6447\u5973\u7cbe\uff0c\u4e43\u53ef\u4ee5\u957f\u751f\u3002\u76ee\u65e0\u6240\u89c1\uff0c\u8033\u65e0\u6240\u95fb\uff0c\u5fc3\u65e0\u6240\u77e5\uff0c\u5973\u795e\u5c06\u5b88\u5f62\uff0c\u5f62\u4e43\u957f\u751f\u3002\u614e\u5973\u5185\uff0c\u95ed\u5973\u5916\uff0c\u591a\u77e5\u4e3a\u8d25\u3002\u6211\u4e3a\u5973\u9042\u4e8e\u5927\u660e\u4e4b\u4e0a\u77e3\uff0c\u81f3\u5f7c\u81f3\u9633\u4e4b\u539f\u4e5f\u3002\u4e3a\u5973\u5165\u4e8e\u7a88\u51a5\u4e4b\u95e8\u77e3\uff0c\u81f3\u5f7c\u81f3\u9634\u4e4b\u539f\u4e5f\u3002\u5929\u5730\u6709\u5b98\uff0c\u9634\u9633\u6709\u85cf\u3002\u614e\u5b88\u5973\u8eab\uff0c\u7269\u5c06\u81ea\u58ee\u3002 \u6211\u5b88\u5176\u4e00\u4ee5\u5904\u5176\u548c \uff0c\u6545\u6211\u4fee\u8eab\u5343\u4e8c\u767e\u5c81\u77e3\uff0c\u543e\u5f62\u672a\u5e38\u8870\u3002\u201d \u4e0d\u7ba1\u4ee5\u540e\u4f60\u80fd\u9047\u4e0a\u8c01\u3001\u62dc\u8c01\uff0c\u5fc3\u91cc\u8981\u6709\u4e2a\u51c6\u7ef3\uff0c\u5c31\u662f\u5b81\u53ef\u591f\u6839\u8471\uff0c\u4e5f\u522b\u70b9\u5929\u706f\u3002 \u600e\u4e48\u53eb\u591f\u6839\u8471\uff0c\u5c31\u662f\u4eba\u5bb6\u7ed9\u4f60\u6307\u51fa\u6761\u8def\uff0c\u5b89\u6392\u4f60\u4e2a\u76ee\u6807\uff0c\u4f60\u4e0d\u7ba1\u662f\u642c\u4e2a\u51f3\u4e5f\u597d\uff0c\u662f\u722c\u4e2a\u68af\u3001\u8e2e\u4e2a\u811a\u4e5f\u7f62\uff0c\u6700\u540e\u5728\u6709\u751f\u4e4b\u5e74\u4f60\u5f97\u80fd\u591f\u7740\u8fd9\u4e1c\u897f\u5e76\u4e14\u628a\u5b83\u5403\u5230\u5634\u91cc\uff0c\u5bf9\u4f60\u7684\u751f\u6d3b\u8d77\u5b9e\u9645\u6548\u7528\u3002 \u70b9\u5929\u706f\u5c31\u5b8c\u4e86\uff0c\u4ed6\u7ed9\u4f60\u63cf\u6479\u4e00\u4e2a\u5927\u5149\u660e\uff0c\u53c8\u9ad8\u53c8\u4eae\uff0c\u8fd9\u8f88\u5b50\u4f60\u90fd\u53ea\u80fd\u4ef0\u671b\uff0c\u8d70\u4e0d\u5230\u5730\u65b9\uff0c\u90a3\u5c31\u662f\u767d\u642d\u5de5\u3002 \u591f\u7740\u6839\u8471\uff0c\u597d\u4e00\u70b9\u7684\u4e09\u4e94\u4e2a\u6708\u8eab\u5fc3\u6709\u4e2a\u6539\u5584\uff0c\u751a\u81f3\u5f53\u673a\u7acb\u65ad\u5fc3\u4e0b\u5c31\u655e\u4eae\uff0c\u8eab\u5b50\u6162\u8ddf\u4e0d\u8fc7\u6765\u90fd\u4e0d\u5403\u7d27\u7684\u3002\u4f60\u770b\u50cf\u9e23\u5929\u9f13\u3001\u91d1\u51b7\u6cd5\u3001\u63c9\u8179\u529f\u8fd9\u4e9b\uff0c\u65e9\u90fd\u6d41\u6cfb\u5728\u5916\u5934\u591a\u5c11\u5e74\u4e86\uff0c\u771f\u4e0d\u771f\u575a\u6301\u7ec3\u7528\u5c31\u77e5\u9053\uff0c\u5fc3\u6cd5\u4e0a\u7684\u4e1c\u897f\uff0c\u70b9\u7834\u4f60\u7684\u5927\u6839\u5b50\u5728\u54ea\uff0c\u600e\u4e48\u4e2a\u53bb\u5206\u522b\u81ea\u6211\u6d88\u4ea1\uff0c\u600e\u4e48\u4e2a\u9a7e\u865a\u821f\u652f\u79bb\u5176\u5fb7\uff0c\u662f\u90a3\u6839\u5668\u5fc3\u773c\u513f\u5f53\u65f6\u5c31\u5f00\uff0c\u4e0a\u534a\u664c\u7236\u6bcd\u53cc\u4ea1\u54ed\u5929\u62b9\u6cea\uff0c\u4e0b\u534a\u664c\u542c\u5b8c\u4e86\uff0c\u4ed6\u4eec\u4fe9\u5c31\u662f\u65e9\u751f\u51e0\u65e5\uff0c\u6211\u4e0d\u8fc7\u665a\u751f\u51e0\u65e5\uff0c\u540d\u662f\u7236\u6bcd\uff0c\u5b9e\u5219\u4e0d\u8fc7\u662f\u53cc\u80de\u80ce\u4ed6\u5148\u51fa\u6765\u4f60\u540e\u6482\u5730\uff0c\u54ed\u4ed6\u8d70\uff0c\u4f60\u5c06\u6765\u8d70\u4e0d\u8d70\uff1f\u4f60\u4e5f\u5f97\u8d70\uff0c\u4f60\u751f\u4f60\u517b\u7684\u8d70\u4e0d\u8d70\uff1f\u66f4\u5f97\u8d70\uff0c\u90a3\u5148\u6765\u7684\u5148\u8d70\u4e00\u6b65\u53c8\u6709\u4ec0\u4e48\u53ef\u5fc3\u75bc\uff1f\u5148\u6765\u5148\u8d70\u4e0d\u5fc3\u75bc\uff0c\u90a3\u767d\u53d1\u4eba\u9001\u9ed1\u53d1\u4eba\u53c8\u503c\u5f53\u5fc3\u75bc\u4e48\uff1f\u4e0d\u8fc7\u662f\u4f60\u8d70\u9053\u513f\u4ed6\u9a91\u7684\u6469\u6258\uff0c\u4f60\u8fd9\u8303\u8001\u5e08\u67b6\u4e2a\u62d0\u8fd8\u632a\u5462\uff0c\u4ed6\u90a3\u5c0f\u6c88\u9633\u201c\u6211\u5230\u5bb6\u4e86\u201d\u3002 \u6709\u4e9b\u4e2a\u7528\u4e0d\u7740\u7684\u4e1c\u897f\uff0c\u8bf4\u51fa\u6765\u90fd\u633a\u9ad8\u5927\u4e0a\uff0c\u7f8e\u5176\u540d\u53eb\u4f20\u7edf\u6587\u5316\uff0c\u5b9e\u5219\u610f\u4e49\u4e0d\u5927\uff0c\u6bd4\u5982\u4f60\u8bf4\u6211\u77e5\u9053\u5929\u5730\u5408\u6570\u4e3a\u4e94\u5341\u4e94\uff0c\u8fd9\u6709\u5565\u7528\uff1f\u4e00\u70b9\u7528\u6ca1\u6709\u3002\u73b0\u5728\u8bdd\u8bf4\u53eb\u201c\u5947\u602a\u7684\u77e5\u8bc6\u53c8\u589e\u52a0\u4e86\u201d\uff0c\u603b\u8bf4\u827a\u4e0d\u538b\u8eab\uff0c\u77e5\u8bc6\u6539\u53d8\u547d\u8fd0\uff0c\u5f52\u5176\u77e5\u9053\u8fd9\u73a9\u610f\u53ea\u80fd\u589e\u52a0\u4f60\u7684\u8d1f\u62c5\uff0c\u5728\u8bb0\u5fc6\u5361\u91cc\u767d\u5360\u4e2a\u7a7a\u683c\u513f\u3002 \u751f\u6709\u6daf\u77e5\u65e0\u6daf\uff0c\u6211\u4fee\u811a\u6211\u5c31\u4e00\u95e8\u5fc3\u601d\u7814\u7a76\u7070\u6307\u7532\u5c31\u5bf9\u4e86\uff0c\u90a3\u9ad8\u4f4e\u97f3\u90e8\u4ed6\u7231\u548b\u5206\u548b\u5206\uff0c\u6211\u95f2\u4e86\u542c\u4f60\u4e2a\u4e50\u5b50\uff0c\u4e0d\u7231\u542c\u54ea\u51c9\u5feb\u54ea\u5f85\u7740\u53bb\uff0c\u5f04\u4e00\u5806\u7528\u4e0d\u4e0a\u7684\u4e1c\u897f\u6401\u5fc3\u773c\u91cc\u5835\u7740\uff0c\u90a3\u4e2a\u52b2\u513f\u96be\u53d7\u7740\u5462\u3002 \u81ea\u79f0\u5973\u751f\u4f60\u5fc3\u91cc\u6709\u6027\u522b\uff0c\u90a3\u544a\u8bc9\u4f60\u8981\u6253\u7834\u6027\u522b\u504f\u89c1\u7136\u540e\u53c8\u4e0a\u6765\u8ddf\u4f60\u8033\u9b13\u53ae\u78e8\u7684\u4f60\u5c31\u79bb\u4ed6\u8fdc\u70b9\u513f\uff0c\u4fee\u884c\u6709\u4fee\u884c\u7684\u5e38\u8bc6\uff0c\u4eba\u95f4\u6709\u4eba\u95f4\u7684\u5e38\u8bc6\uff0c\u6253\u7740\u4fee\u884c\u65d7\u53f7\u628a\u4eba\u5f53\u50bb\u5b50\u7cca\u5f04\u7684\u591a\u4e86\uff0c\u6709\u65f6\u5019\u5fc3\u5883\u4e0a\u53bb\u4e86\uff0c\u5374\u8981\u5403\u4eba\u95f4\u7684\u4e8f\uff0c\u8fd9\u662f\u5e38\u6001\uff0c\u5c31\u770b\u4f60\u81ea\u5df1\u7684\u628a\u63e1\uff0c\u4e0d\u662f\u8bf4\u53ea\u6709\u5728\u771f\u5e08\u90a3\u624d\u80fd\u5f97\u9053\uff0c\u4ece\u9a97\u5b50\u90a3\u5b66\u660e\u767d\u7684\u4e5f\u4e0d\u5c11\u3002\u4f60\u8981\u77e5\u9053\uff0c\u4f60\u672c\u662f\u62d6\u7740\u8fd9\u6b7b\u5c38\u6765\uff0c\u5fc3\u91cc\u6709\u82e6\uff0c\u5b66\u8fd9\u5b66\u90a3\u4e0d\u8fc7\u4e3a\u4e00\u4e2a\u89e3\u8131\uff0c\u8131\u534a\u5929\u4f60\u5fc3\u7075\u6ca1\u89e3\u653e\uff0c\u5c0f\u8902\u5148\u6559\u4eba\u6252\u8d70\u4e86\u90a3\u4f60\u8fd9\u591a\u61ca\u7cdf\u3002","title":"\u5973\u751f\u4fee\u9053\u600e\u4e48\u505a-\u4e24\u7bc7"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%96%B0%E4%BA%BA%E4%B8%B9%E9%81%93%E9%81%BF%E5%9D%91/","text":"\u65b0\u4eba\u8981\u5165\u624b\u4e39\u9053\uff0c\u522b\u6025\u7740\u5b9e\u4fee\uff0c\u6211\u89c9\u5f97\u7b2c\u4e00\u6b65\uff0c \u4f60\u4e00\u5b9a\u8981\u628a\u6700\u57fa\u7840\u7684\u6982\u5ff5\u5f7b\u5e95\u641e\u6e05\u695a\u3002 \u8fd9\u662f\u65b0\u4eba\u6700\u5bb9\u6613\u6389\u7684\u4e00\u4e2a\u5751\u3002 \u8fd9\u4e9b\u6982\u5ff5\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff0c\u5143\u795e\u8bc6\u795e\uff0c\u5148\u5929\u6c14\uff0c\u5c0f\u5468\u5929\uff0c\u7b51\u57fa\uff0c\u8109\u4f4f\u6c14\u505c\uff0c\u80ce\u606f\uff0c\u836f\u7269\u7b49\u7b49\u3002 \u5c0f\u5468\u5929\u5230\u5e95\u6307\u4ec0\u4e48\uff0c\u5148\u5929\u6c14\u5230\u5e95\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u624d\u80fd\u5b9e\u8bc1\uff0c\u7b51\u57fa\u5230\u5e95\u662f\u4ec0\u4e48\u610f\u601d\uff0c\u8fd9\u4e9b\u4f60\u5fc5\u987b\u5f7b\u5e95\u641e\u6e05\u695a\u3002 \u6211\u770b\u4e0b\u6765\uff0c \u5f88\u591a\u4eba\u7ec3\u6b6a\u4e86\uff0c\u5c31\u662f\u4ece\u6700\u57fa\u672c\u7684\u6982\u5ff5\u5b9a\u4e49\u7406\u89e3\u9519\u8bef\u5f00\u59cb\u7684\u3002\u4e00\u6b65\u9519\uff0c\u6b65\u6b65\u9519\uff0c\u60f3\u7ea0\u6b63\u5c31\u96be\u4e86\u3002 \u5148\u5165\u4e3a\u4e3b\uff0c\u540e\u9762\u4f60\u628a\u4e39\u5bb6\u6b63\u7edf\u7406\u8bba\u544a\u8bc9\u4ed6\uff0c\u4ed6\u90fd\u4e0d\u4fe1\u4e86\u3002 \u66fe\u6536\u5230\u79c1\u4fe1\uff0c\u6709\u4eba\u8bf4\u5df2\u7ecf\u4fee\u5230\u80ce\u606f\u9636\u6bb5\u4e86\uff0c\u95ee\u6211\u4e0b\u9762\u8be5\u600e\u4e48\u529e\uff1f\u6211\u90fd\u4e0d\u77e5\u9053\u8be5\u8bf4\u4ec0\u4e48\u597d\u3002\u96be\u9053\u8981\u6211\u8bf4\u201c\u5927\u4f6c\uff0c\u60a8\u6307\u70b9\u6211\u4e00\u4e0b\u5148\uff1f\u201d \u73b0\u5728\u793e\u4f1a\u4e0a\u7684\u4e39\u9053\u7406\u8bba\u6d41\u4f20\u7684\u5b9e\u9645\u60c5\u51b5\u5c31\u662f\uff0c \u5f88\u591a\u6c5f\u6e56\u9a97\u5b50\u5bf9\u4e39\u9053\u57fa\u672c\u6982\u5ff5\u91cd\u65b0\u505a\u4e86\u5f88\u4e0d\u9760\u8c31\u7684\u5b9a\u4e49\uff0c\u5e76\u5e7f\u4e3a\u4f20\u64ad \u3002\u6700\u5e38\u89c1\u7684\uff0c\u591a\u5c11\u4eba\u6df7\u6dc6\u4e86\u540e\u5929\u5f15\u5bfc\u5468\u5929\u548c\u4e39\u9053\u5468\u5929\uff0c\u591a\u5c11\u4eba\u6df7\u6dc6\u4e86\u5148\u5929\u6c14\u548c\u610f\u5b88\u4e39\u7530\u809a\u5b50\u53d1\u70ed\uff1f \u4e8b\u5b9e\u4e0a\uff0c\u4e25\u683c\u4e39\u9053\u7406\u8bba\u4f53\u7cfb\u4e2d\uff0c\u7b51\u57fa\uff0c\u5c0f\u5468\u5929\uff0c\u80ce\u606f\uff0c\u8fd9\u4e9b\u5b9e\u8bc1\uff0c\u96be\u5ea6\u662f\u975e\u5e38\u9ad8\u7684\uff0c\u4e00\u767e\u4e07\u4e2a\u4eba\u91cc\u672a\u5fc5\u6709\u4e00\u4e2a\u505a\u5f97\u5230\uff08\u522b\u6760\uff0c\u4e2d\u56fd\u670914\u4ebf\u4eba\uff0c\u4f60\u81ea\u5df1\u7b97\uff09\u3002 \u90a3\u5982\u679c\u67d0\u6c5f\u6e56\u9a97\u5b50\u5f00\u4e2a\u5b66\u4e60\u73ed\uff0c\u6536\u8d39\u6559\u5b66\uff0c\u6536\u4e86\u4e00\u767e\u4e2a\u5b66\u751f\uff0c\u4e00\u4e2a\u80fd\u7b51\u57fa\u7684\u90fd\u6ca1\u6709\uff08\u8fd9\u51e0\u4e4e\u662f\u5fc5\u7136\u7684\uff09\uff0c\u4f60\u731c\u4ed6\u7684\u5b66\u4e60\u73ed\u8fd8\u80fd\u4e0d\u80fd\u5f00\u4e0b\u53bb\uff1f \u90a3\u600e\u529e\u5462\uff1f\u6539\u5b9a\u4e49\u554a\u3002\u6211\u628a\u7b51\u57fa\u7684\u5b9a\u4e49\u6539\u6210\u610f\u5b88\u4e39\u7530\u809a\u5b50\u53d1\u70ed\uff0c\u7136\u540e\u5f3a\u884c\u7528\u540e\u5929\u610f\u5ff5\u5f15\u5bfc\u5468\u5929\u8def\u7ebf\uff0c\u8fd9\u4e8b\u60c5\u5c31\u597d\u529e\u4e86\u3002\u5f88\u5bb9\u6613\u554a\uff0c\u51e0\u5929\u5c31\u80fd\u6709\u53cd\u5e94\uff0c\u7136\u540e\u5c31\u544a\u8bc9\u4f60\uff0c\u201c\u4eb2\uff0c\u606d\u559c\u4f60\uff0c\u7b51\u57fa\u6210\u529f\u4e86\uff0c\u4e0b\u9762\u6211\u4eec\u6765\u8c08\u8c08\u7ed3\u4e39\u7684\u4e8b\u60c5\u3002\u4e0d\u8fc7\u4f60\u5f97\u52a0\u5165\u4e2d\u7ea7\u5b66\u4e60\u73ed\uff0c\u73b0\u5728\u6211\u4eec\u6b63\u5728\u4fc3\u9500\u4f18\u60e0\uff0c\u5b66\u8d39\u53ea\u8981\u4e00\u4e07\u4e24\u5343\u516b\u54e6\u3002\u201d \u77e5\u9053\u90a3\u4e9b\u4e71\u4e03\u516b\u7cdf\u7684\u7406\u8bba\u600e\u4e48\u6765\u7684\u4e86\uff1f \u800c\u65b0\u4eba\u5982\u679c\u60f3\u5165\u624b\u4e39\u9053\u4fee\u884c\uff0c\u5c31\u5fc5\u987b\u6392\u9664\u6389\u90a3\u4e9b\u4f2a\u9020\u7406\u8bba\uff0c\u83b7\u5f97\u786e\u5b9e\u7684\u57fa\u672c\u5b9a\u4e49\u548c\u6982\u5ff5\u3002 \u4e8b\u5b9e\u4e0a\u4f60\u8981\u660e\u786e\u8fd9\u4e9b\u5b9a\u4e49\uff0c\u5f88\u5927\u7a0b\u5ea6\u4e0a\uff0c\u53ea\u80fd\u9760\u4f60\u81ea\u5df1\u53bb\u7422\u78e8\u3002 \u4e86\u89e3\u8fd9\u4e9b\u771f\u5b9e\u5b9a\u4e49\u7684\u4eba\uff0c\u5927\u591a\u4e0d\u613f\u610f\u5728\u7f51\u4e0a\u8bf4\u8fd9\u4e9b\u5185\u5bb9\uff0c\u4e0d\u662f\u56e0\u4e3a\u9700\u8981\u4fdd\u5bc6\u3002 \u800c\u662f\u4e00\u5219\u592a\u70e6\uff0c\u51e0\u4e4e\u4e00\u5b9a\u4f1a\u5435\u8d77\u6765\uff0c\u4e8c\u5219\u8bf4\u4e86\u7528\u5904\u4e5f\u4e0d\u5927\uff0c\u771f\u660e\u767d\u7684\u4eba\u4e0d\u7528\u770b\uff0c\u4e0d\u660e\u767d\u7684\u4eba\u770b\u4e86\u4e0d\u77e5\u9053\u8be5\u4e0d\u8be5\u4fe1\u3002 \u6bd4\u5982\u6211\u5728\u8fd9\u7bc7\u6587\u7ae0\u91cc\uff0c\u628a\u4e0a\u9762\u90a3\u4e9b\u6982\u5ff5\u90fd\u7406\u6e05\u695a\u4e0d\u662f\u4e0d\u53ef\u4ee5\uff0c\u4f46\u771f\u8fd9\u4e48\u505a\u4e86\uff0c\u56de\u590d\u91cc\u4e00\u5b9a\u4e00\u5806\u4eba\u8dd1\u6765\u8bf4\u4e00\u4e9b\u4e0d\u77e5\u54ea\u91cc\u5f04\u6765\u7684\u5947\u8469\u7406\u8bba\u3002\u8fd9\u4e9b\u4eba\u4e5f\u4e0d\u5168\u662f\u7528\u5fc3\u9669\u6076\uff0c\u6709\u771f\u5fc3\u884c\u9a97\u7684\uff0c\u4e5f\u6709\u53d7\u9a97\u4e0a\u5f53\u62a5\u4e86\u201d\u4e2d\u7ea7\u73ed\u201d\u7684\u3002\u548c\u4ed6\u4eec\u6760\u5427\uff0c\u6ca1\u90a3\u95f2\u5de5\u592b\u3002\u4e0d\u6760\u5427\uff0c\u4ed6\u4eec\u8bf4\u7684\u5934\u5934\u662f\u9053\uff0c\u5f04\u5f97\u4eba\u90fd\u4e0d\u77e5\u9053\u8be5\u4fe1\u8c01\u7684\uff0c\u90a3\u5199\u4e86\u4e0d\u4e5f\u662f\u767d\u5199\uff1f \u56de\u5230\u4e0a\u9762\u8bf4\u7684\u80ce\u606f\u7684\u90a3\u4e2a\u4f8b\u5b50\u3002 \u6211\u5982\u679c\u8bf4\uff0c\u771f\u6b63\u7684\u80ce\u606f\u5fc5\u987b\u5148\u505a\u5230\u8109\u4f4f\u6c14\u505c\uff0c\u7136\u540e\u6709\u836f\u800c\u884c\uff0c\u662f\u547d\u529f\u7684\u6781\u81f4\u3002\u547d\u529f\u5230\u80ce\u606f\u4e3a\u6b62\uff0c\u4e0d\u5fc5\u518d\u4fee\uff0c\u4e5f\u4e0d\u53ef\u518d\u4fee\u3002\u518d\u5f80\u4e0b\uff0c\u5f00\u59cb\u73a9\u4e39\u5a74\u8fd9\u4e9b\uff0c\u5c31\u4e0d\u9488\u5bf9\u8272\u8eab\u4e86\u3002\u5bf9\u8272\u8eab\u7684\u4fee\u884c\uff0c\u5230\u80ce\u606f\u4e3a\u6b62\u3002\u4f60\u4fe1\u4e0d\uff1f\u6709\u6ca1\u6709\u4eba\u4f1a\u5728\u8bc4\u8bba\u533a\u8bf4\u4e00\u5957\u5b8c\u5168\u4e0d\u540c\u7684\u7406\u8bba\uff0c\u8a00\u4e4b\u51ff\u51ff\u8fd8\u5e08\u95e8\u79d8\u4f20\u5916\u4eba\u4e0d\u77e5\u3002\u4f60\u77e5\u9053\u8be5\u4fe1\u8c01\u4e0d\uff1f\u5c31\u8fd9\u4e48\u7b80\u5355\u3002 \u751a\u81f3\u54ea\u6015\u53ea\u8bf4\u4e00\u53e5\uff0c\u8c01\u8c01\u8c01\u5bf9\u8fd9\u4e9b\u57fa\u672c\u6982\u5ff5\u6574\u7406\u7684\u6bd4\u8f83\u597d\uff0c\u6bd4\u5982\u80e1\u6d6e\u741b\u3002\u96be\u4fdd\u4e0d\u4f1a\u6709\u4eba\u51fa\u6765\u6760\uff0c\u80e1\u6d6e\u741b\u4e0d\u884c\uff0c\u6ca1\u4fee\u4e3a\uff0c\u4e0d\u662f\u6b63\u7edf\u4fee\u58eb\uff0c\u88ab\u80e1\u6d77\u7259\u5f3a\u70c8\u9119\u89c6\u7b49\u7b49\uff0c\u8fd8\u5f97\u4fe1\u6211\u5e08\u7236\u8bf4\u7684\uff0c\u6211\u5e08\u7236\u8bf4\u3002\u3002\u3002\u3002\u3002\u3002\u3002\u7136\u540e\uff0c \u4ed6\u8bf4\u6211\u6ca1\u5f97\u771f\u4f20\uff0c\u6211\u8bf4\u4ed6\u5e08\u7236\u662f\u9017\u6bd4 \u3002\u8c01\u8bf4\u7684\u624d\u662f\u5bf9\u7684\uff1f\u4f60\u77e5\u8be5\u4fe1\u8c01\u7684\uff1f\u7ed3\u679c\u5c31\u662f \u8bf4\u4e86\u4e5f\u662f\u767d\u8bf4\uff0c\u5e73\u767d\u5435\u4e00\u901a\u67b6 \u3002 \u6240\u4ee5\uff0c\u8fd9\u4e9b\u57fa\u672c\u6982\u5ff5\uff0c\u81ea\u5df1\u591a\u4e0b\u4e9b\u529f\u592b\u6162\u6162\u7422\u78e8\u5427\u3002 \u78e8\u5200\u4e0d\u8bef\u780d\u67f4\u5de5\uff0c \u4e0b\u624b\u9636\u6bb5\u591a\u4e0b\u529f\u592b\u7422\u78e8\uff0c\u603b\u597d\u8fc7\u8d70\u9519\u8def\uff0c\u5bf9\u5427\u3002 \u4ee5\u4e0a\u3002 \u5173\u4e8e\u4e39\u9053\u7231\u597d\u8005\u5982\u4f55\u5206\u8fa8\u771f\u5e08 \u6211\u4e00\u76f4\u6709\u4e00\u4e2a\u89c2\u70b9\uff0c\u81ea\u8eab\u6709\u8db3\u591f\u5b9e\u8bc1\u4fee\u4e3a\uff0c\u5206\u8fa8\u771f\u5e08\u4f2a\u5e08\u6839\u672c\u4e0d\u662f\u95ee\u9898\u3002\u672c\u6587\u9488\u5bf9\u7684\u662f\u6ca1\u6709\u8db3\u591f\u4fee\u4e3a\u7684\u7231\u597d\u8005\u3002 1\u95ee\u4f60\u8981\u94b1\u7684\uff0c\u4e0d\u662f\u771f\u5e08\u3002 \u4f60\u613f\u610f\u7ed9\u94b1\u662f\u4f60\u7684\u4e8b\u60c5\uff0c\u771f\u5e08\u662f\u4e0d\u4f1a\u95ee\u4f60\u8981\u94b1\u7684\u3002 \u522b\u8bf4\u4ec0\u4e48\u6cd5\u4e0d\u8f7b\u4f20\u3002 \u6cd5\u4e0d\u8f7b\u4f20\u4e0d\u662f\u975e\u8981\u6536\u4f60\u5b66\u8d39\uff0c\u662f\u4f60\u60f3\u4ea4\u5b66\u8d39\u90fd\u4ea4\u4e0d\u51fa\u53bb \u3002\u4f60\u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u7ed9\u94b1\u4eba\u5bb6\u90fd\u4e0d\u4f20\u4f60\uff0c\u8fd9\u624d\u662f\u6cd5\u4e0d\u8f7b\u4f20\u3002 \u60f3\u60f3\u5c31\u660e\u767d\u4e86\uff0c\u4e39\u9053\u4fee\u884c\uff0c\u6cd5\u8d22\u4fa3\u5730\uff0c\u5fc5\u987b\u6709\u94b1\u3002\u82e5\u662f\u771f\u5e08\uff0c\u5fc5\u7136\u6709\u8db3\u591f\u7684\u4fee\u4e3a\u3002\u8981\u6709\u4fee\u4e3a\uff0c\u5c31\u5f97\u6709\u94b1\u3002\u90a3\u4ed6\u8981\u4e48\u81ea\u5df1\u6709\u94b1\uff0c\u8981\u4e48\u5df2\u7ecf\u8fc7\u4e86\u9700\u8981\u94b1\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e24\u6837\u91cc\u6709\u4e00\u6837\uff0c\u4ed6\u5c31\u6ca1\u7406\u7531\u6536\u4f60\u7684\u94b1\u3002 \u8fd8\u6709\u4e00\u4e2a\uff0c\u6b63\u7edf\u4e39\u9053\u53e3\u8bc0\uff0c\u7b80\u5355\u5e73\u5b9e\uff0c\u6ca1\u90a3\u4e48\u591a\u7384\u4e4b\u53c8\u7384\u7684\u3002\u90a3\u4e9b\u82b1\u91cc\u80e1\u54e8\u7684\u53e3\u8bc0\uff0c\u5c41\u7528\u6ca1\u6709\u3002\u771f\u8981\u655e\u5f00\u4e86\u8bb2\u4e0b\u624b\u529f\u592b\uff0c5\u5206\u949f\u5c31\u80fd\u8bb2\u5b8c\u57fa\u672c\u64cd\u4f5c\uff0c\u51ed\u8fd9\u4e9b\u5185\u5bb9\u6536\u51e0\u5343\u4e0a\u4e07\uff1f\u5c0f\u5fc3\u4eba\u5bb6\u53bb\u6d88\u534f\u544a\u4f60\u3002 2\u8eab\u4f53\u5065\u5eb7\u72b6\u51b5\u582a\u5fe7\u8005\uff0c\u9700\u8c28\u614e\u3002 \u4e5f\u5bb9\u6613\u7406\u89e3\uff0c\u4e39\u9053\u8bb2\u7a76\u6027\u547d\u53cc\u4fee\u3002\u8eab\u4f53\u72b6\u6001\u4e00\u584c\u7cca\u6d82\u7684\uff0c\u522b\u7ba1\u4ed6\u627e\u4ec0\u4e48\u7406\u7531\uff0c\u81f3\u5c11\u4e0d\u662f\u6709\u771f\u5b9e\u4fee\u4e3a\u3002\u8eab\u4f53\u72b6\u6001\u597d\u574f\u4e5f\u4e0d\u96be\u5224\u65ad\uff0c\u770b\u7259\u9f7f\uff0c\u5934\u53d1\uff0c\u773c\u795e\uff0c\u4e43\u81f3\u8bf4\u8bdd\u6c14\u606f\u7b49\u7b49\uff0c\u5f88\u5bb9\u6613\u770b\u51fa\u6765\u3002 \u4f46\u8fd9\u4e5f\u4e0d\u662f\u7edd\u5bf9\u7684\u3002\u6709\u7684\u4eba\u5c31\u662f\u5b66\u8bc6\u8db3\u591f\uff0c\u5b9e\u4fee\u4e0d\u8db3\uff0c\u4e5f\u6709\u3002\u8fd9\u79cd\u4eba\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5b66\u4e60\u7684\u5bf9\u8c61\u3002\u9648\u6484\u5b81\u665a\u5e74\u8eab\u4f53\u72b6\u6001\u5c31\u4e00\u76f4\u4e0d\u597d\uff0c\u4f46\u4f60\u4ec0\u4e48\u65f6\u5019\u89c1\u9648\u6484\u5b81\u5439\u81ea\u5df1\u5b9e\u8bc1\u4fee\u4e3a\u7684\uff1f\u9648\u6484\u5b81\u5173\u5fc3\u7684\u662f\u4ed6\u82e5\u4fee\u4e0d\u6210\uff0c\u540e\u4eba\u5343\u4e07\u522b\u7ed9\u4ed6\u778e\u5439\u3002 \u4f46 \u82e5\u662f\u6709\u4eba\u8eab\u4f53\u4e00\u584c\u7cca\u6d82\uff0c\u8fd8\u5439\u81ea\u5df1\u6027\u547d\u53cc\u4fee\u7684\u5b9e\u8bc1\u4fee\u4e3a\uff0c\u90a3\u5c31\u6709\u95ee\u9898\u4e86\uff0c\u4e0d\u5355\u5355\u662f\u4fee\u4e3a\u7684\u95ee\u9898\uff0c\u8fd8\u662f\u4eba\u54c1\u7684\u95ee\u9898\u3002 3\u6240\u8a00\u5883\u754c\u592a\u9ad8\u8005\uff0c\u975e\u771f\u5e08\u3002 \u8fd9\u662f\u5f88\u591a\u840c\u65b0\u5bb9\u6613\u4e0a\u5f53\u7684\u5730\u65b9\u3002 \u5047\u8bbeA\uff0cB\u4e24\u4eba\u4e2d\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u771f\u5e08\u3002 A\u4f20\u4f60\u79fb\u7089\u6362\u9f0e\uff0c\u7ed3\u4e39\uff0c\u6e29\u517b\uff0c\u751a\u81f3\u9633\u795e\u7684\u6cd5\u8bc0\u3002 B\u548c\u4f60\u8bf4\u6700\u57fa\u672c\u7684\u79ef\u7cbe\u7d2f\u6c14\uff0c\u521d\u8bc1\u5143\u795e\uff0c\u751a\u81f3\u7b51\u57fa\u90fd\u4e0d\u613f\u610f\u548c\u4f60\u591a\u8bf4\u3002 \u54ea\u4e2a\u624d\u662f\u771f\u5e08\uff1f \u5f88\u591a\u840c\u65b0\u5f88\u5bb9\u6613\u5c31\u88ab\u5ffd\u60a0\u8fdb\u53bb\u4e86\u3002\u89c9\u5f97A\u5389\u5bb3\uff0c\u61c2\u5f97\u591a\uff0c\u8bb2\u7684\u4e1c\u897f\u6df1\u5965\u3002B\u6ca1\u4ec0\u4e48\u4e86\u4e0d\u8d77\uff0c\u53ea\u61c2\u4e00\u4e9b\u6700\u57fa\u672c\u7684\u4e1c\u897f\u3002 \u90a3\u5c31\u4e0a\u5f53\u4e86\u3002 \u77e5\u9053\u95ee\u9898\u5728\u54ea\u91cc\uff1f A\u8bf4\u7684\u90a3\u4e9b\uff0c\u4e0d\u53ef\u8bc1\uff0c\u4f60\u6ca1\u529e\u6cd5\u8bc1\u660e\u4ed6\u8bf4\u7684\u771f\u5047\uff0c\u4ed6\u53ef\u4ee5\u968f\u4fbf\u778e\u63b0\u3002 B\u8bf4\u7684\u90a3\u4e9b\uff0c\u6709\u5e0c\u671b\u5b9e\u8bc1\u3002\u4f60\u53ea\u8981\u4e0b\u529f\u592b\uff0c\u5c31\u80fd\u77e5\u9053\u4ed6\u8bf4\u7684\u5230\u5e95\u5bf9\u4e0d\u5bf9\uff0c\u4ed6\u6ca1\u70b9\u771f\u529f\u592b\u884c\u5417\uff1f \u6253\u4e2a\u6bd4\u55bb\uff0c\u4e00\u4e2a\u6559\u4f60\u5f00\u706b\u7bad\uff0c\u4e00\u4e2a\u6559\u4f60\u5f00\u81ea\u52a8\u6321\u3002 \u6559\u4f60\u5f00\u706b\u7bad\u90a3\u4e2a\u4ed6\u53ef\u4ee5\u968f\u4fbf\u8bf4\uff0c\u54ea\u6015\u4ed6\u4e00\u70b9\u76f8\u5173\u77e5\u8bc6\u90fd\u6ca1\u6709\u90fd\u6ca1\u5173\u7cfb\u3002\u4ed6\u8bf4\u706b\u7bad\u70b9\u706b\u524d\u5148\u8e29\u79bb\u5408\u4f60\u4e5f\u53ea\u80fd\u7531\u4ed6\u8bf4\uff0c\u4f60\u4e0a\u54ea\u513f\u627e\u706b\u7bad\u771f\u70b9\u706b\u4e00\u4e0b\u9a8c\u8bc1\u53bb\uff1f\u8fd8\u4e0d\u662f\u4ed6\u8bf4\u4ec0\u4e48\u662f\u4ec0\u4e48\uff1f \u6559\u4f60\u5f00\u81ea\u52a8\u6321\u5c31\u4e0d\u540c\u4e86\uff0c\u867d\u8bf4\u90a3\u73a9\u610f\u513f\u65b9\u5411\u76d8\u4e0a\u6302\u5757\u8089\u72d7\u90fd\u4f1a\u5f00\uff0c\u4f46\u4f60\u53bb\u9a7e\u6821\u770b\uff0c\u54ea\u4e2a\u6559\u7ec3\u4e0d\u662f\u8001\u53f8\u673a\uff1f\u56e0\u4e3a\u8fd9\u4e2a\u6280\u672f\u53ef\u9a8c\u8bc1\uff0c\u4ed6\u8bf4\u81ea\u52a8\u6321\u8e29\u79bb\u5408\u4f60\u7acb\u9a6c\u77e5\u9053\u4ed6\u626f\u6de1\uff0c\u9760\u5439\u725b\u76ae\u4ed6\u9876\u4e0d\u4f4f\u554a\u3002 4\u76f4\u63a5\u4f20\u6388\u5168\u8bc0\u8005\uff0c\u987b\u8c28\u614e\u3002 \u63a5\u4e0a\u4e00\u4e2a\u6bd4\u55bb\uff0c\u5982\u679c\u6709\u4eba\u4ece\u81ea\u52a8\u6321\u5f00\u59cb\uff0c\u4e00\u76f4\u6559\u5230\u706b\u7bad\uff0c\u8be5\u600e\u4e48\u529e\uff1f\u5f88\u53ef\u80fd\u4e5f\u662f\u6709\u95ee\u9898\u7684\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u5e08\u5085\u4f20\u6388\u5f1f\u5b50\u771f\u8bc0\uff0c\u4e0d\u4f1a\u4e00\u6b65\u5230\u4f4d\u3002\u901a\u5e38\u662f\u201c\u4f60\u73b0\u5728\u662f\u4ec0\u4e48\u60c5\u51b5\uff0c\u4e0b\u4e00\u6b65\u9700\u8981\u600e\u4e48\u6837\uff0c\u4f60\u505a\u5230\u4e86\u518d\u6765\u627e\u6211\uff0c\u505a\u4e0d\u5230\u522b\u6765\u6dfb\u4e71\u3002\u201d \u4e39\u9053\u5b9e\u4fee\u6709\u4e00\u4e2a\u7279\u6027\uff0c\u4f60\u4e0d\u662f\u81ea\u8eab\u4fee\u4e3a\u5230\u4e86\uff0c\u4e0b\u4e00\u6b65\u7684\u5185\u5bb9\uff0c\u548c\u4f60\u8bf4\u4f60\u4e5f\u542c\u4e0d\u61c2\u3002 \u6bd4\u5982\u4f60\u770b\u6211\u7684\u6587\u7ae0\uff0c\u8bc6\u795e\u9000\u4f4d\uff0c\u5143\u795e\u663e\u50cf\u6211\u53cd\u590d\u8bf4\uff0c\u4f46\u4f60\u770b\u6211\u4ec0\u4e48\u65f6\u5019\u8bf4\u8fc7\u5143\u795e\u4e0b\u7167\uff1f\u4e0d\u662f\u4fdd\u5bc6\uff0c\u6ca1\u4ec0\u4e48\u597d\u4fdd\u5bc6\u7684\u3002\u5982\u679c\u4f60\u6709\u5b9e\u8bc1\u5143\u795e\u4e86\uff0c\u6211\u5f88\u4e50\u610f\u4e00\u8d77\u63a2\u8ba8\u4ea4\u6d41\u3002\u4f46\u662f\u4f60\u6ca1\u6709\u5143\u795e\u5b9e\u8bc1\uff0c\u6211\u8bf4\u4e86\u4e5f\u767d\u8bf4\uff0c\u6d6a\u8d39\u5927\u5bb6\u7cbe\u529b\u3002 \u5f53\u7136\u8fd9\u4e2a\u60c5\u51b5\u4e5f\u6709\u6781\u5c11\u6570\u4f8b\u5916\uff0c\u6bd4\u5982\u80e1\u6d6e\u741b\u3002\u4f46\u5f88\u660e\u663e\uff0c\u80e1\u6d6e\u741b\u6839\u672c\u4e0a\u662f\u5b66\u8005\uff0c\u4e0d\u662f\u6807\u51c6\u7684\u5b9e\u4fee\u8005\u3002\u738b\u6c90\u5bf9\u4ed6\u91c7\u53d6\u4e00\u4e9b\u7279\u522b\u7684\u4f20\u6388\u65b9\u5f0f\uff0c\u4e5f\u4e0d\u96be\u7406\u89e3\u3002\u4f46\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5e08\u5f92\u4f20\u6388\uff0c\u5e94\u8be5\u662f\u4e00\u6b65\u4e00\u6b65\u4f20\u6388\u7684\u3002 5\u8a00\u5e08\u95e8\u79d8\u4f20\u8005\uff0c\u83ab\u5f3a\u6c42\u3002 \u5bf9\u4e8e\u6240\u8c13\u5e08\u95e8\u79d8\u6cd5\uff0c\u6211\u4e2a\u4eba\u662f\u4e00\u6982\u4e0d\u7406\u4f1a\u7684\u3002\u6211\u6ca1\u5174\u8da3\uff0c\u4e0d\u9700\u8981\uff0c\u4f60\u4e0d\u613f\u610f\u8bf4\u6700\u597d\uff0c\u613f\u610f\u8bf4\u6211\u4e5f\u61d2\u5f97\u542c\u3002 \u4f46\u82e5\u8bf4\u6240\u6709\u5e08\u95e8\u79d8\u4f20\u90fd\u662f\u9a97\u4eba\uff0c\u5374\u4e5f\u592a\u8fc7\u6b66\u65ad\u3002 \u90a3\u4e48\u95ee\u9898\u6765\u4e86\u3002\u5982\u679c\u6709\u4eba\u544a\u8bc9\u4f60\u6240\u8c13\u5e08\u95e8\u79d8\u4f20\u529f\u592b\uff0c\u9700\u8981\u4ed8\u51fa\u4e00\u5b9a\u7684\u4ee3\u4ef7--\u901a\u5e38\u662f\u5b66\u8d39--\u624d\u80fd\u5b66\u4e60\uff0c\u4f60\u600e\u4e48\u529e\uff1f \u5f53\u7136\uff0c \u6211\u7684\u5efa\u8bae\u662f\u62c9\u9ed1\u4e86\u4e8b\u3002 \u4f46\u5982\u679c\u4f60\u5b9e\u5728\u62b1\u4e07\u4e00\u7684\u5e0c\u671b\u7684\u8bdd\uff0c\u4e0d\u59a8\u91c7\u53d6\u5982\u4e0b\u64cd\u4f5c\u3002 \u4f60\u7684\u5e08\u95e8\u79d8\u6cd5\u6682\u65f6\u6211\u4e0d\u5b66\uff0c\u4f60\u5148\u5e26\u6211\u8bfb\u4e00\u904d\u4e16\u4f20\u4e39\u7ecf\u3002\u7f51\u4e0a\u4e0b\u8f7d\u7684\u4e39\u7ecf\u603b\u4e0d\u662f\u4f60\u4eec\u5e08\u95e8\u79d8\u4f20\u4e86\u5427\uff0c\u4f60\u5e2e\u6211\u89e3\u4e00\u904d\u3002\u4e94\u7bc7\u7075\u6587\u5c31\u633a\u597d\u3002\u4f60\u5e26\u7740\u6211\u4e00\u53e5\u4e00\u53e5\u89e3\u4e00\u904d\u4e94\u7bc7\u7075\u6587\u3002\u4e00\u904d\u6b63\u7edf\u4e39\u7ecf\u89e3\u4e0b\u6765\uff0c\u5bf9\u65b9\u6709\u6ca1\u6709\u771f\u8d27\uff0c\u6709\u5b9e\u8bc1\u8fd8\u662f\u778e\u63b0\uff0c\u5b9e\u8bc1\u5230\u4ec0\u4e48\u7a0b\u5ea6\uff0c\u5927\u4f53\u80fd\u770b\u51fa\u6765\u3002 \u6bd4\u5982\u5230\u5e95\u5565\u53eb\u201c\u4ee5\u5929\u5fc3\u4e3a\u4e3b\uff0c\u4ee5\u5143\u795e\u4e3a\u7528\u201d\uff1f\u8bf4\u5427\u3002 \u8fd9\u603b\u4e0d\u662f\u79d8\u4f20\u4e86\u5427\uff0c\u738b\u91cd\u9633\u90fd\u6ca1\u4fdd\u5bc6\uff0c\u4f60\u4fdd\u5bc6\u4e2a\u4ec0\u4e48\u52b2\uff1f\uff08\u8bf4\u53e5\u9898\u5916\u8bdd\uff0c\u8fd9\u4e2a\u95ee\u9898\u4e50\u80b2\u5802\u6709\u5f1f\u5b50\u95ee\u8fc7\u9ec4\u5143\u5409\uff0c\u9ec4\u5143\u5409\u4e5f\u56de\u7b54\u4e86\uff09 \u5565\uff1f\u4eba\u5bb6\u51ed\u4ec0\u4e48\u544a\u8bc9\u4f60\uff1f\u51ed\u4ec0\u4e48\u5e2e\u4f60\u89e3\u4e39\u7ecf\uff1f \u90a3\u5c31\u597d\u529e\u4e86\u3002 \u4e39\u9053\u5e08\u5bfb\u5f1f\u5b50\uff0c\u56fe\u7684\u662f\u4f20\u627f\u6b63\u9053\u4fee\u884c\uff0c\u4e0d\u662f\u4e3a\u4e86\u79c1\u5229\u3002 \u4f60\u8fd9\u5012\u597d\uff0c\u5e26\u6211\u89e3\u6b63\u7edf\u4e39\u7ecf\u90fd\u4e0d\u613f\u610f\uff0c\u611f\u60c5\u4f60\u5149\u60f3\u7740\u8ba9\u6211\u4ea4\u94b1\u5b66\u4f60\u7684\u79d8\u4f20\u529f\u592b\uff1f\u8981\u662f\u6709\u4eba\u8fd9\u90fd\u4fe1\uff0c\u90a3\u8fd8\u8981\u5565\u81ea\u884c\u8f66\u554a\uff1f \u4ee5\u4e0a\u3002","title":"\u65b0\u4eba\u4e39\u9053\u907f\u5751"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%96%B0%E4%BA%BA%E4%B8%B9%E9%81%93%E9%81%BF%E5%9D%91/#1","text":"\u4f60\u613f\u610f\u7ed9\u94b1\u662f\u4f60\u7684\u4e8b\u60c5\uff0c\u771f\u5e08\u662f\u4e0d\u4f1a\u95ee\u4f60\u8981\u94b1\u7684\u3002 \u522b\u8bf4\u4ec0\u4e48\u6cd5\u4e0d\u8f7b\u4f20\u3002 \u6cd5\u4e0d\u8f7b\u4f20\u4e0d\u662f\u975e\u8981\u6536\u4f60\u5b66\u8d39\uff0c\u662f\u4f60\u60f3\u4ea4\u5b66\u8d39\u90fd\u4ea4\u4e0d\u51fa\u53bb \u3002\u4f60\u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u7ed9\u94b1\u4eba\u5bb6\u90fd\u4e0d\u4f20\u4f60\uff0c\u8fd9\u624d\u662f\u6cd5\u4e0d\u8f7b\u4f20\u3002 \u60f3\u60f3\u5c31\u660e\u767d\u4e86\uff0c\u4e39\u9053\u4fee\u884c\uff0c\u6cd5\u8d22\u4fa3\u5730\uff0c\u5fc5\u987b\u6709\u94b1\u3002\u82e5\u662f\u771f\u5e08\uff0c\u5fc5\u7136\u6709\u8db3\u591f\u7684\u4fee\u4e3a\u3002\u8981\u6709\u4fee\u4e3a\uff0c\u5c31\u5f97\u6709\u94b1\u3002\u90a3\u4ed6\u8981\u4e48\u81ea\u5df1\u6709\u94b1\uff0c\u8981\u4e48\u5df2\u7ecf\u8fc7\u4e86\u9700\u8981\u94b1\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e24\u6837\u91cc\u6709\u4e00\u6837\uff0c\u4ed6\u5c31\u6ca1\u7406\u7531\u6536\u4f60\u7684\u94b1\u3002 \u8fd8\u6709\u4e00\u4e2a\uff0c\u6b63\u7edf\u4e39\u9053\u53e3\u8bc0\uff0c\u7b80\u5355\u5e73\u5b9e\uff0c\u6ca1\u90a3\u4e48\u591a\u7384\u4e4b\u53c8\u7384\u7684\u3002\u90a3\u4e9b\u82b1\u91cc\u80e1\u54e8\u7684\u53e3\u8bc0\uff0c\u5c41\u7528\u6ca1\u6709\u3002\u771f\u8981\u655e\u5f00\u4e86\u8bb2\u4e0b\u624b\u529f\u592b\uff0c5\u5206\u949f\u5c31\u80fd\u8bb2\u5b8c\u57fa\u672c\u64cd\u4f5c\uff0c\u51ed\u8fd9\u4e9b\u5185\u5bb9\u6536\u51e0\u5343\u4e0a\u4e07\uff1f\u5c0f\u5fc3\u4eba\u5bb6\u53bb\u6d88\u534f\u544a\u4f60\u3002","title":"1\u95ee\u4f60\u8981\u94b1\u7684\uff0c\u4e0d\u662f\u771f\u5e08\u3002"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%96%B0%E4%BA%BA%E4%B8%B9%E9%81%93%E9%81%BF%E5%9D%91/#2","text":"\u4e5f\u5bb9\u6613\u7406\u89e3\uff0c\u4e39\u9053\u8bb2\u7a76\u6027\u547d\u53cc\u4fee\u3002\u8eab\u4f53\u72b6\u6001\u4e00\u584c\u7cca\u6d82\u7684\uff0c\u522b\u7ba1\u4ed6\u627e\u4ec0\u4e48\u7406\u7531\uff0c\u81f3\u5c11\u4e0d\u662f\u6709\u771f\u5b9e\u4fee\u4e3a\u3002\u8eab\u4f53\u72b6\u6001\u597d\u574f\u4e5f\u4e0d\u96be\u5224\u65ad\uff0c\u770b\u7259\u9f7f\uff0c\u5934\u53d1\uff0c\u773c\u795e\uff0c\u4e43\u81f3\u8bf4\u8bdd\u6c14\u606f\u7b49\u7b49\uff0c\u5f88\u5bb9\u6613\u770b\u51fa\u6765\u3002 \u4f46\u8fd9\u4e5f\u4e0d\u662f\u7edd\u5bf9\u7684\u3002\u6709\u7684\u4eba\u5c31\u662f\u5b66\u8bc6\u8db3\u591f\uff0c\u5b9e\u4fee\u4e0d\u8db3\uff0c\u4e5f\u6709\u3002\u8fd9\u79cd\u4eba\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5b66\u4e60\u7684\u5bf9\u8c61\u3002\u9648\u6484\u5b81\u665a\u5e74\u8eab\u4f53\u72b6\u6001\u5c31\u4e00\u76f4\u4e0d\u597d\uff0c\u4f46\u4f60\u4ec0\u4e48\u65f6\u5019\u89c1\u9648\u6484\u5b81\u5439\u81ea\u5df1\u5b9e\u8bc1\u4fee\u4e3a\u7684\uff1f\u9648\u6484\u5b81\u5173\u5fc3\u7684\u662f\u4ed6\u82e5\u4fee\u4e0d\u6210\uff0c\u540e\u4eba\u5343\u4e07\u522b\u7ed9\u4ed6\u778e\u5439\u3002 \u4f46 \u82e5\u662f\u6709\u4eba\u8eab\u4f53\u4e00\u584c\u7cca\u6d82\uff0c\u8fd8\u5439\u81ea\u5df1\u6027\u547d\u53cc\u4fee\u7684\u5b9e\u8bc1\u4fee\u4e3a\uff0c\u90a3\u5c31\u6709\u95ee\u9898\u4e86\uff0c\u4e0d\u5355\u5355\u662f\u4fee\u4e3a\u7684\u95ee\u9898\uff0c\u8fd8\u662f\u4eba\u54c1\u7684\u95ee\u9898\u3002","title":"2\u8eab\u4f53\u5065\u5eb7\u72b6\u51b5\u582a\u5fe7\u8005\uff0c\u9700\u8c28\u614e\u3002"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%96%B0%E4%BA%BA%E4%B8%B9%E9%81%93%E9%81%BF%E5%9D%91/#3","text":"\u8fd9\u662f\u5f88\u591a\u840c\u65b0\u5bb9\u6613\u4e0a\u5f53\u7684\u5730\u65b9\u3002 \u5047\u8bbeA\uff0cB\u4e24\u4eba\u4e2d\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u771f\u5e08\u3002 A\u4f20\u4f60\u79fb\u7089\u6362\u9f0e\uff0c\u7ed3\u4e39\uff0c\u6e29\u517b\uff0c\u751a\u81f3\u9633\u795e\u7684\u6cd5\u8bc0\u3002 B\u548c\u4f60\u8bf4\u6700\u57fa\u672c\u7684\u79ef\u7cbe\u7d2f\u6c14\uff0c\u521d\u8bc1\u5143\u795e\uff0c\u751a\u81f3\u7b51\u57fa\u90fd\u4e0d\u613f\u610f\u548c\u4f60\u591a\u8bf4\u3002 \u54ea\u4e2a\u624d\u662f\u771f\u5e08\uff1f \u5f88\u591a\u840c\u65b0\u5f88\u5bb9\u6613\u5c31\u88ab\u5ffd\u60a0\u8fdb\u53bb\u4e86\u3002\u89c9\u5f97A\u5389\u5bb3\uff0c\u61c2\u5f97\u591a\uff0c\u8bb2\u7684\u4e1c\u897f\u6df1\u5965\u3002B\u6ca1\u4ec0\u4e48\u4e86\u4e0d\u8d77\uff0c\u53ea\u61c2\u4e00\u4e9b\u6700\u57fa\u672c\u7684\u4e1c\u897f\u3002 \u90a3\u5c31\u4e0a\u5f53\u4e86\u3002 \u77e5\u9053\u95ee\u9898\u5728\u54ea\u91cc\uff1f A\u8bf4\u7684\u90a3\u4e9b\uff0c\u4e0d\u53ef\u8bc1\uff0c\u4f60\u6ca1\u529e\u6cd5\u8bc1\u660e\u4ed6\u8bf4\u7684\u771f\u5047\uff0c\u4ed6\u53ef\u4ee5\u968f\u4fbf\u778e\u63b0\u3002 B\u8bf4\u7684\u90a3\u4e9b\uff0c\u6709\u5e0c\u671b\u5b9e\u8bc1\u3002\u4f60\u53ea\u8981\u4e0b\u529f\u592b\uff0c\u5c31\u80fd\u77e5\u9053\u4ed6\u8bf4\u7684\u5230\u5e95\u5bf9\u4e0d\u5bf9\uff0c\u4ed6\u6ca1\u70b9\u771f\u529f\u592b\u884c\u5417\uff1f \u6253\u4e2a\u6bd4\u55bb\uff0c\u4e00\u4e2a\u6559\u4f60\u5f00\u706b\u7bad\uff0c\u4e00\u4e2a\u6559\u4f60\u5f00\u81ea\u52a8\u6321\u3002 \u6559\u4f60\u5f00\u706b\u7bad\u90a3\u4e2a\u4ed6\u53ef\u4ee5\u968f\u4fbf\u8bf4\uff0c\u54ea\u6015\u4ed6\u4e00\u70b9\u76f8\u5173\u77e5\u8bc6\u90fd\u6ca1\u6709\u90fd\u6ca1\u5173\u7cfb\u3002\u4ed6\u8bf4\u706b\u7bad\u70b9\u706b\u524d\u5148\u8e29\u79bb\u5408\u4f60\u4e5f\u53ea\u80fd\u7531\u4ed6\u8bf4\uff0c\u4f60\u4e0a\u54ea\u513f\u627e\u706b\u7bad\u771f\u70b9\u706b\u4e00\u4e0b\u9a8c\u8bc1\u53bb\uff1f\u8fd8\u4e0d\u662f\u4ed6\u8bf4\u4ec0\u4e48\u662f\u4ec0\u4e48\uff1f \u6559\u4f60\u5f00\u81ea\u52a8\u6321\u5c31\u4e0d\u540c\u4e86\uff0c\u867d\u8bf4\u90a3\u73a9\u610f\u513f\u65b9\u5411\u76d8\u4e0a\u6302\u5757\u8089\u72d7\u90fd\u4f1a\u5f00\uff0c\u4f46\u4f60\u53bb\u9a7e\u6821\u770b\uff0c\u54ea\u4e2a\u6559\u7ec3\u4e0d\u662f\u8001\u53f8\u673a\uff1f\u56e0\u4e3a\u8fd9\u4e2a\u6280\u672f\u53ef\u9a8c\u8bc1\uff0c\u4ed6\u8bf4\u81ea\u52a8\u6321\u8e29\u79bb\u5408\u4f60\u7acb\u9a6c\u77e5\u9053\u4ed6\u626f\u6de1\uff0c\u9760\u5439\u725b\u76ae\u4ed6\u9876\u4e0d\u4f4f\u554a\u3002","title":"3\u6240\u8a00\u5883\u754c\u592a\u9ad8\u8005\uff0c\u975e\u771f\u5e08\u3002"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%96%B0%E4%BA%BA%E4%B8%B9%E9%81%93%E9%81%BF%E5%9D%91/#4","text":"\u63a5\u4e0a\u4e00\u4e2a\u6bd4\u55bb\uff0c\u5982\u679c\u6709\u4eba\u4ece\u81ea\u52a8\u6321\u5f00\u59cb\uff0c\u4e00\u76f4\u6559\u5230\u706b\u7bad\uff0c\u8be5\u600e\u4e48\u529e\uff1f\u5f88\u53ef\u80fd\u4e5f\u662f\u6709\u95ee\u9898\u7684\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u5e08\u5085\u4f20\u6388\u5f1f\u5b50\u771f\u8bc0\uff0c\u4e0d\u4f1a\u4e00\u6b65\u5230\u4f4d\u3002\u901a\u5e38\u662f\u201c\u4f60\u73b0\u5728\u662f\u4ec0\u4e48\u60c5\u51b5\uff0c\u4e0b\u4e00\u6b65\u9700\u8981\u600e\u4e48\u6837\uff0c\u4f60\u505a\u5230\u4e86\u518d\u6765\u627e\u6211\uff0c\u505a\u4e0d\u5230\u522b\u6765\u6dfb\u4e71\u3002\u201d \u4e39\u9053\u5b9e\u4fee\u6709\u4e00\u4e2a\u7279\u6027\uff0c\u4f60\u4e0d\u662f\u81ea\u8eab\u4fee\u4e3a\u5230\u4e86\uff0c\u4e0b\u4e00\u6b65\u7684\u5185\u5bb9\uff0c\u548c\u4f60\u8bf4\u4f60\u4e5f\u542c\u4e0d\u61c2\u3002 \u6bd4\u5982\u4f60\u770b\u6211\u7684\u6587\u7ae0\uff0c\u8bc6\u795e\u9000\u4f4d\uff0c\u5143\u795e\u663e\u50cf\u6211\u53cd\u590d\u8bf4\uff0c\u4f46\u4f60\u770b\u6211\u4ec0\u4e48\u65f6\u5019\u8bf4\u8fc7\u5143\u795e\u4e0b\u7167\uff1f\u4e0d\u662f\u4fdd\u5bc6\uff0c\u6ca1\u4ec0\u4e48\u597d\u4fdd\u5bc6\u7684\u3002\u5982\u679c\u4f60\u6709\u5b9e\u8bc1\u5143\u795e\u4e86\uff0c\u6211\u5f88\u4e50\u610f\u4e00\u8d77\u63a2\u8ba8\u4ea4\u6d41\u3002\u4f46\u662f\u4f60\u6ca1\u6709\u5143\u795e\u5b9e\u8bc1\uff0c\u6211\u8bf4\u4e86\u4e5f\u767d\u8bf4\uff0c\u6d6a\u8d39\u5927\u5bb6\u7cbe\u529b\u3002 \u5f53\u7136\u8fd9\u4e2a\u60c5\u51b5\u4e5f\u6709\u6781\u5c11\u6570\u4f8b\u5916\uff0c\u6bd4\u5982\u80e1\u6d6e\u741b\u3002\u4f46\u5f88\u660e\u663e\uff0c\u80e1\u6d6e\u741b\u6839\u672c\u4e0a\u662f\u5b66\u8005\uff0c\u4e0d\u662f\u6807\u51c6\u7684\u5b9e\u4fee\u8005\u3002\u738b\u6c90\u5bf9\u4ed6\u91c7\u53d6\u4e00\u4e9b\u7279\u522b\u7684\u4f20\u6388\u65b9\u5f0f\uff0c\u4e5f\u4e0d\u96be\u7406\u89e3\u3002\u4f46\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5e08\u5f92\u4f20\u6388\uff0c\u5e94\u8be5\u662f\u4e00\u6b65\u4e00\u6b65\u4f20\u6388\u7684\u3002","title":"4\u76f4\u63a5\u4f20\u6388\u5168\u8bc0\u8005\uff0c\u987b\u8c28\u614e\u3002"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%96%B0%E4%BA%BA%E4%B8%B9%E9%81%93%E9%81%BF%E5%9D%91/#5","text":"\u5bf9\u4e8e\u6240\u8c13\u5e08\u95e8\u79d8\u6cd5\uff0c\u6211\u4e2a\u4eba\u662f\u4e00\u6982\u4e0d\u7406\u4f1a\u7684\u3002\u6211\u6ca1\u5174\u8da3\uff0c\u4e0d\u9700\u8981\uff0c\u4f60\u4e0d\u613f\u610f\u8bf4\u6700\u597d\uff0c\u613f\u610f\u8bf4\u6211\u4e5f\u61d2\u5f97\u542c\u3002 \u4f46\u82e5\u8bf4\u6240\u6709\u5e08\u95e8\u79d8\u4f20\u90fd\u662f\u9a97\u4eba\uff0c\u5374\u4e5f\u592a\u8fc7\u6b66\u65ad\u3002 \u90a3\u4e48\u95ee\u9898\u6765\u4e86\u3002\u5982\u679c\u6709\u4eba\u544a\u8bc9\u4f60\u6240\u8c13\u5e08\u95e8\u79d8\u4f20\u529f\u592b\uff0c\u9700\u8981\u4ed8\u51fa\u4e00\u5b9a\u7684\u4ee3\u4ef7--\u901a\u5e38\u662f\u5b66\u8d39--\u624d\u80fd\u5b66\u4e60\uff0c\u4f60\u600e\u4e48\u529e\uff1f \u5f53\u7136\uff0c \u6211\u7684\u5efa\u8bae\u662f\u62c9\u9ed1\u4e86\u4e8b\u3002 \u4f46\u5982\u679c\u4f60\u5b9e\u5728\u62b1\u4e07\u4e00\u7684\u5e0c\u671b\u7684\u8bdd\uff0c\u4e0d\u59a8\u91c7\u53d6\u5982\u4e0b\u64cd\u4f5c\u3002 \u4f60\u7684\u5e08\u95e8\u79d8\u6cd5\u6682\u65f6\u6211\u4e0d\u5b66\uff0c\u4f60\u5148\u5e26\u6211\u8bfb\u4e00\u904d\u4e16\u4f20\u4e39\u7ecf\u3002\u7f51\u4e0a\u4e0b\u8f7d\u7684\u4e39\u7ecf\u603b\u4e0d\u662f\u4f60\u4eec\u5e08\u95e8\u79d8\u4f20\u4e86\u5427\uff0c\u4f60\u5e2e\u6211\u89e3\u4e00\u904d\u3002\u4e94\u7bc7\u7075\u6587\u5c31\u633a\u597d\u3002\u4f60\u5e26\u7740\u6211\u4e00\u53e5\u4e00\u53e5\u89e3\u4e00\u904d\u4e94\u7bc7\u7075\u6587\u3002\u4e00\u904d\u6b63\u7edf\u4e39\u7ecf\u89e3\u4e0b\u6765\uff0c\u5bf9\u65b9\u6709\u6ca1\u6709\u771f\u8d27\uff0c\u6709\u5b9e\u8bc1\u8fd8\u662f\u778e\u63b0\uff0c\u5b9e\u8bc1\u5230\u4ec0\u4e48\u7a0b\u5ea6\uff0c\u5927\u4f53\u80fd\u770b\u51fa\u6765\u3002 \u6bd4\u5982\u5230\u5e95\u5565\u53eb\u201c\u4ee5\u5929\u5fc3\u4e3a\u4e3b\uff0c\u4ee5\u5143\u795e\u4e3a\u7528\u201d\uff1f\u8bf4\u5427\u3002 \u8fd9\u603b\u4e0d\u662f\u79d8\u4f20\u4e86\u5427\uff0c\u738b\u91cd\u9633\u90fd\u6ca1\u4fdd\u5bc6\uff0c\u4f60\u4fdd\u5bc6\u4e2a\u4ec0\u4e48\u52b2\uff1f\uff08\u8bf4\u53e5\u9898\u5916\u8bdd\uff0c\u8fd9\u4e2a\u95ee\u9898\u4e50\u80b2\u5802\u6709\u5f1f\u5b50\u95ee\u8fc7\u9ec4\u5143\u5409\uff0c\u9ec4\u5143\u5409\u4e5f\u56de\u7b54\u4e86\uff09 \u5565\uff1f\u4eba\u5bb6\u51ed\u4ec0\u4e48\u544a\u8bc9\u4f60\uff1f\u51ed\u4ec0\u4e48\u5e2e\u4f60\u89e3\u4e39\u7ecf\uff1f \u90a3\u5c31\u597d\u529e\u4e86\u3002 \u4e39\u9053\u5e08\u5bfb\u5f1f\u5b50\uff0c\u56fe\u7684\u662f\u4f20\u627f\u6b63\u9053\u4fee\u884c\uff0c\u4e0d\u662f\u4e3a\u4e86\u79c1\u5229\u3002 \u4f60\u8fd9\u5012\u597d\uff0c\u5e26\u6211\u89e3\u6b63\u7edf\u4e39\u7ecf\u90fd\u4e0d\u613f\u610f\uff0c\u611f\u60c5\u4f60\u5149\u60f3\u7740\u8ba9\u6211\u4ea4\u94b1\u5b66\u4f60\u7684\u79d8\u4f20\u529f\u592b\uff1f\u8981\u662f\u6709\u4eba\u8fd9\u90fd\u4fe1\uff0c\u90a3\u8fd8\u8981\u5565\u81ea\u884c\u8f66\u554a\uff1f \u4ee5\u4e0a\u3002","title":"5\u8a00\u5e08\u95e8\u79d8\u4f20\u8005\uff0c\u83ab\u5f3a\u6c42\u3002"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%9C%89%E4%BA%BA%E8%AF%B4%E4%B8%B9%E9%81%93%E7%81%AB%E5%80%99%E4%B8%8D%E8%83%BD%E9%9D%A0%E8%87%AA%E5%B7%B1%E6%8F%A3%E6%91%A9%EF%BC%8C%E5%8F%AA%E8%83%BD%E9%9D%A0%E5%B8%88%E6%89%BF%E5%8F%A3%E8%AF%80%E3%80%82%E9%82%A3%E4%B9%88%EF%BC%8C%E6%9C%80%E5%BC%80%E5%A7%8B%E7%9A%84%E5%8A%9F%E6%B3%95%E6%98%AF%E5%A6%82%E4%BD%95%E5%87%BA%E7%8E%B0%E7%9A%84/","text":"\u521b\u5efa\u65f6\u95f4\uff1a2021-05-14 11:20:29 \u6700\u540e\u4fee\u6539\u65f6\u95f4\uff1a2021-05-14 19:21:40 \u597d\u95ee\u9898\u3002\u6211\u968f\u4fbf\u8bf4\u51e0\u53e5\uff0c\u4f60\u51d1\u6d3b\u7740\u542c\u3002\u9996\u5148\u706b\u5019\u8fd9\u4e2a\u8bcd\uff0c\u5728\u4e39\u7ecf\u4e2d\u662f\u4e2a\u6a21\u7cca\u6982\u5ff5\uff0c\u4e0d\u540c\u7684\u4e39\u7ecf\uff0c\u540c\u4e00\u90e8\u4e39\u7ecf\u4e0d\u540c\u9636\u6bb5\uff0c\u90fd\u4f1a\u6709\u4e0d\u540c\u7684\u6307\u5411\uff0c\u751a\u81f3\u6307\u5411\u5b8c\u5168\u4e0d\u540c\u7684\u5bf9\u8c61\u3002\u4ed6\u5c31\u662f\u4e2a\u7b50\uff0c\u6709\u4e00\u5806\u6982\u5ff5\u53ef\u4ee5\u653e\u8fdb\u53bb\u3002\u4f46\u603b\u7684\u6765\u8bf4\uff0c\u706b\u5019\u6240\u6307\u5411\u5f97\u5927\u591a\u662f\u4e39\u9053\u4fee\u884c\u4e2d\u6bd4\u8f83\u96be\u4ee5\u7cbe\u786e\u5316\u91cf\u5316\u7684\u6982\u5ff5\u3002\u56e0\u4e3a\u80fd\u591f\u7cbe\u786e\u5316\u91cf\u5316\u7684\uff0c\u4e0d\u9700\u8981\u542f\u7528\u706b\u5019\u8fd9\u4e2a\u6982\u5ff5\u3002\u5176\u6b21\u8fd9\u95ee\u9898\u662f\u4e00\u4e2a\u8bef\u89e3\u3002\u706b\u5019\u4f9d\u8d56\u5e08\u4f20\u7684\u610f\u601d\u4e0d\u662f\u9760\u5e08\u627f\u53e3\u8bc0\u3002\u4e0d\u662f\u8bf4\u6709\u4e00\u6bb5\u79d8\u4f20\u6587\u5b57\uff0c\u4f60\u5f97\u5230\u4e86\u7acb\u9a6c\u5c31\u660e\u767d\u8be5\u600e\u4e48\u505a\uff0c\u4e0d\u662f\u8fd9\u6837\u7684\u3002\u4f60\u4e5f\u4e0d\u7528\u53bb\u60f3\u627e\u8fd9\u79cd\u4e1c\u897f\u4e86\uff0c\u6ca1\u6709\u610f\u4e49\u3002\u81f3\u4e8e\u8bf4\u627e\u4e00\u4e2a\u795e\u795e\u53e8\u53e8\u7684\u8001\u5e08\uff0c\u4ea4\u4e00\u5927\u7b14\u6cd5\u91d1\u5f53\u5b66\u8d39\uff0c\u4f20\u4f60\u4e00\u6bb5\u4e0d\u77e5\u6240\u4e91\u7684\u53e3\u8bc0\uff0c\u7136\u540e\u8c41\u7136\u5f00\u6717\uff0c\u522b\u505a\u68a6\u4e86\uff0c\u4f60\u7b49\u7740\u505a\u80a5\u7f8a\u5427\u3002\u706b\u5019\u8d56\u5e08\u4f20\u7684\u610f\u601d\uff0c\u662f\u8fc7\u6765\u4eba\u548c\u4f60\u4e00\u8d77\u63e3\u6469\u3002\u5bf9\u65b9\u81ea\u8eab\u5df2\u7ecf\u6709\u5b9e\u8bc1\u7ecf\u9a8c\uff0c\u7ed3\u5408\u4f60\u7684\u5b9e\u9645\u60c5\u51b5\uff0c\u5b9e\u9645\u611f\u53d7\uff0c\u63a8\u6d4b\u4f60\u53ef\u80fd\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\uff0c\u9762\u4e34\u4ec0\u4e48\u60c5\u51b5\uff0c\u4e0b\u4e00\u6b65\u4f60\u5e94\u8be5\u600e\u4e48\u5904\u7406\uff0c\u5e94\u8be5\u505a\u5230\u4ec0\u4e48\u5730\u6b65\u3002\u5927\u5bb6\u4e00\u8d77\u53cd\u590d\u7814\u7a76\uff0c\u53cd\u590d\u7422\u78e8\uff0c\u6700\u540e\uff0c\u62ff\u51fa\u4e00\u5957\u6bd4\u8f83\u9002\u5408\u7684\u65b9\u6848\u3002 \u5723\u4eba\u4f20\u836f\u4e0d\u4f20\u706b,\u4ece\u6765\u706b\u5019\u5c11\u4eba\u77e5\u3002\u83ab\u5c06\u5927\u9053\u4e3a\u513f\u620f\uff0c\u9700\u5171\u795e\u4ed9\u4ed4\u7ec6\u63a8\u3002 \u770b\u6e05\u4e86\u5417\uff1f\u4ed4\u7ec6\u63a8\uff0c\u662f\u4e00\u8d77\u7814\u7a76\u7422\u78e8\uff0c\u4e0d\u662f\u6709\u4e00\u4e2a\u73b0\u6210\u7684\u6587\u5b57\u65b9\u6848\u53ef\u4f9b\u76f4\u63a5\u4f20\u6388\u3002\u4e39\u9053\u4e0b\u624b\u529f\u592b\uff0c\u5176\u5b9e\u80fd\u8bf4\u7684\u90fd\u8bf4\u4e86\uff0c\u6709\u4e9b\u4e1c\u897f\u4e0d\u662f\u4e39\u5bb6\u5386\u4ee3\u7956\u5e08\u4fdd\u5bc6\uff0c\u771f\u7684\u5f88\u96be\u7528\u8bed\u8a00\u8fdb\u884c\u7edf\u4e00\u5316\u7684\u63cf\u8ff0\u6253\u4e2a\u6bd4\u55bb\uff0c\u9a91\u81ea\u884c\u8f66\u3002\u4f60\u80fd\u5426\u7528\u6587\u5b57\u63cf\u8ff0\u544a\u8bc9\u6211\u600e\u6837\u9a91\u81ea\u884c\u8f66\uff1f\u7ed9\u4f60\u4e00\u767e\u4e07\u5b57\u7684\u7bc7\u5e45\u597d\u4e86\uff0c\u968f\u4fbf\u4f60\u6587\u5b57\u529f\u5e95\u600e\u4e48\u597d\uff0c\u968f\u4fbf\u770b\u7684\u4eba\u600e\u4e48\u4ed4\u7ec6\u63e3\u6469\u3002\u4f60\u770b\u6709\u591a\u5c11\u4eba\u80fd\u591f\u770b\u7740\u4f60\u7684\u6587\u5b57\u5b66\u4f1a\u9a91\u81ea\u884c\u8f66\u3002\u7167\u7740\u6587\u5b57\u63cf\u8ff0\u7684\u8bc0\u7a8d\u53bb\u5176\u81ea\u884c\u8f66\uff0c\u770b\u7684\u4e91\u5c71\u96fe\u7f69\u4e0d\u8bf4\uff0c\u8be5\u6454\u8fd8\u5f97\u6454\u3002\u90a3\u600e\u4e48\u529e\u5462\uff1f\u627e\u4e2a\u4f1a\u9a91\u7684\uff0c\u642d\u628a\u624b\uff0c\u4f60\u4e00\u8fb9\u5b66\u4ed6\u4e00\u8fb9\u7a0d\u5fae\u63d0\u9192\u51e0\u53e5\uff0c\u4f60\u5feb\u6454\u4e86\u6276\u4e00\u628a\uff0c\u51e0\u4e0b\u5c31\u4f1a\u4e86\u3002\u8fd9\u5c31\u53eb\u8d56\u5e08\u4f20\u3002\u56de\u5230\u95ee\u9898 \u6700\u5f00\u59cb\u7684\u706b\u5019\u8bc0\u7a8d\u600e\u4e48\u6765\u7684\uff1f \u6700\u65e9\u4f1a\u9a91\u81ea\u884c\u8f66\u7684\u4eba\u600e\u4e48\u6765\u7684\uff1f \u4f60\u5b66\u9a91\u81ea\u884c\u8f66\u6454\u5f97\u9f3b\u9752\u8138\u80bf\u90fd\u5b66\u4e0d\u4f1a\uff0c\u4f46\u6709\u7684\u4eba\u5c31\u662f\u5929\u8d44\u9ad8\uff0c\u9a91\u4e0a\u8f66\u8e29\u51e0\u4e0b\u5c31\u4f1a\u4e86\uff0c\u600e\u4e48\u7740\u5427\u3002\u8bf4\u4e2a\u9898\u5916\u8bdd\uff0c\u5982\u679c\u6ca1\u6709\u5e08\u4f20\u706b\u5019\uff0c\u662f\u4e0d\u662f\u5c31\u65ad\u4e86\u4e39\u5bb6\u4fee\u884c\u4e4b\u8def\uff1f \u4e8b\u5b9e\u4e0a\u7edd\u5927\u90e8\u5206\u6d89\u53ca\u5230\u706b\u5019\u7684\u5185\u5bb9\uff0c\u4e00\u822c\u4eba\u6839\u672c\u63a5\u89e6\u4e0d\u5230\uff0c \u80fd\u6d89\u53ca\u5230\u8fd9\u4e00\u5757\uff0c\u5df2\u7ecf\u662f\u5927\u4f6c\u7ea7\u522b\u3002\u5c31\u6211\u4e2a\u4eba\u7684\u4fee\u884c\u8def\u7ebf\u6765\u8bf4\uff0c\u90a3\u90fd\u662f\u8109\u4f4f\u6c14\u505c\u4e4b\u540e\u7684\u4e8b\u60c5\u3002\u5176\u5b9e\u4e0d\u7528\u60f3\u592a\u591a\u7684\uff0c\u4f60\u61c2\u7684\u3002\u5f53\u7136\u4e5f\u6709\u4f8b\u5916\u3002\u67d0\u4e9b\u8def\u7ebf\uff0c\u95e8\u6d3e\uff0c\u5bf9\u7b51\u57fa\u524d\u79ef\u7cbe\u7d2f\u6c14\u7684\u8fc7\u7a0b\u8fdb\u884c\u4e86\u7ec6\u5206\uff0c\u79f0\u4e4b\u4e3a\u706b\u5019\uff0c\u7136\u540e\u91c7\u53d6\u4e0d\u540c\u7684\u64cd\u4f5c\u624b\u6bb5\u3002\u4eba\u5bb6\u613f\u610f\u8fd9\u4e48\u53eb\u4e5f\u6ca1\u4ec0\u4e48\u4e0d\u53ef\u4ee5\u3002\u5b9e\u4e8b\u6c42\u662f\u7684\u8bf4\uff0c\u8fd9\u4e2a\u4f60\u6ca1\u6709\u5e08\u4f20\u786e\u5b9e\u4e0d\u884c\uff0c\u81ea\u5df1\u628a\u63e1\u4e0d\u4e86\u90a3\u4e48\u7cbe\u786e\u3002\u4f46\u662f\uff0c\u8fd9\u4e0d\u662f\u5fc5\u7ecf\u4e4b\u8def\uff0c\u4e0d\u7ba1\u771f\u5047\uff0c\u4f60\u5b8c\u5168\u53ef\u4ee5\u4e0d\u7406\u4f1a\u3002 \u7b51\u57fa\u4ee5\u524d\u79ef\u7cbe\u7d2f\u6c14\u7684\u529f\u592b\uff0c\u9633\u5173\u5927\u9053\u90fd\u662f\u660e\u786e\u516c\u5f00\u7684\uff0c\u4f60\u6ca1\u5fc5\u8981\u975e\u53bb\u6284\u90a3\u4e0d\u77e5\u771f\u5047\u7684\u8fd1\u8def\u3002 \u524d\u671f\u5982\u6b64\uff0c\u540e\u671f\u7684\u8bdd\uff0c\u7406\u8bba\u4e0a\u8bb2\uff0c\u4e5f\u5e94\u8be5\u6709\u5b8c\u5168\u89c4\u907f\u706b\u5019\u7684\u8def\u7ebf\u5b58\u5728\uff0c\u603b\u7684\u6765\u8bf4\uff0c\u65e0\u975e\u662f\u4ee5\u6e05\u51c0\u4e8c\u5b57\u4e3a\u672c\u3002\u4f46\u5177\u4f53\u600e\u4e48\u6837\uff0c\u6211\u4e5f\u6d89\u53ca\u4e0d\u5230\u90a3\u4e2a\u5c42\u9762\uff0c\u5c31\u4e0d\u626f\u4e86\u3002\u6458\u4e00\u6bb5\u4e39\u7ecf\uff0c\u81ea\u5df1\u7422\u78e8\u5427\u3002 \u7d2b\u6e05\u6307\u7384\u96c6 \u5929\u4ed9\u4e4b\u9053\uff0c\u80fd\u53d8\u5316\u98de\u5347\u4e5f\uff0c\u4e0a\u58eb\u53ef\u4ee5\u5b66\u4e4b\u3002\u4ee5\u8eab\u4e3a\u94c5\uff0c\u4ee5\u5fc3\u4e3a\u6c5e\uff0c\u4ee5\u5b9a\u4e3a\u6c34\uff0c\u4ee5\u6167\u4e3a\u706b\uff0c\u5728\u7247\u9977\u4e4b\u95f4\uff0c\u53ef\u4ee5\u51dd\u7ed3\uff0c\u5341\u6708\u6210\u80ce\uff0c\u6b64\u4e43\u4e0a\u54c1\u70bc\u4e39\u4e4b\u6cd5\uff0c\u672c\u65e0\u5366\u723b\uff0c\u4ea6\u65e0\u65a4\u4e24\uff0c\u5176\u6cd5\u7b80\u6613\uff0c\u6545\u4ee5\u5fc3\u4f20\u4e4b\uff0c\u751a\u6613\u6210\u4e5f\u3002\u592b\u4eba\u4ed9\u4e4b\u9053\uff0c\u80fd\u51fa\u5165\u9690\u663e\u8005\u4e5f\uff0c\u4e2d\u58eb\u53ef\u4ee5\u5b66\u4e4b\u3002\u4ee5\u6c14\u4e3a\u94c5\uff0c\u4ee5\u795e\u4e3a\u6c5e\uff0c\u4ee5\u5348\u4e3a\u706b\uff0c\u4ee5\u5b50\u4e3a\u6c34\uff0c\u5728\u767e\u65e5\u4e4b\u95f4\uff0c\u53ef\u4ee5\u6df7\u5408\uff0c\u4e09\u5e74\u6210\u8c61\uff0c\u6b64\u4e43\u4e2d\u54c1\u70bc\u4e39\u4e4b\u6cd5\uff0c\u867d\u6709\u5366\u723b\uff0c\u5374\u65e0\u65a4\u4e24\uff0c\u5176\u6cd5\u8981\u5999\uff0c\u6545\u4ee5\u53e3\u4f20\u4e4b\uff0c\u5fc5\u53ef\u6210\u4e5f\u3002\u592b\u5730\u4ed9\u4e4b\u9053\uff0c\u80fd\u7559\u5f62\u4f4f\u4e16\u4e5f\uff0c\u5eb6\u58eb\u53ef\u4ee5\u5b66\u4e4b\uff0c\u4ee5\u7cbe\u4e3a\u94c5\uff0c\u4ee5\u8840\u4e3a\u6c5e\uff0c\u4ee5\u80be\u4e3a\u6c34\uff0c\u4ee5\u5fc3\u4e3a\u706b\uff0c\u5728\u4e00\u5e74\u4e4b\u95f4\uff0c\u53ef\u4ee5\u878d\u7ed3\uff0c\u4e5d\u5e74\u6210\u529f\uff0c\u6b64\u4e43\u4e0b\u54c1\u70bc\u4e39\u4e4b\u6cd5\uff0c\u65e2\u6709\u5366\u723b\uff0c\u53c8\u6709\u65a4\u4e24\uff0c\u5176\u6cd5\u7e41\u96be\uff0c\u6545\u4ee5\u6587\u5b57\u4f20\u4e4b\uff0c\u6050\u96be\u6210\u4e5f\u3002 https://www.zhihu.com/question/453786278/answer/1885409965","title":"\u6709\u4eba\u8bf4\u4e39\u9053\u706b\u5019\u4e0d\u80fd\u9760\u81ea\u5df1\u63e3\u6469\uff0c\u53ea\u80fd\u9760\u5e08\u627f\u53e3\u8bc0\u3002\u90a3\u4e48\uff0c\u6700\u5f00\u59cb\u7684\u529f\u6cd5\u662f\u5982\u4f55\u51fa\u73b0\u7684"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%B8%85%E9%9D%99%E7%BB%8F/","text":"\u6e05\u9759\u7ecf \u8001\u541b\u66f0\uff1a\u5927\u9053\u65e0\u5f62\uff0c\u751f\u80b2\u5929\u5730\uff1b\u5927\u9053\u65e0\u60c5\uff0c\u8fd0\u884c\u65e5\u6708\uff1b\u5927\u9053\u65e0\u540d\uff0c\u957f\u517b\u4e07\u7269\uff1b\u543e\u4e0d\u77e5\u5176\u540d\uff0c\u5f3a\u540d\u66f0\u9053\u3002\u592b\u9053\u8005\uff1a\u6709\u6e05\u6709\u6d4a\uff0c\u6709\u52a8\u6709\u9759\uff1b\u5929\u6e05\u5730\u6d4a\uff0c\u5929\u52a8\u5730\u9759\u3002\u7537\u6e05\u5973\u6d4a\uff0c\u7537\u52a8\u5973\u9759\u3002\u964d\u672c\u6d41\u672b\uff0c\u800c\u751f\u4e07\u7269\u3002\u6e05\u8005\u6d4a\u4e4b\u6e90\uff0c\u52a8\u8005\u9759\u4e4b\u57fa\u3002\u4eba\u80fd\u5e38\u6e05\u9759\uff0c\u5929\u5730\u6089\u7686\u5f52\u3002 \u592b\u4eba\u795e\u597d\u6e05\uff0c\u800c\u5fc3\u6270\u4e4b\uff1b\u4eba\u5fc3\u597d\u9759\uff0c\u800c\u6b32\u7275\u4e4b\u3002\u5e38\u80fd\u9063\u5176\u6b32\uff0c\u800c\u5fc3\u81ea\u9759\uff0c\u6f84\u5176\u5fc3\u800c\u795e\u81ea\u6e05\u3002\u81ea\u7136\u516d\u6b32\u4e0d\u751f\uff0c\u4e09\u6bd2\u6d88\u706d\u3002\u6240\u4ee5\u4e0d\u80fd\u8005\uff0c\u4e3a\u5fc3\u672a\u6f84\uff0c\u6b32\u672a\u9063\u4e5f\u3002\u80fd\u9063\u4e4b\u8005\uff0c\u5185\u89c2\u5176\u5fc3\uff0c\u5fc3\u65e0\u5176\u5fc3\uff1b\u5916\u89c2\u5176\u5f62\uff0c\u5f62\u65e0\u5176\u5f62\uff1b\u8fdc\u89c2\u5176\u7269\uff0c\u7269\u65e0\u5176\u7269\u3002\u4e09\u8005\u65e2\u609f\uff0c\u552f\u89c1\u65bc\u7a7a\uff1b\u89c2\u7a7a\u4ea6\u7a7a\uff0c\u7a7a\u65e0\u6240\u7a7a\uff1b\u6240\u7a7a\u65e2\u65e0\uff0c\u65e0\u65e0\u4ea6\u65e0\uff1b\u65e0\u65e0\u65e2\u65e0\uff0c\u6e5b\u7136\u5e38\u5bc2\uff1b\u5bc2\u65e0\u6240\u5bc2\uff0c\u6b32\u5c82\u80fd\u751f\uff1f\u6b32\u65e2\u4e0d\u751f\uff0c\u5373\u662f\u771f\u9759\u3002\u771f\u5e38\u5e94\u7269\uff0c\u771f\u5e38\u5f97\u6027\uff1b\u5e38\u5e94\u5e38\u9759\uff0c\u5e38\u6e05\u9759\u77e3\u3002\u5982\u6b64\u6e05\u9759\uff0c\u6e10\u5165\u771f\u9053\uff1b\u65e2\u5165\u771f\u9053\uff0c\u540d\u4e3a\u5f97\u9053\uff0c\u867d\u540d\u5f97\u9053\uff0c\u5b9e\u65e0\u6240\u5f97\uff1b\u4e3a\u5316\u4f17\u751f\uff0c\u540d\u4e3a\u5f97\u9053\uff1b\u80fd\u609f\u4e4b\u8005\uff0c\u53ef\u4f20\u5723\u9053\u3002 \u8001\u541b\u66f0\uff1a\u4e0a\u58eb\u65e0\u4e89\uff0c\u4e0b\u58eb\u597d\u4e89\uff1b\u4e0a\u5fb7\u4e0d\u5fb7\uff0c\u4e0b\u5fb7\u6267\u5fb7\u3002\u6267\u8457\u4e4b\u8005\uff0c\u4e0d\u540d\u9053\u5fb7\u3002\u4f17\u751f\u6240\u4ee5\u4e0d\u5f97\u771f\u9053\u8005\uff0c\u4e3a\u6709\u5984\u5fc3\u3002\u65e2\u6709\u5984\u5fc3\uff0c\u5373\u60ca\u5176\u795e\uff1b\u65e2\u60ca\u5176\u795e\uff0c\u5373\u8457\u4e07\u7269\uff1b\u65e2\u8457\u4e07\u7269\uff0c\u5373\u751f\u8d2a\u6c42\uff1b\u5373\u751f\u8d2a\u6c42\uff0c\u5373\u662f\u70e6\u607c\u3002\u70e6\u607c\u5984\u60f3\uff0c\u5fe7\u82e6\u8eab\u5fc3\u3002\u4f46\u906d\u6d4a\u8fb1\u3002\u6d41\u6d6a\u751f\u6b7b\uff0c\u5e38\u6c89\u82e6\u6d77\uff0c\u6c38\u5931\u771f\u9053\u3002\u771f\u5e38\u4e4b\u9053\uff0c\u609f\u8005\u81ea\u5f97\uff0c\u5f97\u609f\u9053\u8005\uff0c\u5e38\u6e05\u9759\u77e3\u3002 \u4ed9\u4eba\u845b\u7fc1\u66f0\uff1a\u543e\u5f97\u771f\u9053\uff0c\u66fe\u8bf5\u6b64\u7ecf\u4e07\u904d\u3002\u6b64\u7ecf\u662f\u5929\u4eba\u6240\u4e60\uff0c\u4e0d\u4f20\u4e0b\u58eb\u3002\u543e\u6614\u53d7\u4e4b\u4e8e\u4e1c\u534e\u5e1d\u541b\uff0c\u4e1c\u534e\u5e1d\u541b\u53d7\u4e4b\u4e8e\u91d1\u9619\u5e1d\u541b\uff0c\u91d1\u9619\u5e1d\u541b\u53d7\u4e4b\u4e8e\u897f\u738b\u6bcd\u3002\u897f\u738b\u6bcd\u7686\u53e3\u53e3\u76f8\u4f20\uff0c\u4e0d\u8bb0\u6587\u5b57\u3002\u543e\u4eca\u4e8e\u4e16\uff0c\u4e66\u800c\u5f55\u4e4b\u3002\u4e0a\u58eb\u609f\u4e4b\uff0c\u5347\u4e3a\u5929\u5b98\uff1b\u4e2d\u58eb\u4fee\u4e4b\uff0c\u5357\u5bab\u5217\u4ed9\uff1b\u4e0b\u58eb\u5f97\u4e4b\uff0c\u5728\u4e16\u957f\u5e74\u3002\u6e38\u884c\u4e09\u754c\uff0c\u5347\u5165\u91d1\u95e8\u3002 \u5de6\u7384\u771f\u4eba\u66f0\uff1a\u5b66\u9053\u4e4b\u58eb\uff0c\u6301\u8bf5\u6b64\u7ecf\uff0c\u5373\u5f97\u5341\u5929\u5584\u795e\uff0c\u62e5\u62a4\u5176\u795e\u3002\u7136\u540e\u7389\u7b26\u4fdd\u795e\uff0c\u91d1\u6db2\u70bc\u5f62\u3002\u5f62\u795e\u4ff1\u5999\uff0c\u4e0e\u9053\u5408\u771f\u3002 \u6b63\u4e00\u771f\u4eba\u66f0\uff1a\u4eba\u5bb6\u6709\u6b64\u7ecf\uff0c\u609f\u89e3\u4e4b\u8005\uff0c\u707e\u969c\u4e0d\u5e72\uff0c\u4f17\u5723\u62a4\u95e8\u3002\u795e\u5347\u4e0a\u754c\uff0c\u671d\u62dc\u9ad8\u5c0a\u3002\u529f\u6ee1\u5fb7\u5c31\uff0c\u76f8\u611f\u5e1d\u541b\u3002\u8bf5\u6301\u4e0d\u9000\uff0c\u8eab\u817e\u7d2b\u4e91\u3002","title":"\u6e05\u9759\u7ecf"},{"location":"%E4%BF%AE%E8%A1%8C/%E6%B8%85%E9%9D%99%E7%BB%8F/#_1","text":"\u8001\u541b\u66f0\uff1a\u5927\u9053\u65e0\u5f62\uff0c\u751f\u80b2\u5929\u5730\uff1b\u5927\u9053\u65e0\u60c5\uff0c\u8fd0\u884c\u65e5\u6708\uff1b\u5927\u9053\u65e0\u540d\uff0c\u957f\u517b\u4e07\u7269\uff1b\u543e\u4e0d\u77e5\u5176\u540d\uff0c\u5f3a\u540d\u66f0\u9053\u3002\u592b\u9053\u8005\uff1a\u6709\u6e05\u6709\u6d4a\uff0c\u6709\u52a8\u6709\u9759\uff1b\u5929\u6e05\u5730\u6d4a\uff0c\u5929\u52a8\u5730\u9759\u3002\u7537\u6e05\u5973\u6d4a\uff0c\u7537\u52a8\u5973\u9759\u3002\u964d\u672c\u6d41\u672b\uff0c\u800c\u751f\u4e07\u7269\u3002\u6e05\u8005\u6d4a\u4e4b\u6e90\uff0c\u52a8\u8005\u9759\u4e4b\u57fa\u3002\u4eba\u80fd\u5e38\u6e05\u9759\uff0c\u5929\u5730\u6089\u7686\u5f52\u3002 \u592b\u4eba\u795e\u597d\u6e05\uff0c\u800c\u5fc3\u6270\u4e4b\uff1b\u4eba\u5fc3\u597d\u9759\uff0c\u800c\u6b32\u7275\u4e4b\u3002\u5e38\u80fd\u9063\u5176\u6b32\uff0c\u800c\u5fc3\u81ea\u9759\uff0c\u6f84\u5176\u5fc3\u800c\u795e\u81ea\u6e05\u3002\u81ea\u7136\u516d\u6b32\u4e0d\u751f\uff0c\u4e09\u6bd2\u6d88\u706d\u3002\u6240\u4ee5\u4e0d\u80fd\u8005\uff0c\u4e3a\u5fc3\u672a\u6f84\uff0c\u6b32\u672a\u9063\u4e5f\u3002\u80fd\u9063\u4e4b\u8005\uff0c\u5185\u89c2\u5176\u5fc3\uff0c\u5fc3\u65e0\u5176\u5fc3\uff1b\u5916\u89c2\u5176\u5f62\uff0c\u5f62\u65e0\u5176\u5f62\uff1b\u8fdc\u89c2\u5176\u7269\uff0c\u7269\u65e0\u5176\u7269\u3002\u4e09\u8005\u65e2\u609f\uff0c\u552f\u89c1\u65bc\u7a7a\uff1b\u89c2\u7a7a\u4ea6\u7a7a\uff0c\u7a7a\u65e0\u6240\u7a7a\uff1b\u6240\u7a7a\u65e2\u65e0\uff0c\u65e0\u65e0\u4ea6\u65e0\uff1b\u65e0\u65e0\u65e2\u65e0\uff0c\u6e5b\u7136\u5e38\u5bc2\uff1b\u5bc2\u65e0\u6240\u5bc2\uff0c\u6b32\u5c82\u80fd\u751f\uff1f\u6b32\u65e2\u4e0d\u751f\uff0c\u5373\u662f\u771f\u9759\u3002\u771f\u5e38\u5e94\u7269\uff0c\u771f\u5e38\u5f97\u6027\uff1b\u5e38\u5e94\u5e38\u9759\uff0c\u5e38\u6e05\u9759\u77e3\u3002\u5982\u6b64\u6e05\u9759\uff0c\u6e10\u5165\u771f\u9053\uff1b\u65e2\u5165\u771f\u9053\uff0c\u540d\u4e3a\u5f97\u9053\uff0c\u867d\u540d\u5f97\u9053\uff0c\u5b9e\u65e0\u6240\u5f97\uff1b\u4e3a\u5316\u4f17\u751f\uff0c\u540d\u4e3a\u5f97\u9053\uff1b\u80fd\u609f\u4e4b\u8005\uff0c\u53ef\u4f20\u5723\u9053\u3002 \u8001\u541b\u66f0\uff1a\u4e0a\u58eb\u65e0\u4e89\uff0c\u4e0b\u58eb\u597d\u4e89\uff1b\u4e0a\u5fb7\u4e0d\u5fb7\uff0c\u4e0b\u5fb7\u6267\u5fb7\u3002\u6267\u8457\u4e4b\u8005\uff0c\u4e0d\u540d\u9053\u5fb7\u3002\u4f17\u751f\u6240\u4ee5\u4e0d\u5f97\u771f\u9053\u8005\uff0c\u4e3a\u6709\u5984\u5fc3\u3002\u65e2\u6709\u5984\u5fc3\uff0c\u5373\u60ca\u5176\u795e\uff1b\u65e2\u60ca\u5176\u795e\uff0c\u5373\u8457\u4e07\u7269\uff1b\u65e2\u8457\u4e07\u7269\uff0c\u5373\u751f\u8d2a\u6c42\uff1b\u5373\u751f\u8d2a\u6c42\uff0c\u5373\u662f\u70e6\u607c\u3002\u70e6\u607c\u5984\u60f3\uff0c\u5fe7\u82e6\u8eab\u5fc3\u3002\u4f46\u906d\u6d4a\u8fb1\u3002\u6d41\u6d6a\u751f\u6b7b\uff0c\u5e38\u6c89\u82e6\u6d77\uff0c\u6c38\u5931\u771f\u9053\u3002\u771f\u5e38\u4e4b\u9053\uff0c\u609f\u8005\u81ea\u5f97\uff0c\u5f97\u609f\u9053\u8005\uff0c\u5e38\u6e05\u9759\u77e3\u3002 \u4ed9\u4eba\u845b\u7fc1\u66f0\uff1a\u543e\u5f97\u771f\u9053\uff0c\u66fe\u8bf5\u6b64\u7ecf\u4e07\u904d\u3002\u6b64\u7ecf\u662f\u5929\u4eba\u6240\u4e60\uff0c\u4e0d\u4f20\u4e0b\u58eb\u3002\u543e\u6614\u53d7\u4e4b\u4e8e\u4e1c\u534e\u5e1d\u541b\uff0c\u4e1c\u534e\u5e1d\u541b\u53d7\u4e4b\u4e8e\u91d1\u9619\u5e1d\u541b\uff0c\u91d1\u9619\u5e1d\u541b\u53d7\u4e4b\u4e8e\u897f\u738b\u6bcd\u3002\u897f\u738b\u6bcd\u7686\u53e3\u53e3\u76f8\u4f20\uff0c\u4e0d\u8bb0\u6587\u5b57\u3002\u543e\u4eca\u4e8e\u4e16\uff0c\u4e66\u800c\u5f55\u4e4b\u3002\u4e0a\u58eb\u609f\u4e4b\uff0c\u5347\u4e3a\u5929\u5b98\uff1b\u4e2d\u58eb\u4fee\u4e4b\uff0c\u5357\u5bab\u5217\u4ed9\uff1b\u4e0b\u58eb\u5f97\u4e4b\uff0c\u5728\u4e16\u957f\u5e74\u3002\u6e38\u884c\u4e09\u754c\uff0c\u5347\u5165\u91d1\u95e8\u3002 \u5de6\u7384\u771f\u4eba\u66f0\uff1a\u5b66\u9053\u4e4b\u58eb\uff0c\u6301\u8bf5\u6b64\u7ecf\uff0c\u5373\u5f97\u5341\u5929\u5584\u795e\uff0c\u62e5\u62a4\u5176\u795e\u3002\u7136\u540e\u7389\u7b26\u4fdd\u795e\uff0c\u91d1\u6db2\u70bc\u5f62\u3002\u5f62\u795e\u4ff1\u5999\uff0c\u4e0e\u9053\u5408\u771f\u3002 \u6b63\u4e00\u771f\u4eba\u66f0\uff1a\u4eba\u5bb6\u6709\u6b64\u7ecf\uff0c\u609f\u89e3\u4e4b\u8005\uff0c\u707e\u969c\u4e0d\u5e72\uff0c\u4f17\u5723\u62a4\u95e8\u3002\u795e\u5347\u4e0a\u754c\uff0c\u671d\u62dc\u9ad8\u5c0a\u3002\u529f\u6ee1\u5fb7\u5c31\uff0c\u76f8\u611f\u5e1d\u541b\u3002\u8bf5\u6301\u4e0d\u9000\uff0c\u8eab\u817e\u7d2b\u4e91\u3002","title":"\u6e05\u9759\u7ecf"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch/","text":"ElasticSearch\u6280\u5de7 \u67e5\u770b\u96c6\u7fa4\u8282\u70b9\u7684\u78c1\u76d8\u72b6\u6001 http://127.0.0.1:9200/_cat/allocation?v&pretty ES\u6eda\u52a8\u65b9\u5f0f\u83b7\u53d6\u66f4\u591a\u6570\u636e select / ! USE_SCROLL(10,600000) /id,person_img_url from person_pass where db_name='yh' and es_time between '2020-06-17 10:45:35' and '2020-06-24 00:00:00' order by es_time desc \u4f1a\u8fd4\u56de\u4e00\u4e2ascrollid,\u7136\u540e\u5c06id\u653e\u5230url\u4e2d\u83b7\u53d6\u540e\u7eed\u6570\u636e,\u4e00\u76f4\u5230\u62ff\u5230\u7684\u6570\u636e\u4e3a\u7a7a\u4ee3\u8868\u8bfb\u53d6\u5b8c\u4e86 ip:9200/_search/scroll?scroll=1m&scroll_id=DnF1ZXJ5VGhlbkZldGNoBQAAAAAAEwMtFlMxUng2Q0pwUkNxTV9yZ0plWktiLXcAAAAAABMDLhZTMVJ4NkNKcFJDcU1fcmdKZVpLYi13AAAAAAARXskWMklrckhac0ZSX3lGN0pfSnZjVWJjQQAAAAAAEV7KFjJJa3JIWnNGUl95RjdKX0p2Y1ViY0EAAAAAABJAKxZUeEMtTTU0elF4eXRTTVMteHJlWFRR","title":"ElasticSearch\u6280\u5de7"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch/#elasticsearch","text":"","title":"ElasticSearch\u6280\u5de7"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch/#_1","text":"http://127.0.0.1:9200/_cat/allocation?v&pretty","title":"\u67e5\u770b\u96c6\u7fa4\u8282\u70b9\u7684\u78c1\u76d8\u72b6\u6001"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch/#es","text":"select / ! USE_SCROLL(10,600000) /id,person_img_url from person_pass where db_name='yh' and es_time between '2020-06-17 10:45:35' and '2020-06-24 00:00:00' order by es_time desc \u4f1a\u8fd4\u56de\u4e00\u4e2ascrollid,\u7136\u540e\u5c06id\u653e\u5230url\u4e2d\u83b7\u53d6\u540e\u7eed\u6570\u636e,\u4e00\u76f4\u5230\u62ff\u5230\u7684\u6570\u636e\u4e3a\u7a7a\u4ee3\u8868\u8bfb\u53d6\u5b8c\u4e86 ip:9200/_search/scroll?scroll=1m&scroll_id=DnF1ZXJ5VGhlbkZldGNoBQAAAAAAEwMtFlMxUng2Q0pwUkNxTV9yZ0plWktiLXcAAAAAABMDLhZTMVJ4NkNKcFJDcU1fcmdKZVpLYi13AAAAAAARXskWMklrckhac0ZSX3lGN0pfSnZjVWJjQQAAAAAAEV7KFjJJa3JIWnNGUl95RjdKX0p2Y1ViY0EAAAAAABJAKxZUeEMtTTU0elF4eXRTTVMteHJlWFRR","title":"ES\u6eda\u52a8\u65b9\u5f0f\u83b7\u53d6\u66f4\u591a\u6570\u636e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/","text":"\u60ef\u4f8b \u53ea\u5728ES\u4e2d\u5199\u5165\u8981\u641c\u7d22\u7684\u5b57\u6bb5\u3002 \u5199\u5165\u7684\u6570\u636e\u603b\u91cf\u5c3d\u91cf\u63a7\u5236\u5728filesystem cache\u8bbe\u7f6e\u7684\u4f53\u79ef\u4e4b\u5185\uff0c\u80fd\u8f83\u597d\u7684\u4fdd\u8bc1\u641c\u7d22\u6548\u7387\uff0c\u5982\u679c\u8d85\u8fc7\u4e86\u6b64\u4f53\u79ef\u9700\u8981\u5bf9\u70ed\u6570\u636e\u505a\u9884\u52a0\u8f7d\u3002 \u5bf9\u6570\u636e\u8fdb\u884c\u51b7\u70ed\u5206\u7c7b\uff0c\u5c3d\u53ef\u80fd\u5c06\u66f4\u9ad8\u8bfb\u5199\u6027\u80fd\u7684\u8bbe\u5907\u7528\u6765\u5b58\u50a8\u70ed\u6570\u636e\u3002 \u5bf9\u9700\u8981\u5173\u8054\u7684\u6570\u636e\u5efa\u8bae\u5728\u6570\u636e\u5e93\u4e2d\u5173\u8054\u597d\u518d\u5165\u5230ES\u4e2d\u3002 \u9274\u4e8eES\u6df1\u5ea6\u5206\u9875\u6027\u80fd\u8f83\u5dee\uff08\u4f53\u73b0\u5728\u8d8a\u5f80\u540e\u7ffb\u9875\u8017\u65f6\u8d8a\u4e45\uff09\uff0c\u5efa\u8bae\u5c3d\u53ef\u80fd\u4e0d\u7ed9\u968f\u610f\u8df3\u8f6c\u5230\u7b2cN\u9875\u7684\u9009\u9879\u800c\u662f\u91c7\u7528\u7c7b\u4f3c\u52a0\u8f7d\u66f4\u591a\u7684\u673a\u5236\uff0c\u6216\u8005\u91c7\u7528scrollapi\u7684\u5f62\u5f0f\u6765\u8fdb\u884c\u7ffb\u9875\u3002 \u67e5\u770b\u96c6\u7fa4\u8282\u70b9\u7684\u78c1\u76d8\u72b6\u6001 http://127.0.0.1:9200/_cat/allocation?v&pretty ES\u6eda\u52a8\u65b9\u5f0f\u83b7\u53d6\u66f4\u591a\u6570\u636e select /*! USE_SCROLL(10,600000)*/id,person_img_url from person_pass where db_name='yh' and es_time between '2020-06-17 10:45:35' and '2020-06-24 00:00:00' order by es_time desc \u4f1a\u8fd4\u56de\u4e00\u4e2ascrollid,\u7136\u540e\u5c06id\u653e\u5230url\u4e2d\u83b7\u53d6\u540e\u7eed\u6570\u636e,\u4e00\u76f4\u5230\u62ff\u5230\u7684\u6570\u636e\u4e3a\u7a7a\u4ee3\u8868\u8bfb\u53d6\u5b8c\u4e86 ip:9200/_search/scroll?scroll=1m&scroll_id=DnF1ZXJ5VGhlbkZldGNoBQAAAAAAEwMtFlMxUng2Q0pwUkNxTV9yZ0plWktiLXcAAAAAABMDLhZTMVJ4NkNKcFJDcU1fcmdKZVpLYi13AAAAAAARXskWMklrckhac0ZSX3lGN0pfSnZjVWJjQQAAAAAAEV7KFjJJa3JIWnNGUl95RjdKX0p2Y1ViY0EAAAAAABJAKxZUeEMtTTU0elF4eXRTTVMteHJlWFRR \u5065\u5eb7\u72b6\u6001\u5904\u7406 \u68c0\u67e5\u72b6\u6001 curl http://ip:9200/_cluster/health?pretty { \"cluster_name\" : \"docker-cluster\", \"status\" : \"green\", \"timed_out\" : false, \"number_of_nodes\" : 5, \"number_of_data_nodes\" : 5, \"active_primary_shards\" : 430, \"active_shards\" : 860, \"relocating_shards\" : 2, \"initializing_shards\" : 0, \"unassigned_shards\" : 0, \"delayed_unassigned_shards\" : 0, \"number_of_pending_tasks\" : 0, \"number_of_in_flight_fetch\" : 0, \"task_max_waiting_in_queue_millis\" : 0, \"active_shards_percent_as_number\" : 100.0 } \u5982\u679c\u8fd4\u56de\u7684\u6570\u636e\u4e2d status\u4e0d\u662fgreen\u5c31\u9700\u8981\u8fdb\u884c\u76f8\u5e94\u5904\u7406\uff1b \u68c0\u67e5\u6240\u6709\u6570\u636e\u5206\u7247\u72b6\u6001 curl http://ip:9200/_cat/shards person_warn 1 p STARTED 46 144.7kb 10.0.2.105 esdata2 person_warn 1 r STARTED 46 144.7kb 10.0.2.108 esdata5 person_warn 2 r UNASSIGNED 37 140.1kb 10.0.2.108 esdata5 person_warn 2 p STARTED 37 140.1kb 10.0.2.107 esdata4 person_warn 3 p STARTED 47 110.5kb 10.0.2.105 esdata2 person_warn 3 r STARTED 47 110.5kb 10.0.2.107 esdata4 person_warn 4 r STARTED 41 221.5kb 10.0.2.108 esdata5 person_warn 4 p STARTED 41 221.5kb 10.0.2.107 esdata4 person_warn 0 r STARTED 28 172kb 10.0.2.106 esdata3 person_warn 0 p STARTED 28 172kb 10.0.2.105 esdata2 \u5982\u679c\u5176\u4e2d\u6709UNASSIGNED\u72b6\u6001\u5219\u9700\u8981\u8fdb\u884c\u4e00\u4e0b\u6570\u636e\u5206\u7247\u7684\u91cd\u65b0\u5206\u914d\uff08\u518d\u5e73\u8861\uff09 \u8bbe\u7f6e\u590d\u5236\u4efd\u6570 curl -XPUT -H 'Content-Type: application/json' 'ip:9200/index/_settings' -d ' { \"index\" : { \"number_of_replicas\" : 0 } }' \u89e3\u9664\u53ea\u8bfb curl -XPUT -H 'Content-Type:application/json' http://ip:9200/_all/_settings -d '{\"index.blocks.read_only_allow_delete\":null}' \u91cd\u65b0\u5e73\u8861\u6570\u636e\u5206\u7247 curl 'http://ip:9200/_cluster/reroute?retry_failed=true' -X POST { \"acknowledged\": true, \u2026\u2026 } \u91cd\u7f6e\u5206\u7247 post 192.168.240.14:9200/_cluster/reroute { \"commands\": [ { \"allocate_empty_primary\": { \"index\": \"newinfos\", \"shard\": 1, \"node\": \"esdata7\", \"accept_data_loss\":true } } ] } \u8e22\u51fa\u8282\u70b9 PUT _cluster/settings { \"transient\": { \"cluster.routing.allocation.exclude._ip\":\"10.10.2.254\" } } \u6ce8\u610f\u6b64\u65b9\u6cd5\u53ea\u80fd\u4e00\u80fd\u4e00\u4e2a\u8e22\uff0c\u8e22\u5b8c\u4e00\u4e2a\uff08\u6570\u636e\u6587\u4ef6\u5939\u5360\u7528\u7684\u7a7a\u95f4\u5f88\u5c0f\u6bd4\u5982\u57281MB\u4ee5\u5185\uff09\uff0c\u505c\u6b62\u8fd9\u4e2a\u8282\u70b9\u7684\u7a0b\u5e8f\uff0c\u518d\u8e22\u4e0b\u4e00\u4e2a \u67e5\u8be2\u5404\u8282\u70b9\u7684\u78c1\u76d8\u5360\u7528\u91cf http://ip:9200/_cat/nodes?v&h=http,version,disk.total,disk.used,disk.used_percent","title":"ElasticSearch\u6280\u5de7"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_1","text":"\u53ea\u5728ES\u4e2d\u5199\u5165\u8981\u641c\u7d22\u7684\u5b57\u6bb5\u3002 \u5199\u5165\u7684\u6570\u636e\u603b\u91cf\u5c3d\u91cf\u63a7\u5236\u5728filesystem cache\u8bbe\u7f6e\u7684\u4f53\u79ef\u4e4b\u5185\uff0c\u80fd\u8f83\u597d\u7684\u4fdd\u8bc1\u641c\u7d22\u6548\u7387\uff0c\u5982\u679c\u8d85\u8fc7\u4e86\u6b64\u4f53\u79ef\u9700\u8981\u5bf9\u70ed\u6570\u636e\u505a\u9884\u52a0\u8f7d\u3002 \u5bf9\u6570\u636e\u8fdb\u884c\u51b7\u70ed\u5206\u7c7b\uff0c\u5c3d\u53ef\u80fd\u5c06\u66f4\u9ad8\u8bfb\u5199\u6027\u80fd\u7684\u8bbe\u5907\u7528\u6765\u5b58\u50a8\u70ed\u6570\u636e\u3002 \u5bf9\u9700\u8981\u5173\u8054\u7684\u6570\u636e\u5efa\u8bae\u5728\u6570\u636e\u5e93\u4e2d\u5173\u8054\u597d\u518d\u5165\u5230ES\u4e2d\u3002 \u9274\u4e8eES\u6df1\u5ea6\u5206\u9875\u6027\u80fd\u8f83\u5dee\uff08\u4f53\u73b0\u5728\u8d8a\u5f80\u540e\u7ffb\u9875\u8017\u65f6\u8d8a\u4e45\uff09\uff0c\u5efa\u8bae\u5c3d\u53ef\u80fd\u4e0d\u7ed9\u968f\u610f\u8df3\u8f6c\u5230\u7b2cN\u9875\u7684\u9009\u9879\u800c\u662f\u91c7\u7528\u7c7b\u4f3c\u52a0\u8f7d\u66f4\u591a\u7684\u673a\u5236\uff0c\u6216\u8005\u91c7\u7528scrollapi\u7684\u5f62\u5f0f\u6765\u8fdb\u884c\u7ffb\u9875\u3002","title":"\u60ef\u4f8b"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_2","text":"http://127.0.0.1:9200/_cat/allocation?v&pretty","title":"\u67e5\u770b\u96c6\u7fa4\u8282\u70b9\u7684\u78c1\u76d8\u72b6\u6001"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#es","text":"select /*! USE_SCROLL(10,600000)*/id,person_img_url from person_pass where db_name='yh' and es_time between '2020-06-17 10:45:35' and '2020-06-24 00:00:00' order by es_time desc \u4f1a\u8fd4\u56de\u4e00\u4e2ascrollid,\u7136\u540e\u5c06id\u653e\u5230url\u4e2d\u83b7\u53d6\u540e\u7eed\u6570\u636e,\u4e00\u76f4\u5230\u62ff\u5230\u7684\u6570\u636e\u4e3a\u7a7a\u4ee3\u8868\u8bfb\u53d6\u5b8c\u4e86 ip:9200/_search/scroll?scroll=1m&scroll_id=DnF1ZXJ5VGhlbkZldGNoBQAAAAAAEwMtFlMxUng2Q0pwUkNxTV9yZ0plWktiLXcAAAAAABMDLhZTMVJ4NkNKcFJDcU1fcmdKZVpLYi13AAAAAAARXskWMklrckhac0ZSX3lGN0pfSnZjVWJjQQAAAAAAEV7KFjJJa3JIWnNGUl95RjdKX0p2Y1ViY0EAAAAAABJAKxZUeEMtTTU0elF4eXRTTVMteHJlWFRR","title":"ES\u6eda\u52a8\u65b9\u5f0f\u83b7\u53d6\u66f4\u591a\u6570\u636e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_3","text":"","title":"\u5065\u5eb7\u72b6\u6001\u5904\u7406"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_4","text":"curl http://ip:9200/_cluster/health?pretty { \"cluster_name\" : \"docker-cluster\", \"status\" : \"green\", \"timed_out\" : false, \"number_of_nodes\" : 5, \"number_of_data_nodes\" : 5, \"active_primary_shards\" : 430, \"active_shards\" : 860, \"relocating_shards\" : 2, \"initializing_shards\" : 0, \"unassigned_shards\" : 0, \"delayed_unassigned_shards\" : 0, \"number_of_pending_tasks\" : 0, \"number_of_in_flight_fetch\" : 0, \"task_max_waiting_in_queue_millis\" : 0, \"active_shards_percent_as_number\" : 100.0 } \u5982\u679c\u8fd4\u56de\u7684\u6570\u636e\u4e2d status\u4e0d\u662fgreen\u5c31\u9700\u8981\u8fdb\u884c\u76f8\u5e94\u5904\u7406\uff1b","title":"\u68c0\u67e5\u72b6\u6001"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_5","text":"curl http://ip:9200/_cat/shards person_warn 1 p STARTED 46 144.7kb 10.0.2.105 esdata2 person_warn 1 r STARTED 46 144.7kb 10.0.2.108 esdata5 person_warn 2 r UNASSIGNED 37 140.1kb 10.0.2.108 esdata5 person_warn 2 p STARTED 37 140.1kb 10.0.2.107 esdata4 person_warn 3 p STARTED 47 110.5kb 10.0.2.105 esdata2 person_warn 3 r STARTED 47 110.5kb 10.0.2.107 esdata4 person_warn 4 r STARTED 41 221.5kb 10.0.2.108 esdata5 person_warn 4 p STARTED 41 221.5kb 10.0.2.107 esdata4 person_warn 0 r STARTED 28 172kb 10.0.2.106 esdata3 person_warn 0 p STARTED 28 172kb 10.0.2.105 esdata2 \u5982\u679c\u5176\u4e2d\u6709UNASSIGNED\u72b6\u6001\u5219\u9700\u8981\u8fdb\u884c\u4e00\u4e0b\u6570\u636e\u5206\u7247\u7684\u91cd\u65b0\u5206\u914d\uff08\u518d\u5e73\u8861\uff09","title":"\u68c0\u67e5\u6240\u6709\u6570\u636e\u5206\u7247\u72b6\u6001"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_6","text":"curl -XPUT -H 'Content-Type: application/json' 'ip:9200/index/_settings' -d ' { \"index\" : { \"number_of_replicas\" : 0 } }'","title":"\u8bbe\u7f6e\u590d\u5236\u4efd\u6570"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_7","text":"curl -XPUT -H 'Content-Type:application/json' http://ip:9200/_all/_settings -d '{\"index.blocks.read_only_allow_delete\":null}'","title":"\u89e3\u9664\u53ea\u8bfb"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_8","text":"curl 'http://ip:9200/_cluster/reroute?retry_failed=true' -X POST { \"acknowledged\": true, \u2026\u2026 }","title":"\u91cd\u65b0\u5e73\u8861\u6570\u636e\u5206\u7247"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_9","text":"post 192.168.240.14:9200/_cluster/reroute { \"commands\": [ { \"allocate_empty_primary\": { \"index\": \"newinfos\", \"shard\": 1, \"node\": \"esdata7\", \"accept_data_loss\":true } } ] }","title":"\u91cd\u7f6e\u5206\u7247"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_10","text":"PUT _cluster/settings { \"transient\": { \"cluster.routing.allocation.exclude._ip\":\"10.10.2.254\" } } \u6ce8\u610f\u6b64\u65b9\u6cd5\u53ea\u80fd\u4e00\u80fd\u4e00\u4e2a\u8e22\uff0c\u8e22\u5b8c\u4e00\u4e2a\uff08\u6570\u636e\u6587\u4ef6\u5939\u5360\u7528\u7684\u7a7a\u95f4\u5f88\u5c0f\u6bd4\u5982\u57281MB\u4ee5\u5185\uff09\uff0c\u505c\u6b62\u8fd9\u4e2a\u8282\u70b9\u7684\u7a0b\u5e8f\uff0c\u518d\u8e22\u4e0b\u4e00\u4e2a","title":"\u8e22\u51fa\u8282\u70b9"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/ElasticSearch%E6%8A%80%E5%B7%A7/#_11","text":"http://ip:9200/_cat/nodes?v&h=http,version,disk.total,disk.used,disk.used_percent","title":"\u67e5\u8be2\u5404\u8282\u70b9\u7684\u78c1\u76d8\u5360\u7528\u91cf"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/","text":"Flink-sql-ETL\u96c6\u5408 \u540d\u8bcd\u89e3\u91ca cdc: \u53d8\u52a8\u6570\u636e\u6293\u53d6 \u673a\u5236\u662fflink\u4f7f\u7528\u6216\u8005\u53d1\u626c\u5149\u5927\u7684\u7684\u4e00\u79cd\u6570\u5168\u91cf\u6216\u589e\u91cf\u540c\u6b65\u6570\u636e\u7684\u673a\u5236\uff0c\u652f\u6301\u5404\u79cd\u5e38\u89c1\u6570\u636e\u5e93\u7684\u53d8\u52a8\u83b7\u53d6\uff0c\u4f8b\u5982mysql\u3001postgresql\u3001oracle\u7b49\uff0c\u4e00\u822c\u9700\u8981\u5bf9\u6570\u636e\u5e93\u7cfb\u7edf\u505a\u4e00\u5b9a\u7684\u914d\u7f6e\uff0c\u4f8b\u5982\u5f00\u542fbinlog\u3001wal\u65e5\u5fd7\u3001redo\u65e5\u5fd7\u7b49\u3002\u4e14cdc\u4f5c\u4e3a\u53d8\u52a8\u6293\u53d6\u7684\u5de5\u5177\u4e00\u822c\u53ea\u652f\u6301\u8bfb\u53d6\uff0c\u6240\u4ee5\u5e26cdc\u5b57\u6837\u7684connector\u90fd\u53ea\u80fd\u4f5c\u4e3a\u6570\u636e\u7684\u8f93\u5165\u6e90\u3002 \u901a\u7528 save-point\u673a\u5236 SET 'execution.savepoint.path' = '/data/flink/checkpoint/111111'; mysql-cdc \u524d\u7f6e\u6761\u4ef6\uff1amysqld.cnf\u4e2d\u5f00\u542fbinglog\u5e76\u8fdb\u884c\u4e00\u5b9a\u8bbe\u7f6e\uff0c\u7136\u540e\u91cd\u542f\u6570\u636e\u5e93\uff1a #\u5927\u4e8e0\u7684\u6b63\u6574\u6570 server_id=123 #\u5fc5\u987b log_bin=mysql-bin #\u5fc5\u987b binlog_format=row #\u65e5\u5fd7\u4fdd\u7559\u6700\u5c112\u5929 expire_logs_days=7 #\u53ef\u4ee5\u53ea\u5bf9\u6307\u5b9a\u7684\u6570\u636e\u5e93\u5f00\u542fbinlog \u8fd9\u4e0b\u9762\u662f\u53ef\u9009\u7684\u8bbe\u7f6e\u9879 binlog_do_db=xxxdb #\u5982\u679c\u8981\u5bf9xxxdb2\u5f00\u542f\u5219\u518d\u52a0\u4e00\u884c binlog_do_db=xxxdb2 \u540c\u6b65\u7684\u7528\u6237\u5982\u679c\u4e0d\u662froot\u5219\u9700\u8981\u7ed9\u6743\u9650\uff1a grant replication slave on *.* to youruser; grant replication client on *.* to youruser; flush PRIVILEGES; mysql-cdc \u5168\u91cf\u53c2\u6570\u5217\u8868\uff1ahttps://ververica.github.io/flink-cdc-connectors/release-2.2/content/connectors/mysql-cdc.html \u4f7f\u7528\u5bf9\u5e94\u7248\u672c\u7684mysql-cdc-connector\u7684\u62bd\u53d6\u6837\u4f8b\uff1a set execution.checkpointing.interval=3s; --\u8bbe\u7f6e\u5e76\u53d1\u5ea6\uff08\u6bd4\u5982\u591a\u4e2a\u4efb\u52a1\u4ecekafka\u63a5\u6536\u6570\u636e\uff09 set 'execution.parallelism'='5'; create table sender(id int,code string,name string,primary key(id) not enforced) with ('connector'='mysql-cdc','hostname'='192.168.240.14','port'='3306','username'='root','password'='password','database-name'='dragon','table-name'='sender','server-id'=1000); --\u6ce8\u610f\u8f93\u51fa\u7528\u7684jdbc connector \u9700\u8981\u81ea\u5df1\u5728\u76ee\u6807\u5e93\u5efa\u597d\u76f8\u5e94\u7684\u8868\uff0c\u5426\u5219\u4f1a\u62a5\u9519 create table sender2(id int,code string,name string,primary key(id) not enforced) with ('connector'='jdbc','url'='jdbc:mysql://192.168.240.14:3306/dragon','table-name'='sender2','username'='root','password'='password'); --\u7ed9\u4efb\u52a1\u547d\u540d SET 'pipeline.name' = 'yhface2db'; insert into sender2 select id,code,name from sender; postgresql-cdc \u524d\u7f6e\u6761\u4ef6\uff1a\u5728postgres.conf\u4e2d\u5f00\u542fwal\u65e5\u5fd7\uff0c\u5e76\u8bbe\u7f6ewal_level\u76f8\u5173\u53c2\u6570 # \u66f4\u6539wal\u65e5\u5fd7\u65b9\u5f0f\u4e3alogical \u5fc5\u987b wal_level = logical # minimal, replica, or logical # \u66f4\u6539solts\u6700\u5927\u6570\u91cf\uff08\u9ed8\u8ba4\u503c\u4e3a10\uff09\uff0cflink-cdc\u9ed8\u8ba4\u4e00\u5f20\u8868\u5360\u7528\u4e00\u4e2aslots \u4e0b\u9762\u5f00\u59cb\u662f\u53ef\u9009 max_replication_slots = 20 # max number of replication slots # \u66f4\u6539wal\u53d1\u9001\u6700\u5927\u8fdb\u7a0b\u6570\uff08\u9ed8\u8ba4\u503c\u4e3a10\uff09\uff0c\u8fd9\u4e2a\u503c\u548c\u4e0a\u9762\u7684solts\u8bbe\u7f6e\u4e00\u6837 max_wal_senders = 20 # max number of walsender processes # \u4e2d\u65ad\u90a3\u4e9b\u505c\u6b62\u6d3b\u52a8\u8d85\u8fc7\u6307\u5b9a\u6beb\u79d2\u6570\u7684\u590d\u5236\u8fde\u63a5\uff0c\u53ef\u4ee5\u9002\u5f53\u8bbe\u7f6e\u5927\u4e00\u70b9\uff08\u9ed8\u8ba460s\uff09 wal_sender_timeout = 180s # in milliseconds; 0 disable \u7ed9\u7528\u6237\u8bbe\u7f6e\u6743\u9650 -- pg\u65b0\u5efa\u7528\u6237 CREATE USER user WITH PASSWORD 'pwd'; -- \u7ed9\u7528\u6237\u590d\u5236\u6d41\u6743\u9650 ALTER ROLE user replication; -- \u7ed9\u7528\u6237\u767b\u5f55\u6570\u636e\u5e93\u6743\u9650 grant CONNECT ON DATABASE test to user; -- \u628a\u5f53\u524d\u5e93public\u4e0b\u6240\u6709\u8868\u67e5\u8be2\u6743\u9650\u8d4b\u7ed9\u7528\u6237 GRANT SELECT ON ALL TABLES IN SCHEMA public TO user; -- \u8bbe\u7f6e\u53d1\u5e03\u4e3atrue update pg_publication set puballtables=true where pubname is not null; -- \u628a\u6240\u6709\u8868\u8fdb\u884c\u53d1\u5e03 CREATE PUBLICATION dbz_publication FOR ALL TABLES; -- \u67e5\u8be2\u54ea\u4e9b\u8868\u5df2\u7ecf\u53d1\u5e03 select * from pg_publication_tables; -- \u66f4\u6539\u590d\u5236\u6807\u8bc6\u5305\u542b\u66f4\u65b0\u548c\u5220\u9664\u4e4b\u524d\u503c ALTER TABLE test0425 REPLICA IDENTITY FULL; -- \u67e5\u770b\u590d\u5236\u6807\u8bc6\uff08\u4e3af\u6807\u8bc6\u8bf4\u660e\u8bbe\u7f6e\u6210\u529f\uff09 select relreplident from pg_class where relname='test0425'; postgres\u540c\u6b65\u5230es\u4f7f\u7528\u6837\u4f8b set execution.checkpointing.interval=3s; create table pgck(pid String,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string,primary key(pid) not enforced) with ('connector'='postgres-cdc','hostname'='192.168.240.14','port'='5432','database-name'='demo','schema-name'='public','username'='postgres','password'='pass','table-name'='czrkjbxx','decoding.plugin.name'='pgoutput'); create table czrk(pid String,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string,primary key(pid) not enforced) with ('connector'='elasticsearch-6','hosts'='http://192.168.240.14:9200','index'='czrk','document-type'='czrk','username'='','password'=''); insert into czrk select pid,id,gmsfhm,xm,csrq,xbdm,xbmc,mzdm,mzmc,xxdm,xxmc,jggjdm,jggjmc,jgssxdm,jgssxmc,csdjgdm,csdjgmc,csdssxdm,csdssxmc,csdxz,hjdpcsdm,hjdpcsmc,hjdxz,xzz,lxdh,zzmmdm,zzmmmc,zw,zy,byzkdm,byzkmc,whcddm,whcdmc,hyzkdm,hyzkmc,zjxydm,zjxymc,hklxdm,hklxmc,hkxzdm,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country from pgck; pg\u5230starrock --\u5148\u5728starrocks\u5efa\u8868 create table czrkjbxx(pid bigint,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string) primary key(pid) distributed by hash(pid) properties(\"replication_num\"=\"1\") --\u4e0b\u9762\u7684\u8bed\u53e5\u5728flink-sql\u4e2d\u6267\u884c set execution.checkpointing.interval=3s; create table pgck(pid bigint,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string,primary key(pid) not enforced) with ('connector'='postgres-cdc','hostname'='192.168.240.14','port'='5432','database-name'='demo','schema-name'='public','username'='postgres','password'='pass','table-name'='czrkjbxx','decoding.plugin.name'='pgoutput'); --starrocks\u4f5c\u4e3a\u8f93\u51fa\u65f6\u5019\u9009\u9879\u4e2d\u6709load-url\u4f5c\u4e3a\u8f93\u5165\u65f6\u5019\u5c06load-url\u6362\u6210scan-url,\u8f93\u51fa\u65f6\u5019\u9700\u8981\u81ea\u5efa\u8868 create table czrksr(pid bigint,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string,primary key(pid) not enforced) with ('connector'='starrocks','load-url'='192.168.125.16:8030','jdbc-url'='jdbc:mysql://192.168.125.16:9030','username'='root','password'='','database-name'='lhcz','table-name'='czrkjbxx'); insert into czrksr select pid,id,gmsfhm,xm,csrq,xbdm,xbmc,mzdm,mzmc,xxdm,xxmc,jggjdm,jggjmc,jgssxdm,jgssxmc,csdjgdm,csdjgmc,csdssxdm,csdssxmc,csdxz,hjdpcsdm,hjdpcsmc,hjdxz,xzz,lxdh,zzmmdm,zzmmmc,zw,zy,byzkdm,byzkmc,whcddm,whcdmc,hyzkdm,hyzkmc,zjxydm,zjxymc,hklxdm,hklxmc,hkxzdm,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country from pgck; pg2pg create table sender2(id int,code string,name string,primary key(id) not enforced) with ('connector'='jdbc','url'='jdbc:mysql://192.168.240.14:3306/dragon','table-name'='sender2','username'='root','password'='password'); kafka-connector\u89e3\u6790\u590d\u6742\u6570\u636e { \"afterColumns\":{ \"created\":\"1589186680\", \"extra\":{ \"canGiving\":false }, \"parameter\":[ 1, 2, 3, 4 ] }, \"beforeColumns\":null, \"tableVersion\":{ \"binlogFile\":null, \"binlogPosition\":0, \"version\":0 }, \"touchTime\":1589186680591 } --\u521b\u5efa\u89e3\u6790\u8868 CREATE TABLE t1 ( afterColumns ROW(created STRING,extra ROW(canGiving BOOLEAN),`parameter` ARRAY <INT>) , beforeColumns STRING , tableVersion ROW(binlogFile STRING,binlogPosition INT ,version INT) , touchTime bigint ) WITH ( 'connector.type' = 'kafka', -- \u6307\u5b9a\u8fde\u63a5\u7c7b\u578b\u662fkafka 'connector.version' = '0.11', -- \u4e0e\u6211\u4eec\u4e4b\u524dDocker\u5b89\u88c5\u7684kafka\u7248\u672c\u8981\u4e00\u81f4 'connector.topic' = 'json_parse', -- \u4e4b\u524d\u521b\u5efa\u7684topic 'connector.properties.group.id' = 'flink-test-0', -- \u6d88\u8d39\u8005\u7ec4\uff0c\u76f8\u5173\u6982\u5ff5\u53ef\u81ea\u884c\u767e\u5ea6 'connector.startup-mode' = 'earliest-offset', --\u6307\u5b9a\u4ece\u6700\u65e9\u6d88\u8d39 'connector.properties.zookeeper.connect' = 'localhost:2181', -- zk\u5730\u5740 'connector.properties.bootstrap.servers' = 'localhost:9092', -- broker\u5730\u5740 'format.type' = 'json' -- json\u683c\u5f0f\uff0c\u548ctopic\u4e2d\u7684\u6d88\u606f\u683c\u5f0f\u4fdd\u6301\u4e00\u81f4 ) \u8fd9\u91cc\u6211\u4eec\u6ce8\u610f\u4e00\u4e0b\uff0cparameter\u5f97\u7528``\u62ec\u8d77\u6765\uff0c\u56e0\u4e3aparameter\u662f\u4e2a\u5173\u952e\u5b57\uff0c\u60f3\u7528\u7684\u8bdd\u5f97\u7528``\u5305\u56f4\uff0c\u6240\u6709\u5173\u952e\u5b57\u53ef\u4ee5\u53c2\u8003https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/sql/#reserved-keywords \u6700\u540e\u8f93\u51fa\u7684\u6570\u636e\u662f\u8fd9\u6837\u7684\uff1a1589186680,false,[1, 2, 3, 4],null,null,0,0,1589186680591\uff0c\u548c\u6211\u4eecJSON\u4e2d\u7684\u6570\u636e\u4e00\u6837\uff0c\u6ca1\u6bdb\u75c5\uff01 \u4e0d\u8fc7\u6211\u4eec\u7528\u7684\u662fselect *\uff0c\u6b63\u5e38\u6765\u8bf4\u6211\u4eec\u5e94\u8be5\u53ea\u8f93\u51fa\u60f3\u8981\u7684\u5b57\u6bb5\u3002\u90a3\u4e48\uff0c\u5047\u8bbe\u6211\u4eec\u53ea\u60f3\u62ff\u5230canGiving \u8fd9\u4e2a\u5d4c\u5957\u597d\u51e0\u5c42\u7684\u5b57\u6bb5\u503c\uff0c\u8be5\u600e\u4e48\u5199\u5462\uff1f \u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5c31\u50cf\u662f\u5305\u8def\u5f84\u4e00\u6837 afterColumns.extra.canGiving \uff0c\u8bd5\u4e00\u4e0b select afterColumns.extra.canGiving from t1 \u8f93\u51fa\uff1afalse \u518d\u8bd5\u4e00\u4e0b\u8f93\u51fa parameter \u8fd9\u4e2a\u96c6\u5408\u7684\u7b2c\u4e00\u4e2a\u503c(\u4e0b\u6807\u4ece1\u5f00\u59cb) select afterColumns.`parameter`[1] from t1","title":"Flink-sql-ETL\u96c6\u5408"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/#flink-sql-etl","text":"","title":"Flink-sql-ETL\u96c6\u5408"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/#_1","text":"cdc: \u53d8\u52a8\u6570\u636e\u6293\u53d6 \u673a\u5236\u662fflink\u4f7f\u7528\u6216\u8005\u53d1\u626c\u5149\u5927\u7684\u7684\u4e00\u79cd\u6570\u5168\u91cf\u6216\u589e\u91cf\u540c\u6b65\u6570\u636e\u7684\u673a\u5236\uff0c\u652f\u6301\u5404\u79cd\u5e38\u89c1\u6570\u636e\u5e93\u7684\u53d8\u52a8\u83b7\u53d6\uff0c\u4f8b\u5982mysql\u3001postgresql\u3001oracle\u7b49\uff0c\u4e00\u822c\u9700\u8981\u5bf9\u6570\u636e\u5e93\u7cfb\u7edf\u505a\u4e00\u5b9a\u7684\u914d\u7f6e\uff0c\u4f8b\u5982\u5f00\u542fbinlog\u3001wal\u65e5\u5fd7\u3001redo\u65e5\u5fd7\u7b49\u3002\u4e14cdc\u4f5c\u4e3a\u53d8\u52a8\u6293\u53d6\u7684\u5de5\u5177\u4e00\u822c\u53ea\u652f\u6301\u8bfb\u53d6\uff0c\u6240\u4ee5\u5e26cdc\u5b57\u6837\u7684connector\u90fd\u53ea\u80fd\u4f5c\u4e3a\u6570\u636e\u7684\u8f93\u5165\u6e90\u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/#_2","text":"save-point\u673a\u5236 SET 'execution.savepoint.path' = '/data/flink/checkpoint/111111';","title":"\u901a\u7528"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/#mysql-cdc","text":"\u524d\u7f6e\u6761\u4ef6\uff1amysqld.cnf\u4e2d\u5f00\u542fbinglog\u5e76\u8fdb\u884c\u4e00\u5b9a\u8bbe\u7f6e\uff0c\u7136\u540e\u91cd\u542f\u6570\u636e\u5e93\uff1a #\u5927\u4e8e0\u7684\u6b63\u6574\u6570 server_id=123 #\u5fc5\u987b log_bin=mysql-bin #\u5fc5\u987b binlog_format=row #\u65e5\u5fd7\u4fdd\u7559\u6700\u5c112\u5929 expire_logs_days=7 #\u53ef\u4ee5\u53ea\u5bf9\u6307\u5b9a\u7684\u6570\u636e\u5e93\u5f00\u542fbinlog \u8fd9\u4e0b\u9762\u662f\u53ef\u9009\u7684\u8bbe\u7f6e\u9879 binlog_do_db=xxxdb #\u5982\u679c\u8981\u5bf9xxxdb2\u5f00\u542f\u5219\u518d\u52a0\u4e00\u884c binlog_do_db=xxxdb2 \u540c\u6b65\u7684\u7528\u6237\u5982\u679c\u4e0d\u662froot\u5219\u9700\u8981\u7ed9\u6743\u9650\uff1a grant replication slave on *.* to youruser; grant replication client on *.* to youruser; flush PRIVILEGES; mysql-cdc \u5168\u91cf\u53c2\u6570\u5217\u8868\uff1ahttps://ververica.github.io/flink-cdc-connectors/release-2.2/content/connectors/mysql-cdc.html \u4f7f\u7528\u5bf9\u5e94\u7248\u672c\u7684mysql-cdc-connector\u7684\u62bd\u53d6\u6837\u4f8b\uff1a set execution.checkpointing.interval=3s; --\u8bbe\u7f6e\u5e76\u53d1\u5ea6\uff08\u6bd4\u5982\u591a\u4e2a\u4efb\u52a1\u4ecekafka\u63a5\u6536\u6570\u636e\uff09 set 'execution.parallelism'='5'; create table sender(id int,code string,name string,primary key(id) not enforced) with ('connector'='mysql-cdc','hostname'='192.168.240.14','port'='3306','username'='root','password'='password','database-name'='dragon','table-name'='sender','server-id'=1000); --\u6ce8\u610f\u8f93\u51fa\u7528\u7684jdbc connector \u9700\u8981\u81ea\u5df1\u5728\u76ee\u6807\u5e93\u5efa\u597d\u76f8\u5e94\u7684\u8868\uff0c\u5426\u5219\u4f1a\u62a5\u9519 create table sender2(id int,code string,name string,primary key(id) not enforced) with ('connector'='jdbc','url'='jdbc:mysql://192.168.240.14:3306/dragon','table-name'='sender2','username'='root','password'='password'); --\u7ed9\u4efb\u52a1\u547d\u540d SET 'pipeline.name' = 'yhface2db'; insert into sender2 select id,code,name from sender;","title":"mysql-cdc"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/#postgresql-cdc","text":"\u524d\u7f6e\u6761\u4ef6\uff1a\u5728postgres.conf\u4e2d\u5f00\u542fwal\u65e5\u5fd7\uff0c\u5e76\u8bbe\u7f6ewal_level\u76f8\u5173\u53c2\u6570 # \u66f4\u6539wal\u65e5\u5fd7\u65b9\u5f0f\u4e3alogical \u5fc5\u987b wal_level = logical # minimal, replica, or logical # \u66f4\u6539solts\u6700\u5927\u6570\u91cf\uff08\u9ed8\u8ba4\u503c\u4e3a10\uff09\uff0cflink-cdc\u9ed8\u8ba4\u4e00\u5f20\u8868\u5360\u7528\u4e00\u4e2aslots \u4e0b\u9762\u5f00\u59cb\u662f\u53ef\u9009 max_replication_slots = 20 # max number of replication slots # \u66f4\u6539wal\u53d1\u9001\u6700\u5927\u8fdb\u7a0b\u6570\uff08\u9ed8\u8ba4\u503c\u4e3a10\uff09\uff0c\u8fd9\u4e2a\u503c\u548c\u4e0a\u9762\u7684solts\u8bbe\u7f6e\u4e00\u6837 max_wal_senders = 20 # max number of walsender processes # \u4e2d\u65ad\u90a3\u4e9b\u505c\u6b62\u6d3b\u52a8\u8d85\u8fc7\u6307\u5b9a\u6beb\u79d2\u6570\u7684\u590d\u5236\u8fde\u63a5\uff0c\u53ef\u4ee5\u9002\u5f53\u8bbe\u7f6e\u5927\u4e00\u70b9\uff08\u9ed8\u8ba460s\uff09 wal_sender_timeout = 180s # in milliseconds; 0 disable \u7ed9\u7528\u6237\u8bbe\u7f6e\u6743\u9650 -- pg\u65b0\u5efa\u7528\u6237 CREATE USER user WITH PASSWORD 'pwd'; -- \u7ed9\u7528\u6237\u590d\u5236\u6d41\u6743\u9650 ALTER ROLE user replication; -- \u7ed9\u7528\u6237\u767b\u5f55\u6570\u636e\u5e93\u6743\u9650 grant CONNECT ON DATABASE test to user; -- \u628a\u5f53\u524d\u5e93public\u4e0b\u6240\u6709\u8868\u67e5\u8be2\u6743\u9650\u8d4b\u7ed9\u7528\u6237 GRANT SELECT ON ALL TABLES IN SCHEMA public TO user; -- \u8bbe\u7f6e\u53d1\u5e03\u4e3atrue update pg_publication set puballtables=true where pubname is not null; -- \u628a\u6240\u6709\u8868\u8fdb\u884c\u53d1\u5e03 CREATE PUBLICATION dbz_publication FOR ALL TABLES; -- \u67e5\u8be2\u54ea\u4e9b\u8868\u5df2\u7ecf\u53d1\u5e03 select * from pg_publication_tables; -- \u66f4\u6539\u590d\u5236\u6807\u8bc6\u5305\u542b\u66f4\u65b0\u548c\u5220\u9664\u4e4b\u524d\u503c ALTER TABLE test0425 REPLICA IDENTITY FULL; -- \u67e5\u770b\u590d\u5236\u6807\u8bc6\uff08\u4e3af\u6807\u8bc6\u8bf4\u660e\u8bbe\u7f6e\u6210\u529f\uff09 select relreplident from pg_class where relname='test0425'; postgres\u540c\u6b65\u5230es\u4f7f\u7528\u6837\u4f8b set execution.checkpointing.interval=3s; create table pgck(pid String,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string,primary key(pid) not enforced) with ('connector'='postgres-cdc','hostname'='192.168.240.14','port'='5432','database-name'='demo','schema-name'='public','username'='postgres','password'='pass','table-name'='czrkjbxx','decoding.plugin.name'='pgoutput'); create table czrk(pid String,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string,primary key(pid) not enforced) with ('connector'='elasticsearch-6','hosts'='http://192.168.240.14:9200','index'='czrk','document-type'='czrk','username'='','password'=''); insert into czrk select pid,id,gmsfhm,xm,csrq,xbdm,xbmc,mzdm,mzmc,xxdm,xxmc,jggjdm,jggjmc,jgssxdm,jgssxmc,csdjgdm,csdjgmc,csdssxdm,csdssxmc,csdxz,hjdpcsdm,hjdpcsmc,hjdxz,xzz,lxdh,zzmmdm,zzmmmc,zw,zy,byzkdm,byzkmc,whcddm,whcdmc,hyzkdm,hyzkmc,zjxydm,zjxymc,hklxdm,hklxmc,hkxzdm,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country from pgck;","title":"postgresql-cdc"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/#pgstarrock","text":"--\u5148\u5728starrocks\u5efa\u8868 create table czrkjbxx(pid bigint,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string) primary key(pid) distributed by hash(pid) properties(\"replication_num\"=\"1\") --\u4e0b\u9762\u7684\u8bed\u53e5\u5728flink-sql\u4e2d\u6267\u884c set execution.checkpointing.interval=3s; create table pgck(pid bigint,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string,primary key(pid) not enforced) with ('connector'='postgres-cdc','hostname'='192.168.240.14','port'='5432','database-name'='demo','schema-name'='public','username'='postgres','password'='pass','table-name'='czrkjbxx','decoding.plugin.name'='pgoutput'); --starrocks\u4f5c\u4e3a\u8f93\u51fa\u65f6\u5019\u9009\u9879\u4e2d\u6709load-url\u4f5c\u4e3a\u8f93\u5165\u65f6\u5019\u5c06load-url\u6362\u6210scan-url,\u8f93\u51fa\u65f6\u5019\u9700\u8981\u81ea\u5efa\u8868 create table czrksr(pid bigint,id String,gmsfhm String,xm String,csrq String,xbdm String,xbmc String,mzdm String,mzmc String,xxdm String,xxmc String,jggjdm String,jggjmc String,jgssxdm String,jgssxmc String,csdjgdm String,csdjgmc String,csdssxdm String,csdssxmc String,csdxz String,hjdpcsdm String,hjdpcsmc String,hjdxz String,xzz String,lxdh String,zzmmdm String,zzmmmc String,zw String,zy String,byzkdm String,byzkmc String,whcddm String,whcdmc String,hyzkdm String,hyzkmc String,zjxydm String,zjxymc String,hklxdm String,hklxmc String,hkxzdm String,hkxzmc String,hh String,yhzgxdm String,yhzgxmc String,fqgmsfhm String,fqxm String,mqgmsfhm String,mqxm String,pogmsfhm String,poxm String,idcard_url String,province String,city String,country string,primary key(pid) not enforced) with ('connector'='starrocks','load-url'='192.168.125.16:8030','jdbc-url'='jdbc:mysql://192.168.125.16:9030','username'='root','password'='','database-name'='lhcz','table-name'='czrkjbxx'); insert into czrksr select pid,id,gmsfhm,xm,csrq,xbdm,xbmc,mzdm,mzmc,xxdm,xxmc,jggjdm,jggjmc,jgssxdm,jgssxmc,csdjgdm,csdjgmc,csdssxdm,csdssxmc,csdxz,hjdpcsdm,hjdpcsmc,hjdxz,xzz,lxdh,zzmmdm,zzmmmc,zw,zy,byzkdm,byzkmc,whcddm,whcdmc,hyzkdm,hyzkmc,zjxydm,zjxymc,hklxdm,hklxmc,hkxzdm,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country from pgck;","title":"pg\u5230starrock"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/#pg2pg","text":"create table sender2(id int,code string,name string,primary key(id) not enforced) with ('connector'='jdbc','url'='jdbc:mysql://192.168.240.14:3306/dragon','table-name'='sender2','username'='root','password'='password');","title":"pg2pg"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink_sql_ETL%E9%9B%86%E5%90%88/#kafka-connector","text":"{ \"afterColumns\":{ \"created\":\"1589186680\", \"extra\":{ \"canGiving\":false }, \"parameter\":[ 1, 2, 3, 4 ] }, \"beforeColumns\":null, \"tableVersion\":{ \"binlogFile\":null, \"binlogPosition\":0, \"version\":0 }, \"touchTime\":1589186680591 } --\u521b\u5efa\u89e3\u6790\u8868 CREATE TABLE t1 ( afterColumns ROW(created STRING,extra ROW(canGiving BOOLEAN),`parameter` ARRAY <INT>) , beforeColumns STRING , tableVersion ROW(binlogFile STRING,binlogPosition INT ,version INT) , touchTime bigint ) WITH ( 'connector.type' = 'kafka', -- \u6307\u5b9a\u8fde\u63a5\u7c7b\u578b\u662fkafka 'connector.version' = '0.11', -- \u4e0e\u6211\u4eec\u4e4b\u524dDocker\u5b89\u88c5\u7684kafka\u7248\u672c\u8981\u4e00\u81f4 'connector.topic' = 'json_parse', -- \u4e4b\u524d\u521b\u5efa\u7684topic 'connector.properties.group.id' = 'flink-test-0', -- \u6d88\u8d39\u8005\u7ec4\uff0c\u76f8\u5173\u6982\u5ff5\u53ef\u81ea\u884c\u767e\u5ea6 'connector.startup-mode' = 'earliest-offset', --\u6307\u5b9a\u4ece\u6700\u65e9\u6d88\u8d39 'connector.properties.zookeeper.connect' = 'localhost:2181', -- zk\u5730\u5740 'connector.properties.bootstrap.servers' = 'localhost:9092', -- broker\u5730\u5740 'format.type' = 'json' -- json\u683c\u5f0f\uff0c\u548ctopic\u4e2d\u7684\u6d88\u606f\u683c\u5f0f\u4fdd\u6301\u4e00\u81f4 ) \u8fd9\u91cc\u6211\u4eec\u6ce8\u610f\u4e00\u4e0b\uff0cparameter\u5f97\u7528``\u62ec\u8d77\u6765\uff0c\u56e0\u4e3aparameter\u662f\u4e2a\u5173\u952e\u5b57\uff0c\u60f3\u7528\u7684\u8bdd\u5f97\u7528``\u5305\u56f4\uff0c\u6240\u6709\u5173\u952e\u5b57\u53ef\u4ee5\u53c2\u8003https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/sql/#reserved-keywords \u6700\u540e\u8f93\u51fa\u7684\u6570\u636e\u662f\u8fd9\u6837\u7684\uff1a1589186680,false,[1, 2, 3, 4],null,null,0,0,1589186680591\uff0c\u548c\u6211\u4eecJSON\u4e2d\u7684\u6570\u636e\u4e00\u6837\uff0c\u6ca1\u6bdb\u75c5\uff01 \u4e0d\u8fc7\u6211\u4eec\u7528\u7684\u662fselect *\uff0c\u6b63\u5e38\u6765\u8bf4\u6211\u4eec\u5e94\u8be5\u53ea\u8f93\u51fa\u60f3\u8981\u7684\u5b57\u6bb5\u3002\u90a3\u4e48\uff0c\u5047\u8bbe\u6211\u4eec\u53ea\u60f3\u62ff\u5230canGiving \u8fd9\u4e2a\u5d4c\u5957\u597d\u51e0\u5c42\u7684\u5b57\u6bb5\u503c\uff0c\u8be5\u600e\u4e48\u5199\u5462\uff1f \u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5c31\u50cf\u662f\u5305\u8def\u5f84\u4e00\u6837 afterColumns.extra.canGiving \uff0c\u8bd5\u4e00\u4e0b select afterColumns.extra.canGiving from t1 \u8f93\u51fa\uff1afalse \u518d\u8bd5\u4e00\u4e0b\u8f93\u51fa parameter \u8fd9\u4e2a\u96c6\u5408\u7684\u7b2c\u4e00\u4e2a\u503c(\u4e0b\u6807\u4ece1\u5f00\u59cb) select afterColumns.`parameter`[1] from t1","title":"kafka-connector\u89e3\u6790\u590d\u6742\u6570\u636e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink%E5%B8%B8%E7%94%A8%E8%BF%9E%E6%8E%A5%E5%99%A8%E8%AF%BB%E5%86%99%E8%83%BD%E5%8A%9B%E6%B1%87%E6%80%BB/","text":"Flink\u5e38\u7528connector\u652f\u6301\u60c5\u51b5 \u8fde\u63a5\u5668\u540d \u6d41\u8f93\u5165 \u6d41\u8f93\u51fa \u6279\u8f93\u5165 \u6279\u8f93\u51fa ApacheKafka 1 1 \u65e0\u754c\u626b\u63cf 1 cassandra 0 1 kinesis 1 1 \u65e0\u754c\u626b\u63cf 1 Elasticsearch 0 1 FileSystem\uff08streaming or batch\uff09 0 1 \u8fb9\u754c\u548c\u65e0\u754c\u626b\u63cf\u52a0\u68c0\u7d22 1 rabbitMQ 1 1 ApacheNiFi 1 1 TwitterStreamingAPI 1 0 googlepubsub 1 1 jdbc 0 1 \u8fb9\u754c\u626b\u63cf\u52a0\u68c0\u7d22 1 ApacheActiveMQ 1 1 ApacheFlume 0 1 Redis 0 1 Netty 1 0 ApacheHBase 1 \u8fb9\u754c\u626b\u63cf\u52a0\u68c0\u7d22 1 ApacheHive 1 \u65e0\u754c\u548c\u8fb9\u754c\u626b\u63cf\u52a0\u68c0\u7d22 1 mongodb-cdc 1 0 1 0 mysql-cdc 1 0 1 0 oceanbase-cdc 1 0 1 0 oracle-cdc 1 0 1 0 postgres-cdc 1 0 1 0 sqlserver-cdc 1 0 1 0 tidb-cdc 1 0 1 0 starrocks 1 1","title":"Flink\u5e38\u7528connector\u652f\u6301\u60c5\u51b5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink%E5%B8%B8%E7%94%A8%E8%BF%9E%E6%8E%A5%E5%99%A8%E8%AF%BB%E5%86%99%E8%83%BD%E5%8A%9B%E6%B1%87%E6%80%BB/#flinkconnector","text":"\u8fde\u63a5\u5668\u540d \u6d41\u8f93\u5165 \u6d41\u8f93\u51fa \u6279\u8f93\u5165 \u6279\u8f93\u51fa ApacheKafka 1 1 \u65e0\u754c\u626b\u63cf 1 cassandra 0 1 kinesis 1 1 \u65e0\u754c\u626b\u63cf 1 Elasticsearch 0 1 FileSystem\uff08streaming or batch\uff09 0 1 \u8fb9\u754c\u548c\u65e0\u754c\u626b\u63cf\u52a0\u68c0\u7d22 1 rabbitMQ 1 1 ApacheNiFi 1 1 TwitterStreamingAPI 1 0 googlepubsub 1 1 jdbc 0 1 \u8fb9\u754c\u626b\u63cf\u52a0\u68c0\u7d22 1 ApacheActiveMQ 1 1 ApacheFlume 0 1 Redis 0 1 Netty 1 0 ApacheHBase 1 \u8fb9\u754c\u626b\u63cf\u52a0\u68c0\u7d22 1 ApacheHive 1 \u65e0\u754c\u548c\u8fb9\u754c\u626b\u63cf\u52a0\u68c0\u7d22 1 mongodb-cdc 1 0 1 0 mysql-cdc 1 0 1 0 oceanbase-cdc 1 0 1 0 oracle-cdc 1 0 1 0 postgres-cdc 1 0 1 0 sqlserver-cdc 1 0 1 0 tidb-cdc 1 0 1 0 starrocks 1 1","title":"Flink\u5e38\u7528connector\u652f\u6301\u60c5\u51b5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/GP%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E9%A1%B9/","text":"gpconfig -c gp_enable_global_deadlock_detector -v on gpconfig -c log_statement -v none gpconfig -c wal_writer_delay -v '10ms' gpconfig -c checkpoint_completion_target -v 0.9 gpconfig -c shared_buffers -v '16GB' -m '512MB' gpconfig -c work_mem -v '16MB' -m '16MB' gpconfig -c wal_buffers -v '10MB' -m '10MB' gpconfig -c statement_mem -v '2GB' -m '2GB' gpconfig -c max_statement_mem -v '4GB' -m '4GB' gpconfig -c statement_timeout -m 10min -v 10min #\u8bbe\u7f6e\u65f6\u533a gpconfig -c TimeZone -m 'Asia/Shanghai' -v 'Asia/Shanghai' #\u81ea\u52a8\u5206\u6790 gpconfig -c gp_autostats_mode -m on_change -v on_change gpconfig -c gp_autostats_on_change_threshold -m 100000000 -v 100000000 #\u8bbe\u7f6e\u5185\u5b58\u5927\u5c0f\uff0c\u6700\u5c0f\u5185\u5b58\u8282\u70b9\u5185\u5b58=x\uff0c\u6b64\u503c\u8ba1\u7b97\u65b9\u6cd5\u4e3a=x*0.75/(\u4e3b\u8282\u70b9\u6570+\u4ece\u8282\u70b9\u6570) gpconfig -c gp_vmem_protect_limit -m 6144 -v 6144 #\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570(-v\u4e3asegment\u7684\u5b98\u65b9\u5efa\u8bae\u4e3a\u4e3b\u8282\u70b9\u76845~10\u500d) gpconfig -c max_connections -v 4000 -m 2000 && gpconfig -c max_prepared_transactions -v 4000 #\u91cd\u542f\u96c6\u7fa4\u751f\u6548\uff08\u90e8\u5206\u914d\u7f6e\u9700\u8981\u5f7b\u5e95\u91cd\u542f\uff09 gpstop -M fast -a && gpstart #\u68c0\u67e5\u4fee\u6539\u662f\u5426\u751f\u6548 gpconfig -s gp_enable_global_deadlock_detector && gpconfig -s log_statement gpconfig -s max_connections && gpconfig -s max_prepared_transactions #\u521b\u5efa\u6570\u636e\u5e93 createdb lhcz -E utf-8 #\u521b\u5efa\u7528\u6237 psql -d lhcz create role hjdev password 'thisispass' createdb login; \\q #\u5728master\u8282\u70b9\u4fee\u6539pg_hba.conf\u6587\u4ef6\u6765\u8d4b\u4e88\u7528\u6237\u8fdc\u7a0b\u767b\u5f55\u7684\u6743\u9650 vi /home/gpadmin/master/gpseg-1/pg_hba.conf #\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9 host all hjdev 0.0.0.0/0 md5 :wq \u4fdd\u5b58\u9000\u51fa #\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e gpstop -u pgbouncer\u914d\u7f6e [databases] lhcz = host=localhost port=5432 dbname=lhcz bzyq = host=localhost port=5432 dbname=bzyq test = host=localhost port=5432 dbname=test postgres = host=localhost port=5432 dbname=postgres [pgbouncer] listen_port=6543 listen_addr=0.0.0.0 auth_type=md5 auth_file=userlist.txt logfile=pgbouncer.log pidfile=pgbouncer.pid max_db_connections=500 admin_users=hjdev ;next for datax ignore_startup_parameters = extra_float_digits ;; When server connection is released back to pool: ;; session - after client disconnects (default) ;; transaction - after transaction finishes ;datax throw error ;; statement - after statement finishes ;cannot use transaction ;pool_mode = transaction transaction\u6a21\u5f0f\u4f1a\u9020\u6210datax\u62a5\u9519\uff0c\u9700\u8981\u5728datax\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u4e32\u4e2d\u589e\u52a0 prepareThreshold=0 \u521b\u5efa\u7528\u6237\u914d\u7f6e\u6587\u4ef6userlist.txt(\u5982\u4e0b) \"\u7528\u6237\u540d\" \"\u5bc6\u7801\u660e\u6587\" \"\u7528\u6237\u540d\" \"md5+md5\u503c\" \u4f7f\u7528pgbouncer #\u8fdb\u5165\u8fde\u63a5\u6c60\u7ba1\u7406\u5e93 psql -p 6543 -h 127.0.0.1 -U hjdev pgbouncer #\u8f93\u5165\u5bc6\u7801 show help;#\u67e5\u770b\u5e2e\u52a9 show clients;#\u67e5\u770b\u8fde\u63a5\u7684\u5ba2\u6237\u7aef","title":"GP\u5e38\u7528\u914d\u7f6e\u9879"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/GP%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E9%A1%B9/#pgbouncer","text":"[databases] lhcz = host=localhost port=5432 dbname=lhcz bzyq = host=localhost port=5432 dbname=bzyq test = host=localhost port=5432 dbname=test postgres = host=localhost port=5432 dbname=postgres [pgbouncer] listen_port=6543 listen_addr=0.0.0.0 auth_type=md5 auth_file=userlist.txt logfile=pgbouncer.log pidfile=pgbouncer.pid max_db_connections=500 admin_users=hjdev ;next for datax ignore_startup_parameters = extra_float_digits ;; When server connection is released back to pool: ;; session - after client disconnects (default) ;; transaction - after transaction finishes ;datax throw error ;; statement - after statement finishes ;cannot use transaction ;pool_mode = transaction transaction\u6a21\u5f0f\u4f1a\u9020\u6210datax\u62a5\u9519\uff0c\u9700\u8981\u5728datax\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u4e32\u4e2d\u589e\u52a0 prepareThreshold=0 \u521b\u5efa\u7528\u6237\u914d\u7f6e\u6587\u4ef6userlist.txt(\u5982\u4e0b) \"\u7528\u6237\u540d\" \"\u5bc6\u7801\u660e\u6587\" \"\u7528\u6237\u540d\" \"md5+md5\u503c\"","title":"pgbouncer\u914d\u7f6e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/GP%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E9%A1%B9/#pgbouncer_1","text":"#\u8fdb\u5165\u8fde\u63a5\u6c60\u7ba1\u7406\u5e93 psql -p 6543 -h 127.0.0.1 -U hjdev pgbouncer #\u8f93\u5165\u5bc6\u7801 show help;#\u67e5\u770b\u5e2e\u52a9 show clients;#\u67e5\u770b\u8fde\u63a5\u7684\u5ba2\u6237\u7aef","title":"\u4f7f\u7528pgbouncer"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Greenplum%E7%A7%BB%E9%99%A4Segment/","text":"Greenplum\u79fb\u9664Segment \u521a\u624d\u767b\u9646\u4e0a\u6765\u770b\u5230\u4ee5\u524d\u5199\u7684\u4e00\u7bc7\u6587\u7ae0\u6269\u5c55greenplum\u96c6\u7fa4 \u4e0b\u9762\u6709\u4eba\u56de\u5e16\u95ee\u5982\u4f55\u88c1\u526aSEGMENT\u3002\u56e0\u4e3a\u5e76\u6ca1\u6709\u770b\u5230GREENPLUM\u63d0\u4f9b\u4ec0\u4e48\u5de5\u5177\u53ef\u4ee5\u53bb\u9664\u67d0\u4e9b\u5df2\u7ecf\u5728\u4f7f\u7528\u7684SEGMENT\u7684\u3002\u521a\u521a\u53bb\u8bd5\u4e86\u4e00\u4e0b\uff0c\u597d\u50cf\u53ef\u4ee5\uff0c\u53ea\u80fd\u8bf4\u597d\u50cf\u53ef\u4ee5\u3002\u4e0b\u9762\u628a\u64cd\u4f5c\u6b65\u9aa4\u8d34\u51fa\u6765\uff0c\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4e00\u8d77\u770b\u770b\u6709\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\u3002 \u4e0b\u9762\u662f\u73b0\u6709\u96c6\u7fa4\u7684\u4e00\u4e2a\u5927\u81f4\u60c5\u51b5 testutf8=# select * from gp_configuration; content | definedprimary | dbid | isprimary | valid | hostname | port | datadir \u2014\u2014\u2014+\u2014\u2014\u2014\u2014\u2014-+\u2014\u2014+\u2014\u2014\u2014\u2013+\u2014\u2014-+\u2014\u2014\u2014-+\u2014\u2014-+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014- -1 | t | 1 | t | t | hadoop7 | 5345 | /home/gpadmin1/gp3master/aligp-1 0 | f | 8 | f | t | hadoop8 | 30001 | /home/gpadmin1/gp3datam1/aligp0 1 | f | 9 | f | t | hadoop8 | 30002 | /home/gpadmin1/gp3datam2/aligp1 0 | t | 2 | t | t | hadoop7 | 20001 | /home/gpadmin1/gp3datap1/aligp0 1 | t | 3 | t | t | hadoop7 | 20002 | /home/gpadmin1/gp3datap2/aligp1 3 | t | 5 | t | t | hadoop8 | 20002 | /home/gpadmin1/gp3datap2/aligp3 -1 | f | 14 | f | t | hadoop8 | 5345 | /home/gpadmin1/gp3master/aligp-1 2 | t | 4 | t | t | hadoop8 | 20001 | /home/gpadmin1/gp3datap1/aligp2 2 | f | 10 | f | t | hadoop9 | 30001 | /home/gpadmin1/gp3datam1/aligp2 3 | f | 11 | f | t | hadoop9 | 30002 | /home/gpadmin1/gp3datam2/aligp3 4 | f | 12 | f | t | hadoop7 | 30001 | /home/gpadmin1/gp3datam1/aligp4 5 | f | 13 | f | t | hadoop7 | 30002 | /home/gpadmin1/gp3datam2/aligp5 4 | t | 6 | t | t | hadoop9 | 20001 | /home/gpadmin1/gp3datap1/aligp4 5 | t | 7 | t | t | hadoop9 | 20002 | /home/gpadmin1/gp3datap2/aligp5 \u2013\u6807\u4e3a\u7ea2\u8272\u7684\u90e8\u5206\u5373\u4e3a\u8981\u5220\u9664\u7684SEGMENT (14 rows) \u2013\u521b\u5efa\u4e24\u5f20\u8868t1\uff0ct2.\u5728\u540e\u9762\u7684\u64cd\u4f5c\u4e2d\u6211\u4e0d\u4f1a\u5bf9t1\u8fdb\u884c\u7279\u6b8a\u5904\u7406\uff0c\u56e0\u6b64\u7406\u8bba\u4e0a\u5220\u9664\u67d0\u4e2aSEGMENT\u4ee5\u540e\u5b83\u4e0a\u9762\u7684\u6570\u636e\u4f1a\u6709\u6240\u51cf\u5c11\u3002\u800c\u5bf9\u4e8et2\uff0c\u6211\u4f1a\u5728\u4fee\u6539\u96c6\u7fa4\u914d\u7f6e\u4ee5\u524d\u628a\u5728\u8981\u88ab\u5220\u9664\u7684\u90a3\u4e9bSEGMENT\u4e0a\u7684\u6570\u636e\u624b\u52a8\u8fc1\u79fb\u5230\u5176\u4ed6\u4fdd\u7559\u7684SEGMENT\u4e0a\u3002 testutf8=# create table t1 as select nextval(\u2019seq1\u2032) from pg_class; NOTICE: Table doesn\u2019t have \u2018DISTRIBUTED BY\u2019 clause \u2014 Using column(s) named \u2018nextval\u2019 as the Greenplum Database data distribution key for this table. HINT: The \u2018DISTRIBUTED BY\u2019 clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew. SELECT 267 testutf8=# select gp_segment_id,count(1) from t1 group by 1; gp_segment_id | count \u2014\u2014\u2014\u2014\u2014+\u2014\u2014- 1 | 43 4 | 48 2 | 42 0 | 44 3 | 41 5 | 49 (6 rows) testutf8=# create table t2 as select nextval(\u2019seq1\u2032) from pg_class; NOTICE: Table doesn\u2019t have \u2018DISTRIBUTED BY\u2019 clause \u2014 Using column(s) named \u2018nextval\u2019 as the Greenplum Database data distribution key for this table. HINT: The \u2018DISTRIBUTED BY\u2019 clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew. SELECT 268 testutf8=# select gp_segment_id,count(1) from t2 group by 1; gp_segment_id | count \u2014\u2014\u2014\u2014\u2014+\u2014\u2014- 1 | 44 2 | 43 0 | 41 4 | 49 3 | 42 5 | 49 (6 rows) \u4e0b\u9762\u51e0\u6b65\u6240\u505a\u7684\u5c31\u662f\u5bf9t2\u8868\u7684\u5728\u5c06\u88ab\u5220\u9664\u7684SEGMENT\u4e0a\u7684\u6570\u636e\u8fdb\u884c\u8fc1\u79fb connect to hadoop9:20001 from hadoop9 [gpadmin1@hadoop9 ~]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql -h hadoop9 -p 20001 -U r1 psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# testutf8=# select count(*) from t2; count \u2014\u2014- 49 (1 row) testutf8=# select * from t2 limit 1; \u2013\u8fd9\u91cc\u968f\u4fbf\u67e5\u51fa\u4e00\u6761\u6570\u636e\uff0c\u5728\u96c6\u7fa4\u76f8\u5e94\u7684SEGMENT\u88ab\u53bb\u9664\u4ee5\u540e\uff0c\u53ef\u4ee5\u7528\u6765\u9a8c\u8bc1\u8fd9\u6761\u6570\u636e\u662f\u5426\u8fd8\u5b58\u5728\u96c6\u7fa4\u4e2d nextval \u2014\u2014\u2014 810 (1 row) testutf8=# copy t2 to \u2018/home/gpadmin1/hadoop9_20001_t2\u2032; \u2013\u901a\u8fc7COPY\u547d\u4ee4\u628at2\u5728\u6b64SEGMENT\u4e0a\u7684\u6570\u636e\u5907\u4efd\u51fa\u6765 COPY 49 connect to hadoop9:20002 from hadoop7 [gpadmin1@hadoop7 ~]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql -h hadoop9 -p 20002 -U r1 psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# select count(*) from t2; count \u2014\u2014- 49 (1 row) testutf8=# select * from t2 limit 1; nextval \u2014\u2014\u2014 811 (1 row) testutf8=# copy t2 to \u2018/home/gpadmin1/hadoop9_20002_t2\u2032; COPY 49 [gpadmin1@hadoop9 ~]$ ls 1.sh conf gp3datam1 gp3datap1 gp3master gp4datam2 gp4datap2 hadoop9_20001_t2 hy pgback t3 cleangp.sh cpgp_cfg.sh gp3datam2 gp3datap2 gp4datam1 gp4datap1 gpAdminLogs hadoop9_20002_t2 joe.wangh software tools [gpadmin1@hadoop9 ~]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql -h hadoop7 -p 20001 -U r1 psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# copy t2 from \u2018/home/gpadmin1/hadoop9_20001_t2\u2032; ERROR: could not open file \u201c/home/gpadmin1/hadoop9_20001_t2\u2033 for reading: No such file or directory testutf8=# /q \u2013\u8fd9\u91cc\u56e0\u4e3a\u6211\u8fde\u63a5\u5230\u7684\u662fHADOOP7:20001\u7684SEGMENT,\u800c\u521a\u624d\u4e24\u4e2aCOPY\u51fa\u6765\u7684\u6587\u4ef6\u90fd\u5728HADOOP9\u4e0a\uff0c\u56e0\u6b64\u9700\u8981SCP\u5230HADOOP7\u4e0a\u8fdb\u884c\u5e94\u7528\u3002 [gpadmin1@hadoop9 ~]$ scp hadoop9_20001_t2 hadoop7:/home/gpadmin1/ hadoop9_20001_t2 100% 211 0.2KB/s 00:00 [gpadmin1@hadoop9 ~]$ scp hadoop9_20002_t2 hadoop7:/home/gpadmin1/ hadoop9_20002_t2 100% 212 0.2KB/s 00:00 [gpadmin1@hadoop9 ~]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql -h hadoop7 -p 20001 -U r1 psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# copy t2 from \u2018/home/gpadmin1/hadoop9_20001_t2\u2032; COPY 49 testutf8=# copy t2 from \u2018/home/gpadmin1/hadoop9_20002_t2\u2032; COPY 49 testutf8=# select count(*) from t2; count \u2014\u2014- 139 \u2013\u4ece\u524d\u9762t2\u8868\u5728\u5404\u4e2asegment\u4e0a\u5206\u5e03\u7684\u60c5\u51b5\u53ef\u4ee5\u770b\u5230\uff0c41+49+49=139\uff0c\u6b63\u597d\u662fgp_segment_id\u4e3a0\uff0c4\uff0c5\u4e4b\u548c (1 row) OK\uff0c\u4e0b\u9762\u6211\u4eec\u53ef\u4ee5\u628a\u6570\u636e\u5e93\u6b63\u5e38\u5173\u95ed\u4e86\u3002 [gpadmin1@hadoop7 pg_log]$ gpstop 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Starting gpstop with args: \u201d 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Gathering information and validating the environment\u2026 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Obtaining Greenplum Master catalog information 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Obtaining Segment details from master\u2026 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Greenplum Version: \u2018postgres (Greenplum Database) 3.3.7.0 build 1\u2032 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Master instance parameters 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Master Greenplum instance process active PID = 22683 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Database = template1 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Master Port = 5345 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Master directory = /home/gpadmin1/gp3master/aligp-1 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Shutdown mode = smart 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Shutdown Master standby host = On 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Segment instances that will be shutdown: 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Host Datadir Port Status 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datap1/aligp0 20001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datam1/aligp0 30001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datap2/aligp1 20002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datam2/aligp1 30002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datap1/aligp2 20001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datam1/aligp2 30001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datap2/aligp3 20002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datam2/aligp3 30002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datap1/aligp4 20001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datam1/aligp4 30001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datap2/aligp5 20002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datam2/aligp5 30002 Valid Continue with Greenplum instance shutdown Yy|Nn (default=N): y 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-There are 0 connections to the database 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing Master instance shutdown with mode=\u2019smart\u2019 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-Master host=hadoop7 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing Master instance shutdown with mode=smart 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-Master segment instance directory=/home/gpadmin1/gp3master/aligp-1 20101127:20:52:21:gpstop:hadoop7:gpadmin1-[INFO]:-Stopping gpsyncmaster on standby host hadoop8 mode=fast 20101127:20:52:22:gpstop:hadoop7:gpadmin1-[INFO]:-Successfully shutdown sync process on hadoop8 20101127:20:52:22:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing parallel segment instance shutdown, please wait\u2026 \u2026.. 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014- 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Parallel process exit status 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014- 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Total processes marked as completed = 12 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Total processes marked as failed = 0 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014- 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Total instances marked invalid and bypassed = 0 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Successfully shutdown 12 of 12 segment instances 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Database successfully shutdown with no errors reported \u7136\u540e\u4f7f\u7528-m\u53c2\u6570\u6253\u5f00\u6570\u636e\u5e93\uff0c\u66f4\u6539\u6570\u636e\u5b57\u5178\u8868\u4fe1\u606f\u3002\u4e3b\u8981\u66f4\u6539gp_configuration\u548cgp_id\u4e24\u4e2a\u6570\u636e\u5b57\u5178\u3002\u4e00\u5f00\u59cb\u6211\u53ea\u66f4\u6539\u4e86gp_configuration\u91cc\u7684\u4fe1\u606f\uff0c\u540e\u6765\u5728\u542f\u52a8\u7684\u65f6\u5019\u62a5\u9519\uff0c\u518d\u628agp_id\u91cc\u9762\u4fe1\u606f\u66f4\u6539\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002 [gpadmin1@hadoop7 pg_log]$ gpstart -m 20101127:20:53:04:gpstart:hadoop7:gpadmin1-[INFO]:-Starting gpstart with args: \u2018-m\u2019 20101127:20:53:04:gpstart:hadoop7:gpadmin1-[INFO]:-Gathering information and validating the environment\u2026 20101127:20:53:04:gpstart:hadoop7:gpadmin1-[INFO]:-local Greenplum Version: \u2018postgres (Greenplum Database) 3.3.7.0 build 1\u2032 20101127:20:53:04:gpstart:hadoop7:gpadmin1-[INFO]:-Starting Master instance in admin mode 20101127:20:53:05:gpstart:hadoop7:gpadmin1-[INFO]:-Obtaining Greenplum Master catalog information 20101127:20:53:05:gpstart:hadoop7:gpadmin1-[INFO]:-Obtaining Segment details from master\u2026 20101127:20:53:05:gpstart:hadoop7:gpadmin1-[INFO]:-Master Started\u2026 [gpadmin1@hadoop7 pg_log]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# delete from gp_configuration where content=5; DELETE 2 testutf8=# delete from gp_configuration where content=4; DELETE 2 testutf8=# select * from gp_id; gpname | numsegments | dbid | content \u2014\u2014\u2013+\u2014\u2014\u2014\u2014-+\u2014\u2014+\u2014\u2014\u2014 GP | 6 | 1 | -1 (1 row) testutf8=# update gp_id set numsegments=4; UPDATE 1 testutf8=# /q [gpadmin1@hadoop7 pg_log]$ gpstop -m 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Starting gpstop with args: \u2018-m\u2019 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Gathering information and validating the environment\u2026 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Obtaining Greenplum Master catalog information 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Obtaining Segment details from master\u2026 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Greenplum Version: \u2018postgres (Greenplum Database) 3.3.7.0 build 1\u2032 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-There are 0 connections to the database 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing Master instance shutdown with mode=\u2019smart\u2019 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Master host=hadoop7 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing Master instance shutdown with mode=smart 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Master segment instance directory=/home/gpadmin1/gp3master/aligp-1 \u5173\u952e\u65f6\u523b\uff0c\u4ee5\u6b63\u5e38\u6a21\u5f0f\u542f\u52a8\u6570\u636e\u5e93\u8bd5\u8bd5\uff0c\u80dc\u8d1f\u5728\u6b64\u4e00\u4e3e\u3002 [gpadmin1@hadoop7 pg_log]$ gpstart 20101127:20:54:05:gpstart:hadoop7:gpadmin1-[INFO]:-Starting gpstart with args: \u201d 20101127:20:54:05:gpstart:hadoop7:gpadmin1-[INFO]:-Gathering information and validating the environment\u2026 20101127:20:54:05:gpstart:hadoop7:gpadmin1-[INFO]:-local Greenplum Version: \u2018postgres (Greenplum Database) 3.3.7.0 build 1\u2032 20101127:20:54:05:gpstart:hadoop7:gpadmin1-[INFO]:-Starting Master instance in admin mode 20101127:20:54:06:gpstart:hadoop7:gpadmin1-[INFO]:-Obtaining Greenplum Master catalog information 20101127:20:54:06:gpstart:hadoop7:gpadmin1-[INFO]:-Obtaining Segment details from master\u2026 20101127:20:54:06:gpstart:hadoop7:gpadmin1-[INFO]:-Master Started\u2026 20101127:20:54:06:gpstart:hadoop7:gpadmin1-[INFO]:-Shutting down master 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Master instance parameters 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Database = template1 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Master Port = 5345 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Master directory = /home/gpadmin1/gp3master/aligp-1 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Master standby start = On 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Segment instances that will be started 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Host Datadir Port Status 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datap1/aligp0 20001 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datam1/aligp0 30001 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datap2/aligp1 20002 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datam2/aligp1 30002 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datap1/aligp2 20001 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datam1/aligp2 30001 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datap2/aligp3 20002 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datam2/aligp3 30002 Valid Continue with Greenplum instance startup Yy|Nn (default=N): y 20101127:20:54:09:gp.py:hadoop7:gpadmin1-[INFO]:-Starting standby master 20101127:20:54:09:gp.py:hadoop7:gpadmin1-[INFO]:-Checking if standby master is running on host: hadoop8 in directory: /home/gpadmin1/gp3master/aligp-1 20101127:20:54:09:gp.py:hadoop7:gpadmin1-[INFO]:-No db instance process, entering recovery startup mode 20101127:20:54:09:gpstart:hadoop7:gpadmin1-[INFO]:-Commencing parallel segment instance startup, please wait\u2026 \u2026.. 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Process results\u2026 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2013 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Total processes marked as completed = 8 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Total processes marked as failed = 0 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2013 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Total instances marked invalid and bypassed = 0 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Successfully started 8 of 8 segment instances 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2013 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Starting Master instance hadoop7 directory /home/gpadmin1/gp3master/aligp-1 20101127:20:54:15:gpstart:hadoop7:gpadmin1-[INFO]:-Command pg_ctl reports Master hadoop7 instance active NOTICE: Master mirroring synchronizing 20101127:20:54:16:gpstart:hadoop7:gpadmin1-[INFO]:-Database successfully started with no errors reported \u6b63\u5e38\u542f\u52a8\u4e86\uff0c\u73b0\u5728\u8fde\u63a5\u4e0a\u53bb\u770b\u770b\u521a\u624dt1\u548ct2\u8868\u7684\u60c5\u51b5\u5982\u4f55\u3002 [gpadmin1@hadoop7 pg_log]$ psql psql (8.2.13) Type \u201chelp\u201d for help. \u2013\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\uff0ct1\u8868\u57280\uff0c1\uff0c2\uff0c3\u8fd94\u4e2aSEGMENT\u4e0a\u7684\u6570\u636e\u91cf\u6ca1\u53d8\u5316\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u88ab\u5220\u9664\u7684\u4e24\u4e2aSEGMENT\u4e0a\u7684\u6570\u636e\u4e22\u5931\u4e86\u3002 testutf8=# select gp_segment_id,count(1) from t1 group by 1; gp_segment_id | count \u2014\u2014\u2014\u2014\u2014+\u2014\u2014- 0 | 44 1 | 43 2 | 42 3 | 41 (4 rows) \u2013\u57280\u53f7SEGMENT\u4e0a\u6570\u636e\u91cf\u662f139\uff0c\u4e5f\u5c31\u662f\u524d\u9762\u6211\u4eec\u6240\u8bf4\u768441+49+49\u3002 testutf8=# select gp_segment_id,count(1) from t2 group by 1; gp_segment_id | count \u2014\u2014\u2014\u2014\u2014+\u2014\u2014- 3 | 42 0 | 139 1 | 44 2 | 43 (4 rows) \u4e0b\u9762\u518d\u67e5\u8be2\u4e00\u4e0b\u521a\u624d\u63d0\u53d6\u7684t2\u8868\u5728\u88ab\u5220\u9664SEGMENT\u4e0a\u7684\u4e24\u4e2a\u6570\u503c\uff0c\u770b\u770b\u5b83\u4eec\u662f\u5426\u4f9d\u7136\u53ef\u4ee5\u6b63\u5e38\u88ab\u67e5\u8be2\u5230\u3002 testutf8=# /d t2 Table \u201cpublic.t2\u2033 Column | Type | Modifiers \u2014\u2014\u2014+\u2014\u2014\u2013+\u2014\u2014\u2014\u2013 nextval | bigint | Distributed by: (nextval) \u2013t2\u8868\u4e0a\u6b63\u5e38 testutf8=# select * from t2 where nextval=810; nextval \u2014\u2014\u2014 810 (1 row) testutf8=# select * from t2 where nextval=811; nextval \u2014\u2014\u2014 811 (1 row) \u2013t1\u8868\u4e0a\u5df2\u7ecf\u67e5\u4e0d\u5230\u4e86 testutf8=# select * from t1 where nextval=811; nextval \u2014\u2014\u2014 (0 rows) testutf8=# select * from t1 where nextval=810; nextval \u2014\u2014\u2014 (0 rows) \u5f53\u7136\uff0c\u8fd9\u79cd\u4eceGREENPLUM\u96c6\u7fa4\u4e2d\u53bb\u9664SEGMENT\u7684\u65b9\u6cd5\u4e0d\u4e00\u5b9a\u662f\u5b8c\u5168\u6b63\u786e\u7684\uff0c\u7eaf\u5c5e\u4e2a\u4ebaYY\u4e00\u4e0b\u7136\u540e\u8bd5\u4e86\u8bd5\u800c\u5df2\u3002 \u4e5f\u8bb8\u5185\u90e8\u8fd8\u662f\u4e00\u4e9b\u7ec6\u8282\u662f\u6211\u6ca1\u6709\u8003\u8651\u5230\u7684\uff0c\u521a\u624d\u6211\u5728\u8fd9\u4e2a\u53bb\u9664\u4e86SEGMENT\u7684\u96c6\u7fa4\u4e2d\u505a\u4e86\u4e00\u4e9b\u529f\u80fd\u6d4b\u8bd5\uff0c\u7ed3\u679c\u8fd8\u90fd\u662f\u633a\u6b63\u5e38\u7684\uff0c\u4f46\u662f\u4fdd\u4e0d\u51c6\u54ea\u4e00\u5929\u4ed6\u4f1a\u51fa\u95ee\u9898\u3002 \u8865\u5145\u4e24\u70b9 1\u3001\u5728\u4ecegp_configuration\u91cc\u9762\u5220\u9664\u76f8\u5173\u4fe1\u606f\u4ee5\u540e\uff0c\u8981\u4fdd\u8bc1\u5269\u4f59\u7684SEGMENT\u7684CONTENT\u5217\u548cDBID\u5217\u662f\u8fde\u7eed\u7684\u3002\u4e0d\u7136\u5728\u63a5\u4e0b \u6765gpstop -m\u7684\u65f6\u5019\u4f1a\u62a5\u9519index out of list 2\u3001\u66f4\u6539\u5b8cMASTER\u4e0a\u7684gp_id\u4ee5\u540e\uff0c\u8fd8\u8981\u8fde\u63a5\u5230\u5404\u4e2aSEGMENT\u4e0a\u66f4\u6539gp_id\u3002\u5982\u679c\u4f60\u5728\u524d\u9762\u7684\u64cd\u4f5c\u4e2d\u66f4\u6539\u4e86DBID\u548cCONTENT \u7684\u8bdd\uff0c\u90a3\u4e48\u5728\u66f4\u6539gp_id\u7684\u65f6\u5019\u4e5f\u9700\u8981\u505a\u76f8\u5e94\u7684\u66f4\u6539\u3002","title":"Greenplum\u79fb\u9664Segment"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Greenplum%E7%A7%BB%E9%99%A4Segment/#greenplumsegment","text":"\u521a\u624d\u767b\u9646\u4e0a\u6765\u770b\u5230\u4ee5\u524d\u5199\u7684\u4e00\u7bc7\u6587\u7ae0\u6269\u5c55greenplum\u96c6\u7fa4 \u4e0b\u9762\u6709\u4eba\u56de\u5e16\u95ee\u5982\u4f55\u88c1\u526aSEGMENT\u3002\u56e0\u4e3a\u5e76\u6ca1\u6709\u770b\u5230GREENPLUM\u63d0\u4f9b\u4ec0\u4e48\u5de5\u5177\u53ef\u4ee5\u53bb\u9664\u67d0\u4e9b\u5df2\u7ecf\u5728\u4f7f\u7528\u7684SEGMENT\u7684\u3002\u521a\u521a\u53bb\u8bd5\u4e86\u4e00\u4e0b\uff0c\u597d\u50cf\u53ef\u4ee5\uff0c\u53ea\u80fd\u8bf4\u597d\u50cf\u53ef\u4ee5\u3002\u4e0b\u9762\u628a\u64cd\u4f5c\u6b65\u9aa4\u8d34\u51fa\u6765\uff0c\u5927\u5bb6\u4e5f\u53ef\u4ee5\u4e00\u8d77\u770b\u770b\u6709\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\u3002 \u4e0b\u9762\u662f\u73b0\u6709\u96c6\u7fa4\u7684\u4e00\u4e2a\u5927\u81f4\u60c5\u51b5 testutf8=# select * from gp_configuration; content | definedprimary | dbid | isprimary | valid | hostname | port | datadir \u2014\u2014\u2014+\u2014\u2014\u2014\u2014\u2014-+\u2014\u2014+\u2014\u2014\u2014\u2013+\u2014\u2014-+\u2014\u2014\u2014-+\u2014\u2014-+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014- -1 | t | 1 | t | t | hadoop7 | 5345 | /home/gpadmin1/gp3master/aligp-1 0 | f | 8 | f | t | hadoop8 | 30001 | /home/gpadmin1/gp3datam1/aligp0 1 | f | 9 | f | t | hadoop8 | 30002 | /home/gpadmin1/gp3datam2/aligp1 0 | t | 2 | t | t | hadoop7 | 20001 | /home/gpadmin1/gp3datap1/aligp0 1 | t | 3 | t | t | hadoop7 | 20002 | /home/gpadmin1/gp3datap2/aligp1 3 | t | 5 | t | t | hadoop8 | 20002 | /home/gpadmin1/gp3datap2/aligp3 -1 | f | 14 | f | t | hadoop8 | 5345 | /home/gpadmin1/gp3master/aligp-1 2 | t | 4 | t | t | hadoop8 | 20001 | /home/gpadmin1/gp3datap1/aligp2 2 | f | 10 | f | t | hadoop9 | 30001 | /home/gpadmin1/gp3datam1/aligp2 3 | f | 11 | f | t | hadoop9 | 30002 | /home/gpadmin1/gp3datam2/aligp3 4 | f | 12 | f | t | hadoop7 | 30001 | /home/gpadmin1/gp3datam1/aligp4 5 | f | 13 | f | t | hadoop7 | 30002 | /home/gpadmin1/gp3datam2/aligp5 4 | t | 6 | t | t | hadoop9 | 20001 | /home/gpadmin1/gp3datap1/aligp4 5 | t | 7 | t | t | hadoop9 | 20002 | /home/gpadmin1/gp3datap2/aligp5 \u2013\u6807\u4e3a\u7ea2\u8272\u7684\u90e8\u5206\u5373\u4e3a\u8981\u5220\u9664\u7684SEGMENT (14 rows) \u2013\u521b\u5efa\u4e24\u5f20\u8868t1\uff0ct2.\u5728\u540e\u9762\u7684\u64cd\u4f5c\u4e2d\u6211\u4e0d\u4f1a\u5bf9t1\u8fdb\u884c\u7279\u6b8a\u5904\u7406\uff0c\u56e0\u6b64\u7406\u8bba\u4e0a\u5220\u9664\u67d0\u4e2aSEGMENT\u4ee5\u540e\u5b83\u4e0a\u9762\u7684\u6570\u636e\u4f1a\u6709\u6240\u51cf\u5c11\u3002\u800c\u5bf9\u4e8et2\uff0c\u6211\u4f1a\u5728\u4fee\u6539\u96c6\u7fa4\u914d\u7f6e\u4ee5\u524d\u628a\u5728\u8981\u88ab\u5220\u9664\u7684\u90a3\u4e9bSEGMENT\u4e0a\u7684\u6570\u636e\u624b\u52a8\u8fc1\u79fb\u5230\u5176\u4ed6\u4fdd\u7559\u7684SEGMENT\u4e0a\u3002 testutf8=# create table t1 as select nextval(\u2019seq1\u2032) from pg_class; NOTICE: Table doesn\u2019t have \u2018DISTRIBUTED BY\u2019 clause \u2014 Using column(s) named \u2018nextval\u2019 as the Greenplum Database data distribution key for this table. HINT: The \u2018DISTRIBUTED BY\u2019 clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew. SELECT 267 testutf8=# select gp_segment_id,count(1) from t1 group by 1; gp_segment_id | count \u2014\u2014\u2014\u2014\u2014+\u2014\u2014- 1 | 43 4 | 48 2 | 42 0 | 44 3 | 41 5 | 49 (6 rows) testutf8=# create table t2 as select nextval(\u2019seq1\u2032) from pg_class; NOTICE: Table doesn\u2019t have \u2018DISTRIBUTED BY\u2019 clause \u2014 Using column(s) named \u2018nextval\u2019 as the Greenplum Database data distribution key for this table. HINT: The \u2018DISTRIBUTED BY\u2019 clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew. SELECT 268 testutf8=# select gp_segment_id,count(1) from t2 group by 1; gp_segment_id | count \u2014\u2014\u2014\u2014\u2014+\u2014\u2014- 1 | 44 2 | 43 0 | 41 4 | 49 3 | 42 5 | 49 (6 rows) \u4e0b\u9762\u51e0\u6b65\u6240\u505a\u7684\u5c31\u662f\u5bf9t2\u8868\u7684\u5728\u5c06\u88ab\u5220\u9664\u7684SEGMENT\u4e0a\u7684\u6570\u636e\u8fdb\u884c\u8fc1\u79fb","title":"Greenplum\u79fb\u9664Segment"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Greenplum%E7%A7%BB%E9%99%A4Segment/#connect-to-hadoop920001-from-hadoop9","text":"[gpadmin1@hadoop9 ~]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql -h hadoop9 -p 20001 -U r1 psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# testutf8=# select count(*) from t2; count \u2014\u2014- 49 (1 row) testutf8=# select * from t2 limit 1; \u2013\u8fd9\u91cc\u968f\u4fbf\u67e5\u51fa\u4e00\u6761\u6570\u636e\uff0c\u5728\u96c6\u7fa4\u76f8\u5e94\u7684SEGMENT\u88ab\u53bb\u9664\u4ee5\u540e\uff0c\u53ef\u4ee5\u7528\u6765\u9a8c\u8bc1\u8fd9\u6761\u6570\u636e\u662f\u5426\u8fd8\u5b58\u5728\u96c6\u7fa4\u4e2d nextval \u2014\u2014\u2014 810 (1 row) testutf8=# copy t2 to \u2018/home/gpadmin1/hadoop9_20001_t2\u2032; \u2013\u901a\u8fc7COPY\u547d\u4ee4\u628at2\u5728\u6b64SEGMENT\u4e0a\u7684\u6570\u636e\u5907\u4efd\u51fa\u6765 COPY 49","title":"connect to hadoop9:20001 from hadoop9"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Greenplum%E7%A7%BB%E9%99%A4Segment/#connect-to-hadoop920002-from-hadoop7","text":"[gpadmin1@hadoop7 ~]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql -h hadoop9 -p 20002 -U r1 psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# select count(*) from t2; count \u2014\u2014- 49 (1 row) testutf8=# select * from t2 limit 1; nextval \u2014\u2014\u2014 811 (1 row) testutf8=# copy t2 to \u2018/home/gpadmin1/hadoop9_20002_t2\u2032; COPY 49 [gpadmin1@hadoop9 ~]$ ls 1.sh conf gp3datam1 gp3datap1 gp3master gp4datam2 gp4datap2 hadoop9_20001_t2 hy pgback t3 cleangp.sh cpgp_cfg.sh gp3datam2 gp3datap2 gp4datam1 gp4datap1 gpAdminLogs hadoop9_20002_t2 joe.wangh software tools [gpadmin1@hadoop9 ~]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql -h hadoop7 -p 20001 -U r1 psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# copy t2 from \u2018/home/gpadmin1/hadoop9_20001_t2\u2032; ERROR: could not open file \u201c/home/gpadmin1/hadoop9_20001_t2\u2033 for reading: No such file or directory testutf8=# /q \u2013\u8fd9\u91cc\u56e0\u4e3a\u6211\u8fde\u63a5\u5230\u7684\u662fHADOOP7:20001\u7684SEGMENT,\u800c\u521a\u624d\u4e24\u4e2aCOPY\u51fa\u6765\u7684\u6587\u4ef6\u90fd\u5728HADOOP9\u4e0a\uff0c\u56e0\u6b64\u9700\u8981SCP\u5230HADOOP7\u4e0a\u8fdb\u884c\u5e94\u7528\u3002 [gpadmin1@hadoop9 ~]$ scp hadoop9_20001_t2 hadoop7:/home/gpadmin1/ hadoop9_20001_t2 100% 211 0.2KB/s 00:00 [gpadmin1@hadoop9 ~]$ scp hadoop9_20002_t2 hadoop7:/home/gpadmin1/ hadoop9_20002_t2 100% 212 0.2KB/s 00:00 [gpadmin1@hadoop9 ~]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql -h hadoop7 -p 20001 -U r1 psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# copy t2 from \u2018/home/gpadmin1/hadoop9_20001_t2\u2032; COPY 49 testutf8=# copy t2 from \u2018/home/gpadmin1/hadoop9_20002_t2\u2032; COPY 49 testutf8=# select count(*) from t2; count \u2014\u2014- 139 \u2013\u4ece\u524d\u9762t2\u8868\u5728\u5404\u4e2asegment\u4e0a\u5206\u5e03\u7684\u60c5\u51b5\u53ef\u4ee5\u770b\u5230\uff0c41+49+49=139\uff0c\u6b63\u597d\u662fgp_segment_id\u4e3a0\uff0c4\uff0c5\u4e4b\u548c (1 row) OK\uff0c\u4e0b\u9762\u6211\u4eec\u53ef\u4ee5\u628a\u6570\u636e\u5e93\u6b63\u5e38\u5173\u95ed\u4e86\u3002 [gpadmin1@hadoop7 pg_log]$ gpstop 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Starting gpstop with args: \u201d 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Gathering information and validating the environment\u2026 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Obtaining Greenplum Master catalog information 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Obtaining Segment details from master\u2026 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Greenplum Version: \u2018postgres (Greenplum Database) 3.3.7.0 build 1\u2032 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Master instance parameters 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Master Greenplum instance process active PID = 22683 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Database = template1 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Master Port = 5345 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Master directory = /home/gpadmin1/gp3master/aligp-1 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Shutdown mode = smart 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Shutdown Master standby host = On 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Segment instances that will be shutdown: 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-Host Datadir Port Status 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datap1/aligp0 20001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datam1/aligp0 30001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datap2/aligp1 20002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datam2/aligp1 30002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datap1/aligp2 20001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datam1/aligp2 30001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datap2/aligp3 20002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datam2/aligp3 30002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datap1/aligp4 20001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datam1/aligp4 30001 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datap2/aligp5 20002 Valid 20101127:20:52:19:gpstop:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datam2/aligp5 30002 Valid Continue with Greenplum instance shutdown Yy|Nn (default=N): y 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-There are 0 connections to the database 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing Master instance shutdown with mode=\u2019smart\u2019 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-Master host=hadoop7 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing Master instance shutdown with mode=smart 20101127:20:52:20:gpstop:hadoop7:gpadmin1-[INFO]:-Master segment instance directory=/home/gpadmin1/gp3master/aligp-1 20101127:20:52:21:gpstop:hadoop7:gpadmin1-[INFO]:-Stopping gpsyncmaster on standby host hadoop8 mode=fast 20101127:20:52:22:gpstop:hadoop7:gpadmin1-[INFO]:-Successfully shutdown sync process on hadoop8 20101127:20:52:22:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing parallel segment instance shutdown, please wait\u2026 \u2026.. 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014- 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Parallel process exit status 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014- 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Total processes marked as completed = 12 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Total processes marked as failed = 0 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014- 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Total instances marked invalid and bypassed = 0 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Successfully shutdown 12 of 12 segment instances 20101127:20:52:27:gpstop:hadoop7:gpadmin1-[INFO]:-Database successfully shutdown with no errors reported \u7136\u540e\u4f7f\u7528-m\u53c2\u6570\u6253\u5f00\u6570\u636e\u5e93\uff0c\u66f4\u6539\u6570\u636e\u5b57\u5178\u8868\u4fe1\u606f\u3002\u4e3b\u8981\u66f4\u6539gp_configuration\u548cgp_id\u4e24\u4e2a\u6570\u636e\u5b57\u5178\u3002\u4e00\u5f00\u59cb\u6211\u53ea\u66f4\u6539\u4e86gp_configuration\u91cc\u7684\u4fe1\u606f\uff0c\u540e\u6765\u5728\u542f\u52a8\u7684\u65f6\u5019\u62a5\u9519\uff0c\u518d\u628agp_id\u91cc\u9762\u4fe1\u606f\u66f4\u6539\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002 [gpadmin1@hadoop7 pg_log]$ gpstart -m 20101127:20:53:04:gpstart:hadoop7:gpadmin1-[INFO]:-Starting gpstart with args: \u2018-m\u2019 20101127:20:53:04:gpstart:hadoop7:gpadmin1-[INFO]:-Gathering information and validating the environment\u2026 20101127:20:53:04:gpstart:hadoop7:gpadmin1-[INFO]:-local Greenplum Version: \u2018postgres (Greenplum Database) 3.3.7.0 build 1\u2032 20101127:20:53:04:gpstart:hadoop7:gpadmin1-[INFO]:-Starting Master instance in admin mode 20101127:20:53:05:gpstart:hadoop7:gpadmin1-[INFO]:-Obtaining Greenplum Master catalog information 20101127:20:53:05:gpstart:hadoop7:gpadmin1-[INFO]:-Obtaining Segment details from master\u2026 20101127:20:53:05:gpstart:hadoop7:gpadmin1-[INFO]:-Master Started\u2026 [gpadmin1@hadoop7 pg_log]$ PGOPTIONS=\u201d-c gp_session_role=utility\u201d psql psql (8.2.13) Type \u201chelp\u201d for help. testutf8=# delete from gp_configuration where content=5; DELETE 2 testutf8=# delete from gp_configuration where content=4; DELETE 2 testutf8=# select * from gp_id; gpname | numsegments | dbid | content \u2014\u2014\u2013+\u2014\u2014\u2014\u2014-+\u2014\u2014+\u2014\u2014\u2014 GP | 6 | 1 | -1 (1 row) testutf8=# update gp_id set numsegments=4; UPDATE 1 testutf8=# /q [gpadmin1@hadoop7 pg_log]$ gpstop -m 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Starting gpstop with args: \u2018-m\u2019 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Gathering information and validating the environment\u2026 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Obtaining Greenplum Master catalog information 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Obtaining Segment details from master\u2026 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Greenplum Version: \u2018postgres (Greenplum Database) 3.3.7.0 build 1\u2032 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-There are 0 connections to the database 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing Master instance shutdown with mode=\u2019smart\u2019 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Master host=hadoop7 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Commencing Master instance shutdown with mode=smart 20101127:20:53:46:gpstop:hadoop7:gpadmin1-[INFO]:-Master segment instance directory=/home/gpadmin1/gp3master/aligp-1 \u5173\u952e\u65f6\u523b\uff0c\u4ee5\u6b63\u5e38\u6a21\u5f0f\u542f\u52a8\u6570\u636e\u5e93\u8bd5\u8bd5\uff0c\u80dc\u8d1f\u5728\u6b64\u4e00\u4e3e\u3002 [gpadmin1@hadoop7 pg_log]$ gpstart 20101127:20:54:05:gpstart:hadoop7:gpadmin1-[INFO]:-Starting gpstart with args: \u201d 20101127:20:54:05:gpstart:hadoop7:gpadmin1-[INFO]:-Gathering information and validating the environment\u2026 20101127:20:54:05:gpstart:hadoop7:gpadmin1-[INFO]:-local Greenplum Version: \u2018postgres (Greenplum Database) 3.3.7.0 build 1\u2032 20101127:20:54:05:gpstart:hadoop7:gpadmin1-[INFO]:-Starting Master instance in admin mode 20101127:20:54:06:gpstart:hadoop7:gpadmin1-[INFO]:-Obtaining Greenplum Master catalog information 20101127:20:54:06:gpstart:hadoop7:gpadmin1-[INFO]:-Obtaining Segment details from master\u2026 20101127:20:54:06:gpstart:hadoop7:gpadmin1-[INFO]:-Master Started\u2026 20101127:20:54:06:gpstart:hadoop7:gpadmin1-[INFO]:-Shutting down master 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Master instance parameters 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Database = template1 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Master Port = 5345 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Master directory = /home/gpadmin1/gp3master/aligp-1 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Master standby start = On 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Segment instances that will be started 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-Host Datadir Port Status 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datap1/aligp0 20001 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datam1/aligp0 30001 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop7 /home/gpadmin1/gp3datap2/aligp1 20002 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datam2/aligp1 30002 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datap1/aligp2 20001 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datam1/aligp2 30001 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop8 /home/gpadmin1/gp3datap2/aligp3 20002 Valid 20101127:20:54:07:gpstart:hadoop7:gpadmin1-[INFO]:-hadoop9 /home/gpadmin1/gp3datam2/aligp3 30002 Valid Continue with Greenplum instance startup Yy|Nn (default=N): y 20101127:20:54:09:gp.py:hadoop7:gpadmin1-[INFO]:-Starting standby master 20101127:20:54:09:gp.py:hadoop7:gpadmin1-[INFO]:-Checking if standby master is running on host: hadoop8 in directory: /home/gpadmin1/gp3master/aligp-1 20101127:20:54:09:gp.py:hadoop7:gpadmin1-[INFO]:-No db instance process, entering recovery startup mode 20101127:20:54:09:gpstart:hadoop7:gpadmin1-[INFO]:-Commencing parallel segment instance startup, please wait\u2026 \u2026.. 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Process results\u2026 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2013 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Total processes marked as completed = 8 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Total processes marked as failed = 0 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2013 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Total instances marked invalid and bypassed = 0 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Successfully started 8 of 8 segment instances 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2013 20101127:20:54:14:gpstart:hadoop7:gpadmin1-[INFO]:-Starting Master instance hadoop7 directory /home/gpadmin1/gp3master/aligp-1 20101127:20:54:15:gpstart:hadoop7:gpadmin1-[INFO]:-Command pg_ctl reports Master hadoop7 instance active NOTICE: Master mirroring synchronizing 20101127:20:54:16:gpstart:hadoop7:gpadmin1-[INFO]:-Database successfully started with no errors reported \u6b63\u5e38\u542f\u52a8\u4e86\uff0c\u73b0\u5728\u8fde\u63a5\u4e0a\u53bb\u770b\u770b\u521a\u624dt1\u548ct2\u8868\u7684\u60c5\u51b5\u5982\u4f55\u3002 [gpadmin1@hadoop7 pg_log]$ psql psql (8.2.13) Type \u201chelp\u201d for help. \u2013\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\uff0ct1\u8868\u57280\uff0c1\uff0c2\uff0c3\u8fd94\u4e2aSEGMENT\u4e0a\u7684\u6570\u636e\u91cf\u6ca1\u53d8\u5316\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u88ab\u5220\u9664\u7684\u4e24\u4e2aSEGMENT\u4e0a\u7684\u6570\u636e\u4e22\u5931\u4e86\u3002 testutf8=# select gp_segment_id,count(1) from t1 group by 1; gp_segment_id | count \u2014\u2014\u2014\u2014\u2014+\u2014\u2014- 0 | 44 1 | 43 2 | 42 3 | 41 (4 rows) \u2013\u57280\u53f7SEGMENT\u4e0a\u6570\u636e\u91cf\u662f139\uff0c\u4e5f\u5c31\u662f\u524d\u9762\u6211\u4eec\u6240\u8bf4\u768441+49+49\u3002 testutf8=# select gp_segment_id,count(1) from t2 group by 1; gp_segment_id | count \u2014\u2014\u2014\u2014\u2014+\u2014\u2014- 3 | 42 0 | 139 1 | 44 2 | 43 (4 rows) \u4e0b\u9762\u518d\u67e5\u8be2\u4e00\u4e0b\u521a\u624d\u63d0\u53d6\u7684t2\u8868\u5728\u88ab\u5220\u9664SEGMENT\u4e0a\u7684\u4e24\u4e2a\u6570\u503c\uff0c\u770b\u770b\u5b83\u4eec\u662f\u5426\u4f9d\u7136\u53ef\u4ee5\u6b63\u5e38\u88ab\u67e5\u8be2\u5230\u3002 testutf8=# /d t2 Table \u201cpublic.t2\u2033 Column | Type | Modifiers \u2014\u2014\u2014+\u2014\u2014\u2013+\u2014\u2014\u2014\u2013 nextval | bigint | Distributed by: (nextval) \u2013t2\u8868\u4e0a\u6b63\u5e38 testutf8=# select * from t2 where nextval=810; nextval \u2014\u2014\u2014 810 (1 row) testutf8=# select * from t2 where nextval=811; nextval \u2014\u2014\u2014 811 (1 row) \u2013t1\u8868\u4e0a\u5df2\u7ecf\u67e5\u4e0d\u5230\u4e86 testutf8=# select * from t1 where nextval=811; nextval \u2014\u2014\u2014 (0 rows) testutf8=# select * from t1 where nextval=810; nextval \u2014\u2014\u2014 (0 rows) \u5f53\u7136\uff0c\u8fd9\u79cd\u4eceGREENPLUM\u96c6\u7fa4\u4e2d\u53bb\u9664SEGMENT\u7684\u65b9\u6cd5\u4e0d\u4e00\u5b9a\u662f\u5b8c\u5168\u6b63\u786e\u7684\uff0c\u7eaf\u5c5e\u4e2a\u4ebaYY\u4e00\u4e0b\u7136\u540e\u8bd5\u4e86\u8bd5\u800c\u5df2\u3002 \u4e5f\u8bb8\u5185\u90e8\u8fd8\u662f\u4e00\u4e9b\u7ec6\u8282\u662f\u6211\u6ca1\u6709\u8003\u8651\u5230\u7684\uff0c\u521a\u624d\u6211\u5728\u8fd9\u4e2a\u53bb\u9664\u4e86SEGMENT\u7684\u96c6\u7fa4\u4e2d\u505a\u4e86\u4e00\u4e9b\u529f\u80fd\u6d4b\u8bd5\uff0c\u7ed3\u679c\u8fd8\u90fd\u662f\u633a\u6b63\u5e38\u7684\uff0c\u4f46\u662f\u4fdd\u4e0d\u51c6\u54ea\u4e00\u5929\u4ed6\u4f1a\u51fa\u95ee\u9898\u3002 \u8865\u5145\u4e24\u70b9 1\u3001\u5728\u4ecegp_configuration\u91cc\u9762\u5220\u9664\u76f8\u5173\u4fe1\u606f\u4ee5\u540e\uff0c\u8981\u4fdd\u8bc1\u5269\u4f59\u7684SEGMENT\u7684CONTENT\u5217\u548cDBID\u5217\u662f\u8fde\u7eed\u7684\u3002\u4e0d\u7136\u5728\u63a5\u4e0b \u6765gpstop -m\u7684\u65f6\u5019\u4f1a\u62a5\u9519index out of list 2\u3001\u66f4\u6539\u5b8cMASTER\u4e0a\u7684gp_id\u4ee5\u540e\uff0c\u8fd8\u8981\u8fde\u63a5\u5230\u5404\u4e2aSEGMENT\u4e0a\u66f4\u6539gp_id\u3002\u5982\u679c\u4f60\u5728\u524d\u9762\u7684\u64cd\u4f5c\u4e2d\u66f4\u6539\u4e86DBID\u548cCONTENT \u7684\u8bdd\uff0c\u90a3\u4e48\u5728\u66f4\u6539gp_id\u7684\u65f6\u5019\u4e5f\u9700\u8981\u505a\u76f8\u5e94\u7684\u66f4\u6539\u3002","title":"connect to hadoop9:20002 from hadoop7"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/","text":"\u60ef\u4f8b \u4e3a\u4e86\u4fdd\u8bc1\u9ad8\u53ef\u7528\u6027\u9700\u8981\u8bbe\u7f6e\u4e0d\u5c11\u4e8e2\u7684\u590d\u5236\u56e0\u5b50\uff0c\u5efa\u8bae3\uff08\u8282\u70b9\u6570\u4e0d\u80fd\u5c11\u4e8e\u590d\u5236\u56e0\u5b50\u6570\uff09\u3002 \u4e3a\u4e86\u4fdd\u8bc1\u78c1\u76d8\u7a7a\u95f4\u7684\u53ef\u7528\u6027\uff0c\u9700\u8981\u8bbe\u7f6e\u6570\u636e\u4fdd\u7559\u65f6\u95f4\u548c\u6570\u636e\u6700\u5927\u4fdd\u7559\u4f53\u79ef\uff08\u81f3\u5c11\u5e94\u8be5\u8bbe\u7f6e\u6700\u5927\u4fdd\u7559\u4f53\u79ef\uff09\u3002 \u4e3a\u4e86\u786e\u4fdd\u53ef\u63a5\u6536\u5927\u4f53\u79ef\u6d88\u606f\uff0c\u9700\u8981\u63d0\u524d\u9884\u4f30\u5e76\u89c4\u5212\u597d\u6700\u5927\u7684\u5355\u6761\u6d88\u606f\u7684\u4f53\u79ef\u5e76\u5728\u96c6\u7fa4\u8282\u70b9\u914d\u7f6e\u4e2d\u8fdb\u884c\u7533\u660e\uff0c\u907f\u514d\u8d85\u8fc7\u9650\u5236\u5927\u5c0f\u65e0\u6cd5\u63a5\u6536\u3002 \u5e38\u7528\u547d\u4ee4 \u8bbe\u7f6e\u6d88\u8d39\u5750\u6807 #\u66f4\u65b0\u5230\u5f53\u524dgroup\u6700\u521d\u7684offset\u4f4d\u7f6e ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-earliest --execute #\u66f4\u65b0\u5230\u6307\u5b9a\u7684offset\u4f4d\u7f6e ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-offset 500000 --execute #\u66f4\u65b0\u5230\u5f53\u524doffset\u4f4d\u7f6e\uff08\u89e3\u51b3offset\u7684\u5f02\u5e38\uff09 ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-current --execute #offset\u4f4d\u7f6e\u6309\u8bbe\u7f6e\u7684\u503c\u8fdb\u884c\u4f4d\u79fb ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --shift-by -100000 --execute #offset\u8bbe\u7f6e\u5230\u6307\u5b9a\u65f6\u523b\u5f00\u59cb ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-datetime 2017-08-04T14:30:00.000 --execute \u6d4b\u8bd5\u8bfb\u5199\u6027\u80fd #\u914d\u7f6e num.network.threads=3 num.io.threads=8 log.flush.interval.messages=10000 log.flush.interval.ms=1000 #\u6d4b\u8bd5\u53d1\u9001\u6027\u80fd --topic topic\u540d\u79f0\uff0c\u672c\u4f8b\u4e3atest_perf --num-records \u603b\u5171\u9700\u8981\u53d1\u9001\u7684\u6d88\u606f\u6570\uff0c\u672c\u4f8b\u4e3a100000 --record-size \u6bcf\u4e2a\u8bb0\u5f55\u7684\u5b57\u8282\u6570\uff0c\u672c\u4f8b\u4e3a1000 --throughput \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u8bb0\u5f55\u6570\uff0c\u672c\u4f8b\u4e3a5000 --producer-props bootstrap.servers=localhost:9092 \uff08\u53d1\u9001\u7aef\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u6d4b\u8bd5\u53d6\u96c6\u7fa4\u670d\u52a1\u5668\u4e2d\u7684\u4e00\u53f0\u4f5c\u4e3a\u53d1\u9001\u7aef,\u53ef\u5728kafka\u7684config\u76ee\u5f55\uff0c\u4ee5\u8be5\u9879\u76ee\u4e3a\u4f8b\uff1a/usr/local/kafka/config\uff1b\u67e5\u770bserver.properties\u4e2d\u914d\u7f6e\u7684zookeeper.connect\u7684\u503c\uff0c\u9ed8\u8ba4\u7aef\u53e3\uff1a9092\uff09 ./bin/kafka-producer-perf-test.sh --topic test --num-records 100000 --record-size 1048577 --throughput 5000 --producer-props bootstrap.servers=localhost:9092 max.request.size=10486650 #\u6d4b\u8bd5\u63a5\u6536\u6027\u80fd --zookeeper \u6307\u5b9azookeeper\u7684\u94fe\u63a5\u4fe1\u606f\uff0c\u672c\u4f8b\u4e3alocalhost:2181 \uff1b --topic \u6307\u5b9atopic\u7684\u540d\u79f0\uff0c\u672c\u4f8b\u4e3atest_perf\uff0c\u53734.2.1\u4e2d\u5199\u5165\u7684\u6d88\u606f\uff1b --fetch-size \u6307\u5b9a\u6bcf\u6b21fetch\u7684\u6570\u636e\u7684\u5927\u5c0f\uff0c\u672c\u4f8b\u4e3a1048576\uff0c\u4e5f\u5c31\u662f1M --messages \u603b\u5171\u8981\u6d88\u8d39\u7684\u6d88\u606f\u4e2a\u6570\uff0c\u672c\u4f8b\u4e3a1000000\uff0c100w kafka-consumer-perf-test.sh --zookeeper localhost:2181 --topic test --fetch-size 1048576 --messages 100000 \u5927\u5bb6\u5728\u538b\u6d4b\u7684\u65f6\u5019\u80af\u5b9a\u4e0d\u4f1a\u8ba9\u538b\u6d4b\u811a\u672c\u548ckafka\u670d\u52a1\u5668\u8dd1\u5728\u540c\u4e00\u53f0\u7535\u8111\u4e0a\uff0c\u6bd4\u8f83\u538b\u6d4b\u811a\u672c\u4e5f\u8981\u5360\u7528\u5f88\u591a\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u5f71\u54cd\u538b\u6d4b\u51c6\u786e\u6027 \u5e38\u7528\u914d\u7f6e #\u8bbe\u7f6e\u590d\u5236\u56e0\u5b50\u4e3a3\u542f\u7528\u9ad8\u53ef\u7528\u673a\u5236 default.replication.factor=3 #\u6570\u636e\u4fdd\u7559\u65f6\u95f4 log.retention.hours=10 #\u6570\u636e\u4fdd\u7559\u4f53\u79ef(\u72ec\u7acb\u4e8e\u65f6\u95f4\u7b56\u7565)100G log.retention.bytes=107374182400 #\u5355\u4e2a\u6570\u636e\u6587\u4ef6\u6700\u5927\u4f53\u79ef1G log.segment.bytes=1073741824 #\u6700\u5c11\u4fdd\u8bc1\u590d\u5236\u51e0\u4e2a\u526f\u672c\uff08\u5c0f\u4e8e\u6216\u7b49\u4e8e\u590d\u5236\u56e0\u5b50\u6570\uff09 min.insync.replicas=2 #\u5355\u6761\u6d88\u606f\u6700\u5927\u4f53\u79ef10MB message.max.bytes=10485760 #\u6700\u5927\u961f\u5217\u8bf7\u6c42\u6570 queued.max.requests=1024 \u52a8\u6001\u8bbe\u7f6etopic\u7684\u590d\u5236\u56e0\u5b50 \u547d\u4ee4\u884c\u65b9\u5f0f #\u67e5\u770btopic list bin/kafka-topics.sh --zookeeper zkaddr:2181 --list #\u67e5\u770btopic detail bin/kafka-topics.sh --describe --zookeeper zkaddr:2181 --topic test #\u8f93\u51fa\u793a\u4f8b Topic:test PartitionCount:3 ReplicationFactor:1 Configs: Topic: test Partition: 0 Leader: 1 Replicas: 1 Isr: 1 Topic: test Partition: 1 Leader: 2 Replicas: 2 Isr: 2 Topic: test Partition: 2 Leader: 3 Replicas: 3 Isr: 3 #\u6269\u5bb9\u65f6\u5019\u9700\u8981\u4e00\u4e2ajson\u63cf\u8ff0\u6587\u4ef6\uff0c\u5efa\u8bae\u7528\u811a\u672c\u5199\u4e00\u4e2a\uff0c\u4e3e\u4f8b\u5982\u4e0b\uff08\u548c\u4e0a\u8ff0\u8f93\u51fa\u6709\u5173\u8054\u5173\u7cfb\uff09 #test.json { \"version\": 1, \"partitions\": [ { \"topic\": \"test\", \"partition\": 0, \"replicas\": [ 1, 2, 3 ] }, { \"topic\": \"test\", \"partition\": 1, \"replicas\": [ 1, 2, 3 ] }, { \"topic\": \"test\", \"partition\": 2, \"replicas\": [ 1, 2, 3 ] } ] } #\u6b63\u5f0f\u6267\u884c bin/kafka-reassign-partitions.sh --zookeeper zkaddr:2181 --reassignment-json-file test.json --execute #\u51fa\u73b0successfully\u4e3a\u6210\u529f\uff0c\u6b64\u65f6\u53ef\u4ee5\u518d\u901a\u8fc7`bin/kafka-topics.sh --describe --zookeeper zkaddr:2181 --topic test`\u67e5\u770b\u8be6\u60c5 \u4f7f\u7528kafkamgr\u6765\u52a8\u6001\u8c03\u6574\u5df2\u6709\u4e3b\u9898\u590d\u5236\u56e0\u5b50 \u4f9d\u6b21\u8fdb\u5165-clusters-\u4f60\u7684\u96c6\u7fa4-topics-\u4f60\u7684\u4e3b\u9898\uff0c\u70b9\u51fbGenerate Partition Assignments \u6309\u94ae\u3002 \u5728\u65b0\u9875\u9762\u4e2d\u7684Replication factor (optional)\u9879\u8f93\u5165\u4f60\u60f3\u8981\u7684\u590d\u5236\u56e0\u5b50\u8bbe\u7f6e\uff08\u5efa\u8bae\u81f3\u5c113\uff09\u3002 \u70b9\u51fbGenerate Partition Assignments \u6309\u94ae\u786e\u8ba4\u3002 \u70b9\u51fb Reassign Partitions \u6309\u94ae\uff0c\u6b64\u65f6\u4f1a\u6709\u4e2a\u8b66\u544a\uff0c\u70b9\u51fbTry force running\u8fde\u63a5\u5141\u8bb8\u540e\u4f1a\u56de\u5230\u5f53\u524d\u9875\u9762\uff0c\u70b9\u51fb\u65b0\u51fa\u73b0\u7684 Force Reassign Partitions\u5373\u53ef\u3002 \u70b9\u51fbUpdate config \u5728min.insync.replicas\u4e2d\u8bbe\u7f6e\u4e3a2\u70b9\u51fbupdate config\u786e\u8ba4 \u6574\u4e2a\u96c6\u7fa4\u540c\u65f6\u53ea\u80fd\u5b58\u5728\u4e00\u4e2areplication\u590d\u5236\u4efb\u52a1\uff0c\u5982\u679c\u8981\u8c03\u6574\u7684\u4e3b\u4f53\u8f83\u591a\u9700\u8981\u4f9d\u6b21\u8c03\u6574\u3002","title":"Kafka\u76f8\u5173"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/#_1","text":"\u4e3a\u4e86\u4fdd\u8bc1\u9ad8\u53ef\u7528\u6027\u9700\u8981\u8bbe\u7f6e\u4e0d\u5c11\u4e8e2\u7684\u590d\u5236\u56e0\u5b50\uff0c\u5efa\u8bae3\uff08\u8282\u70b9\u6570\u4e0d\u80fd\u5c11\u4e8e\u590d\u5236\u56e0\u5b50\u6570\uff09\u3002 \u4e3a\u4e86\u4fdd\u8bc1\u78c1\u76d8\u7a7a\u95f4\u7684\u53ef\u7528\u6027\uff0c\u9700\u8981\u8bbe\u7f6e\u6570\u636e\u4fdd\u7559\u65f6\u95f4\u548c\u6570\u636e\u6700\u5927\u4fdd\u7559\u4f53\u79ef\uff08\u81f3\u5c11\u5e94\u8be5\u8bbe\u7f6e\u6700\u5927\u4fdd\u7559\u4f53\u79ef\uff09\u3002 \u4e3a\u4e86\u786e\u4fdd\u53ef\u63a5\u6536\u5927\u4f53\u79ef\u6d88\u606f\uff0c\u9700\u8981\u63d0\u524d\u9884\u4f30\u5e76\u89c4\u5212\u597d\u6700\u5927\u7684\u5355\u6761\u6d88\u606f\u7684\u4f53\u79ef\u5e76\u5728\u96c6\u7fa4\u8282\u70b9\u914d\u7f6e\u4e2d\u8fdb\u884c\u7533\u660e\uff0c\u907f\u514d\u8d85\u8fc7\u9650\u5236\u5927\u5c0f\u65e0\u6cd5\u63a5\u6536\u3002","title":"\u60ef\u4f8b"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/#_2","text":"","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/#_3","text":"#\u66f4\u65b0\u5230\u5f53\u524dgroup\u6700\u521d\u7684offset\u4f4d\u7f6e ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-earliest --execute #\u66f4\u65b0\u5230\u6307\u5b9a\u7684offset\u4f4d\u7f6e ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-offset 500000 --execute #\u66f4\u65b0\u5230\u5f53\u524doffset\u4f4d\u7f6e\uff08\u89e3\u51b3offset\u7684\u5f02\u5e38\uff09 ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-current --execute #offset\u4f4d\u7f6e\u6309\u8bbe\u7f6e\u7684\u503c\u8fdb\u884c\u4f4d\u79fb ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --shift-by -100000 --execute #offset\u8bbe\u7f6e\u5230\u6307\u5b9a\u65f6\u523b\u5f00\u59cb ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-datetime 2017-08-04T14:30:00.000 --execute","title":"\u8bbe\u7f6e\u6d88\u8d39\u5750\u6807"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/#_4","text":"#\u914d\u7f6e num.network.threads=3 num.io.threads=8 log.flush.interval.messages=10000 log.flush.interval.ms=1000 #\u6d4b\u8bd5\u53d1\u9001\u6027\u80fd --topic topic\u540d\u79f0\uff0c\u672c\u4f8b\u4e3atest_perf --num-records \u603b\u5171\u9700\u8981\u53d1\u9001\u7684\u6d88\u606f\u6570\uff0c\u672c\u4f8b\u4e3a100000 --record-size \u6bcf\u4e2a\u8bb0\u5f55\u7684\u5b57\u8282\u6570\uff0c\u672c\u4f8b\u4e3a1000 --throughput \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u8bb0\u5f55\u6570\uff0c\u672c\u4f8b\u4e3a5000 --producer-props bootstrap.servers=localhost:9092 \uff08\u53d1\u9001\u7aef\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u6d4b\u8bd5\u53d6\u96c6\u7fa4\u670d\u52a1\u5668\u4e2d\u7684\u4e00\u53f0\u4f5c\u4e3a\u53d1\u9001\u7aef,\u53ef\u5728kafka\u7684config\u76ee\u5f55\uff0c\u4ee5\u8be5\u9879\u76ee\u4e3a\u4f8b\uff1a/usr/local/kafka/config\uff1b\u67e5\u770bserver.properties\u4e2d\u914d\u7f6e\u7684zookeeper.connect\u7684\u503c\uff0c\u9ed8\u8ba4\u7aef\u53e3\uff1a9092\uff09 ./bin/kafka-producer-perf-test.sh --topic test --num-records 100000 --record-size 1048577 --throughput 5000 --producer-props bootstrap.servers=localhost:9092 max.request.size=10486650 #\u6d4b\u8bd5\u63a5\u6536\u6027\u80fd --zookeeper \u6307\u5b9azookeeper\u7684\u94fe\u63a5\u4fe1\u606f\uff0c\u672c\u4f8b\u4e3alocalhost:2181 \uff1b --topic \u6307\u5b9atopic\u7684\u540d\u79f0\uff0c\u672c\u4f8b\u4e3atest_perf\uff0c\u53734.2.1\u4e2d\u5199\u5165\u7684\u6d88\u606f\uff1b --fetch-size \u6307\u5b9a\u6bcf\u6b21fetch\u7684\u6570\u636e\u7684\u5927\u5c0f\uff0c\u672c\u4f8b\u4e3a1048576\uff0c\u4e5f\u5c31\u662f1M --messages \u603b\u5171\u8981\u6d88\u8d39\u7684\u6d88\u606f\u4e2a\u6570\uff0c\u672c\u4f8b\u4e3a1000000\uff0c100w kafka-consumer-perf-test.sh --zookeeper localhost:2181 --topic test --fetch-size 1048576 --messages 100000 \u5927\u5bb6\u5728\u538b\u6d4b\u7684\u65f6\u5019\u80af\u5b9a\u4e0d\u4f1a\u8ba9\u538b\u6d4b\u811a\u672c\u548ckafka\u670d\u52a1\u5668\u8dd1\u5728\u540c\u4e00\u53f0\u7535\u8111\u4e0a\uff0c\u6bd4\u8f83\u538b\u6d4b\u811a\u672c\u4e5f\u8981\u5360\u7528\u5f88\u591a\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u5f71\u54cd\u538b\u6d4b\u51c6\u786e\u6027","title":"\u6d4b\u8bd5\u8bfb\u5199\u6027\u80fd"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/#_5","text":"#\u8bbe\u7f6e\u590d\u5236\u56e0\u5b50\u4e3a3\u542f\u7528\u9ad8\u53ef\u7528\u673a\u5236 default.replication.factor=3 #\u6570\u636e\u4fdd\u7559\u65f6\u95f4 log.retention.hours=10 #\u6570\u636e\u4fdd\u7559\u4f53\u79ef(\u72ec\u7acb\u4e8e\u65f6\u95f4\u7b56\u7565)100G log.retention.bytes=107374182400 #\u5355\u4e2a\u6570\u636e\u6587\u4ef6\u6700\u5927\u4f53\u79ef1G log.segment.bytes=1073741824 #\u6700\u5c11\u4fdd\u8bc1\u590d\u5236\u51e0\u4e2a\u526f\u672c\uff08\u5c0f\u4e8e\u6216\u7b49\u4e8e\u590d\u5236\u56e0\u5b50\u6570\uff09 min.insync.replicas=2 #\u5355\u6761\u6d88\u606f\u6700\u5927\u4f53\u79ef10MB message.max.bytes=10485760 #\u6700\u5927\u961f\u5217\u8bf7\u6c42\u6570 queued.max.requests=1024","title":"\u5e38\u7528\u914d\u7f6e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/#topic","text":"","title":"\u52a8\u6001\u8bbe\u7f6etopic\u7684\u590d\u5236\u56e0\u5b50"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/#_6","text":"#\u67e5\u770btopic list bin/kafka-topics.sh --zookeeper zkaddr:2181 --list #\u67e5\u770btopic detail bin/kafka-topics.sh --describe --zookeeper zkaddr:2181 --topic test #\u8f93\u51fa\u793a\u4f8b Topic:test PartitionCount:3 ReplicationFactor:1 Configs: Topic: test Partition: 0 Leader: 1 Replicas: 1 Isr: 1 Topic: test Partition: 1 Leader: 2 Replicas: 2 Isr: 2 Topic: test Partition: 2 Leader: 3 Replicas: 3 Isr: 3 #\u6269\u5bb9\u65f6\u5019\u9700\u8981\u4e00\u4e2ajson\u63cf\u8ff0\u6587\u4ef6\uff0c\u5efa\u8bae\u7528\u811a\u672c\u5199\u4e00\u4e2a\uff0c\u4e3e\u4f8b\u5982\u4e0b\uff08\u548c\u4e0a\u8ff0\u8f93\u51fa\u6709\u5173\u8054\u5173\u7cfb\uff09 #test.json { \"version\": 1, \"partitions\": [ { \"topic\": \"test\", \"partition\": 0, \"replicas\": [ 1, 2, 3 ] }, { \"topic\": \"test\", \"partition\": 1, \"replicas\": [ 1, 2, 3 ] }, { \"topic\": \"test\", \"partition\": 2, \"replicas\": [ 1, 2, 3 ] } ] } #\u6b63\u5f0f\u6267\u884c bin/kafka-reassign-partitions.sh --zookeeper zkaddr:2181 --reassignment-json-file test.json --execute #\u51fa\u73b0successfully\u4e3a\u6210\u529f\uff0c\u6b64\u65f6\u53ef\u4ee5\u518d\u901a\u8fc7`bin/kafka-topics.sh --describe --zookeeper zkaddr:2181 --topic test`\u67e5\u770b\u8be6\u60c5","title":"\u547d\u4ee4\u884c\u65b9\u5f0f"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%9B%B8%E5%85%B3/#kafkamgr","text":"\u4f9d\u6b21\u8fdb\u5165-clusters-\u4f60\u7684\u96c6\u7fa4-topics-\u4f60\u7684\u4e3b\u9898\uff0c\u70b9\u51fbGenerate Partition Assignments \u6309\u94ae\u3002 \u5728\u65b0\u9875\u9762\u4e2d\u7684Replication factor (optional)\u9879\u8f93\u5165\u4f60\u60f3\u8981\u7684\u590d\u5236\u56e0\u5b50\u8bbe\u7f6e\uff08\u5efa\u8bae\u81f3\u5c113\uff09\u3002 \u70b9\u51fbGenerate Partition Assignments \u6309\u94ae\u786e\u8ba4\u3002 \u70b9\u51fb Reassign Partitions \u6309\u94ae\uff0c\u6b64\u65f6\u4f1a\u6709\u4e2a\u8b66\u544a\uff0c\u70b9\u51fbTry force running\u8fde\u63a5\u5141\u8bb8\u540e\u4f1a\u56de\u5230\u5f53\u524d\u9875\u9762\uff0c\u70b9\u51fb\u65b0\u51fa\u73b0\u7684 Force Reassign Partitions\u5373\u53ef\u3002 \u70b9\u51fbUpdate config \u5728min.insync.replicas\u4e2d\u8bbe\u7f6e\u4e3a2\u70b9\u51fbupdate config\u786e\u8ba4 \u6574\u4e2a\u96c6\u7fa4\u540c\u65f6\u53ea\u80fd\u5b58\u5728\u4e00\u4e2areplication\u590d\u5236\u4efb\u52a1\uff0c\u5982\u679c\u8981\u8c03\u6574\u7684\u4e3b\u4f53\u8f83\u591a\u9700\u8981\u4f9d\u6b21\u8c03\u6574\u3002","title":"\u4f7f\u7528kafkamgr\u6765\u52a8\u6001\u8c03\u6574\u5df2\u6709\u4e3b\u9898\u590d\u5236\u56e0\u5b50"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98%E6%B5%8B%E8%AF%95/","text":"kafka\u8c03\u4f18 \u51c6\u5907\u5de5\u4f5c\uff0c\u521b\u5efatesttopic\u4e3b\u9898\u8bbe\u7f6e\u590d\u5236\u4efd\u6570\u4e3a1 \u5206\u533a\u6570\u4e3a\u8282\u70b9\u6570x2 delete.retention.ms=360000 2022-2-22 11:35:04 DATA_IN: (100% coverage, -975 lag) PIC_IN1: (100% coverage, 42926 lag) PIC_IN2: (100% coverage, -181 lag) PIC_IN3: (100% coverage, -32 lag) spw\u8c03\u6574\u524d vm.dirty_background_bytes = 0 vm.dirty_background_ratio = 10 vm.dirty_bytes = 0 vm.dirty_expire_centisecs = 3000 vm.dirty_ratio = 20 vm.dirty_writeback_centisecs = 500 vm.dirtytime_expire_seconds = 43200 \u6d4b\u8bd5\u65b9\u6cd5\uff1a ./bin/kafka-producer-perf-test.sh --topic testtopic --print-metrics --record-size 102400 --throughput -1 --num-records 100000 --producer-props bootstrap.servers=ip1:9092,ip2:9092,ip3:9092,ip4:9092,ip5:9092 \u6d4b\u8bd5\u7ed3\u679c 29578 records sent, 5914.4 records/sec (577.58 MB/sec), 51.7 ms avg latency, 373.0 ms max latency. 35348 records sent, 7068.2 records/sec (690.25 MB/sec), 46.3 ms avg latency, 598.0 ms max latency. 34842 records sent, 6967.0 records/sec (680.37 MB/sec), 46.8 ms avg latency, 619.0 ms max latency. 100000 records sent, 6630.420369 records/sec (647.50 MB/sec), 48.31 ms avg latency, 619.00 ms max latency, 14 ms 50th, 217 ms 95th, 407 ms 99th, 559 ms 99.9th. spw\u8c03\u6574\u540e vm.dirty_background_bytes = 0 vm.dirty_background_ratio = 20 vm.dirty_bytes = 0 vm.dirty_expire_centisecs = 3000 vm.dirty_ratio = 40 vm.dirty_writeback_centisecs = 12000 vm.dirtytime_expire_seconds = 43200 vm.max_map_count=262144 \u8bbe\u7f6e\u5185\u5b58\u653e\u5230kafka\u542f\u52a8\u7528\u6237\u7684bash_profile\u4e2d\u6bd4\u5982root\u7684\u5728/root/.bash_profile export KAFKA_HEAP_OPTS=--Xms6g --Xmx6g \u7136\u540e\u7528source /root/.bash_profile\u751f\u6548\uff0c\u518d\u542f\u52a8\u8282\u70b9 \u6d4b\u8bd5\u65b9\u6cd5\uff1a ./bin/kafka-producer-perf-test.sh --topic writetest --print-metrics --record-size 102400 --throughput -1 --num-records 200000 --producer-props bootstrap.servers=ip1:9092,ip2:9092,ip3:9092,ip4:9092,ip5:9092 \u6d4b\u8bd5\u7ed3\u679c 39344 records sent, 7868.8 records/sec (768.44 MB/sec), 39.5 ms avg latency, 210.0 ms max latency. 44958 records sent, 8991.6 records/sec (878.09 MB/sec), 36.2 ms avg latency, 135.0 ms max latency. 100000 records sent, 8584.427848 records/sec (838.32 MB/sec), 37.29 ms avg latency, 210.00 ms max latency, 22 ms 50th, 134 ms 95th, 165 ms 99th, 197 ms 99.9th. 40639 records sent, 8127.8 records/sec (793.73 MB/sec), 40.0 ms avg latency, 7370.0 ms max latency. 46095 records sent, 9219.0 records/sec (900.29 MB/sec), 35.4 ms avg latency, 132.0 ms max latency. 49666 records sent, 9933.2 records/sec (970.04 MB/sec), 32.8 ms avg latency, 118.0 ms max latency. 48732 records sent, 9746.4 records/sec (951.80 MB/sec), 33.5 ms avg latency, 154.0 ms max latency. 46382 records sent, 9267.1 records/sec (904.99 MB/sec), 35.1 ms avg latency, 112.0 ms max latency. 46790 records sent, 9358.0 records/sec (913.87 MB/sec), 34.8 ms avg latency, 150.0 ms max latency. 300000 records sent, 1876.912104 records/sec (183.29 MB/sec), 35.64 ms avg latency, 60001.00 ms max latency, 20 ms 50th, 110 ms 95th, 131 ms 99th, 145 ms 99.9th.","title":"kafka\u8c03\u4f18"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98%E6%B5%8B%E8%AF%95/#kafka","text":"\u51c6\u5907\u5de5\u4f5c\uff0c\u521b\u5efatesttopic\u4e3b\u9898\u8bbe\u7f6e\u590d\u5236\u4efd\u6570\u4e3a1 \u5206\u533a\u6570\u4e3a\u8282\u70b9\u6570x2 delete.retention.ms=360000 2022-2-22 11:35:04 DATA_IN: (100% coverage, -975 lag) PIC_IN1: (100% coverage, 42926 lag) PIC_IN2: (100% coverage, -181 lag) PIC_IN3: (100% coverage, -32 lag)","title":"kafka\u8c03\u4f18"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98%E6%B5%8B%E8%AF%95/#spw","text":"vm.dirty_background_bytes = 0 vm.dirty_background_ratio = 10 vm.dirty_bytes = 0 vm.dirty_expire_centisecs = 3000 vm.dirty_ratio = 20 vm.dirty_writeback_centisecs = 500 vm.dirtytime_expire_seconds = 43200","title":"spw\u8c03\u6574\u524d"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98%E6%B5%8B%E8%AF%95/#_1","text":"./bin/kafka-producer-perf-test.sh --topic testtopic --print-metrics --record-size 102400 --throughput -1 --num-records 100000 --producer-props bootstrap.servers=ip1:9092,ip2:9092,ip3:9092,ip4:9092,ip5:9092","title":"\u6d4b\u8bd5\u65b9\u6cd5\uff1a"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98%E6%B5%8B%E8%AF%95/#_2","text":"29578 records sent, 5914.4 records/sec (577.58 MB/sec), 51.7 ms avg latency, 373.0 ms max latency. 35348 records sent, 7068.2 records/sec (690.25 MB/sec), 46.3 ms avg latency, 598.0 ms max latency. 34842 records sent, 6967.0 records/sec (680.37 MB/sec), 46.8 ms avg latency, 619.0 ms max latency. 100000 records sent, 6630.420369 records/sec (647.50 MB/sec), 48.31 ms avg latency, 619.00 ms max latency, 14 ms 50th, 217 ms 95th, 407 ms 99th, 559 ms 99.9th.","title":"\u6d4b\u8bd5\u7ed3\u679c"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98%E6%B5%8B%E8%AF%95/#spw_1","text":"vm.dirty_background_bytes = 0 vm.dirty_background_ratio = 20 vm.dirty_bytes = 0 vm.dirty_expire_centisecs = 3000 vm.dirty_ratio = 40 vm.dirty_writeback_centisecs = 12000 vm.dirtytime_expire_seconds = 43200 vm.max_map_count=262144 \u8bbe\u7f6e\u5185\u5b58\u653e\u5230kafka\u542f\u52a8\u7528\u6237\u7684bash_profile\u4e2d\u6bd4\u5982root\u7684\u5728/root/.bash_profile export KAFKA_HEAP_OPTS=--Xms6g --Xmx6g \u7136\u540e\u7528source /root/.bash_profile\u751f\u6548\uff0c\u518d\u542f\u52a8\u8282\u70b9","title":"spw\u8c03\u6574\u540e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98%E6%B5%8B%E8%AF%95/#_3","text":"./bin/kafka-producer-perf-test.sh --topic writetest --print-metrics --record-size 102400 --throughput -1 --num-records 200000 --producer-props bootstrap.servers=ip1:9092,ip2:9092,ip3:9092,ip4:9092,ip5:9092","title":"\u6d4b\u8bd5\u65b9\u6cd5\uff1a"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98%E6%B5%8B%E8%AF%95/#_4","text":"39344 records sent, 7868.8 records/sec (768.44 MB/sec), 39.5 ms avg latency, 210.0 ms max latency. 44958 records sent, 8991.6 records/sec (878.09 MB/sec), 36.2 ms avg latency, 135.0 ms max latency. 100000 records sent, 8584.427848 records/sec (838.32 MB/sec), 37.29 ms avg latency, 210.00 ms max latency, 22 ms 50th, 134 ms 95th, 165 ms 99th, 197 ms 99.9th. 40639 records sent, 8127.8 records/sec (793.73 MB/sec), 40.0 ms avg latency, 7370.0 ms max latency. 46095 records sent, 9219.0 records/sec (900.29 MB/sec), 35.4 ms avg latency, 132.0 ms max latency. 49666 records sent, 9933.2 records/sec (970.04 MB/sec), 32.8 ms avg latency, 118.0 ms max latency. 48732 records sent, 9746.4 records/sec (951.80 MB/sec), 33.5 ms avg latency, 154.0 ms max latency. 46382 records sent, 9267.1 records/sec (904.99 MB/sec), 35.1 ms avg latency, 112.0 ms max latency. 46790 records sent, 9358.0 records/sec (913.87 MB/sec), 34.8 ms avg latency, 150.0 ms max latency. 300000 records sent, 1876.912104 records/sec (183.29 MB/sec), 35.64 ms avg latency, 60001.00 ms max latency, 20 ms 50th, 110 ms 95th, 131 ms 99th, 145 ms 99.9th.","title":"\u6d4b\u8bd5\u7ed3\u679c"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/","text":"\u60ef\u4f8b \u4e3a\u4e86\u4fdd\u8bc1\u9ad8\u53ef\u7528\u6027\u9700\u8981\u8bbe\u7f6e\u4e0d\u5c11\u4e8e2\u7684\u590d\u5236\u56e0\u5b50\uff0c\u5efa\u8bae3\uff08\u8282\u70b9\u6570\u4e0d\u80fd\u5c11\u4e8e\u590d\u5236\u56e0\u5b50\u6570\uff09\u3002 \u4e3a\u4e86\u4fdd\u8bc1\u78c1\u76d8\u7a7a\u95f4\u7684\u53ef\u7528\u6027\uff0c\u9700\u8981\u8bbe\u7f6e\u6570\u636e\u4fdd\u7559\u65f6\u95f4\u548c\u6570\u636e\u6700\u5927\u4fdd\u7559\u4f53\u79ef\uff08\u81f3\u5c11\u5e94\u8be5\u8bbe\u7f6e\u6700\u5927\u4fdd\u7559\u4f53\u79ef\uff09\u3002 \u4e3a\u4e86\u786e\u4fdd\u53ef\u63a5\u6536\u5927\u4f53\u79ef\u6d88\u606f\uff0c\u9700\u8981\u63d0\u524d\u9884\u4f30\u5e76\u89c4\u5212\u597d\u6700\u5927\u7684\u5355\u6761\u6d88\u606f\u7684\u4f53\u79ef\u5e76\u5728\u96c6\u7fa4\u8282\u70b9\u914d\u7f6e\u4e2d\u8fdb\u884c\u7533\u660e\uff0c\u907f\u514d\u8d85\u8fc7\u9650\u5236\u5927\u5c0f\u65e0\u6cd5\u63a5\u6536\u3002 \u5e38\u7528\u547d\u4ee4 \u8bbe\u7f6e\u6d88\u8d39\u5750\u6807 #\u66f4\u65b0\u5230\u5f53\u524dgroup\u6700\u521d\u7684offset\u4f4d\u7f6e ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-earliest --execute #\u66f4\u65b0\u5230\u6307\u5b9a\u7684offset\u4f4d\u7f6e ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-offset 500000 --execute #\u66f4\u65b0\u5230\u5f53\u524doffset\u4f4d\u7f6e\uff08\u89e3\u51b3offset\u7684\u5f02\u5e38\uff09 ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-current --execute #offset\u4f4d\u7f6e\u6309\u8bbe\u7f6e\u7684\u503c\u8fdb\u884c\u4f4d\u79fb ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --shift-by -100000 --execute #offset\u8bbe\u7f6e\u5230\u6307\u5b9a\u65f6\u523b\u5f00\u59cb ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-datetime 2017-08-04T14:30:00.000 --execute \u6d4b\u8bd5\u8bfb\u5199\u6027\u80fd #\u914d\u7f6e num.network.threads=3 num.io.threads=8 log.flush.interval.messages=10000 log.flush.interval.ms=1000 #\u6d4b\u8bd5\u53d1\u9001\u6027\u80fd --topic topic\u540d\u79f0\uff0c\u672c\u4f8b\u4e3atest_perf --num-records \u603b\u5171\u9700\u8981\u53d1\u9001\u7684\u6d88\u606f\u6570\uff0c\u672c\u4f8b\u4e3a100000 --record-size \u6bcf\u4e2a\u8bb0\u5f55\u7684\u5b57\u8282\u6570\uff0c\u672c\u4f8b\u4e3a1000 --throughput \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u8bb0\u5f55\u6570\uff0c\u672c\u4f8b\u4e3a5000 --producer-props bootstrap.servers=localhost:9092 \uff08\u53d1\u9001\u7aef\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u6d4b\u8bd5\u53d6\u96c6\u7fa4\u670d\u52a1\u5668\u4e2d\u7684\u4e00\u53f0\u4f5c\u4e3a\u53d1\u9001\u7aef,\u53ef\u5728kafka\u7684config\u76ee\u5f55\uff0c\u4ee5\u8be5\u9879\u76ee\u4e3a\u4f8b\uff1a/usr/local/kafka/config\uff1b\u67e5\u770bserver.properties\u4e2d\u914d\u7f6e\u7684zookeeper.connect\u7684\u503c\uff0c\u9ed8\u8ba4\u7aef\u53e3\uff1a9092\uff09 ./bin/kafka-producer-perf-test.sh --topic test --num-records 100000 --record-size 1048577 --throughput 5000 --producer-props bootstrap.servers=localhost:9092 max.request.size=10486650 #\u6d4b\u8bd5\u63a5\u6536\u6027\u80fd --zookeeper \u6307\u5b9azookeeper\u7684\u94fe\u63a5\u4fe1\u606f\uff0c\u672c\u4f8b\u4e3alocalhost:2181 \uff1b --topic \u6307\u5b9atopic\u7684\u540d\u79f0\uff0c\u672c\u4f8b\u4e3atest_perf\uff0c\u53734.2.1\u4e2d\u5199\u5165\u7684\u6d88\u606f\uff1b --fetch-size \u6307\u5b9a\u6bcf\u6b21fetch\u7684\u6570\u636e\u7684\u5927\u5c0f\uff0c\u672c\u4f8b\u4e3a1048576\uff0c\u4e5f\u5c31\u662f1M --messages \u603b\u5171\u8981\u6d88\u8d39\u7684\u6d88\u606f\u4e2a\u6570\uff0c\u672c\u4f8b\u4e3a1000000\uff0c100w kafka-consumer-perf-test.sh --zookeeper localhost:2181 --topic test --fetch-size 1048576 --messages 100000 \u5927\u5bb6\u5728\u538b\u6d4b\u7684\u65f6\u5019\u80af\u5b9a\u4e0d\u4f1a\u8ba9\u538b\u6d4b\u811a\u672c\u548ckafka\u670d\u52a1\u5668\u8dd1\u5728\u540c\u4e00\u53f0\u7535\u8111\u4e0a\uff0c\u6bd4\u8f83\u538b\u6d4b\u811a\u672c\u4e5f\u8981\u5360\u7528\u5f88\u591a\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u5f71\u54cd\u538b\u6d4b\u51c6\u786e\u6027 Kafka\u5e38\u7528\u914d\u7f6e #\u8bbe\u7f6e\u590d\u5236\u56e0\u5b50\u4e3a3\u542f\u7528\u9ad8\u53ef\u7528\u673a\u5236 default.replication.factor=3 #\u6570\u636e\u4fdd\u7559\u65f6\u95f4 log.retention.hours=10 #\u6570\u636e\u4fdd\u7559\u4f53\u79ef(\u72ec\u7acb\u4e8e\u65f6\u95f4\u7b56\u7565)100G log.retention.bytes=107374182400 #\u5355\u4e2a\u6570\u636e\u6587\u4ef6\u6700\u5927\u4f53\u79ef1G log.segment.bytes=1073741824 #\u6700\u5c11\u4fdd\u8bc1\u590d\u5236\u51e0\u4e2a\u526f\u672c\uff08\u5c0f\u4e8e\u6216\u7b49\u4e8e\u590d\u5236\u56e0\u5b50\u6570\uff09 min.insync.replicas=2 #\u5355\u6761\u6d88\u606f\u6700\u5927\u4f53\u79ef10MB message.max.bytes=10485760 #\u6700\u5927\u961f\u5217\u8bf7\u6c42\u6570 queued.max.requests=1024 Kafka\u7528\u5230\u7684\u7cfb\u7edf\u8bbe\u7f6e\u8c03\u4f18 #\u6ce8\u610f\u4e0b\u8ff0\u914d\u7f6e\u57fa\u672c\u90fd\u5728sysctl\u4e2d\uff0c\u4fee\u6539\u540e\u8bb0\u5f97sysctl -p\u751f\u6548 #\u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528ext4\u6216xfs #\u4e3a\u4e86\u66f4\u597d\u7684\u6027\u80fdkafka\u6bcd\u516c\u53f8\u5efa\u8bae\u5c06\u5237\u76d8\u65f6\u95f4\u8c03\u6574\u52302\u5206\u949f\u4ee5\u4e0a\uff08\u5355\u4f4d\u767e\u5206\u4e4b\u4e00\u79d2\uff09 vm.dirty_writeback_centisecs = 12000 # \u548c\u53c2\u6570vm.dirty_background_ratio\u5b9e\u73b0\u76f8\u540c\u529f\u80fd\uff0c\u4f46\u4e24\u4e2a\u53c2\u6570\u53ea\u4f1a\u6709\u5176\u4e2d\u4e00\u4e2a\u751f\u6548\uff0c\u8868\u793a\u810f\u9875\u5927\u5c0f\u8fbe\u5230\u591a\u5c11\u5b57\u8282\u540e\u5f00\u59cb\u89e6\u53d1\u5237\u78c1\u76d8 vm.dirty_background_bytes = 0 #\u540e\u53f0\u5237\u76d8\u7684\u767e\u5206\u6bd4\u9608\u503c vm.dirty_background_ratio=20 #\u540e\u53f0\u5237\u76d8\u65f6\u95f430\u79d2\uff0830\u79d2\u5185\u5373\u4f7f\u6ca1\u523020%\u6bd4\u4f8b\u4e5f\u5237\u76d8\u4e00\u6b21\uff09 vm.dirty_expire_centisecs=3000 #\u524d\u53f0\u5237\u76d8\uff08\u963b\u585e\u5e94\u7528\uff09\u767e\u5206\u6bd4\u9608\u503c vm.dirty_ratio = 30 # \u548c\u53c2\u6570vm.dirty_ratio\u5b9e\u73b0\u76f8\u540c\u529f\u80fd\uff0c\u4f46\u4e24\u4e2a\u53c2\u6570\u53ea\u4f1a\u6709\u5176\u4e2d\u4e00\u4e2a\u751f\u6548\uff0c\u8868\u793a\u810f\u9875\u8fbe\u5230\u591a\u5c11\u5b57\u8282\u540e\u505c\u6b62\u63a5\u6536\u5199\u8bf7\u6c42\uff0c\u5f00\u59cb\u89e6\u53d1\u5237\u78c1\u76d8 vm.dirty_bytes = 0 #\u6ce8\u610f\uff1a\u7f13\u5b58\u7684\u6570\u636e\u8d8a\u591a\uff0c\u4e22\u6570\u636e\u7684\u98ce\u9669\u8d8a\u5927\u3002\u4f1a\u5b9a\u671f\u51fa\u73b0IO\u5cf0\u503c\uff0c\u8fd9\u4e2a\u5cf0\u503c\u65f6\u95f4\u4f1a\u8f83\u957f\uff0c\u5728\u8fd9\u671f\u95f4\u6240\u6709\u65b0\u7684\u5199IO\u6027\u80fd\u4f1a\u5f88\u5dee\uff08\u6781\u7aef\u60c5\u51b5\u76f4\u63a5\u88abhang\u4f4f\uff09\u3002 1\u3001\u5f53vm.dirty_background_ratio\u3001vm.dirty_expire_centisecs\u53d8\u5927\u65f6 \u51fa\u5165\u6d41\u91cf\u6296\u52a8\u53d8\u5927\uff0c\u51fa\u73b0\u5927\u91cf\u7a81\u523a\uff1b IO\u6296\u52a8\u53d8\u5927\uff0c\u51fa\u73b0\u5927\u91cf\u7a81\u523a\uff0c\u78c1\u76d8\u6709\u8fde\u7eed\u6253\u6ee1\u7684\u60c5\u51b5\uff1b \u51fa\u5165\u6d41\u91cf\u5e73\u5747\u5927\u5c0f\u4e0d\u53d7\u5f71\u54cd\uff1b 2\u3001\u5f53vm.dirty_background_ratio\u3001vm.dirty_expire_centisecs\u53d8\u5c0f\u65f6 \u51fa\u5165\u6d41\u91cf\u6296\u52a8\u53d8\u5c0f\uff0c\u8d8b\u4e8e\u5e73\u6ed1\u7a33\u5b9a\uff0c\u65e0\u7a81\u523a\uff1b \u78c1\u76d8IO\u6296\u52a8\u53d8\u5c0f\uff0c\u65e0\u7a81\u523a\uff0c\u78c1\u76d8IO\u65e0\u6253\u6ee1\u60c5\u51b5\uff1b \u51fa\u5165\u6d41\u91cf\u5e73\u5747\u5927\u5c0f\u4e0d\u53d7\u5f71\u54cd\uff1b 3\u3001\u5f53vm.dirty_ratio\u53d8\u5c0f\uff08\u4f4e\u4e8e10\uff09 \u51fa\u5165\u6d41\u91cf\u9694\u4e00\u6bb5\u65f6\u95f4\u51fa\u73b0\u4e00\u4e2a\u660e\u663e\u7684\u6ce2\u8c37\uff1b\u8fd9\u662f\u56e0\u4e3acache\u6570\u636e\u91cf\u8d85\u8fc7vm.dirty_ratio\u8bbe\u5b9a\u7684\u503c\u5c06\u963b\u585e\u5199\u8bf7\u6c42\uff0c\u8fdb\u884c\u5237\u76d8\u64cd\u4f5c\u3002 4\u3001\u5f53vm.dirty_ratio\u53d8\u5927\u65f6\uff08\u9ad8\u4e8e40\uff09\uff0c\u51fa\u5165\u6d41\u91cf\u65e0\u660e\u663e\u7684\u6ce2\u8c37\uff0c\u6d41\u91cf\u5e73\u6ed1\uff1b 5\u3001\u5f53\u4ee5\u4e0b\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4e3a\u5bf9\u5e94\u503c\u65f6\uff0c\u51fa\u5165\u6d41\u91cf\u975e\u5e38\u5e73\u6ed1\uff0c\u8d8b\u4e8e\u4e00\u6761\u76f4\u7ebf\uff1b vm.dirty_background_ratio=1 vm.dirty_ratio=80 vm.dirty_expire_centisecs=1000 \u52a8\u6001\u8bbe\u7f6etopic\u7684\u590d\u5236\u56e0\u5b50 \u547d\u4ee4\u884c\u65b9\u5f0f #\u67e5\u770btopic list bin/kafka-topics.sh --zookeeper zkaddr:2181 --list #\u67e5\u770btopic detail bin/kafka-topics.sh --describe --zookeeper zkaddr:2181 --topic test #\u8f93\u51fa\u793a\u4f8b Topic:test PartitionCount:3 ReplicationFactor:1 Configs: Topic: test Partition: 0 Leader: 1 Replicas: 1 Isr: 1 Topic: test Partition: 1 Leader: 2 Replicas: 2 Isr: 2 Topic: test Partition: 2 Leader: 3 Replicas: 3 Isr: 3 #\u6269\u5bb9\u65f6\u5019\u9700\u8981\u4e00\u4e2ajson\u63cf\u8ff0\u6587\u4ef6\uff0c\u5efa\u8bae\u7528\u811a\u672c\u5199\u4e00\u4e2a\uff0c\u4e3e\u4f8b\u5982\u4e0b\uff08\u548c\u4e0a\u8ff0\u8f93\u51fa\u6709\u5173\u8054\u5173\u7cfb\uff09 #test.json { \"version\": 1, \"partitions\": [ { \"topic\": \"test\", \"partition\": 0, \"replicas\": [ 1, 2, 3 ] }, { \"topic\": \"test\", \"partition\": 1, \"replicas\": [ 1, 2, 3 ] }, { \"topic\": \"test\", \"partition\": 2, \"replicas\": [ 1, 2, 3 ] } ] } #\u6b63\u5f0f\u6267\u884c bin/kafka-reassign-partitions.sh --zookeeper zkaddr:2181 --reassignment-json-file test.json --execute #\u51fa\u73b0successfully\u4e3a\u6210\u529f\uff0c\u6b64\u65f6\u53ef\u4ee5\u518d\u901a\u8fc7`bin/kafka-topics.sh --describe --zookeeper zkaddr:2181 --topic test`\u67e5\u770b\u8be6\u60c5 \u4f7f\u7528kafkamgr\u6765\u52a8\u6001\u8c03\u6574\u5df2\u6709\u4e3b\u9898\u590d\u5236\u56e0\u5b50 \u4f9d\u6b21\u8fdb\u5165-clusters-\u4f60\u7684\u96c6\u7fa4-topics-\u4f60\u7684\u4e3b\u9898\uff0c\u70b9\u51fbGenerate Partition Assignments \u6309\u94ae\u3002 \u5728\u65b0\u9875\u9762\u4e2d\u7684Replication factor (optional)\u9879\u8f93\u5165\u4f60\u60f3\u8981\u7684\u590d\u5236\u56e0\u5b50\u8bbe\u7f6e\uff08\u5efa\u8bae\u81f3\u5c113\uff09\u3002 \u70b9\u51fbGenerate Partition Assignments \u6309\u94ae\u786e\u8ba4\u3002 \u70b9\u51fb Reassign Partitions \u6309\u94ae\uff0c\u6b64\u65f6\u4f1a\u6709\u4e2a\u8b66\u544a\uff0c\u70b9\u51fbTry force running\u8fde\u63a5\u5141\u8bb8\u540e\u4f1a\u56de\u5230\u5f53\u524d\u9875\u9762\uff0c\u70b9\u51fb\u65b0\u51fa\u73b0\u7684 Force Reassign Partitions\u5373\u53ef\u3002 \u70b9\u51fbUpdate config \u5728min.insync.replicas\u4e2d\u8bbe\u7f6e\u4e3a2\u70b9\u51fbupdate config\u786e\u8ba4 \u6574\u4e2a\u96c6\u7fa4\u540c\u65f6\u53ea\u80fd\u5b58\u5728\u4e00\u4e2areplication\u590d\u5236\u4efb\u52a1\uff0c\u5982\u679c\u8981\u8c03\u6574\u7684\u4e3b\u4f53\u8f83\u591a\u9700\u8981\u4f9d\u6b21\u8c03\u6574\u3002","title":"Kafka\u8c03\u4f18\u76f8\u5173"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#_1","text":"\u4e3a\u4e86\u4fdd\u8bc1\u9ad8\u53ef\u7528\u6027\u9700\u8981\u8bbe\u7f6e\u4e0d\u5c11\u4e8e2\u7684\u590d\u5236\u56e0\u5b50\uff0c\u5efa\u8bae3\uff08\u8282\u70b9\u6570\u4e0d\u80fd\u5c11\u4e8e\u590d\u5236\u56e0\u5b50\u6570\uff09\u3002 \u4e3a\u4e86\u4fdd\u8bc1\u78c1\u76d8\u7a7a\u95f4\u7684\u53ef\u7528\u6027\uff0c\u9700\u8981\u8bbe\u7f6e\u6570\u636e\u4fdd\u7559\u65f6\u95f4\u548c\u6570\u636e\u6700\u5927\u4fdd\u7559\u4f53\u79ef\uff08\u81f3\u5c11\u5e94\u8be5\u8bbe\u7f6e\u6700\u5927\u4fdd\u7559\u4f53\u79ef\uff09\u3002 \u4e3a\u4e86\u786e\u4fdd\u53ef\u63a5\u6536\u5927\u4f53\u79ef\u6d88\u606f\uff0c\u9700\u8981\u63d0\u524d\u9884\u4f30\u5e76\u89c4\u5212\u597d\u6700\u5927\u7684\u5355\u6761\u6d88\u606f\u7684\u4f53\u79ef\u5e76\u5728\u96c6\u7fa4\u8282\u70b9\u914d\u7f6e\u4e2d\u8fdb\u884c\u7533\u660e\uff0c\u907f\u514d\u8d85\u8fc7\u9650\u5236\u5927\u5c0f\u65e0\u6cd5\u63a5\u6536\u3002","title":"\u60ef\u4f8b"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#_2","text":"","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#_3","text":"#\u66f4\u65b0\u5230\u5f53\u524dgroup\u6700\u521d\u7684offset\u4f4d\u7f6e ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-earliest --execute #\u66f4\u65b0\u5230\u6307\u5b9a\u7684offset\u4f4d\u7f6e ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-offset 500000 --execute #\u66f4\u65b0\u5230\u5f53\u524doffset\u4f4d\u7f6e\uff08\u89e3\u51b3offset\u7684\u5f02\u5e38\uff09 ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-current --execute #offset\u4f4d\u7f6e\u6309\u8bbe\u7f6e\u7684\u503c\u8fdb\u884c\u4f4d\u79fb ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --shift-by -100000 --execute #offset\u8bbe\u7f6e\u5230\u6307\u5b9a\u65f6\u523b\u5f00\u59cb ./bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --group test-group --reset-offsets --all-topics --to-datetime 2017-08-04T14:30:00.000 --execute","title":"\u8bbe\u7f6e\u6d88\u8d39\u5750\u6807"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#_4","text":"#\u914d\u7f6e num.network.threads=3 num.io.threads=8 log.flush.interval.messages=10000 log.flush.interval.ms=1000 #\u6d4b\u8bd5\u53d1\u9001\u6027\u80fd --topic topic\u540d\u79f0\uff0c\u672c\u4f8b\u4e3atest_perf --num-records \u603b\u5171\u9700\u8981\u53d1\u9001\u7684\u6d88\u606f\u6570\uff0c\u672c\u4f8b\u4e3a100000 --record-size \u6bcf\u4e2a\u8bb0\u5f55\u7684\u5b57\u8282\u6570\uff0c\u672c\u4f8b\u4e3a1000 --throughput \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u8bb0\u5f55\u6570\uff0c\u672c\u4f8b\u4e3a5000 --producer-props bootstrap.servers=localhost:9092 \uff08\u53d1\u9001\u7aef\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u672c\u6b21\u6d4b\u8bd5\u53d6\u96c6\u7fa4\u670d\u52a1\u5668\u4e2d\u7684\u4e00\u53f0\u4f5c\u4e3a\u53d1\u9001\u7aef,\u53ef\u5728kafka\u7684config\u76ee\u5f55\uff0c\u4ee5\u8be5\u9879\u76ee\u4e3a\u4f8b\uff1a/usr/local/kafka/config\uff1b\u67e5\u770bserver.properties\u4e2d\u914d\u7f6e\u7684zookeeper.connect\u7684\u503c\uff0c\u9ed8\u8ba4\u7aef\u53e3\uff1a9092\uff09 ./bin/kafka-producer-perf-test.sh --topic test --num-records 100000 --record-size 1048577 --throughput 5000 --producer-props bootstrap.servers=localhost:9092 max.request.size=10486650 #\u6d4b\u8bd5\u63a5\u6536\u6027\u80fd --zookeeper \u6307\u5b9azookeeper\u7684\u94fe\u63a5\u4fe1\u606f\uff0c\u672c\u4f8b\u4e3alocalhost:2181 \uff1b --topic \u6307\u5b9atopic\u7684\u540d\u79f0\uff0c\u672c\u4f8b\u4e3atest_perf\uff0c\u53734.2.1\u4e2d\u5199\u5165\u7684\u6d88\u606f\uff1b --fetch-size \u6307\u5b9a\u6bcf\u6b21fetch\u7684\u6570\u636e\u7684\u5927\u5c0f\uff0c\u672c\u4f8b\u4e3a1048576\uff0c\u4e5f\u5c31\u662f1M --messages \u603b\u5171\u8981\u6d88\u8d39\u7684\u6d88\u606f\u4e2a\u6570\uff0c\u672c\u4f8b\u4e3a1000000\uff0c100w kafka-consumer-perf-test.sh --zookeeper localhost:2181 --topic test --fetch-size 1048576 --messages 100000 \u5927\u5bb6\u5728\u538b\u6d4b\u7684\u65f6\u5019\u80af\u5b9a\u4e0d\u4f1a\u8ba9\u538b\u6d4b\u811a\u672c\u548ckafka\u670d\u52a1\u5668\u8dd1\u5728\u540c\u4e00\u53f0\u7535\u8111\u4e0a\uff0c\u6bd4\u8f83\u538b\u6d4b\u811a\u672c\u4e5f\u8981\u5360\u7528\u5f88\u591a\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u5f71\u54cd\u538b\u6d4b\u51c6\u786e\u6027","title":"\u6d4b\u8bd5\u8bfb\u5199\u6027\u80fd"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#kafka","text":"#\u8bbe\u7f6e\u590d\u5236\u56e0\u5b50\u4e3a3\u542f\u7528\u9ad8\u53ef\u7528\u673a\u5236 default.replication.factor=3 #\u6570\u636e\u4fdd\u7559\u65f6\u95f4 log.retention.hours=10 #\u6570\u636e\u4fdd\u7559\u4f53\u79ef(\u72ec\u7acb\u4e8e\u65f6\u95f4\u7b56\u7565)100G log.retention.bytes=107374182400 #\u5355\u4e2a\u6570\u636e\u6587\u4ef6\u6700\u5927\u4f53\u79ef1G log.segment.bytes=1073741824 #\u6700\u5c11\u4fdd\u8bc1\u590d\u5236\u51e0\u4e2a\u526f\u672c\uff08\u5c0f\u4e8e\u6216\u7b49\u4e8e\u590d\u5236\u56e0\u5b50\u6570\uff09 min.insync.replicas=2 #\u5355\u6761\u6d88\u606f\u6700\u5927\u4f53\u79ef10MB message.max.bytes=10485760 #\u6700\u5927\u961f\u5217\u8bf7\u6c42\u6570 queued.max.requests=1024","title":"Kafka\u5e38\u7528\u914d\u7f6e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#kafka_1","text":"#\u6ce8\u610f\u4e0b\u8ff0\u914d\u7f6e\u57fa\u672c\u90fd\u5728sysctl\u4e2d\uff0c\u4fee\u6539\u540e\u8bb0\u5f97sysctl -p\u751f\u6548 #\u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528ext4\u6216xfs #\u4e3a\u4e86\u66f4\u597d\u7684\u6027\u80fdkafka\u6bcd\u516c\u53f8\u5efa\u8bae\u5c06\u5237\u76d8\u65f6\u95f4\u8c03\u6574\u52302\u5206\u949f\u4ee5\u4e0a\uff08\u5355\u4f4d\u767e\u5206\u4e4b\u4e00\u79d2\uff09 vm.dirty_writeback_centisecs = 12000 # \u548c\u53c2\u6570vm.dirty_background_ratio\u5b9e\u73b0\u76f8\u540c\u529f\u80fd\uff0c\u4f46\u4e24\u4e2a\u53c2\u6570\u53ea\u4f1a\u6709\u5176\u4e2d\u4e00\u4e2a\u751f\u6548\uff0c\u8868\u793a\u810f\u9875\u5927\u5c0f\u8fbe\u5230\u591a\u5c11\u5b57\u8282\u540e\u5f00\u59cb\u89e6\u53d1\u5237\u78c1\u76d8 vm.dirty_background_bytes = 0 #\u540e\u53f0\u5237\u76d8\u7684\u767e\u5206\u6bd4\u9608\u503c vm.dirty_background_ratio=20 #\u540e\u53f0\u5237\u76d8\u65f6\u95f430\u79d2\uff0830\u79d2\u5185\u5373\u4f7f\u6ca1\u523020%\u6bd4\u4f8b\u4e5f\u5237\u76d8\u4e00\u6b21\uff09 vm.dirty_expire_centisecs=3000 #\u524d\u53f0\u5237\u76d8\uff08\u963b\u585e\u5e94\u7528\uff09\u767e\u5206\u6bd4\u9608\u503c vm.dirty_ratio = 30 # \u548c\u53c2\u6570vm.dirty_ratio\u5b9e\u73b0\u76f8\u540c\u529f\u80fd\uff0c\u4f46\u4e24\u4e2a\u53c2\u6570\u53ea\u4f1a\u6709\u5176\u4e2d\u4e00\u4e2a\u751f\u6548\uff0c\u8868\u793a\u810f\u9875\u8fbe\u5230\u591a\u5c11\u5b57\u8282\u540e\u505c\u6b62\u63a5\u6536\u5199\u8bf7\u6c42\uff0c\u5f00\u59cb\u89e6\u53d1\u5237\u78c1\u76d8 vm.dirty_bytes = 0 #\u6ce8\u610f\uff1a\u7f13\u5b58\u7684\u6570\u636e\u8d8a\u591a\uff0c\u4e22\u6570\u636e\u7684\u98ce\u9669\u8d8a\u5927\u3002\u4f1a\u5b9a\u671f\u51fa\u73b0IO\u5cf0\u503c\uff0c\u8fd9\u4e2a\u5cf0\u503c\u65f6\u95f4\u4f1a\u8f83\u957f\uff0c\u5728\u8fd9\u671f\u95f4\u6240\u6709\u65b0\u7684\u5199IO\u6027\u80fd\u4f1a\u5f88\u5dee\uff08\u6781\u7aef\u60c5\u51b5\u76f4\u63a5\u88abhang\u4f4f\uff09\u3002 1\u3001\u5f53vm.dirty_background_ratio\u3001vm.dirty_expire_centisecs\u53d8\u5927\u65f6 \u51fa\u5165\u6d41\u91cf\u6296\u52a8\u53d8\u5927\uff0c\u51fa\u73b0\u5927\u91cf\u7a81\u523a\uff1b IO\u6296\u52a8\u53d8\u5927\uff0c\u51fa\u73b0\u5927\u91cf\u7a81\u523a\uff0c\u78c1\u76d8\u6709\u8fde\u7eed\u6253\u6ee1\u7684\u60c5\u51b5\uff1b \u51fa\u5165\u6d41\u91cf\u5e73\u5747\u5927\u5c0f\u4e0d\u53d7\u5f71\u54cd\uff1b 2\u3001\u5f53vm.dirty_background_ratio\u3001vm.dirty_expire_centisecs\u53d8\u5c0f\u65f6 \u51fa\u5165\u6d41\u91cf\u6296\u52a8\u53d8\u5c0f\uff0c\u8d8b\u4e8e\u5e73\u6ed1\u7a33\u5b9a\uff0c\u65e0\u7a81\u523a\uff1b \u78c1\u76d8IO\u6296\u52a8\u53d8\u5c0f\uff0c\u65e0\u7a81\u523a\uff0c\u78c1\u76d8IO\u65e0\u6253\u6ee1\u60c5\u51b5\uff1b \u51fa\u5165\u6d41\u91cf\u5e73\u5747\u5927\u5c0f\u4e0d\u53d7\u5f71\u54cd\uff1b 3\u3001\u5f53vm.dirty_ratio\u53d8\u5c0f\uff08\u4f4e\u4e8e10\uff09 \u51fa\u5165\u6d41\u91cf\u9694\u4e00\u6bb5\u65f6\u95f4\u51fa\u73b0\u4e00\u4e2a\u660e\u663e\u7684\u6ce2\u8c37\uff1b\u8fd9\u662f\u56e0\u4e3acache\u6570\u636e\u91cf\u8d85\u8fc7vm.dirty_ratio\u8bbe\u5b9a\u7684\u503c\u5c06\u963b\u585e\u5199\u8bf7\u6c42\uff0c\u8fdb\u884c\u5237\u76d8\u64cd\u4f5c\u3002 4\u3001\u5f53vm.dirty_ratio\u53d8\u5927\u65f6\uff08\u9ad8\u4e8e40\uff09\uff0c\u51fa\u5165\u6d41\u91cf\u65e0\u660e\u663e\u7684\u6ce2\u8c37\uff0c\u6d41\u91cf\u5e73\u6ed1\uff1b 5\u3001\u5f53\u4ee5\u4e0b\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4e3a\u5bf9\u5e94\u503c\u65f6\uff0c\u51fa\u5165\u6d41\u91cf\u975e\u5e38\u5e73\u6ed1\uff0c\u8d8b\u4e8e\u4e00\u6761\u76f4\u7ebf\uff1b vm.dirty_background_ratio=1 vm.dirty_ratio=80 vm.dirty_expire_centisecs=1000","title":"Kafka\u7528\u5230\u7684\u7cfb\u7edf\u8bbe\u7f6e\u8c03\u4f18"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#topic","text":"","title":"\u52a8\u6001\u8bbe\u7f6etopic\u7684\u590d\u5236\u56e0\u5b50"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#_5","text":"#\u67e5\u770btopic list bin/kafka-topics.sh --zookeeper zkaddr:2181 --list #\u67e5\u770btopic detail bin/kafka-topics.sh --describe --zookeeper zkaddr:2181 --topic test #\u8f93\u51fa\u793a\u4f8b Topic:test PartitionCount:3 ReplicationFactor:1 Configs: Topic: test Partition: 0 Leader: 1 Replicas: 1 Isr: 1 Topic: test Partition: 1 Leader: 2 Replicas: 2 Isr: 2 Topic: test Partition: 2 Leader: 3 Replicas: 3 Isr: 3 #\u6269\u5bb9\u65f6\u5019\u9700\u8981\u4e00\u4e2ajson\u63cf\u8ff0\u6587\u4ef6\uff0c\u5efa\u8bae\u7528\u811a\u672c\u5199\u4e00\u4e2a\uff0c\u4e3e\u4f8b\u5982\u4e0b\uff08\u548c\u4e0a\u8ff0\u8f93\u51fa\u6709\u5173\u8054\u5173\u7cfb\uff09 #test.json { \"version\": 1, \"partitions\": [ { \"topic\": \"test\", \"partition\": 0, \"replicas\": [ 1, 2, 3 ] }, { \"topic\": \"test\", \"partition\": 1, \"replicas\": [ 1, 2, 3 ] }, { \"topic\": \"test\", \"partition\": 2, \"replicas\": [ 1, 2, 3 ] } ] } #\u6b63\u5f0f\u6267\u884c bin/kafka-reassign-partitions.sh --zookeeper zkaddr:2181 --reassignment-json-file test.json --execute #\u51fa\u73b0successfully\u4e3a\u6210\u529f\uff0c\u6b64\u65f6\u53ef\u4ee5\u518d\u901a\u8fc7`bin/kafka-topics.sh --describe --zookeeper zkaddr:2181 --topic test`\u67e5\u770b\u8be6\u60c5","title":"\u547d\u4ee4\u884c\u65b9\u5f0f"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Kafka%E8%B0%83%E4%BC%98%E7%9B%B8%E5%85%B3/#kafkamgr","text":"\u4f9d\u6b21\u8fdb\u5165-clusters-\u4f60\u7684\u96c6\u7fa4-topics-\u4f60\u7684\u4e3b\u9898\uff0c\u70b9\u51fbGenerate Partition Assignments \u6309\u94ae\u3002 \u5728\u65b0\u9875\u9762\u4e2d\u7684Replication factor (optional)\u9879\u8f93\u5165\u4f60\u60f3\u8981\u7684\u590d\u5236\u56e0\u5b50\u8bbe\u7f6e\uff08\u5efa\u8bae\u81f3\u5c113\uff09\u3002 \u70b9\u51fbGenerate Partition Assignments \u6309\u94ae\u786e\u8ba4\u3002 \u70b9\u51fb Reassign Partitions \u6309\u94ae\uff0c\u6b64\u65f6\u4f1a\u6709\u4e2a\u8b66\u544a\uff0c\u70b9\u51fbTry force running\u8fde\u63a5\u5141\u8bb8\u540e\u4f1a\u56de\u5230\u5f53\u524d\u9875\u9762\uff0c\u70b9\u51fb\u65b0\u51fa\u73b0\u7684 Force Reassign Partitions\u5373\u53ef\u3002 \u70b9\u51fbUpdate config \u5728min.insync.replicas\u4e2d\u8bbe\u7f6e\u4e3a2\u70b9\u51fbupdate config\u786e\u8ba4 \u6574\u4e2a\u96c6\u7fa4\u540c\u65f6\u53ea\u80fd\u5b58\u5728\u4e00\u4e2areplication\u590d\u5236\u4efb\u52a1\uff0c\u5982\u679c\u8981\u8c03\u6574\u7684\u4e3b\u4f53\u8f83\u591a\u9700\u8981\u4f9d\u6b21\u8c03\u6574\u3002","title":"\u4f7f\u7528kafkamgr\u6765\u52a8\u6001\u8c03\u6574\u5df2\u6709\u4e3b\u9898\u590d\u5236\u56e0\u5b50"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/cdh_spark/","text":"cdh\u7f16\u5199spark\u4f9d\u8d56\u95ee\u9898 cdh\u7684jar\u4f9d\u8d56\u4e0d\u80fd\u76f4\u63a5\u7528maven\u5b98\u65b9\u4ed3\u5e93\u7684\u7248\u672c\uff0c\u9700\u8981\u4f7f\u7528cdh\u63d0\u4f9b\u7684\u4ed3\u5e93\u4e2d\u7684\u7248\u672c\uff1a https://docs.cloudera.com/documentation/enterprise/6/release-notes/topics/rg_cdh_62_maven_artifacts.html#concept_2gp_d8n_yk \u5426\u5219\u4f1a\u51fa\u73b0jar\u5305\u4e0d\u517c\u5bb9\u7684\u60c5\u51b5\uff0c\u5e76\u4e14cdh\u4e2d\u81ea\u5e26\u7684jar\u5305\u5728pom\u4e2ddependency\u4e0b\u7684scope\u9700\u8981\u8bbe\u7f6e\u4e3aprovided\uff1aprovided","title":"cdh\u7f16\u5199spark\u4f9d\u8d56\u95ee\u9898"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/cdh_spark/#cdhspark","text":"cdh\u7684jar\u4f9d\u8d56\u4e0d\u80fd\u76f4\u63a5\u7528maven\u5b98\u65b9\u4ed3\u5e93\u7684\u7248\u672c\uff0c\u9700\u8981\u4f7f\u7528cdh\u63d0\u4f9b\u7684\u4ed3\u5e93\u4e2d\u7684\u7248\u672c\uff1a https://docs.cloudera.com/documentation/enterprise/6/release-notes/topics/rg_cdh_62_maven_artifacts.html#concept_2gp_d8n_yk \u5426\u5219\u4f1a\u51fa\u73b0jar\u5305\u4e0d\u517c\u5bb9\u7684\u60c5\u51b5\uff0c\u5e76\u4e14cdh\u4e2d\u81ea\u5e26\u7684jar\u5305\u5728pom\u4e2ddependency\u4e0b\u7684scope\u9700\u8981\u8bbe\u7f6e\u4e3aprovided\uff1aprovided","title":"cdh\u7f16\u5199spark\u4f9d\u8d56\u95ee\u9898"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink%E9%85%8D%E7%BD%AE%E8%B0%83%E4%BC%98/","text":"flink \u914d\u7f6e\u8c03\u4f18 jobmanger.rpc.address jm\u7684\u5730\u5740\u3002 jobmanager.rpc.port jm\u7684\u7aef\u53e3\u53f7\u3002 jobmanager.heap.mb jm\u7684\u5806\u5185\u5b58\u5927\u5c0f\u3002\u4e0d\u5efa\u8bae\u914d\u7684\u592a\u5927\uff0c1-2G\u8db3\u591f\u3002 taskmanager.heap.mb tm\u7684\u5806\u5185\u5b58\u5927\u5c0f\u3002\u5927\u5c0f\u89c6\u4efb\u52a1\u91cf\u800c\u5b9a\u3002\u9700\u8981\u5b58\u50a8\u4efb\u52a1\u7684\u4e2d\u95f4\u503c\uff0c\u7f51\u7edc\u7f13\u5b58\uff0c\u7528\u6237\u6570\u636e\u7b49\u3002 taskmanager.numberOfTaskSlots slot\u6570\u91cf\u3002\u5728yarn\u6a21\u5f0f\u4f7f\u7528\u7684\u65f6\u5019\u4f1a\u53d7\u5230yarn.scheduler.maximum-allocation-vcores\u503c\u7684\u5f71\u54cd\u3002\u6b64\u5904\u6307\u5b9a\u7684slot\u6570\u91cf\u5982\u679c\u8d85\u8fc7yarn\u7684maximum-allocation-vcores\uff0cflink\u542f\u52a8\u4f1a\u62a5\u9519\u3002\u5728yarn\u6a21\u5f0f\uff0cflink\u542f\u52a8\u7684task manager\u4e2a\u6570\u53ef\u4ee5\u53c2\u7167\u5982\u4e0b\u8ba1\u7b97\u516c\u5f0f\uff1a num_of_tm = ceil(parallelism / slot) \u5373\u5e76\u884c\u5ea6\u9664\u4ee5slot\u4e2a\u6570\uff0c\u7ed3\u679c\u5411\u4e0a\u53d6\u6574\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cslot \u76ee\u524d\u4ec5\u4ec5\u7528\u6765\u9694\u79bb\u5185\u5b58\uff0c\u4e0d\u4f1a\u6d89\u53ca CPU \u7684\u9694\u79bb\u3002\u5728\u5177\u4f53\u5e94\u7528\u65f6\uff0c\u53ef\u4ee5\u5c06 slot \u6570\u91cf\u914d\u7f6e\u4e3a\u673a\u5668\u7684 CPU \u6838\u5fc3\u6570\uff0c\u5c3d\u91cf\u907f\u514d\u4e0d\u540c\u4efb\u52a1\u4e4b\u95f4\u5bf9 CPU \u7684\u7ade\u4e89\u3002\u8fd9\u4e5f\u662f\u5f00\u53d1\u73af\u5883\u9ed8\u8ba4\u5e76\u884c\u5ea6\u8bbe\u4e3a\u673a\u5668 CPU \u6570\u91cf\u7684\u539f\u56e0\u3002 parallelsm.default \u4efb\u52a1\u9ed8\u8ba4\u5e76\u884c\u5ea6\uff0c\u5982\u679c\u4efb\u52a1\u672a\u6307\u5b9a\u5e76\u884c\u5ea6\uff0c\u5c06\u91c7\u7528\u6b64\u8bbe\u7f6e\u3002 web.port Flink web ui\u7684\u7aef\u53e3\u53f7\u3002 jobmanager.archive.fs.dir \u5c06\u5df2\u5b8c\u6210\u7684\u4efb\u52a1\u5f52\u6863\u5b58\u50a8\u7684\u76ee\u5f55\u3002 history.web.port \u57fa\u4e8eweb\u7684history server\u7684\u7aef\u53e3\u53f7\u3002 historyserver.archive.fs.dir history server\u7684\u5f52\u6863\u76ee\u5f55\u3002\u8be5\u914d\u7f6e\u5fc5\u987b\u5305\u542bjobmanager.archive.fs.dir\u914d\u7f6e\u7684\u76ee\u5f55\uff0c\u4ee5\u4fbfhistory server\u80fd\u591f\u8bfb\u53d6\u5230\u5df2\u5b8c\u6210\u7684\u4efb\u52a1\u4fe1\u606f\u3002 historyserver.archive.fs.refresh-interval \u5237\u65b0\u5b58\u6863\u4f5c\u4e1a\u76ee\u5f55\u65f6\u95f4\u95f4\u9694 state.backend \u5b58\u50a8\u548c\u68c0\u67e5\u70b9\u7684\u540e\u53f0\u5b58\u50a8\u3002\u53ef\u9009\u503c\u4e3arocksdb filesystem hdfs\u3002 state.backend.fs.checkpointdir \u68c0\u67e5\u70b9\u6570\u636e\u6587\u4ef6\u548c\u5143\u6570\u636e\u7684\u9ed8\u8ba4\u76ee\u5f55\u3002 state.checkpoints.dir \u4fdd\u5b58\u68c0\u67e5\u70b9\u76ee\u5f55\u3002 state.savepoints.dir save point\u7684\u76ee\u5f55\u3002 state.checkpoints.num-retained \u4fdd\u7559\u6700\u8fd1\u68c0\u67e5\u70b9\u7684\u6570\u91cf\u3002 state.backend.incremental \u589e\u91cf\u5b58\u50a8\u3002 akka.ask.timeout Job Manager\u548cTask Manager\u901a\u4fe1\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u5982\u679c\u7f51\u7edc\u62e5\u6324\u7ecf\u5e38\u51fa\u73b0\u8d85\u65f6\u9519\u8bef\uff0c\u53ef\u4ee5\u589e\u5927\u8be5\u914d\u7f6e\u503c\u3002 akka.watch.heartbeat.interval \u5fc3\u8df3\u53d1\u9001\u95f4\u9694\uff0c\u7528\u6765\u68c0\u6d4btask manager\u7684\u72b6\u6001\u3002 akka.watch.heartbeat.pause \u5982\u679c\u8d85\u8fc7\u8be5\u65f6\u95f4\u4ecd\u672a\u6536\u5230task manager\u7684\u5fc3\u8df3\uff0c\u8be5task manager \u4f1a\u88ab\u8ba4\u4e3a\u5df2\u6302\u6389\u3002 taskmanager.network.memory.max \u7f51\u7edc\u7f13\u51b2\u533a\u6700\u5927\u5185\u5b58\u5927\u5c0f\u3002 taskmanager.network.memory.min \u7f51\u7edc\u7f13\u51b2\u533a\u6700\u5c0f\u5185\u5b58\u5927\u5c0f\u3002 taskmanager.network.memory.fraction \u7f51\u7edc\u7f13\u51b2\u533a\u4f7f\u7528\u7684\u5185\u5b58\u5360\u636e\u603bJVM\u5185\u5b58\u7684\u6bd4\u4f8b\u3002\u5982\u679c\u914d\u7f6e\u4e86taskmanager.network.memory.max\u548ctaskmanager.network.memory.min\uff0c\u672c\u914d\u7f6e\u9879\u4f1a\u88ab\u8986\u76d6\u3002 fs.hdfs.hadoopconf hadoop\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff08\u5df2\u88ab\u5e9f\u5f03\uff0c\u5efa\u8bae\u4f7f\u7528HADOOP_CONF_DIR\u73af\u5883\u53d8\u91cf\uff09 yarn.application-attempts job\u5931\u8d25\u5c1d\u8bd5\u6b21\u6570\uff0c\u4e3b\u8981\u662f\u6307job manager\u7684\u91cd\u542f\u5c1d\u8bd5\u6b21\u6570\u3002\u8be5\u503c\u4e0d\u5e94\u8be5\u8d85\u8fc7yarn-site.xml\u4e2d\u7684yarn.resourcemanager.am.max-attemps\u7684\u503c\u3002 Flink HA(Job Manager)\u7684\u914d\u7f6e high-availability: zookeeper \u4f7f\u7528zookeeper\u8d1f\u8d23HA\u5b9e\u73b0 high-availability.zookeeper.path.root: /flink flink\u4fe1\u606f\u5728zookeeper\u5b58\u50a8\u8282\u70b9\u7684\u540d\u79f0 high-availability.zookeeper.quorum: zk1,zk2,zk3 zookeeper\u96c6\u7fa4\u8282\u70b9\u7684\u5730\u5740\u548c\u7aef\u53e3 high-availability.storageDir: hdfs://nameservice/flink/ha/ job manager\u5143\u6570\u636e\u5728\u6587\u4ef6\u7cfb\u7edf\u50a8\u5b58\u7684\u4f4d\u7f6e\uff0czookeeper\u4ec5\u4fdd\u5b58\u4e86\u6307\u5411\u8be5\u76ee\u5f55\u7684\u6307\u9488\u3002 Flink metrics \u76d1\u63a7\u76f8\u5173\u914d\u7f6e metrics.reporters: prom metrics.reporter.prom.class: org.apache.flink.metrics.prometheus.PrometheusReporter metrics.reporter.prom.port: 9250-9260 Kafka\u76f8\u5173\u8c03\u4f18\u914d\u7f6e linger.ms/batch.size \u8fd9\u4e24\u4e2a\u914d\u7f6e\u9879\u914d\u5408\u4f7f\u7528\uff0c\u53ef\u4ee5\u5728\u541e\u5410\u91cf\u548c\u5ef6\u8fdf\u4e2d\u5f97\u5230\u6700\u4f73\u7684\u5e73\u8861\u70b9\u3002batch.size\u662fkafka producer\u53d1\u9001\u6570\u636e\u7684\u6279\u91cf\u5927\u5c0f\uff0c\u5f53\u6570\u636e\u91cf\u8fbe\u5230batch size\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u8fd9\u6279\u6570\u636e\u53d1\u9001\u51fa\u53bb\uff0c\u907f\u514d\u4e86\u6570\u636e\u4e00\u6761\u4e00\u6761\u7684\u53d1\u9001\uff0c\u9891\u7e41\u5efa\u7acb\u548c\u65ad\u5f00\u7f51\u7edc\u8fde\u63a5\u3002\u4f46\u662f\u5982\u679c\u6570\u636e\u91cf\u6bd4\u8f83\u5c0f\uff0c\u5bfc\u81f4\u8fdf\u8fdf\u4e0d\u80fd\u8fbe\u5230batch.size\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5ef6\u8fdf\u4e0d\u4f1a\u8fc7\u5927\uff0ckafka\u4e0d\u80fd\u65e0\u9650\u7b49\u5f85\u6570\u636e\u91cf\u8fbe\u5230batch.size\u7684\u65f6\u5019\u624d\u53d1\u9001\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f15\u5165\u4e86linger.ms\u914d\u7f6e\u9879\u3002\u5f53\u6570\u636e\u5728\u7f13\u5b58\u4e2d\u7684\u65f6\u95f4\u8d85\u8fc7linger.ms\u65f6\uff0c\u65e0\u8bba\u7f13\u5b58\u4e2d\u6570\u636e\u662f\u5426\u8fbe\u5230\u6279\u91cf\u5927\u5c0f\uff0c\u90fd\u4f1a\u88ab\u5f3a\u5236\u53d1\u9001\u51fa\u53bb\u3002 ack \u6570\u636e\u6e90\u662f\u5426\u9700\u8981kafka\u5f97\u5230\u786e\u8ba4\u3002all\u8868\u793a\u9700\u8981\u6536\u5230\u6240\u6709ISR\u8282\u70b9\u7684\u786e\u8ba4\u4fe1\u606f\uff0c1\u8868\u793a\u53ea\u9700\u8981\u6536\u5230kafka leader\u7684\u786e\u8ba4\u4fe1\u606f\uff0c0\u8868\u793a\u4e0d\u9700\u8981\u4efb\u4f55\u786e\u8ba4\u4fe1\u606f\u3002\u8be5\u914d\u7f6e\u9879\u9700\u8981\u5bf9\u6570\u636e\u7cbe\u51c6\u6027\u548c\u5ef6\u8fdf\u541e\u5410\u91cf\u505a\u51fa\u6743\u8861\u3002 Kafka topic\u5206\u533a\u6570\u548cFlink\u5e76\u884c\u5ea6\u7684\u5173\u7cfb Flink kafka source\u7684\u5e76\u884c\u5ea6\u9700\u8981\u548ckafka topic\u7684\u5206\u533a\u6570\u4e00\u81f4\u3002\u6700\u5927\u5316\u5229\u7528kafka\u591a\u5206\u533atopic\u7684\u5e76\u884c\u8bfb\u53d6\u80fd\u529b\u3002 Yarn\u76f8\u5173\u8c03\u4f18\u914d\u7f6e yarn.scheduler.maximum-allocation-vcores yarn.scheduler.minimum-allocation-vcores Flink\u5355\u4e2atask manager\u7684slot\u6570\u91cf\u5fc5\u987b\u4ecb\u4e8e\u8fd9\u4e24\u4e2a\u503c\u4e4b\u95f4 yarn.scheduler.maximum-allocation-mb yarn.scheduler.minimum-allocation-mb Flink\u7684job manager \u548ctask manager\u5185\u5b58\u4e0d\u5f97\u8d85\u8fc7container\u6700\u5927\u5206\u914d\u5185\u5b58\u5927\u5c0f\u3002 yarn.nodemanager.resource.cpu-vcores yarn\u7684\u865a\u62dfCPU\u5185\u6838\u6570\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u7269\u7406CPU\u6838\u5fc3\u6570\u76842-3\u500d\uff0c\u5982\u679c\u8bbe\u7f6e\u8fc7\u5c11\uff0c\u4f1a\u5bfc\u81f4CPU\u8d44\u6e90\u65e0\u6cd5\u88ab\u5145\u5206\u5229\u7528\uff0c\u8dd1\u4efb\u52a1\u7684\u65f6\u5019CPU\u5360\u7528\u7387\u4e0d\u9ad8\u3002","title":"flink \u914d\u7f6e\u8c03\u4f18"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink%E9%85%8D%E7%BD%AE%E8%B0%83%E4%BC%98/#flink","text":"jobmanger.rpc.address jm\u7684\u5730\u5740\u3002 jobmanager.rpc.port jm\u7684\u7aef\u53e3\u53f7\u3002 jobmanager.heap.mb jm\u7684\u5806\u5185\u5b58\u5927\u5c0f\u3002\u4e0d\u5efa\u8bae\u914d\u7684\u592a\u5927\uff0c1-2G\u8db3\u591f\u3002 taskmanager.heap.mb tm\u7684\u5806\u5185\u5b58\u5927\u5c0f\u3002\u5927\u5c0f\u89c6\u4efb\u52a1\u91cf\u800c\u5b9a\u3002\u9700\u8981\u5b58\u50a8\u4efb\u52a1\u7684\u4e2d\u95f4\u503c\uff0c\u7f51\u7edc\u7f13\u5b58\uff0c\u7528\u6237\u6570\u636e\u7b49\u3002 taskmanager.numberOfTaskSlots slot\u6570\u91cf\u3002\u5728yarn\u6a21\u5f0f\u4f7f\u7528\u7684\u65f6\u5019\u4f1a\u53d7\u5230yarn.scheduler.maximum-allocation-vcores\u503c\u7684\u5f71\u54cd\u3002\u6b64\u5904\u6307\u5b9a\u7684slot\u6570\u91cf\u5982\u679c\u8d85\u8fc7yarn\u7684maximum-allocation-vcores\uff0cflink\u542f\u52a8\u4f1a\u62a5\u9519\u3002\u5728yarn\u6a21\u5f0f\uff0cflink\u542f\u52a8\u7684task manager\u4e2a\u6570\u53ef\u4ee5\u53c2\u7167\u5982\u4e0b\u8ba1\u7b97\u516c\u5f0f\uff1a num_of_tm = ceil(parallelism / slot) \u5373\u5e76\u884c\u5ea6\u9664\u4ee5slot\u4e2a\u6570\uff0c\u7ed3\u679c\u5411\u4e0a\u53d6\u6574\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cslot \u76ee\u524d\u4ec5\u4ec5\u7528\u6765\u9694\u79bb\u5185\u5b58\uff0c\u4e0d\u4f1a\u6d89\u53ca CPU \u7684\u9694\u79bb\u3002\u5728\u5177\u4f53\u5e94\u7528\u65f6\uff0c\u53ef\u4ee5\u5c06 slot \u6570\u91cf\u914d\u7f6e\u4e3a\u673a\u5668\u7684 CPU \u6838\u5fc3\u6570\uff0c\u5c3d\u91cf\u907f\u514d\u4e0d\u540c\u4efb\u52a1\u4e4b\u95f4\u5bf9 CPU \u7684\u7ade\u4e89\u3002\u8fd9\u4e5f\u662f\u5f00\u53d1\u73af\u5883\u9ed8\u8ba4\u5e76\u884c\u5ea6\u8bbe\u4e3a\u673a\u5668 CPU \u6570\u91cf\u7684\u539f\u56e0\u3002 parallelsm.default \u4efb\u52a1\u9ed8\u8ba4\u5e76\u884c\u5ea6\uff0c\u5982\u679c\u4efb\u52a1\u672a\u6307\u5b9a\u5e76\u884c\u5ea6\uff0c\u5c06\u91c7\u7528\u6b64\u8bbe\u7f6e\u3002 web.port Flink web ui\u7684\u7aef\u53e3\u53f7\u3002 jobmanager.archive.fs.dir \u5c06\u5df2\u5b8c\u6210\u7684\u4efb\u52a1\u5f52\u6863\u5b58\u50a8\u7684\u76ee\u5f55\u3002 history.web.port \u57fa\u4e8eweb\u7684history server\u7684\u7aef\u53e3\u53f7\u3002 historyserver.archive.fs.dir history server\u7684\u5f52\u6863\u76ee\u5f55\u3002\u8be5\u914d\u7f6e\u5fc5\u987b\u5305\u542bjobmanager.archive.fs.dir\u914d\u7f6e\u7684\u76ee\u5f55\uff0c\u4ee5\u4fbfhistory server\u80fd\u591f\u8bfb\u53d6\u5230\u5df2\u5b8c\u6210\u7684\u4efb\u52a1\u4fe1\u606f\u3002 historyserver.archive.fs.refresh-interval \u5237\u65b0\u5b58\u6863\u4f5c\u4e1a\u76ee\u5f55\u65f6\u95f4\u95f4\u9694 state.backend \u5b58\u50a8\u548c\u68c0\u67e5\u70b9\u7684\u540e\u53f0\u5b58\u50a8\u3002\u53ef\u9009\u503c\u4e3arocksdb filesystem hdfs\u3002 state.backend.fs.checkpointdir \u68c0\u67e5\u70b9\u6570\u636e\u6587\u4ef6\u548c\u5143\u6570\u636e\u7684\u9ed8\u8ba4\u76ee\u5f55\u3002 state.checkpoints.dir \u4fdd\u5b58\u68c0\u67e5\u70b9\u76ee\u5f55\u3002 state.savepoints.dir save point\u7684\u76ee\u5f55\u3002 state.checkpoints.num-retained \u4fdd\u7559\u6700\u8fd1\u68c0\u67e5\u70b9\u7684\u6570\u91cf\u3002 state.backend.incremental \u589e\u91cf\u5b58\u50a8\u3002 akka.ask.timeout Job Manager\u548cTask Manager\u901a\u4fe1\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u5982\u679c\u7f51\u7edc\u62e5\u6324\u7ecf\u5e38\u51fa\u73b0\u8d85\u65f6\u9519\u8bef\uff0c\u53ef\u4ee5\u589e\u5927\u8be5\u914d\u7f6e\u503c\u3002 akka.watch.heartbeat.interval \u5fc3\u8df3\u53d1\u9001\u95f4\u9694\uff0c\u7528\u6765\u68c0\u6d4btask manager\u7684\u72b6\u6001\u3002 akka.watch.heartbeat.pause \u5982\u679c\u8d85\u8fc7\u8be5\u65f6\u95f4\u4ecd\u672a\u6536\u5230task manager\u7684\u5fc3\u8df3\uff0c\u8be5task manager \u4f1a\u88ab\u8ba4\u4e3a\u5df2\u6302\u6389\u3002 taskmanager.network.memory.max \u7f51\u7edc\u7f13\u51b2\u533a\u6700\u5927\u5185\u5b58\u5927\u5c0f\u3002 taskmanager.network.memory.min \u7f51\u7edc\u7f13\u51b2\u533a\u6700\u5c0f\u5185\u5b58\u5927\u5c0f\u3002 taskmanager.network.memory.fraction \u7f51\u7edc\u7f13\u51b2\u533a\u4f7f\u7528\u7684\u5185\u5b58\u5360\u636e\u603bJVM\u5185\u5b58\u7684\u6bd4\u4f8b\u3002\u5982\u679c\u914d\u7f6e\u4e86taskmanager.network.memory.max\u548ctaskmanager.network.memory.min\uff0c\u672c\u914d\u7f6e\u9879\u4f1a\u88ab\u8986\u76d6\u3002 fs.hdfs.hadoopconf hadoop\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff08\u5df2\u88ab\u5e9f\u5f03\uff0c\u5efa\u8bae\u4f7f\u7528HADOOP_CONF_DIR\u73af\u5883\u53d8\u91cf\uff09 yarn.application-attempts job\u5931\u8d25\u5c1d\u8bd5\u6b21\u6570\uff0c\u4e3b\u8981\u662f\u6307job manager\u7684\u91cd\u542f\u5c1d\u8bd5\u6b21\u6570\u3002\u8be5\u503c\u4e0d\u5e94\u8be5\u8d85\u8fc7yarn-site.xml\u4e2d\u7684yarn.resourcemanager.am.max-attemps\u7684\u503c\u3002 Flink HA(Job Manager)\u7684\u914d\u7f6e high-availability: zookeeper \u4f7f\u7528zookeeper\u8d1f\u8d23HA\u5b9e\u73b0 high-availability.zookeeper.path.root: /flink flink\u4fe1\u606f\u5728zookeeper\u5b58\u50a8\u8282\u70b9\u7684\u540d\u79f0 high-availability.zookeeper.quorum: zk1,zk2,zk3 zookeeper\u96c6\u7fa4\u8282\u70b9\u7684\u5730\u5740\u548c\u7aef\u53e3 high-availability.storageDir: hdfs://nameservice/flink/ha/ job manager\u5143\u6570\u636e\u5728\u6587\u4ef6\u7cfb\u7edf\u50a8\u5b58\u7684\u4f4d\u7f6e\uff0czookeeper\u4ec5\u4fdd\u5b58\u4e86\u6307\u5411\u8be5\u76ee\u5f55\u7684\u6307\u9488\u3002 Flink metrics \u76d1\u63a7\u76f8\u5173\u914d\u7f6e metrics.reporters: prom metrics.reporter.prom.class: org.apache.flink.metrics.prometheus.PrometheusReporter metrics.reporter.prom.port: 9250-9260 Kafka\u76f8\u5173\u8c03\u4f18\u914d\u7f6e linger.ms/batch.size \u8fd9\u4e24\u4e2a\u914d\u7f6e\u9879\u914d\u5408\u4f7f\u7528\uff0c\u53ef\u4ee5\u5728\u541e\u5410\u91cf\u548c\u5ef6\u8fdf\u4e2d\u5f97\u5230\u6700\u4f73\u7684\u5e73\u8861\u70b9\u3002batch.size\u662fkafka producer\u53d1\u9001\u6570\u636e\u7684\u6279\u91cf\u5927\u5c0f\uff0c\u5f53\u6570\u636e\u91cf\u8fbe\u5230batch size\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u8fd9\u6279\u6570\u636e\u53d1\u9001\u51fa\u53bb\uff0c\u907f\u514d\u4e86\u6570\u636e\u4e00\u6761\u4e00\u6761\u7684\u53d1\u9001\uff0c\u9891\u7e41\u5efa\u7acb\u548c\u65ad\u5f00\u7f51\u7edc\u8fde\u63a5\u3002\u4f46\u662f\u5982\u679c\u6570\u636e\u91cf\u6bd4\u8f83\u5c0f\uff0c\u5bfc\u81f4\u8fdf\u8fdf\u4e0d\u80fd\u8fbe\u5230batch.size\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5ef6\u8fdf\u4e0d\u4f1a\u8fc7\u5927\uff0ckafka\u4e0d\u80fd\u65e0\u9650\u7b49\u5f85\u6570\u636e\u91cf\u8fbe\u5230batch.size\u7684\u65f6\u5019\u624d\u53d1\u9001\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f15\u5165\u4e86linger.ms\u914d\u7f6e\u9879\u3002\u5f53\u6570\u636e\u5728\u7f13\u5b58\u4e2d\u7684\u65f6\u95f4\u8d85\u8fc7linger.ms\u65f6\uff0c\u65e0\u8bba\u7f13\u5b58\u4e2d\u6570\u636e\u662f\u5426\u8fbe\u5230\u6279\u91cf\u5927\u5c0f\uff0c\u90fd\u4f1a\u88ab\u5f3a\u5236\u53d1\u9001\u51fa\u53bb\u3002 ack \u6570\u636e\u6e90\u662f\u5426\u9700\u8981kafka\u5f97\u5230\u786e\u8ba4\u3002all\u8868\u793a\u9700\u8981\u6536\u5230\u6240\u6709ISR\u8282\u70b9\u7684\u786e\u8ba4\u4fe1\u606f\uff0c1\u8868\u793a\u53ea\u9700\u8981\u6536\u5230kafka leader\u7684\u786e\u8ba4\u4fe1\u606f\uff0c0\u8868\u793a\u4e0d\u9700\u8981\u4efb\u4f55\u786e\u8ba4\u4fe1\u606f\u3002\u8be5\u914d\u7f6e\u9879\u9700\u8981\u5bf9\u6570\u636e\u7cbe\u51c6\u6027\u548c\u5ef6\u8fdf\u541e\u5410\u91cf\u505a\u51fa\u6743\u8861\u3002 Kafka topic\u5206\u533a\u6570\u548cFlink\u5e76\u884c\u5ea6\u7684\u5173\u7cfb Flink kafka source\u7684\u5e76\u884c\u5ea6\u9700\u8981\u548ckafka topic\u7684\u5206\u533a\u6570\u4e00\u81f4\u3002\u6700\u5927\u5316\u5229\u7528kafka\u591a\u5206\u533atopic\u7684\u5e76\u884c\u8bfb\u53d6\u80fd\u529b\u3002 Yarn\u76f8\u5173\u8c03\u4f18\u914d\u7f6e yarn.scheduler.maximum-allocation-vcores yarn.scheduler.minimum-allocation-vcores Flink\u5355\u4e2atask manager\u7684slot\u6570\u91cf\u5fc5\u987b\u4ecb\u4e8e\u8fd9\u4e24\u4e2a\u503c\u4e4b\u95f4 yarn.scheduler.maximum-allocation-mb yarn.scheduler.minimum-allocation-mb Flink\u7684job manager \u548ctask manager\u5185\u5b58\u4e0d\u5f97\u8d85\u8fc7container\u6700\u5927\u5206\u914d\u5185\u5b58\u5927\u5c0f\u3002 yarn.nodemanager.resource.cpu-vcores yarn\u7684\u865a\u62dfCPU\u5185\u6838\u6570\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u7269\u7406CPU\u6838\u5fc3\u6570\u76842-3\u500d\uff0c\u5982\u679c\u8bbe\u7f6e\u8fc7\u5c11\uff0c\u4f1a\u5bfc\u81f4CPU\u8d44\u6e90\u65e0\u6cd5\u88ab\u5145\u5206\u5229\u7528\uff0c\u8dd1\u4efb\u52a1\u7684\u65f6\u5019CPU\u5360\u7528\u7387\u4e0d\u9ad8\u3002","title":"flink \u914d\u7f6e\u8c03\u4f18"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/","text":"flink\u96c6\u7fa4\u642d\u5efa \u96c6\u7fa4\u7c7b\u578b \u5355\u673a\u4f2a\u96c6\u7fa4 \uff1a\u4e00\u822c\u4e3a\u5f00\u59cb\u6d4b\u8bd5\u4f7f\u7528 standalone\u72ec\u7acb\u96c6\u7fa4 \uff1a\u4e0d\u4f9d\u8d56hadoop\u73af\u5883\u5373\u53ef\u4f7f\u7528\uff0c\u9700\u8981\u5728\u6bcf\u53f0\u673a\u5668\u5b89\u88c5\u914d\u7f6eflink\u73af\u5883 yarn\u96c6\u7fa4 \uff1a \u4e00\u822c\u751f\u4ea7\u73af\u5883\u4f7f\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528yarn\u8d44\u6e90\uff0c\u53ea\u9700\u8981\u5728\u4e00\u53f0\u673a\u5668\u8fd0\u884cflink\u5373\u53ef","title":"flink\u96c6\u7fa4\u642d\u5efa"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/#flink","text":"","title":"flink\u96c6\u7fa4\u642d\u5efa"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/#_1","text":"\u5355\u673a\u4f2a\u96c6\u7fa4 \uff1a\u4e00\u822c\u4e3a\u5f00\u59cb\u6d4b\u8bd5\u4f7f\u7528 standalone\u72ec\u7acb\u96c6\u7fa4 \uff1a\u4e0d\u4f9d\u8d56hadoop\u73af\u5883\u5373\u53ef\u4f7f\u7528\uff0c\u9700\u8981\u5728\u6bcf\u53f0\u673a\u5668\u5b89\u88c5\u914d\u7f6eflink\u73af\u5883 yarn\u96c6\u7fa4 \uff1a \u4e00\u822c\u751f\u4ea7\u73af\u5883\u4f7f\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528yarn\u8d44\u6e90\uff0c\u53ea\u9700\u8981\u5728\u4e00\u53f0\u673a\u5668\u8fd0\u884cflink\u5373\u53ef","title":"\u96c6\u7fa4\u7c7b\u578b"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/","text":"gp \u672c\u6d4b\u8bd5\u76f4\u63a5\u57fa\u4e8e\u5b9e\u9645\u4e1a\u52a1\u4f7f\u7528\u573a\u666f\uff0c\u901a\u8fc7jdbc\u7684\u6279\u91cfinsert\u65b9\u5f0f\u5199\u5165\u6570\u636e\u5bf9\u6570\u636e\u5e93\u7684\u5199\u5165\u3001\u8bfb\u53d6\u6027\u80fd\u8fdb\u884c\u76f8\u5e94\u7684\u6d4b\u8bd5 \u6d4b\u8bd5\u6570\u636e\u8868 CREATE TABLE \"public\".\"muser\" ( \"id\" int4 DEFAULT nextval('muser_id_seq'::regclass) NOT NULL, \"col1\" varchar(255) COLLATE \"default\", \"user\" varchar(255) COLLATE \"default\", \"pass\" varchar(255) COLLATE \"default\", \"created\" timestamp(0) ) WITH (OIDS=FALSE) \u6d4b\u8bd5\u4ee3\u7801 class gptestTest { val log=LogFactory.get() @Test fun insertData1(){ val db= Db.use() for (num in arrayOf(1,10,100)){ val lst=ArrayList<Entity>() val ts= measureTimeMillis { for (i in 0 until 10000*num){ val it=Entity.create(\"muser\") it.set(\"col1\",\"user${i+1}\") it.set(\"user\",\"testuser${i+1}\") it.set(\"pass\",\"tp${i}_123456\") it.set(\"created\", Date()) lst.add(it) if (i % 1000 ==0 ){ db.insert(lst) lst.clear() } } } log.info(\"\u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09\u5199\u5165${10000*num}\u6761\u6570\u636e\u8017\u65f6:$ts ms\") } } } \u5f53\u524d\u65b9\u6848\uff08mysql\uff09\u5199\u5165\u6d4b\u8bd5 \u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f69244ms,\u5e73\u5747\u6bcf\u79d21111\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f695018ms,\u5e73\u5747\u6bcf\u79d21052\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6989530ms\uff0c\u5e73\u5747\u6bcf\u79d21010\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8300KB/s \u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f68959ms,\u5e73\u5747\u6bcf\u79d21111\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f690899ms,\u5e73\u5747\u6bcf\u79d21098\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6989530ms\uff0c\u5e73\u5747\u6bcf\u79d21010\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8300KB/s gp\u5e93\u9ed8\u8ba4\u8bbe\u7f6e\u6d4b\u8bd5 \u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f612473ms,\u5e73\u5747\u6bcf\u79d2883\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6111765ms,\u5e73\u5747\u6bcf\u79d2892\u6761 20*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6223120ms\uff0c\u5e73\u5747\u6bcf\u79d2897\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8120KB/s \u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f69989ms,\u5e73\u5747\u6bcf\u79d21000\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6104827ms,\u5e73\u5747\u6bcf\u79d2952\u6761 20*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6211133ms\uff0c\u5e73\u5747\u6bcf\u79d2948\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8120KB/s gp\u5e93\u8c03\u4f18\u540e\u6d4b\u8bd5 #\u8c03\u4f18\u65b9\u6848 gpconfig -c gp_enable_global_deadlock_detector -v on #\u4e0b\u9762\u8fd9\u4e2a\u5bf9\u5199\u5165\u5f71\u54cd\u4e0d\u5927\uff0c\u5efa\u8bae\u4fdd\u7559 #gpconfig -c optimizer -v off gpconfig -c log_statement -v none gpconfig -c wal_writer_delay -v '10ms' gpconfig -c bgwriter_delay -v '10ms' --skipvalidation gpconfig -c commit_siblings -v 16 --skipvalidation gpconfig -c checkpoint_completion_target -v 0.9 gpconfig -c bgwriter_lru_maxpages -v 1000 --skipvalidation gpconfig -c fsync -v off --skipvalidation gpconfig -c full_page_writes -v off --skipvalidation gpconfig -c wal_buffers -v '32MB' -m '256MB' gpconfig -c shared_buffers -v '512MB' -m '4GB' gpconfig -c resource_scheduler -v off #\u91cd\u8f7d\u4fee\u6539\u7684\u914d\u7f6e gpstop -u #\u68c0\u67e5\u4fee\u6539\u662f\u5426\u751f\u6548 gpconfig -s gp_enable_global_deadlock_detector && gpconfig -s log_statement \u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f69642ms,\u5e73\u5747\u6bcf\u79d21000\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6101516ms,\u5e73\u5747\u6bcf\u79d2980\u6761 20*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6201291ms\uff0c\u5e73\u5747\u6bcf\u79d2995\u6761 50*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6525474ms\uff0c\u5e73\u5747\u6bcf\u79d2952\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f61064118ms\uff0c\u5e73\u5747\u6bcf\u79d2955\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8150KB/s \u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f69497ms,\u5e73\u5747\u6bcf\u79d21111\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6100246ms,\u5e73\u5747\u6bcf\u79d21000\u6761 20*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6200010ms\uff0c\u5e73\u5747\u6bcf\u79d21000\u6761 50*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6519329ms\uff0c\u5e73\u5747\u6bcf\u79d2963\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f61047257ms\uff0c\u5e73\u5747\u6bcf\u79d2955\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8150KB/s \u5355\u8282\u70b9postgresql\u9ed8\u8ba4\u914d\u7f6e\u6d4b\u8bd5 docker run -itd --name psql96 -v /data/psqldata:/var/lib/postgresql/data -p 15432:5432 -e POSTGRES_PASSWORD=Bzpg123456 hdfs4:5000/postgresql:9.6 \u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f61334ms,\u5e73\u5747\u6bcf\u79d210000\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f610575ms,\u5e73\u5747\u6bcf\u79d29091\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6103150ms\uff0c\u5e73\u57479709\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad81.2MB/s \u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6964ms,\u5e73\u5747\u6bcf\u79d210000\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f610362ms,\u5e73\u5747\u6bcf\u79d210000\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6104843ms\uff0c\u5e73\u5747\u6bcf\u79d210000\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad81.3MB/s \u5199\u5165\u91cd\u590d\u6570\u636e \u76f4\u63a5\u6279\u91cf\u5199\u5165\u4e0d\u91cd\u590d\u7684:10508ms \u901a\u8fc7rule\u5199\u51651\u4e07\u6761\u6570\u636e\u5176\u4e2d\u5305\u62ec10\u6761\u4e0d\u91cd\u590d\u7684\uff0c\u5199\u5165\u8017\u65f619473ms \u6d4b\u8bd5\u7ed3\u8bba \u57283\u4e2a\u6570\u636e\u8282\u70b9\u7684\u96c6\u7fa4\u73af\u5883\u4e0b\uff0c4\u4e2a\u673a\u5668\u5206\u522b\u8fd0\u884c\u5199\u5165\u6d4b\u8bd5\u7a0b\u5e8f\u5f80\u540c\u4e00\u4e2a\u6570\u636e\u8868\u4e2d\u5199\u5165\u6570\u636e\uff0c\u5f97\u51fa\u7684\u5e73\u5747\u5199\u5165\u901f\u5ea6\u4e0b\u964d\u548c\u5355\u4e2a\u5199\u5165\u7a0b\u5e8f\u7684\u5e73\u5747\u901f\u5ea6\u4e0b\u964d\u662f\u5426\u6709\u9650\u603b\u4f53\u572810%~20%\u4e4b\u95f4\uff0c\u5e76\u53d1\u5199\u5165\u6027\u80fd\u57281000\u6761\u6bcf\u79d2\u5de6\u53f3\uff0c4\u4efd\u7a0b\u5e8f\u5e76\u53d1\u5199\u5165\u80fd\u8fbe\u52304000\u6761\u6bcf\u79d2\uff0c\u5bf9\u4e1a\u52a1\u7cfb\u7edf\u6765\u8bf4\u6027\u80fd\u5341\u5206\u5145\u8db3 greenplum\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u5199\u5165\u6027\u80fd\u53ef\u4ee5\u6ee1\u8db3\u4e1a\u52a1\u9700\u8981 \u57fa\u4e8edatax\u7684gpdb\u63d2\u4ef6\u4f7f\u7528copy\u6a21\u5f0f\u6279\u91cf\u5199\u5165\u6570\u636e9325\u4e07\u8017\u65f62.14\u5c0f\u65f6 \u5e73\u5747\u6bcf\u79d2\u949f\u5199\u516512189\u6761 \u5bfc\u51659325\u4e07\u8f66\u8f86\u901a\u884c\u6570\u636e\u540e\u76f4\u63a5\u901a\u8fc7\u901a\u884c\u65f6\u95f4\u52a0\u8f66\u724c\u53f7\u67e5\u8be2\u8fd4\u56de100\u6761\u8017\u65f64.5\u79d2\u5de6\u53f3\uff0c\u8f66\u53f7\u901a\u884c\u65f6\u95f4\u5b57\u6bb5\u6dfb\u52a0\u7d22\u5f15\u540e\uff089000\u4e07\u6570\u636e\u6dfb\u52a0\u7d22\u5f15\u8017\u65f63\u5206\u949f\uff09\u540c\u6837\u8bed\u53e5\u4fee\u6539\u4e0d\u540c\u7684\u67e5\u8be2\u8303\u56f4\u4ee5\u53ca\u7b5b\u9009\u6761\u4ef6\u67e5\u8be2\u8017\u65f60.01~0.15\u79d2\u5de6\u53f3\uff0c\u67e5\u8be2\u6027\u80fd\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42","title":"Gp6\u5e93\u6027\u80fd\u6d4b\u8bd5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#gp","text":"\u672c\u6d4b\u8bd5\u76f4\u63a5\u57fa\u4e8e\u5b9e\u9645\u4e1a\u52a1\u4f7f\u7528\u573a\u666f\uff0c\u901a\u8fc7jdbc\u7684\u6279\u91cfinsert\u65b9\u5f0f\u5199\u5165\u6570\u636e\u5bf9\u6570\u636e\u5e93\u7684\u5199\u5165\u3001\u8bfb\u53d6\u6027\u80fd\u8fdb\u884c\u76f8\u5e94\u7684\u6d4b\u8bd5","title":"gp"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#_1","text":"CREATE TABLE \"public\".\"muser\" ( \"id\" int4 DEFAULT nextval('muser_id_seq'::regclass) NOT NULL, \"col1\" varchar(255) COLLATE \"default\", \"user\" varchar(255) COLLATE \"default\", \"pass\" varchar(255) COLLATE \"default\", \"created\" timestamp(0) ) WITH (OIDS=FALSE)","title":"\u6d4b\u8bd5\u6570\u636e\u8868"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#_2","text":"class gptestTest { val log=LogFactory.get() @Test fun insertData1(){ val db= Db.use() for (num in arrayOf(1,10,100)){ val lst=ArrayList<Entity>() val ts= measureTimeMillis { for (i in 0 until 10000*num){ val it=Entity.create(\"muser\") it.set(\"col1\",\"user${i+1}\") it.set(\"user\",\"testuser${i+1}\") it.set(\"pass\",\"tp${i}_123456\") it.set(\"created\", Date()) lst.add(it) if (i % 1000 ==0 ){ db.insert(lst) lst.clear() } } } log.info(\"\u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09\u5199\u5165${10000*num}\u6761\u6570\u636e\u8017\u65f6:$ts ms\") } } }","title":"\u6d4b\u8bd5\u4ee3\u7801"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#mysql","text":"\u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f69244ms,\u5e73\u5747\u6bcf\u79d21111\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f695018ms,\u5e73\u5747\u6bcf\u79d21052\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6989530ms\uff0c\u5e73\u5747\u6bcf\u79d21010\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8300KB/s \u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f68959ms,\u5e73\u5747\u6bcf\u79d21111\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f690899ms,\u5e73\u5747\u6bcf\u79d21098\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6989530ms\uff0c\u5e73\u5747\u6bcf\u79d21010\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8300KB/s","title":"\u5f53\u524d\u65b9\u6848\uff08mysql\uff09\u5199\u5165\u6d4b\u8bd5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#gp_1","text":"\u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f612473ms,\u5e73\u5747\u6bcf\u79d2883\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6111765ms,\u5e73\u5747\u6bcf\u79d2892\u6761 20*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6223120ms\uff0c\u5e73\u5747\u6bcf\u79d2897\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8120KB/s \u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f69989ms,\u5e73\u5747\u6bcf\u79d21000\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6104827ms,\u5e73\u5747\u6bcf\u79d2952\u6761 20*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6211133ms\uff0c\u5e73\u5747\u6bcf\u79d2948\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8120KB/s","title":"gp\u5e93\u9ed8\u8ba4\u8bbe\u7f6e\u6d4b\u8bd5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#gp_2","text":"#\u8c03\u4f18\u65b9\u6848 gpconfig -c gp_enable_global_deadlock_detector -v on #\u4e0b\u9762\u8fd9\u4e2a\u5bf9\u5199\u5165\u5f71\u54cd\u4e0d\u5927\uff0c\u5efa\u8bae\u4fdd\u7559 #gpconfig -c optimizer -v off gpconfig -c log_statement -v none gpconfig -c wal_writer_delay -v '10ms' gpconfig -c bgwriter_delay -v '10ms' --skipvalidation gpconfig -c commit_siblings -v 16 --skipvalidation gpconfig -c checkpoint_completion_target -v 0.9 gpconfig -c bgwriter_lru_maxpages -v 1000 --skipvalidation gpconfig -c fsync -v off --skipvalidation gpconfig -c full_page_writes -v off --skipvalidation gpconfig -c wal_buffers -v '32MB' -m '256MB' gpconfig -c shared_buffers -v '512MB' -m '4GB' gpconfig -c resource_scheduler -v off #\u91cd\u8f7d\u4fee\u6539\u7684\u914d\u7f6e gpstop -u #\u68c0\u67e5\u4fee\u6539\u662f\u5426\u751f\u6548 gpconfig -s gp_enable_global_deadlock_detector && gpconfig -s log_statement \u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f69642ms,\u5e73\u5747\u6bcf\u79d21000\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6101516ms,\u5e73\u5747\u6bcf\u79d2980\u6761 20*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6201291ms\uff0c\u5e73\u5747\u6bcf\u79d2995\u6761 50*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6525474ms\uff0c\u5e73\u5747\u6bcf\u79d2952\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f61064118ms\uff0c\u5e73\u5747\u6bcf\u79d2955\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8150KB/s \u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f69497ms,\u5e73\u5747\u6bcf\u79d21111\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6100246ms,\u5e73\u5747\u6bcf\u79d21000\u6761 20*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6200010ms\uff0c\u5e73\u5747\u6bcf\u79d21000\u6761 50*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6519329ms\uff0c\u5e73\u5747\u6bcf\u79d2963\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f61047257ms\uff0c\u5e73\u5747\u6bcf\u79d2955\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad8150KB/s","title":"gp\u5e93\u8c03\u4f18\u540e\u6d4b\u8bd5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#postgresql","text":"docker run -itd --name psql96 -v /data/psqldata:/var/lib/postgresql/data -p 15432:5432 -e POSTGRES_PASSWORD=Bzpg123456 hdfs4:5000/postgresql:9.6 \u975e\u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f61334ms,\u5e73\u5747\u6bcf\u79d210000\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f610575ms,\u5e73\u5747\u6bcf\u79d29091\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6103150ms\uff0c\u5e73\u57479709\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad81.2MB/s \u4e8b\u52a1\u6279\u91cf\u65b9\u5f0f\uff08insert into values(),(),()\uff09 1*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6964ms,\u5e73\u5747\u6bcf\u79d210000\u6761 10*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f610362ms,\u5e73\u5747\u6bcf\u79d210000\u6761 100*10000\u6761\u6570\u636e\u5199\u5165\u603b\u8017\u65f6104843ms\uff0c\u5e73\u5747\u6bcf\u79d210000\u6761 \u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7f51\u7edc\u5e26\u5bbd\u6700\u9ad81.3MB/s","title":"\u5355\u8282\u70b9postgresql\u9ed8\u8ba4\u914d\u7f6e\u6d4b\u8bd5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#_3","text":"\u76f4\u63a5\u6279\u91cf\u5199\u5165\u4e0d\u91cd\u590d\u7684:10508ms \u901a\u8fc7rule\u5199\u51651\u4e07\u6761\u6570\u636e\u5176\u4e2d\u5305\u62ec10\u6761\u4e0d\u91cd\u590d\u7684\uff0c\u5199\u5165\u8017\u65f619473ms","title":"\u5199\u5165\u91cd\u590d\u6570\u636e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/gp6%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#_4","text":"\u57283\u4e2a\u6570\u636e\u8282\u70b9\u7684\u96c6\u7fa4\u73af\u5883\u4e0b\uff0c4\u4e2a\u673a\u5668\u5206\u522b\u8fd0\u884c\u5199\u5165\u6d4b\u8bd5\u7a0b\u5e8f\u5f80\u540c\u4e00\u4e2a\u6570\u636e\u8868\u4e2d\u5199\u5165\u6570\u636e\uff0c\u5f97\u51fa\u7684\u5e73\u5747\u5199\u5165\u901f\u5ea6\u4e0b\u964d\u548c\u5355\u4e2a\u5199\u5165\u7a0b\u5e8f\u7684\u5e73\u5747\u901f\u5ea6\u4e0b\u964d\u662f\u5426\u6709\u9650\u603b\u4f53\u572810%~20%\u4e4b\u95f4\uff0c\u5e76\u53d1\u5199\u5165\u6027\u80fd\u57281000\u6761\u6bcf\u79d2\u5de6\u53f3\uff0c4\u4efd\u7a0b\u5e8f\u5e76\u53d1\u5199\u5165\u80fd\u8fbe\u52304000\u6761\u6bcf\u79d2\uff0c\u5bf9\u4e1a\u52a1\u7cfb\u7edf\u6765\u8bf4\u6027\u80fd\u5341\u5206\u5145\u8db3 greenplum\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u5199\u5165\u6027\u80fd\u53ef\u4ee5\u6ee1\u8db3\u4e1a\u52a1\u9700\u8981 \u57fa\u4e8edatax\u7684gpdb\u63d2\u4ef6\u4f7f\u7528copy\u6a21\u5f0f\u6279\u91cf\u5199\u5165\u6570\u636e9325\u4e07\u8017\u65f62.14\u5c0f\u65f6 \u5e73\u5747\u6bcf\u79d2\u949f\u5199\u516512189\u6761 \u5bfc\u51659325\u4e07\u8f66\u8f86\u901a\u884c\u6570\u636e\u540e\u76f4\u63a5\u901a\u8fc7\u901a\u884c\u65f6\u95f4\u52a0\u8f66\u724c\u53f7\u67e5\u8be2\u8fd4\u56de100\u6761\u8017\u65f64.5\u79d2\u5de6\u53f3\uff0c\u8f66\u53f7\u901a\u884c\u65f6\u95f4\u5b57\u6bb5\u6dfb\u52a0\u7d22\u5f15\u540e\uff089000\u4e07\u6570\u636e\u6dfb\u52a0\u7d22\u5f15\u8017\u65f63\u5206\u949f\uff09\u540c\u6837\u8bed\u53e5\u4fee\u6539\u4e0d\u540c\u7684\u67e5\u8be2\u8303\u56f4\u4ee5\u53ca\u7b5b\u9009\u6761\u4ef6\u67e5\u8be2\u8017\u65f60.01~0.15\u79d2\u5de6\u53f3\uff0c\u67e5\u8be2\u6027\u80fd\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42","title":"\u6d4b\u8bd5\u7ed3\u8bba"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/","text":"greenplum\u96c6\u7fa4\u4f7f\u7528 FDW\u63d2\u4ef6\u4f7f\u7528 mysql_fdw\u63d2\u4ef6\u4f7f\u7528 #\u5728\u4e3b\u8282\u70b9\u4ee5\u53ca\u5907\u4efd\u4e3b\u8282\u70b9\u7528root\u7528\u6237\u6267\u884c #\u521d\u6b21\u4f7f\u7528\u9700\u8981\u521b\u5efa\u6269\u5c55,\u5728mdw\u7528gpadmin\u7528\u6237source env.sh\u540e\u6267\u884c create extension mysql_fdw; #\u540e\u7eed\u4f7f\u7528\u76f4\u63a5\u521b\u5efa\u670d\u52a1\u5668\u4ee5\u53ca\u7528\u6237\u6620\u5c04\u5373\u53ef create server bz47 foreign data wrapper mysql_fdw options (host 'hereisip' ,port '3306'); #\u628a\u670d\u52a1\u5668\u8f6c\u79fb\u7ed9hjdev\u7528\u6237 ALTER SERVER \"bz47\" OWNER TO \"hjdev\"; #\u521b\u5efa\u7528\u6237\u6620\u5c04 create user mapping for hjdev server bz47 options (username 'root',password 'pass'); #\u521b\u5efa\u5916\u90e8\u8868 CREATE FOREIGN TABLE \"public\".\"out_yy_regions\" ( \"indexCode\" varchar(255), \"name\" varchar(255), \"parentIndexCode\" varchar(255), \"treeCode\" varchar(255), \"id\" int4 ) SERVER \"bz47\" OPTIONS (\"dbname\" 'db', \"table_name\" 'yy_regions'); oracle_fdw\u63d2\u4ef6\u4f7f\u7528 #\u5728\u4e3b\u8282\u70b9\u4ee5\u53ca\u5907\u4efd\u4e3b\u8282\u70b9\u7528root\u7528\u6237\u6267\u884c #\u521d\u6b21\u4f7f\u7528\u9700\u8981\u521b\u5efa\u6269\u5c55,\u5728mdw\u7528gpadmin\u7528\u6237source env.sh\u540e\u6267\u884c create extension oracle_fdw; #\u540e\u7eed\u4f7f\u7528\u76f4\u63a5\u521b\u5efa\u670d\u52a1\u5668\u4ee5\u53ca\u7528\u6237\u6620\u5c04\u5373\u53ef create server orcljcz1 foreign data wrapper oracle_fdw options (dbserver '//123.123.29.205:1521/orcl'); #\u628a\u670d\u52a1\u5668\u8f6c\u79fb\u7ed9hjdev\u7528\u6237 ALTER SERVER \"orcljcz1\" OWNER TO \"hjdev\"; #\u521b\u5efa\u7528\u6237\u6620\u5c04 create user mapping for hjdev server orcljcz1 options (user 'thieisuser',password 'thisispass'); #\u521b\u5efa\u5916\u90e8\u8868 CREATE FOREIGN TABLE \"public\".\"out_jcz1_csl_menu\" ( \"id\" varchar(255) NOT NULL, \"menu_name\" varchar(255), \"ranking\" varchar(255), \"href\" varchar(255), \"icon\" varchar(255), \"pid\" varchar(255), \"is_leaf\" varchar(255), \"is_base\" int4, \"menu_key\" varchar(255), \"tag\" varchar(255) ) SERVER \"orcljcz1\" OPTIONS (\"schema\" 'CSL', \"table\" 'CSL_MENU'); ALTER FOREIGN TABLE \"public\".\"out_jcz1_csl_menu\" OWNER TO \"hjdev\"; \u4f7f\u7528\u6280\u5de7 \u5206\u5e03\u5b57\u6bb5\u8bf4\u660e greenplum\u662f\u5206\u5e03\u5f0f\u7684\u6570\u636e\u5e93,\u6240\u4ee5\u9700\u8981\u4e00\u4e2a\u5206\u5e03\u5b57\u6bb5\u7528\u6765\u544a\u8bc9\u6570\u636e\u5e93\u6839\u636e\u54ea\u4e2a\u5b57\u6bb5\u6765\u5206\u5e03\u6570\u636e,\u6700\u597d\u4f7f\u7528\u4e00\u4e2a\u81ea\u589e\u5e8f\u5217\u4f5c\u4e3a\u5206\u5e03\u952e\u8fd9\u6837\u53ef\u4ee5\u5c06\u6570\u636e\u5747\u5300\u7684\u5206\u5e03\u5230\u6bcf\u4e2a\u6570\u636e\u8282\u70b9,\u5206\u5e03\u952e\u9ed8\u8ba4\u4e3a\u7b2c\u4e00\u4e2a\u5b57\u6bb5; \u5efa\u7acb\u7d22\u5f15\u8bf4\u660e \u5efa\u7acb\u7d22\u5f15\u65f6\u5019\u9009\u62e9\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u5728\u4f60\u7684sql\u67e5\u8be2\u4e2d\u5fc5\u987b\u4f20\u5165\u8be5\u6761\u4ef6,\u5426\u5219\u7d22\u5f15\u7528\u5904\u4e0d\u5927\u4e25\u91cd\u5f71\u54cd\u67e5\u8be2\u6548\u7387,\u7b2c\u4e00\u4e2a\u4e4b\u5916\u7684\u5176\u4ed6\u5b57\u6bb5\u4e0d\u53d7\u5f71\u54cd,\u5b9e\u6d4b\u572820\u4e2a\u5b9e\u4f8b\u7684gp\u96c6\u7fa4\u4e2d\u4ece9\u4ebf\u6761\u6570\u636e\u91cc\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u67e5\u8be2\u52a0\u6392\u5e8f\u8017\u65f61\u79d2\u5de6\u53f3(\u6570\u636e\u91cf6000w+) \u5907\u4efd\u4e0e\u6062\u590d #\u53ea\u5907\u4efd\u7ed3\u6784 pg_dump -U hjdev -f ./dbstruct.sql -s lh #\u5907\u4efd\u7ed3\u6784\u52a0\u6570\u636e pg_dump -U hjdev -f ./dbdata.sql lhlh#\u6062\u590d psql -U hjdev -f ./dbdata.sql lhlh \u6269\u5bb9\u96c6\u7fa4 \u9996\u5148\u6309\u7167\u90e8\u7f72\u6587\u6863\u5347\u7ea7\u7cfb\u7edf\u5185\u6838\u4ee5\u53casysctl\u8bbe\u7f6e\u8fd8\u6709ulimit\u7684\u8bbe\u7f6e \u5b89\u88c5docker\u5e76\u52a0\u5165\u539f\u6709\u96c6\u7fa4\u7684\u7f51\u7edc,\u5728\u539f\u6709\u96c6\u7fa4\u6267\u884cdocker swarm join-token manager\u7136\u540e\u5c06\u8f93\u51fa\u7684\u547d\u4ee4\u5728\u65b0\u673a\u5668\u6267\u884c \u6bcf\u6b21\u81f3\u5c11\u6dfb\u52a0\u4e24\u53f0\u673a\u5668 \u7f16\u5199\u6269\u5bb9\u914d\u7f6e\u6587\u4ef6addhost(\u5176\u4e2ddbid\u662f\u4ece\u6570\u636e\u5e93\u4e2d select * from gp_segment_configuration order by content \u987a\u7740\u589e\u52a0\u7684,content\u4e5f\u662f\u5728\u73b0\u6709\u57fa\u7840\u4e0a\u6328\u7740\u589e\u52a0\u7684,datadir\u4e2d\u7684pgseg\u540e\u7684\u6570\u5b57\u662f\u53d6\u503c\u4e8econtent #<hostname>|<address>|<port>|<datadir>|<dbid>|<content>|<preferred_role> sdw4|sdw4|10000|/home/gpadmin/data/gpseg6|15|6|p sdw4|sdw4|10001|/home/gpadmin/data/gpseg7|16|7|p sdw5|sdw5|10000|/home/gpadmin/data/gpseg8|19|8|p sdw5|sdw5|10001|/home/gpadmin/data/gpseg9|20|9|p sdw5|sdw5|30000|/home/gpadmin/mirror/gpseg6|17|6|m sdw5|sdw5|30001|/home/gpadmin/mirror/gpseg7|18|7|m sdw4|sdw4|30000|/home/gpadmin/mirror/gpseg8|21|8|m sdw4|sdw4|30001|/home/gpadmin/mirror/gpseg9|22|9|m \u5206\u522b\u5728\u8981\u6dfb\u52a0\u7684\u673a\u5668\u6267\u884c ipcs -ls \u53ef\u4ee5\u5728\u4e3b\u8282\u70b9\u76f4\u63a5ssh\u8fc7\u53bb\u6267\u884c,\u770b\u8f93\u51fa\u7684\u6570\u503c\u662f\u5426\u548c\u73b0\u6709\u96c6\u7fa4\u7684\u4e00\u6837 \u4fee\u6539\u4e3b\u8282\u70b9(pgseg0)\u7684\u4e3b\u8981\u5b9e\u4f8b\u548c\u955c\u50cf\u5b9e\u4f8b\u7684 gpseg0/pg_hba.conf \u6587\u4ef6,\u5728\u5176\u4e2d\u6dfb\u52a0\u4e00\u884c host all gpadmin 192.168.123.10/24 trust \u5176\u4e2d 192.168.123.10\u662f\u96c6\u7fa4\u7684\u865a\u62dfip\u6bb5\u53ef\u901a\u8fc7 ip addr \u83b7\u53d6\u5230; \u6267\u884c\u6269\u5bb9(\u6dfb\u52a0\u8282\u70b9\u6b65\u9aa4): gpexpand -i addhost -v ,\u5982\u679c\u65e0\u610f\u5916\u7684\u8bdd\u8282\u70b9\u6dfb\u52a0\u6210\u529f\u53ef\u4ee5\u901a\u8fc7 gpstate -a \u67e5\u770b\u4e5f\u53ef\u4ee5\u901a\u8fc7 select * from gp_segment_configuration order by content \u67e5\u770b \u6267\u884c\u6570\u636e\u5747\u8861(\u95f2\u65f6\u6267\u884c): gpexpand -d 2:00:00 \u4ee3\u8868\u6267\u884c\u6700\u591a2\u4e2a\u5c0f\u65f6\u7684\u6570\u636e\u5747\u8861 #\u8f93\u51fa\u65e5\u5fd7(\u5728\u5747\u8861\u8fc7\u7a0b\u4e2d\u7684\u8868\u51e0\u4e4e\u65e0\u6cd5\u8bbf\u95ee) 20210122:12:07:11:043279 gpexpand:mdw:gpadmin-[INFO]:-Querying gpexpand schema for current expansion state 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Expanding lh.public.czrkjbxx 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Finished expanding lhlhublic.czrkjbxx 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Expanding lhlhlic.myreg 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Finished expanding lh.plhc.myreg 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Expanding lh.publhcar_pass \u7269\u5316\u89c6\u56fe\u529f\u80fd \u7269\u5316\u89c6\u56fe\u662fpg\u7c7b\u6570\u636e\u5e93\u7279\u6709\u4e00\u9879\u529f\u80fd\uff0c\u610f\u5373\u5c06\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u7f13\u5b58\u7684gp\u4e2d\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4e4b\u4e0a\u5efa\u7acb\u7d22\u5f15\u4ee5\u53ca\u589e\u91cf\u66f4\u65b0\u7b49\u7279\u6027 \u521b\u5efa\u7269\u5316\u89c6\u56fe\uff08\u53ef\u4ee5\u57fa\u4e8e\u5916\u90e8\u8868\uff09 create MATERIALIZED view mv_out_czrkupdate as select * from out_czrkupdate with no data; -- \u5237\u65b0\u6570\u636e refresh MATERIALIZED view mv_out_czrkupdate; -- \u521b\u5efa\u7d22\u5f15 create index idx_mv_outczk_pt on mv_out_czrkupdate(gmsfhm); --\u6307\u5b9a\u5206\u5e03\u952e\u7684\u7269\u5316\u89c6\u56fe create MATERIALIZED view mv_out_lhhj_yhcar as select * from out_lhhj_yhcar with no data Distributed by (pid); -- \u521b\u5efa\u552f\u4e00\u7d22\u5f15\uff08\u589e\u91cf\u5237\u65b0\u5fc5\u5907\uff09 create index idx_mv_out_lhlh_yhcar on mv_out_lhhj_yhcar(pid); -- \u5168\u91cf\u5237\u65b0 -- \u589e\u91cf\u5237\u65b0\uff08\u589e\u91cf\u5237\u65b0\u524d\u5fc5\u987b\u5168\u91cf\u5237\u65b0\u4e00\u6b21\uff09 refresh MATERIALIZED view concurrently mv_out_lhhj_yhcar; \u6545\u969c\u6062\u590d \u6062\u590d\u6240\u6709\u6709\u95ee\u9898\u7684\u8282\u70b9(\u8282\u70b9\u7684\u5bb9\u5668\u542f\u52a8\u72b6\u6001\u4e0b) #gpmaster gpadmin\u767b\u5f55 source env.sh gprecoverseg --hba-hostnames -a #\u6267\u884c\u6210\u529f\u4e0a\u9762\u547d\u4ee4\u540e\u901a\u8fc7\u4e0b\u9762\u547d\u4ee4\u67e5\u770b(\u4e0a\u9762\u547d\u4ee4\u6267\u884c\u6210\u529f\u540e\u9700\u8981\u7b49\u7b49\u4e09\u4e94\u5206\u949f\u6216\u8005\u901a\u8fc7`gpstate -s`\u67e5\u770b\u540c\u6b65\u72b6\u6001) gpstate -e #\u5982\u679c\u59cb\u7ec8\u6709\u8282\u70b9\u9519\u8bef\u5c31\u7ee7\u7eed\u4f7f\u7528\u4e0b\u9762\u5168\u91cf\u540c\u6b65\u6a21\u5f0f\u6062\u590d\u8282\u70b9 gprecoverseg --hba-hostnames -F -a #\u6210\u529f\u5b8c\u6210\u540e\u6267\u884c gprecoverseg ---hba-hostnames -r -a #\u6700\u540e\u901a\u8fc7\u4e0b\u9762\u547d\u4ee4\u67e5\u770b(\u4e0a\u9762\u547d\u4ee4\u6267\u884c\u6210\u529f\u540e\u9700\u8981\u7b49\u7b49\u4e09\u4e94\u5206\u949f\u6216\u8005\u901a\u8fc7`gpstate -s`\u67e5\u770b\u540c\u6b65\u72b6\u6001) gpstate -e \u81ea\u52a8\u6e05\u7406\u8fc7\u671f\u65e5\u5fd7 \u4ece\u5bb9\u5668\u5916\u9762\u901a\u8fc7docker exec xxx\u6765\u8c03\u7528 #!/bin/bash cd /home/gpadmin/master logf=\"perday.log\" echo \"begin check gpstate `date` \" > $logf source /home/gpadmin/env.sh gprecoverseg --hba-hostnames -a >> $logf gprecoverseg --hba-hostnames -F -a >> $logf gprecoverseg --hba-hostnames -r -a >> $logf gpstate -a >> $logf #clean old log find /home/gpadmin -name \"gpdb-*.csv\" -atime +3 |xargs rm -f echo mdw >> $logf df -h >> $logf gpssh -f /home/gpadmin/hostfile -e 'df -h' >> $logf gpssh -f /home/gpadmin/hostfile -e 'find /home/gpadmin -name \"gpdb-*.csv\" -atime +3 |xargs rm -f' >> $logf echo \"check over\" >> $logf \u7ef4\u62a4\u6a21\u5f0f \u7ef4\u62a4\u6a21\u5f0f\u542f\u52a8: gpstart -m \u7ef4\u62a4\u6a21\u5f0f\u8fde\u63a5: PGOPTIONS='-c gp_session_role=utility' psql dbname \u7ef4\u62a4\u5b8c\u6bd5\u6b63\u5e38\u542f\u52a8: gpstop -mr sql\u6280\u5de7 \u5bf9\u67d0\u4e2a\u8868\u8fdb\u884c\u7edf\u8ba1\u5e76\u67e5\u770b \u6b64\u65b9\u6cd5\u53ef\u4ee5\u6839\u636e\u6570\u636e\u8868\u7ed3\u6784\u548c\u5b58\u50a8\u7684\u6570\u636e\u5206\u6790\u51fa\u5177\u4f53\u6bcf\u5217\u7684\u6700\u5e38\u89c1\u503c\u3001\u51fa\u73b0\u9891\u7387\u3001null\u7387\u7b49\u5e38\u7528\u7edf\u8ba1\u4fe1\u606f\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5236\u4f5c\u70ed\u529b\u56fe\u4e00\u7c7b \u6ce8\u610f\uff1a\u5bf9\u4e8e\u6570\u636e\u91cf\u8f83\u591a\u7684\u8868\uff0c\u6b64\u65b9\u6cd5\u7edf\u8ba1\u51fa\u7684\u4fe1\u606f\u53ea\u662f\u62bd\u6837\u7edf\u8ba1\u4e0d\u662f\u5168\u91cf\u7edf\u8ba1\uff01 analyze car_pass; select * from pg_stats where tablename='car_pass'; \u67e5\u8be2\u5f53\u524d\u8fde\u63a5\u6570 select count(1) from pg_stat_activity; \u6ce8\u610f\u4e8b\u9879 \u4e25\u7981\u4f7f\u7528kill\u547d\u4ee4\u6740postgres\u8fdb\u7a0b\uff0c\u6709\u7c7b\u4f3c\u9700\u8981\u8bf7\u4f7f\u7528\u6570\u636e\u5e93\u547d\u4ee4 pg_terminate_backend() \u6765\u5b8c\u6210 \u6bcf\u5929\u5b9a\u65f6analyze\u4ee5\u53cavacuum\u5927\u8868\u6216\u8005\u6570\u636e\u91cf\u6bcf\u5929\u53d8\u5316\u8f83\u5927\u7684\u8868 greenplum\u5173\u95ed\u73b0\u6709\u8fde\u63a5 \u5f53\u666e\u901a\u7528\u6237\u65e0\u6cd5\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u63d0\u793a\u8fde\u63a5\u8fc7\u591a\u65f6\u5019\u6211\u4eec\u901a\u8fc7\u7ba1\u7406\u5458\u6a21\u5f0f\u8fdb\u53bb\u67e5\u51fa\u6240\u6709\u8fde\u63a5\uff0c\u7136\u540e\u8fdb\u884c\u5173\u95ed\u5373\u53ef #\u4f7f\u7528\u8d85\u7ba1\u6a21\u5f0f\u8fdb\u5165 PGOPTIONS='-c gp_session_role=utility' psql test #\u5982\u679c\u8981\u5173\u95ed\u6240\u6709\u8fde\u63a5 select pg_terminate_backend(pid) from pg_stat_activity; #\u5982\u679c\u5173\u95ed\u8fde\u63a5\u5230\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u8fde\u63a5 select pg_terminate_backend(pid) from pg_stat_activity where datname='test'; \u5217\u5f0f\u5b58\u50a8\u7279\u70b9 \u4f18\u52bf \u6570\u636e\u6309\u5217\u5b58\u50a8\u53ef\u4ee5\u83b7\u5f97\u8f83\u9ad8\u7684\u538b\u7f29\u6bd4 \u5f53\u67e5\u8be2\u5c11\u91cf\u5b57\u6bb5\u65f6\u5019\uff0c\u626b\u63cf\u7684\u5757\u66f4\u5c11\uff0c\u8282\u7ea6iO\u4e14\u63d0\u5347\u6548\u7387 \u52a3\u52bf \u67e5\u8be2\u5927\u91cf\u5b57\u6bb5\u6216\u67e5\u8be2\u8bb0\u5f55\u6570\u504f\u5c11\u65f6\u4f1a\u9020\u6210\u8f83\u591a\u79bb\u6563IO \u7531\u4e8eIO\u653e\u5927\uff0c\u5217\u5b58\u50a8\u4e0d\u9002\u5408OLTP\u573a\u666f\uff0c\u5982\u6709\u5927\u91cf\u66f4\u65b0\u67e5\u8be2\u64cd\u4f5c\u7684\u8868 \u9002\u7528\u573a\u666f \u5178\u578b\u7684OLAP\u573a\u666f\u3001\u6309\u5217\u505a\u8f83\u5927\u8303\u56f4\u7684\u805a\u5408\u5206\u6790\u6216\u8005JOIN\u5206\u6790 \u5982\u679c\u7528\u6237\u9891\u7e41\u7684\u88c5\u8f7d\u548c\u66f4\u65b0\u8868\u6570\u636e\u9002\u7528\u4e8e\u9762\u5411\u884c\u7684heap\u8868\uff0c\u9762\u5411\u5217\u9002\u7528\u4e8e\u8ffd\u52a0\u4f18\u5316\u7684\u8868\uff08\u5199\u5165\u591a\uff09 \u9891\u7e41insert\u6574\u884c\u7684\u8bf7\u9009\u62e9\u9762\u5411\u8ffd\u52a0\u4f18\u5316\u7684\u884c\u5b58\u50a8\u8868 \u67e5\u8be2\u4e2d\u7ecf\u5e38\u9700\u8981\u8fd4\u56de\u5168\u90e8\u6216\u8005\u5927\u90e8\u5206\u5217\u7684\u60c5\u51b5\u4e0b\u8bf7\u4f7f\u7528\u9762\u5411\u884c\u5b58\u50a8\u7684\u65b9\u5f0f where\u6761\u4ef6\u5355\u4e00\u4e14\u8fd4\u56de\u8f83\u5c11\u884c\uff0c\u9002\u7528\u4e8e\u5217\u5b58 \u5217\u5b58\u652f\u6301\u538b\u7f29\uff0c\u884c\u5b58\u4e0d\u652f\u6301 \u8ffd\u52a0\u4f18\u5316\u8868\u4f7f\u7528 \u5217\u5f0f\u8ffd\u52a0\u8868 create table tac (id serial4,t1 varchar(255) with(appendonly=true,orientation=column) distributed by (id) ; \u884c\u5f0f\u8ffd\u52a0\u8868 create table tarc (id serial4,t1 varchar(255) with(appendonly=true,orientation=row) distributed by (id) ; \u666e\u901a\u884c\u5f0fheap\u8868 create table tarc (id serial4,t1 varchar(255) distributed by (id) ; \u6b7b\u9501\u6392\u67e5 select * from gp_toolkit.gp_locks_on_relation limit 10 --select pg_terminate_backend(xxx)","title":"greenplum\u96c6\u7fa4\u4f7f\u7528"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#greenplum","text":"","title":"greenplum\u96c6\u7fa4\u4f7f\u7528"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#fdw","text":"","title":"FDW\u63d2\u4ef6\u4f7f\u7528"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#mysql_fdw","text":"#\u5728\u4e3b\u8282\u70b9\u4ee5\u53ca\u5907\u4efd\u4e3b\u8282\u70b9\u7528root\u7528\u6237\u6267\u884c #\u521d\u6b21\u4f7f\u7528\u9700\u8981\u521b\u5efa\u6269\u5c55,\u5728mdw\u7528gpadmin\u7528\u6237source env.sh\u540e\u6267\u884c create extension mysql_fdw; #\u540e\u7eed\u4f7f\u7528\u76f4\u63a5\u521b\u5efa\u670d\u52a1\u5668\u4ee5\u53ca\u7528\u6237\u6620\u5c04\u5373\u53ef create server bz47 foreign data wrapper mysql_fdw options (host 'hereisip' ,port '3306'); #\u628a\u670d\u52a1\u5668\u8f6c\u79fb\u7ed9hjdev\u7528\u6237 ALTER SERVER \"bz47\" OWNER TO \"hjdev\"; #\u521b\u5efa\u7528\u6237\u6620\u5c04 create user mapping for hjdev server bz47 options (username 'root',password 'pass'); #\u521b\u5efa\u5916\u90e8\u8868 CREATE FOREIGN TABLE \"public\".\"out_yy_regions\" ( \"indexCode\" varchar(255), \"name\" varchar(255), \"parentIndexCode\" varchar(255), \"treeCode\" varchar(255), \"id\" int4 ) SERVER \"bz47\" OPTIONS (\"dbname\" 'db', \"table_name\" 'yy_regions');","title":"mysql_fdw\u63d2\u4ef6\u4f7f\u7528"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#oracle_fdw","text":"#\u5728\u4e3b\u8282\u70b9\u4ee5\u53ca\u5907\u4efd\u4e3b\u8282\u70b9\u7528root\u7528\u6237\u6267\u884c #\u521d\u6b21\u4f7f\u7528\u9700\u8981\u521b\u5efa\u6269\u5c55,\u5728mdw\u7528gpadmin\u7528\u6237source env.sh\u540e\u6267\u884c create extension oracle_fdw; #\u540e\u7eed\u4f7f\u7528\u76f4\u63a5\u521b\u5efa\u670d\u52a1\u5668\u4ee5\u53ca\u7528\u6237\u6620\u5c04\u5373\u53ef create server orcljcz1 foreign data wrapper oracle_fdw options (dbserver '//123.123.29.205:1521/orcl'); #\u628a\u670d\u52a1\u5668\u8f6c\u79fb\u7ed9hjdev\u7528\u6237 ALTER SERVER \"orcljcz1\" OWNER TO \"hjdev\"; #\u521b\u5efa\u7528\u6237\u6620\u5c04 create user mapping for hjdev server orcljcz1 options (user 'thieisuser',password 'thisispass'); #\u521b\u5efa\u5916\u90e8\u8868 CREATE FOREIGN TABLE \"public\".\"out_jcz1_csl_menu\" ( \"id\" varchar(255) NOT NULL, \"menu_name\" varchar(255), \"ranking\" varchar(255), \"href\" varchar(255), \"icon\" varchar(255), \"pid\" varchar(255), \"is_leaf\" varchar(255), \"is_base\" int4, \"menu_key\" varchar(255), \"tag\" varchar(255) ) SERVER \"orcljcz1\" OPTIONS (\"schema\" 'CSL', \"table\" 'CSL_MENU'); ALTER FOREIGN TABLE \"public\".\"out_jcz1_csl_menu\" OWNER TO \"hjdev\";","title":"oracle_fdw\u63d2\u4ef6\u4f7f\u7528"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_1","text":"","title":"\u4f7f\u7528\u6280\u5de7"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_2","text":"greenplum\u662f\u5206\u5e03\u5f0f\u7684\u6570\u636e\u5e93,\u6240\u4ee5\u9700\u8981\u4e00\u4e2a\u5206\u5e03\u5b57\u6bb5\u7528\u6765\u544a\u8bc9\u6570\u636e\u5e93\u6839\u636e\u54ea\u4e2a\u5b57\u6bb5\u6765\u5206\u5e03\u6570\u636e,\u6700\u597d\u4f7f\u7528\u4e00\u4e2a\u81ea\u589e\u5e8f\u5217\u4f5c\u4e3a\u5206\u5e03\u952e\u8fd9\u6837\u53ef\u4ee5\u5c06\u6570\u636e\u5747\u5300\u7684\u5206\u5e03\u5230\u6bcf\u4e2a\u6570\u636e\u8282\u70b9,\u5206\u5e03\u952e\u9ed8\u8ba4\u4e3a\u7b2c\u4e00\u4e2a\u5b57\u6bb5;","title":"\u5206\u5e03\u5b57\u6bb5\u8bf4\u660e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_3","text":"\u5efa\u7acb\u7d22\u5f15\u65f6\u5019\u9009\u62e9\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u5728\u4f60\u7684sql\u67e5\u8be2\u4e2d\u5fc5\u987b\u4f20\u5165\u8be5\u6761\u4ef6,\u5426\u5219\u7d22\u5f15\u7528\u5904\u4e0d\u5927\u4e25\u91cd\u5f71\u54cd\u67e5\u8be2\u6548\u7387,\u7b2c\u4e00\u4e2a\u4e4b\u5916\u7684\u5176\u4ed6\u5b57\u6bb5\u4e0d\u53d7\u5f71\u54cd,\u5b9e\u6d4b\u572820\u4e2a\u5b9e\u4f8b\u7684gp\u96c6\u7fa4\u4e2d\u4ece9\u4ebf\u6761\u6570\u636e\u91cc\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u67e5\u8be2\u52a0\u6392\u5e8f\u8017\u65f61\u79d2\u5de6\u53f3(\u6570\u636e\u91cf6000w+)","title":"\u5efa\u7acb\u7d22\u5f15\u8bf4\u660e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_4","text":"#\u53ea\u5907\u4efd\u7ed3\u6784 pg_dump -U hjdev -f ./dbstruct.sql -s lh #\u5907\u4efd\u7ed3\u6784\u52a0\u6570\u636e pg_dump -U hjdev -f ./dbdata.sql lhlh#\u6062\u590d psql -U hjdev -f ./dbdata.sql lhlh","title":"\u5907\u4efd\u4e0e\u6062\u590d"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_5","text":"\u9996\u5148\u6309\u7167\u90e8\u7f72\u6587\u6863\u5347\u7ea7\u7cfb\u7edf\u5185\u6838\u4ee5\u53casysctl\u8bbe\u7f6e\u8fd8\u6709ulimit\u7684\u8bbe\u7f6e \u5b89\u88c5docker\u5e76\u52a0\u5165\u539f\u6709\u96c6\u7fa4\u7684\u7f51\u7edc,\u5728\u539f\u6709\u96c6\u7fa4\u6267\u884cdocker swarm join-token manager\u7136\u540e\u5c06\u8f93\u51fa\u7684\u547d\u4ee4\u5728\u65b0\u673a\u5668\u6267\u884c \u6bcf\u6b21\u81f3\u5c11\u6dfb\u52a0\u4e24\u53f0\u673a\u5668 \u7f16\u5199\u6269\u5bb9\u914d\u7f6e\u6587\u4ef6addhost(\u5176\u4e2ddbid\u662f\u4ece\u6570\u636e\u5e93\u4e2d select * from gp_segment_configuration order by content \u987a\u7740\u589e\u52a0\u7684,content\u4e5f\u662f\u5728\u73b0\u6709\u57fa\u7840\u4e0a\u6328\u7740\u589e\u52a0\u7684,datadir\u4e2d\u7684pgseg\u540e\u7684\u6570\u5b57\u662f\u53d6\u503c\u4e8econtent #<hostname>|<address>|<port>|<datadir>|<dbid>|<content>|<preferred_role> sdw4|sdw4|10000|/home/gpadmin/data/gpseg6|15|6|p sdw4|sdw4|10001|/home/gpadmin/data/gpseg7|16|7|p sdw5|sdw5|10000|/home/gpadmin/data/gpseg8|19|8|p sdw5|sdw5|10001|/home/gpadmin/data/gpseg9|20|9|p sdw5|sdw5|30000|/home/gpadmin/mirror/gpseg6|17|6|m sdw5|sdw5|30001|/home/gpadmin/mirror/gpseg7|18|7|m sdw4|sdw4|30000|/home/gpadmin/mirror/gpseg8|21|8|m sdw4|sdw4|30001|/home/gpadmin/mirror/gpseg9|22|9|m \u5206\u522b\u5728\u8981\u6dfb\u52a0\u7684\u673a\u5668\u6267\u884c ipcs -ls \u53ef\u4ee5\u5728\u4e3b\u8282\u70b9\u76f4\u63a5ssh\u8fc7\u53bb\u6267\u884c,\u770b\u8f93\u51fa\u7684\u6570\u503c\u662f\u5426\u548c\u73b0\u6709\u96c6\u7fa4\u7684\u4e00\u6837 \u4fee\u6539\u4e3b\u8282\u70b9(pgseg0)\u7684\u4e3b\u8981\u5b9e\u4f8b\u548c\u955c\u50cf\u5b9e\u4f8b\u7684 gpseg0/pg_hba.conf \u6587\u4ef6,\u5728\u5176\u4e2d\u6dfb\u52a0\u4e00\u884c host all gpadmin 192.168.123.10/24 trust \u5176\u4e2d 192.168.123.10\u662f\u96c6\u7fa4\u7684\u865a\u62dfip\u6bb5\u53ef\u901a\u8fc7 ip addr \u83b7\u53d6\u5230; \u6267\u884c\u6269\u5bb9(\u6dfb\u52a0\u8282\u70b9\u6b65\u9aa4): gpexpand -i addhost -v ,\u5982\u679c\u65e0\u610f\u5916\u7684\u8bdd\u8282\u70b9\u6dfb\u52a0\u6210\u529f\u53ef\u4ee5\u901a\u8fc7 gpstate -a \u67e5\u770b\u4e5f\u53ef\u4ee5\u901a\u8fc7 select * from gp_segment_configuration order by content \u67e5\u770b \u6267\u884c\u6570\u636e\u5747\u8861(\u95f2\u65f6\u6267\u884c): gpexpand -d 2:00:00 \u4ee3\u8868\u6267\u884c\u6700\u591a2\u4e2a\u5c0f\u65f6\u7684\u6570\u636e\u5747\u8861 #\u8f93\u51fa\u65e5\u5fd7(\u5728\u5747\u8861\u8fc7\u7a0b\u4e2d\u7684\u8868\u51e0\u4e4e\u65e0\u6cd5\u8bbf\u95ee) 20210122:12:07:11:043279 gpexpand:mdw:gpadmin-[INFO]:-Querying gpexpand schema for current expansion state 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Expanding lh.public.czrkjbxx 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Finished expanding lhlhublic.czrkjbxx 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Expanding lhlhlic.myreg 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Finished expanding lh.plhc.myreg 20210122:12:07:12:043279 gpexpand:mdw:gpadmin-[INFO]:-Expanding lh.publhcar_pass","title":"\u6269\u5bb9\u96c6\u7fa4"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_6","text":"\u7269\u5316\u89c6\u56fe\u662fpg\u7c7b\u6570\u636e\u5e93\u7279\u6709\u4e00\u9879\u529f\u80fd\uff0c\u610f\u5373\u5c06\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u7f13\u5b58\u7684gp\u4e2d\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4e4b\u4e0a\u5efa\u7acb\u7d22\u5f15\u4ee5\u53ca\u589e\u91cf\u66f4\u65b0\u7b49\u7279\u6027 \u521b\u5efa\u7269\u5316\u89c6\u56fe\uff08\u53ef\u4ee5\u57fa\u4e8e\u5916\u90e8\u8868\uff09 create MATERIALIZED view mv_out_czrkupdate as select * from out_czrkupdate with no data; -- \u5237\u65b0\u6570\u636e refresh MATERIALIZED view mv_out_czrkupdate; -- \u521b\u5efa\u7d22\u5f15 create index idx_mv_outczk_pt on mv_out_czrkupdate(gmsfhm); --\u6307\u5b9a\u5206\u5e03\u952e\u7684\u7269\u5316\u89c6\u56fe create MATERIALIZED view mv_out_lhhj_yhcar as select * from out_lhhj_yhcar with no data Distributed by (pid); -- \u521b\u5efa\u552f\u4e00\u7d22\u5f15\uff08\u589e\u91cf\u5237\u65b0\u5fc5\u5907\uff09 create index idx_mv_out_lhlh_yhcar on mv_out_lhhj_yhcar(pid); -- \u5168\u91cf\u5237\u65b0 -- \u589e\u91cf\u5237\u65b0\uff08\u589e\u91cf\u5237\u65b0\u524d\u5fc5\u987b\u5168\u91cf\u5237\u65b0\u4e00\u6b21\uff09 refresh MATERIALIZED view concurrently mv_out_lhhj_yhcar;","title":"\u7269\u5316\u89c6\u56fe\u529f\u80fd"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_7","text":"","title":"\u6545\u969c\u6062\u590d"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_8","text":"#gpmaster gpadmin\u767b\u5f55 source env.sh gprecoverseg --hba-hostnames -a #\u6267\u884c\u6210\u529f\u4e0a\u9762\u547d\u4ee4\u540e\u901a\u8fc7\u4e0b\u9762\u547d\u4ee4\u67e5\u770b(\u4e0a\u9762\u547d\u4ee4\u6267\u884c\u6210\u529f\u540e\u9700\u8981\u7b49\u7b49\u4e09\u4e94\u5206\u949f\u6216\u8005\u901a\u8fc7`gpstate -s`\u67e5\u770b\u540c\u6b65\u72b6\u6001) gpstate -e #\u5982\u679c\u59cb\u7ec8\u6709\u8282\u70b9\u9519\u8bef\u5c31\u7ee7\u7eed\u4f7f\u7528\u4e0b\u9762\u5168\u91cf\u540c\u6b65\u6a21\u5f0f\u6062\u590d\u8282\u70b9 gprecoverseg --hba-hostnames -F -a #\u6210\u529f\u5b8c\u6210\u540e\u6267\u884c gprecoverseg ---hba-hostnames -r -a #\u6700\u540e\u901a\u8fc7\u4e0b\u9762\u547d\u4ee4\u67e5\u770b(\u4e0a\u9762\u547d\u4ee4\u6267\u884c\u6210\u529f\u540e\u9700\u8981\u7b49\u7b49\u4e09\u4e94\u5206\u949f\u6216\u8005\u901a\u8fc7`gpstate -s`\u67e5\u770b\u540c\u6b65\u72b6\u6001) gpstate -e","title":"\u6062\u590d\u6240\u6709\u6709\u95ee\u9898\u7684\u8282\u70b9(\u8282\u70b9\u7684\u5bb9\u5668\u542f\u52a8\u72b6\u6001\u4e0b)"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_9","text":"\u4ece\u5bb9\u5668\u5916\u9762\u901a\u8fc7docker exec xxx\u6765\u8c03\u7528 #!/bin/bash cd /home/gpadmin/master logf=\"perday.log\" echo \"begin check gpstate `date` \" > $logf source /home/gpadmin/env.sh gprecoverseg --hba-hostnames -a >> $logf gprecoverseg --hba-hostnames -F -a >> $logf gprecoverseg --hba-hostnames -r -a >> $logf gpstate -a >> $logf #clean old log find /home/gpadmin -name \"gpdb-*.csv\" -atime +3 |xargs rm -f echo mdw >> $logf df -h >> $logf gpssh -f /home/gpadmin/hostfile -e 'df -h' >> $logf gpssh -f /home/gpadmin/hostfile -e 'find /home/gpadmin -name \"gpdb-*.csv\" -atime +3 |xargs rm -f' >> $logf echo \"check over\" >> $logf","title":"\u81ea\u52a8\u6e05\u7406\u8fc7\u671f\u65e5\u5fd7"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_10","text":"\u7ef4\u62a4\u6a21\u5f0f\u542f\u52a8: gpstart -m \u7ef4\u62a4\u6a21\u5f0f\u8fde\u63a5: PGOPTIONS='-c gp_session_role=utility' psql dbname \u7ef4\u62a4\u5b8c\u6bd5\u6b63\u5e38\u542f\u52a8: gpstop -mr","title":"\u7ef4\u62a4\u6a21\u5f0f"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#sql","text":"","title":"sql\u6280\u5de7"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_11","text":"\u6b64\u65b9\u6cd5\u53ef\u4ee5\u6839\u636e\u6570\u636e\u8868\u7ed3\u6784\u548c\u5b58\u50a8\u7684\u6570\u636e\u5206\u6790\u51fa\u5177\u4f53\u6bcf\u5217\u7684\u6700\u5e38\u89c1\u503c\u3001\u51fa\u73b0\u9891\u7387\u3001null\u7387\u7b49\u5e38\u7528\u7edf\u8ba1\u4fe1\u606f\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5236\u4f5c\u70ed\u529b\u56fe\u4e00\u7c7b \u6ce8\u610f\uff1a\u5bf9\u4e8e\u6570\u636e\u91cf\u8f83\u591a\u7684\u8868\uff0c\u6b64\u65b9\u6cd5\u7edf\u8ba1\u51fa\u7684\u4fe1\u606f\u53ea\u662f\u62bd\u6837\u7edf\u8ba1\u4e0d\u662f\u5168\u91cf\u7edf\u8ba1\uff01 analyze car_pass; select * from pg_stats where tablename='car_pass';","title":"\u5bf9\u67d0\u4e2a\u8868\u8fdb\u884c\u7edf\u8ba1\u5e76\u67e5\u770b"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_12","text":"select count(1) from pg_stat_activity;","title":"\u67e5\u8be2\u5f53\u524d\u8fde\u63a5\u6570"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_13","text":"\u4e25\u7981\u4f7f\u7528kill\u547d\u4ee4\u6740postgres\u8fdb\u7a0b\uff0c\u6709\u7c7b\u4f3c\u9700\u8981\u8bf7\u4f7f\u7528\u6570\u636e\u5e93\u547d\u4ee4 pg_terminate_backend() \u6765\u5b8c\u6210 \u6bcf\u5929\u5b9a\u65f6analyze\u4ee5\u53cavacuum\u5927\u8868\u6216\u8005\u6570\u636e\u91cf\u6bcf\u5929\u53d8\u5316\u8f83\u5927\u7684\u8868","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#greenplum_1","text":"\u5f53\u666e\u901a\u7528\u6237\u65e0\u6cd5\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u63d0\u793a\u8fde\u63a5\u8fc7\u591a\u65f6\u5019\u6211\u4eec\u901a\u8fc7\u7ba1\u7406\u5458\u6a21\u5f0f\u8fdb\u53bb\u67e5\u51fa\u6240\u6709\u8fde\u63a5\uff0c\u7136\u540e\u8fdb\u884c\u5173\u95ed\u5373\u53ef #\u4f7f\u7528\u8d85\u7ba1\u6a21\u5f0f\u8fdb\u5165 PGOPTIONS='-c gp_session_role=utility' psql test #\u5982\u679c\u8981\u5173\u95ed\u6240\u6709\u8fde\u63a5 select pg_terminate_backend(pid) from pg_stat_activity; #\u5982\u679c\u5173\u95ed\u8fde\u63a5\u5230\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u8fde\u63a5 select pg_terminate_backend(pid) from pg_stat_activity where datname='test';","title":"greenplum\u5173\u95ed\u73b0\u6709\u8fde\u63a5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_14","text":"","title":"\u5217\u5f0f\u5b58\u50a8\u7279\u70b9"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_15","text":"\u6570\u636e\u6309\u5217\u5b58\u50a8\u53ef\u4ee5\u83b7\u5f97\u8f83\u9ad8\u7684\u538b\u7f29\u6bd4 \u5f53\u67e5\u8be2\u5c11\u91cf\u5b57\u6bb5\u65f6\u5019\uff0c\u626b\u63cf\u7684\u5757\u66f4\u5c11\uff0c\u8282\u7ea6iO\u4e14\u63d0\u5347\u6548\u7387","title":"\u4f18\u52bf"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_16","text":"\u67e5\u8be2\u5927\u91cf\u5b57\u6bb5\u6216\u67e5\u8be2\u8bb0\u5f55\u6570\u504f\u5c11\u65f6\u4f1a\u9020\u6210\u8f83\u591a\u79bb\u6563IO \u7531\u4e8eIO\u653e\u5927\uff0c\u5217\u5b58\u50a8\u4e0d\u9002\u5408OLTP\u573a\u666f\uff0c\u5982\u6709\u5927\u91cf\u66f4\u65b0\u67e5\u8be2\u64cd\u4f5c\u7684\u8868","title":"\u52a3\u52bf"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_17","text":"\u5178\u578b\u7684OLAP\u573a\u666f\u3001\u6309\u5217\u505a\u8f83\u5927\u8303\u56f4\u7684\u805a\u5408\u5206\u6790\u6216\u8005JOIN\u5206\u6790 \u5982\u679c\u7528\u6237\u9891\u7e41\u7684\u88c5\u8f7d\u548c\u66f4\u65b0\u8868\u6570\u636e\u9002\u7528\u4e8e\u9762\u5411\u884c\u7684heap\u8868\uff0c\u9762\u5411\u5217\u9002\u7528\u4e8e\u8ffd\u52a0\u4f18\u5316\u7684\u8868\uff08\u5199\u5165\u591a\uff09 \u9891\u7e41insert\u6574\u884c\u7684\u8bf7\u9009\u62e9\u9762\u5411\u8ffd\u52a0\u4f18\u5316\u7684\u884c\u5b58\u50a8\u8868 \u67e5\u8be2\u4e2d\u7ecf\u5e38\u9700\u8981\u8fd4\u56de\u5168\u90e8\u6216\u8005\u5927\u90e8\u5206\u5217\u7684\u60c5\u51b5\u4e0b\u8bf7\u4f7f\u7528\u9762\u5411\u884c\u5b58\u50a8\u7684\u65b9\u5f0f where\u6761\u4ef6\u5355\u4e00\u4e14\u8fd4\u56de\u8f83\u5c11\u884c\uff0c\u9002\u7528\u4e8e\u5217\u5b58 \u5217\u5b58\u652f\u6301\u538b\u7f29\uff0c\u884c\u5b58\u4e0d\u652f\u6301","title":"\u9002\u7528\u573a\u666f"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_18","text":"","title":"\u8ffd\u52a0\u4f18\u5316\u8868\u4f7f\u7528"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_19","text":"create table tac (id serial4,t1 varchar(255) with(appendonly=true,orientation=column) distributed by (id) ;","title":"\u5217\u5f0f\u8ffd\u52a0\u8868"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_20","text":"create table tarc (id serial4,t1 varchar(255) with(appendonly=true,orientation=row) distributed by (id) ;","title":"\u884c\u5f0f\u8ffd\u52a0\u8868"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#heap","text":"create table tarc (id serial4,t1 varchar(255) distributed by (id) ;","title":"\u666e\u901a\u884c\u5f0fheap\u8868"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_21","text":"select * from gp_toolkit.gp_locks_on_relation limit 10 --select pg_terminate_backend(xxx)","title":"\u6b7b\u9501\u6392\u67e5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/","text":"greenplum\u96c6\u7fa4\u642d\u5efa \u8fd9\u662f\u4f7f\u7528docker\u65b9\u5f0f\u642d\u5efa\u7684\uff0c\u4ec5\u4f9b\u53c2\u8003\uff0c\u5b9e\u9645\u751f\u4ea7\u73af\u5883\u5efa\u8bae\u76f4\u63a5\u5728\u5bbf\u4e3b\u673a\u5b89\u88c5 \u673a\u5668\u5217\u8868 123.123.4.96 123.123.4.100 123.123.4.101 123.123.4.102 123.123.4.103 \u4e3b\u8282\u70b9\u72ec\u5360 123.123.4.104 123.123.4.105 docker swarm\u65b9\u5f0f(\u5f53\u524d\u91c7\u7528) docker \u7248\u672c19.03 \u540c\u6b65\u6240\u6709\u673a\u5668\u65f6\u949f ntpdate 21.0.2.8 \u66f4\u65b0\u5185\u6838\u5230\u81f3\u5c114.4 rpm -ivh http://ip:9999/kernel-ml-5.1.16-1.el7.elrepo.x86_64.rpm && sed -i \"s/saved/0/g\" /etc/default/grub && grub2-mkconfig -o /boot/grub2/grub.cfg grub2-set-default 'CentOS Linux (5.1.16-1.el7.elrepo.x86_64) 7 (Core)' grub2-editenv list reboot \u4fee\u6539\u5bb9\u5668\u5bbf\u4e3b\u673a /etc/security/limit.conf\u4e2d\u7684\u6700\u5927\u6253\u5f00\u6587\u4ef6\u6570\u91cf\u9650\u5236 \u7cfb\u7edf\u8d44\u6e90\u9650\u5236\u8bbe\u7f6e #/etc/security/limits.conf * soft nofile 524288 * hard nofile 524288 * soft nproc 131072 * hard nproc 131072 root soft nofile 524288 root hard nofile 524288 root soft nproc 131072 root hard nproc 131072 ulimit -u \u5bb9\u5668\u5bbf\u4e3b\u673a\u7cfb\u7edf\u5185\u6838\u8bbe\u7f6e /etc/sysctl.conf #\u4e0b\u9762\u8fd9\u4e2a\u503c\u6765\u81ea# echo $(expr $(getconf _PHYS_PAGES) / 2) kernel.shmall=25769461 #\u4e0b\u9762\u8fd9\u4e2a\u503c\u6765\u81ea# echo $(expr $(getconf _PHYS_PAGES) / 2 \\* $(getconf PAGE_SIZE)) kernel.shmmax=105551712256 kernel.shmmni = 4096 vm.overcommit_memory = 2 vm.overcommit_ratio = 95 net.ipv4.ip_local_port_range = 10000 65535 #\u4e0b\u9762\u8fd9\u4e2a\u503c\u5f71\u54cd\u6700\u5927\u8fde\u63a5\u6570 kernel.sem = 50100 128256000 50100 2560 kernel.sysrq = 1 kernel.core_uses_pid = 1 kernel.msgmnb = 65536 kernel.msgmax = 65536 kernel.msgmni = 2048 net.ipv4.tcp_syncookies = 1 net.ipv4.conf.default.accept_source_route = 0 net.ipv4.tcp_max_syn_backlog = 4096 net.ipv4.conf.all.arp_filter = 1 net.core.netdev_max_backlog = 10000 net.core.rmem_max = 2097152 net.core.wmem_max = 2097152 vm.swappiness = 10 vm.zone_reclaim_mode = 0 vm.dirty_expire_centisecs = 500 vm.dirty_writeback_centisecs = 100 vm.dirty_background_ratio = 0 vm.dirty_ratio = 0 vm.dirty_background_bytes = 1610612736 vm.dirty_bytes = 4294967296 \u5bb9\u5668\u5bbf\u4e3b\u673a\u4fee\u6539\u6570\u636e\u76d8\u7684\u6302\u8f7d\u9009\u9879\u4e3a: rw,nodev,noatime,nobarrier,inode64 nano /etc/fstab #\u5982\u679c\u7c7b\u578b\u5df2\u7ecf\u662fxfs\u5c31\u5149\u4fee\u6539\u9009\u9879\u5373\u53ef\uff0cgp\u5b98\u65b9\u63a8\u8350xfs\u7c7b\u578b\uff0c\u5982\u679c\u6ca1\u5565\u6570\u636e\u4e14\u4e0d\u662fxfs\u7684\u8bdd\u53ef\u4ee5\u683c\u5f0f\u5316\u4e00\u4e0b #\u91cd\u65b0\u52a0\u8f7d\u5206\u533a mount -o,remount /data #\u5176\u4e2d105\u4e3a\u5f53\u524d\u6b63\u5728\u4f7f\u7528\u7684\u673a\u5668\u4e0d\u4fbf\u683c\u5f0f\u5316\u6570\u636e\u5206\u533a\uff0c\u8003\u8651\u6682\u65f6\u4e0d\u5c06\u5176\u52a0\u5165\u96c6\u7fa4\u4e2d \u521b\u5efadocker swarm\u96c6\u7fa4 docker swarm init #worker docker swarm join --token SWMTKN-1-3t4l2pk38x0v08f81u5kamsd6izx8llun3wy34oq3emvwy2p9x-1j0uk1hytunbpwt5lvzztauu3 123.123.4.104:2377 #manager docker swarm join --token SWMTKN-1-3t4l2pk38x0v08f81u5kamsd6izx8llun3wy34oq3emvwy2p9x-3y9hzhemm08k70dh4s0f3uw5x 123.123.4.104:2377 \u521b\u5efa\u7f51\u7edc docker network create --attachable -d overlay --subnet 192.168.123.0/24 gpnet \u521b\u5efa\u4e3b\u8282\u70b9\u548c\u6570\u636e\u8282\u70b9 #\u4e3b\u8282\u70b9103 mkdir /data/gpmaster && chmod 777 -R /data/gpmaster docker run -itd --name mdw --hostname mdw --net gpnet -p 6222:22 -p 5432:5432 -v /data/gpmaster:/home/gpadmin/master --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u6570\u636e\u8282\u70b9101 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw4 --hostname sdw4 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u6570\u636e\u8282\u70b9102 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw2 --hostname sdw2 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u6570\u636e\u8282\u70b9104 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw3 --hostname sdw3 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u6570\u636e\u8282\u70b9100 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw1 --hostname sdw1 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u5907\u4efd\u4e3b\u8282\u70b9103 mkdir /data/gpdata && chmod 777 -R /data/gpdata docker run -itd --name mdw1 --hostname mdw1 --net gpnet -v /data/gpstandby:/home/gpadmin/master --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u5907\u4efd\u4e3b\u8282\u70b996 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw5 --hostname sdw5 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo \u521d\u59cb\u5316\u96c6\u7fa4 #103\u4e3b\u8282\u70b9\u6267\u884c docker exec -it -u gpadmin mdw bash cd ~ source /usr/local/greenplum-db/greenplum_path.sh ./artifact/prepare.sh -s 4 -n 1 #\u4fee\u6539gpinitsystem_config\u653e\u5f00\u5176\u4e2d\u88ab\u6ce8\u91ca\u6389\u7684mirror\u76f8\u5173\u8bbe\u7f6e,\u5e76\u4fee\u6539\u5176\u4e2d MIRROR_DATA_DIRECTORY=(/home/gpadmin/mirror)\u4e3a MIRROR_DATA_DIRECTORY=(/home/gpadmin/mirror /home/gpadmin/mirror) \u5177\u4f53\u8bbe\u7f6e\u51e0\u4e2a\u7531\u4e0a\u9762\u4e00\u6761\u547d\u4ee4\u4e2d\u7684-n \u53c2\u6570\u6765\u51b3\u5b9a(\u5982\u679c\u662f1\u5c31\u4e0d\u7528\u6539\u8fd9\u4e2a\uff09 gpinitsystem -c gpinitsystem_config -s mdw1 -a source env.sh echo 'source /usr/local/greenplum-db/greenplum_path.sh' >> ~/.bashrc echo 'source env.sh' >> ~/.bashrc #\u4e0d\u5efa\u8bae \u5f00\u542fgpadmin\u7528\u6237\u7684\u8fdc\u7a0b\u8bbf\u95ee\uff08\u5f00\u542f\u540e\u662f\u65e0\u5bc6\u7801\u7684\uff0c\u5c3d\u5feb\u8bbe\u7f6e\u5bc6\u7801\uff09 #bash artifact/postinstall.sh #\u67e5\u770b\u5b89\u88c5\u7ed3\u679c ps -ef|grep postgres #\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\uff0c\u5e94\u8be5\u80fd\u770b\u5230\u4e24\u4e2amaster\uff0c4\u4e2aPrimary Segment \u4ee5\u53ca4\u4e2aMirror Segment gpstate -a #\u7528\u4e0b\u9762\u547d\u4ee4\u67e5\u8be2\u5404\u4e2a\u8282\u70b9\u7684\u53c2\u6570\u662f\u5426\u76f8\u540c gpssh -f hostfile -e 'ipcs -ls' \u4f18\u5316\u8c03\u6574 gpconfig -c gp_enable_global_deadlock_detector -v on gpconfig -c log_statement -v none gpconfig -c wal_writer_delay -v '10ms' gpconfig -c checkpoint_completion_target -v 0.9 gpconfig -c shared_buffers -v '16GB' -m '512MB' gpconfig -c work_mem -v '16MB' -m '16MB' gpconfig -c wal_buffers -v '10MB' -m '10MB' gpconfig -c statement_mem -v '2GB' -m '2GB' gpconfig -c max_statement_mem -v '4GB' -m '4GB' gpconfig -c statement_timeout -m 10min -v 10min #\u8bbe\u7f6e\u65f6\u533a gpconfig -c TimeZone -m 'Asia/Shanghai' -v 'Asia/Shanghai' #\u81ea\u52a8\u5206\u6790 gpconfig -c gp_autostats_mode -m on_change -v on_change gpconfig -c gp_autostats_on_change_threshold -m 100000000 -v 100000000 #\u8bbe\u7f6e\u5185\u5b58\u5927\u5c0f\uff0c\u6700\u5c0f\u5185\u5b58\u8282\u70b9\u5185\u5b58=x\uff0c\u6b64\u503c\u8ba1\u7b97\u65b9\u6cd5\u4e3a=x*0.75/(\u4e3b\u8282\u70b9\u6570+\u4ece\u8282\u70b9\u6570) gpconfig -c gp_vmem_protect_limit -m 6144 -v 6144 #\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570(-v\u4e3asegment\u7684\u5b98\u65b9\u5efa\u8bae\u4e3a\u4e3b\u8282\u70b9\u76845~10\u500d) gpconfig -c max_connections -v 4000 -m 2000 && gpconfig -c max_prepared_transactions -v 4000 #\u91cd\u542f\u96c6\u7fa4\u751f\u6548\uff08\u90e8\u5206\u914d\u7f6e\u9700\u8981\u5f7b\u5e95\u91cd\u542f\uff09 gpstop -M fast -a && gpstart #\u68c0\u67e5\u4fee\u6539\u662f\u5426\u751f\u6548 gpconfig -s gp_enable_global_deadlock_detector && gpconfig -s log_statement gpconfig -s max_connections && gpconfig -s max_prepared_transactions \u521d\u59cb\u5316\u6570\u636e\u5e93\u4ee5\u53ca\u521b\u5efa\u7528\u6237 #\u521b\u5efa\u6570\u636e\u5e93 createdb lhcz -E utf-8 #\u521b\u5efa\u7528\u6237 psql -d lhcz create role hjdev password 'thisispass' createdb login; \\q #\u5728master\u8282\u70b9\u4fee\u6539pg_hba.conf\u6587\u4ef6\u6765\u8d4b\u4e88\u7528\u6237\u8fdc\u7a0b\u767b\u5f55\u7684\u6743\u9650 vi /home/gpadmin/master/gpseg-1/pg_hba.conf #\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9 host all hjdev 0.0.0.0/0 md5 :wq \u4fdd\u5b58\u9000\u51fa #\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e gpstop -u nginx\u8bbf\u95ee\u5165\u53e3 #nginx.cfg user nginx; worker_processes 32; error_log /var/log/nginx/error.log warn; pid /var/run/nginx.pid; events { worker_connections 8192; # muti_accept on; use epoll; } worker_rlimit_nofile 40000; #fastcgi_connect_timeout 100; #fastcgi_send_timeout 100; #fastcgi_read_timeout 100; #depends on nginx 1.11.2 and later stream { upstream gps { server mdw:5432 max_fails=3; server mdw1:5432 max_fails=3 backup; } server { listen 5432; proxy_pass gps; } } #createnginx.sh docker rm nginx -f docker run -itd -v /data/nginx/nginx.cfg:/etc/nginx/nginx.conf --name nginx -p 15432:5432 --restart=always cloud.lhcz.com:5000/nginx \u5b89\u88c5\u914d\u7f6e\u670d\u52a1\u7aef\u8fde\u63a5\u6c60 cd /tmp #\u4e0b\u8f7dwget ftp://read:read@spwftp/linux/greenplum/pgbouncer_1.15_x86_64.tgz tar zxvf pgbouncer_1.15_x86_64.tgz ./install.sh mkdir bin mv pgbouncer bin/ cd bin \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 [databases] lhcz = host=localhost port=5432 dbname=lhcz bzyq = host=localhost port=5432 dbname=bzyq test = host=localhost port=5432 dbname=test postgres = host=localhost port=5432 dbname=postgres [pgbouncer] listen_port=6543 listen_addr=0.0.0.0 auth_type=md5 auth_file=userlist.txt logfile=pgbouncer.log pidfile=pgbouncer.pid max_db_connections=500 admin_users=hjdev ;next for datax ignore_startup_parameters = extra_float_digits ;; When server connection is released back to pool: ;; session - after client disconnects (default) ;; transaction - after transaction finishes ;datax throw error ;; statement - after statement finishes ;cannot use transaction ;pool_mode = transaction transaction\u6a21\u5f0f\u4f1a\u9020\u6210datax\u62a5\u9519\uff0c\u9700\u8981\u5728datax\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u4e32\u4e2d\u589e\u52a0 prepareThreshold=0 \u521b\u5efa\u7528\u6237\u914d\u7f6e\u6587\u4ef6userlist.txt \"\u7528\u6237\u540d\" \"\u5bc6\u7801\u660e\u6587\" \"\u7528\u6237\u540d\" \"md5+md5\u503c\" \u7f16\u5199\u542f\u52a8\u811a\u672c\uff08\u5bb9\u5668\u5185\uff09 #path:/home/gpadmin/master/startpool.sh cd /home/gpadmin/master/bin ./pgbouncer -d pgbouncer.ini #\u8fdb\u5165\u63a7\u5236\u53f0 psql -p 6543 -U hjdev pgbouncer #\u8f93\u5165\u5bc6\u7801 show help;\u663e\u793a\u5e2e\u52a9 \u7f16\u5199\u201c\u81ea\u542f\u52a8\u201d #\u901a\u8fc7\u5728/home/gpadmin/env.sh\u4e2d\u8ffd\u52a0\u8bed\u53e5\u5b9e\u73b0\u53d8\u76f8\u81ea\u542f\u52a8 bash /home/gpadmin/master/startpool.sh \u4f7f\u7528 #\u8fdb\u5165\u8fde\u63a5\u6c60\u7ba1\u7406\u5e93 psql -p 6543 -h 127.0.0.1 -U hjdev pgbouncer #\u8f93\u5165\u5bc6\u7801 show help;#\u67e5\u770b\u5e2e\u52a9 show clients;#\u67e5\u770b\u8fde\u63a5\u7684\u5ba2\u6237\u7aef","title":"greenplum\u96c6\u7fa4\u642d\u5efa"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/#greenplum","text":"\u8fd9\u662f\u4f7f\u7528docker\u65b9\u5f0f\u642d\u5efa\u7684\uff0c\u4ec5\u4f9b\u53c2\u8003\uff0c\u5b9e\u9645\u751f\u4ea7\u73af\u5883\u5efa\u8bae\u76f4\u63a5\u5728\u5bbf\u4e3b\u673a\u5b89\u88c5","title":"greenplum\u96c6\u7fa4\u642d\u5efa"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/#_1","text":"123.123.4.96 123.123.4.100 123.123.4.101 123.123.4.102 123.123.4.103 \u4e3b\u8282\u70b9\u72ec\u5360 123.123.4.104 123.123.4.105","title":"\u673a\u5668\u5217\u8868"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/#docker-swarm","text":"docker \u7248\u672c19.03 \u540c\u6b65\u6240\u6709\u673a\u5668\u65f6\u949f ntpdate 21.0.2.8 \u66f4\u65b0\u5185\u6838\u5230\u81f3\u5c114.4 rpm -ivh http://ip:9999/kernel-ml-5.1.16-1.el7.elrepo.x86_64.rpm && sed -i \"s/saved/0/g\" /etc/default/grub && grub2-mkconfig -o /boot/grub2/grub.cfg grub2-set-default 'CentOS Linux (5.1.16-1.el7.elrepo.x86_64) 7 (Core)' grub2-editenv list reboot \u4fee\u6539\u5bb9\u5668\u5bbf\u4e3b\u673a /etc/security/limit.conf\u4e2d\u7684\u6700\u5927\u6253\u5f00\u6587\u4ef6\u6570\u91cf\u9650\u5236 \u7cfb\u7edf\u8d44\u6e90\u9650\u5236\u8bbe\u7f6e #/etc/security/limits.conf * soft nofile 524288 * hard nofile 524288 * soft nproc 131072 * hard nproc 131072 root soft nofile 524288 root hard nofile 524288 root soft nproc 131072 root hard nproc 131072 ulimit -u \u5bb9\u5668\u5bbf\u4e3b\u673a\u7cfb\u7edf\u5185\u6838\u8bbe\u7f6e /etc/sysctl.conf #\u4e0b\u9762\u8fd9\u4e2a\u503c\u6765\u81ea# echo $(expr $(getconf _PHYS_PAGES) / 2) kernel.shmall=25769461 #\u4e0b\u9762\u8fd9\u4e2a\u503c\u6765\u81ea# echo $(expr $(getconf _PHYS_PAGES) / 2 \\* $(getconf PAGE_SIZE)) kernel.shmmax=105551712256 kernel.shmmni = 4096 vm.overcommit_memory = 2 vm.overcommit_ratio = 95 net.ipv4.ip_local_port_range = 10000 65535 #\u4e0b\u9762\u8fd9\u4e2a\u503c\u5f71\u54cd\u6700\u5927\u8fde\u63a5\u6570 kernel.sem = 50100 128256000 50100 2560 kernel.sysrq = 1 kernel.core_uses_pid = 1 kernel.msgmnb = 65536 kernel.msgmax = 65536 kernel.msgmni = 2048 net.ipv4.tcp_syncookies = 1 net.ipv4.conf.default.accept_source_route = 0 net.ipv4.tcp_max_syn_backlog = 4096 net.ipv4.conf.all.arp_filter = 1 net.core.netdev_max_backlog = 10000 net.core.rmem_max = 2097152 net.core.wmem_max = 2097152 vm.swappiness = 10 vm.zone_reclaim_mode = 0 vm.dirty_expire_centisecs = 500 vm.dirty_writeback_centisecs = 100 vm.dirty_background_ratio = 0 vm.dirty_ratio = 0 vm.dirty_background_bytes = 1610612736 vm.dirty_bytes = 4294967296 \u5bb9\u5668\u5bbf\u4e3b\u673a\u4fee\u6539\u6570\u636e\u76d8\u7684\u6302\u8f7d\u9009\u9879\u4e3a: rw,nodev,noatime,nobarrier,inode64 nano /etc/fstab #\u5982\u679c\u7c7b\u578b\u5df2\u7ecf\u662fxfs\u5c31\u5149\u4fee\u6539\u9009\u9879\u5373\u53ef\uff0cgp\u5b98\u65b9\u63a8\u8350xfs\u7c7b\u578b\uff0c\u5982\u679c\u6ca1\u5565\u6570\u636e\u4e14\u4e0d\u662fxfs\u7684\u8bdd\u53ef\u4ee5\u683c\u5f0f\u5316\u4e00\u4e0b #\u91cd\u65b0\u52a0\u8f7d\u5206\u533a mount -o,remount /data #\u5176\u4e2d105\u4e3a\u5f53\u524d\u6b63\u5728\u4f7f\u7528\u7684\u673a\u5668\u4e0d\u4fbf\u683c\u5f0f\u5316\u6570\u636e\u5206\u533a\uff0c\u8003\u8651\u6682\u65f6\u4e0d\u5c06\u5176\u52a0\u5165\u96c6\u7fa4\u4e2d \u521b\u5efadocker swarm\u96c6\u7fa4 docker swarm init #worker docker swarm join --token SWMTKN-1-3t4l2pk38x0v08f81u5kamsd6izx8llun3wy34oq3emvwy2p9x-1j0uk1hytunbpwt5lvzztauu3 123.123.4.104:2377 #manager docker swarm join --token SWMTKN-1-3t4l2pk38x0v08f81u5kamsd6izx8llun3wy34oq3emvwy2p9x-3y9hzhemm08k70dh4s0f3uw5x 123.123.4.104:2377 \u521b\u5efa\u7f51\u7edc docker network create --attachable -d overlay --subnet 192.168.123.0/24 gpnet \u521b\u5efa\u4e3b\u8282\u70b9\u548c\u6570\u636e\u8282\u70b9 #\u4e3b\u8282\u70b9103 mkdir /data/gpmaster && chmod 777 -R /data/gpmaster docker run -itd --name mdw --hostname mdw --net gpnet -p 6222:22 -p 5432:5432 -v /data/gpmaster:/home/gpadmin/master --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u6570\u636e\u8282\u70b9101 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw4 --hostname sdw4 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u6570\u636e\u8282\u70b9102 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw2 --hostname sdw2 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u6570\u636e\u8282\u70b9104 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw3 --hostname sdw3 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u6570\u636e\u8282\u70b9100 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw1 --hostname sdw1 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u5907\u4efd\u4e3b\u8282\u70b9103 mkdir /data/gpdata && chmod 777 -R /data/gpdata docker run -itd --name mdw1 --hostname mdw1 --net gpnet -v /data/gpstandby:/home/gpadmin/master --restart=always hdfs4:5000/mygreenplum6:fdwmo #\u5907\u4efd\u4e3b\u8282\u70b996 mkdir /data/{gpdata,gpmirror} && chmod 777 -R /data/gpdata && chmod 777 -R /data/gpmirror docker run -itd --name sdw5 --hostname sdw5 --net gpnet -v /data/gpmirror:/home/gpadmin/mirror -v /data/gpdata:/home/gpadmin/data --restart=always hdfs4:5000/mygreenplum6:fdwmo \u521d\u59cb\u5316\u96c6\u7fa4 #103\u4e3b\u8282\u70b9\u6267\u884c docker exec -it -u gpadmin mdw bash cd ~ source /usr/local/greenplum-db/greenplum_path.sh ./artifact/prepare.sh -s 4 -n 1 #\u4fee\u6539gpinitsystem_config\u653e\u5f00\u5176\u4e2d\u88ab\u6ce8\u91ca\u6389\u7684mirror\u76f8\u5173\u8bbe\u7f6e,\u5e76\u4fee\u6539\u5176\u4e2d MIRROR_DATA_DIRECTORY=(/home/gpadmin/mirror)\u4e3a MIRROR_DATA_DIRECTORY=(/home/gpadmin/mirror /home/gpadmin/mirror) \u5177\u4f53\u8bbe\u7f6e\u51e0\u4e2a\u7531\u4e0a\u9762\u4e00\u6761\u547d\u4ee4\u4e2d\u7684-n \u53c2\u6570\u6765\u51b3\u5b9a(\u5982\u679c\u662f1\u5c31\u4e0d\u7528\u6539\u8fd9\u4e2a\uff09 gpinitsystem -c gpinitsystem_config -s mdw1 -a source env.sh echo 'source /usr/local/greenplum-db/greenplum_path.sh' >> ~/.bashrc echo 'source env.sh' >> ~/.bashrc #\u4e0d\u5efa\u8bae \u5f00\u542fgpadmin\u7528\u6237\u7684\u8fdc\u7a0b\u8bbf\u95ee\uff08\u5f00\u542f\u540e\u662f\u65e0\u5bc6\u7801\u7684\uff0c\u5c3d\u5feb\u8bbe\u7f6e\u5bc6\u7801\uff09 #bash artifact/postinstall.sh #\u67e5\u770b\u5b89\u88c5\u7ed3\u679c ps -ef|grep postgres #\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\uff0c\u5e94\u8be5\u80fd\u770b\u5230\u4e24\u4e2amaster\uff0c4\u4e2aPrimary Segment \u4ee5\u53ca4\u4e2aMirror Segment gpstate -a #\u7528\u4e0b\u9762\u547d\u4ee4\u67e5\u8be2\u5404\u4e2a\u8282\u70b9\u7684\u53c2\u6570\u662f\u5426\u76f8\u540c gpssh -f hostfile -e 'ipcs -ls' \u4f18\u5316\u8c03\u6574 gpconfig -c gp_enable_global_deadlock_detector -v on gpconfig -c log_statement -v none gpconfig -c wal_writer_delay -v '10ms' gpconfig -c checkpoint_completion_target -v 0.9 gpconfig -c shared_buffers -v '16GB' -m '512MB' gpconfig -c work_mem -v '16MB' -m '16MB' gpconfig -c wal_buffers -v '10MB' -m '10MB' gpconfig -c statement_mem -v '2GB' -m '2GB' gpconfig -c max_statement_mem -v '4GB' -m '4GB' gpconfig -c statement_timeout -m 10min -v 10min #\u8bbe\u7f6e\u65f6\u533a gpconfig -c TimeZone -m 'Asia/Shanghai' -v 'Asia/Shanghai' #\u81ea\u52a8\u5206\u6790 gpconfig -c gp_autostats_mode -m on_change -v on_change gpconfig -c gp_autostats_on_change_threshold -m 100000000 -v 100000000 #\u8bbe\u7f6e\u5185\u5b58\u5927\u5c0f\uff0c\u6700\u5c0f\u5185\u5b58\u8282\u70b9\u5185\u5b58=x\uff0c\u6b64\u503c\u8ba1\u7b97\u65b9\u6cd5\u4e3a=x*0.75/(\u4e3b\u8282\u70b9\u6570+\u4ece\u8282\u70b9\u6570) gpconfig -c gp_vmem_protect_limit -m 6144 -v 6144 #\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570(-v\u4e3asegment\u7684\u5b98\u65b9\u5efa\u8bae\u4e3a\u4e3b\u8282\u70b9\u76845~10\u500d) gpconfig -c max_connections -v 4000 -m 2000 && gpconfig -c max_prepared_transactions -v 4000 #\u91cd\u542f\u96c6\u7fa4\u751f\u6548\uff08\u90e8\u5206\u914d\u7f6e\u9700\u8981\u5f7b\u5e95\u91cd\u542f\uff09 gpstop -M fast -a && gpstart #\u68c0\u67e5\u4fee\u6539\u662f\u5426\u751f\u6548 gpconfig -s gp_enable_global_deadlock_detector && gpconfig -s log_statement gpconfig -s max_connections && gpconfig -s max_prepared_transactions \u521d\u59cb\u5316\u6570\u636e\u5e93\u4ee5\u53ca\u521b\u5efa\u7528\u6237 #\u521b\u5efa\u6570\u636e\u5e93 createdb lhcz -E utf-8 #\u521b\u5efa\u7528\u6237 psql -d lhcz create role hjdev password 'thisispass' createdb login; \\q #\u5728master\u8282\u70b9\u4fee\u6539pg_hba.conf\u6587\u4ef6\u6765\u8d4b\u4e88\u7528\u6237\u8fdc\u7a0b\u767b\u5f55\u7684\u6743\u9650 vi /home/gpadmin/master/gpseg-1/pg_hba.conf #\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9 host all hjdev 0.0.0.0/0 md5 :wq \u4fdd\u5b58\u9000\u51fa #\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e gpstop -u nginx\u8bbf\u95ee\u5165\u53e3 #nginx.cfg user nginx; worker_processes 32; error_log /var/log/nginx/error.log warn; pid /var/run/nginx.pid; events { worker_connections 8192; # muti_accept on; use epoll; } worker_rlimit_nofile 40000; #fastcgi_connect_timeout 100; #fastcgi_send_timeout 100; #fastcgi_read_timeout 100; #depends on nginx 1.11.2 and later stream { upstream gps { server mdw:5432 max_fails=3; server mdw1:5432 max_fails=3 backup; } server { listen 5432; proxy_pass gps; } } #createnginx.sh docker rm nginx -f docker run -itd -v /data/nginx/nginx.cfg:/etc/nginx/nginx.conf --name nginx -p 15432:5432 --restart=always cloud.lhcz.com:5000/nginx","title":"docker swarm\u65b9\u5f0f(\u5f53\u524d\u91c7\u7528)"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/greenplum%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/#_2","text":"cd /tmp #\u4e0b\u8f7dwget ftp://read:read@spwftp/linux/greenplum/pgbouncer_1.15_x86_64.tgz tar zxvf pgbouncer_1.15_x86_64.tgz ./install.sh mkdir bin mv pgbouncer bin/ cd bin \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 [databases] lhcz = host=localhost port=5432 dbname=lhcz bzyq = host=localhost port=5432 dbname=bzyq test = host=localhost port=5432 dbname=test postgres = host=localhost port=5432 dbname=postgres [pgbouncer] listen_port=6543 listen_addr=0.0.0.0 auth_type=md5 auth_file=userlist.txt logfile=pgbouncer.log pidfile=pgbouncer.pid max_db_connections=500 admin_users=hjdev ;next for datax ignore_startup_parameters = extra_float_digits ;; When server connection is released back to pool: ;; session - after client disconnects (default) ;; transaction - after transaction finishes ;datax throw error ;; statement - after statement finishes ;cannot use transaction ;pool_mode = transaction transaction\u6a21\u5f0f\u4f1a\u9020\u6210datax\u62a5\u9519\uff0c\u9700\u8981\u5728datax\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u4e32\u4e2d\u589e\u52a0 prepareThreshold=0 \u521b\u5efa\u7528\u6237\u914d\u7f6e\u6587\u4ef6userlist.txt \"\u7528\u6237\u540d\" \"\u5bc6\u7801\u660e\u6587\" \"\u7528\u6237\u540d\" \"md5+md5\u503c\" \u7f16\u5199\u542f\u52a8\u811a\u672c\uff08\u5bb9\u5668\u5185\uff09 #path:/home/gpadmin/master/startpool.sh cd /home/gpadmin/master/bin ./pgbouncer -d pgbouncer.ini #\u8fdb\u5165\u63a7\u5236\u53f0 psql -p 6543 -U hjdev pgbouncer #\u8f93\u5165\u5bc6\u7801 show help;\u663e\u793a\u5e2e\u52a9 \u7f16\u5199\u201c\u81ea\u542f\u52a8\u201d #\u901a\u8fc7\u5728/home/gpadmin/env.sh\u4e2d\u8ffd\u52a0\u8bed\u53e5\u5b9e\u73b0\u53d8\u76f8\u81ea\u542f\u52a8 bash /home/gpadmin/master/startpool.sh \u4f7f\u7528 #\u8fdb\u5165\u8fde\u63a5\u6c60\u7ba1\u7406\u5e93 psql -p 6543 -h 127.0.0.1 -U hjdev pgbouncer #\u8f93\u5165\u5bc6\u7801 show help;#\u67e5\u770b\u5e2e\u52a9 show clients;#\u67e5\u770b\u8fde\u63a5\u7684\u5ba2\u6237\u7aef","title":"\u5b89\u88c5\u914d\u7f6e\u670d\u52a1\u7aef\u8fde\u63a5\u6c60"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/","text":"kafka\u6027\u80fd\u6d4b\u8bd5 \u200b Kafka \u538b\u529b\u6d4b\u8bd5\u6587\u6863 1 \u6982\u8ff0 1.1 \u6d4b\u8bd5\u80cc\u666f \u5728\u4e91\u5e73\u53f0\u7814\u53d1SR IAD\u7684\u8fc7\u7a0b\u4e2d\uff0c\u51fa\u73b0SR IAD\u5bf9\u786c\u4ef6\u8d44\u6e90\u6d88\u8017\u8f83\u4e3a\u4e25\u91cd\u7684\u60c5\u51b5\uff0c\u5176\u4e2d\u5728\u4e91\u5e73\u53f0\u7814\u53d1\u4e2d\u5229\u7528Kafka\u8f6f\u4ef6\u5bf9\u6d41\u5f0f\u6570\u636e\u8fdb\u884c\u6570\u636e\u5904\u7406\u3002\u6211\u4eec\u9488\u5bf9Kafka\u9ad8\u541e\u5410\u91cf\u7684\u7279\u6027\uff0c\u5bf9kafka\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\u3002 1.2 \u6d4b\u8bd5\u76ee\u6807 \u6d4b\u8bd5kafka\u7684\u541e\u5410\u6027\u80fd(Producer/Consumer\u6027\u80fd)\u3002\u6211\u4eec\u4e3b\u8981\u5bf9\u5206\u533a\u3001\u78c1\u76d8\u548c\u7ebf\u7a0b\u7b49\u5f71\u54cd\u56e0\u7d20\u8fdb\u884c\u6d4b\u8bd5\u3002 2 \u6d4b\u8bd5\u6761\u4ef6 6\u53f0\u914d\u7f6e\u76f8\u540c\u7684\u670d\u52a1\u5668\u642d\u5efa\u7684\u4e24\u5957\u76f8\u540c\u7684\u96c6\u7fa4\u73af\u5883 2.1 \u6d4b\u8bd5\u73af\u5883 \u786c\u4ef6\u6761\u4ef6 \u5e8f\u53f7 \u786c\u4ef6 \u914d\u7f6e \u5907\u6ce8 1 CPU E5-2640v2 *2 2 \u5185\u5b58 128G 3 \u786c\u76d8 \u5171\u6302\u8f7d15\u5757\u78c1\u76d8\uff0c\u5269\u4f59\u7a7a\u95f410T\u5de6\u53f3 4 \u7f51\u7edc Intel I350 Gigabit Network Connection 4Intel 82599ES 10-Gigabit SFI/SFP+ Network Connection 2Intel I350 Gigabit Fiber Network Connection *2 \u4f7f\u7528\u4e07\u5146\u7f51\u5361 5 Kafka 3\u53f0\u5355\u78c1\u76d8\u670d\u52a1\u7ec4\u6210\u7684kafka\u96c6\u7fa4 \u8f6f\u4ef6\u7248\u672c\uff1a \u5e8f\u53f7 \u8f6f\u4ef6 \u7248\u672c \u5907\u6ce8 1 CentOS 7.3 2 Hadoop 2.7.3 3 HBase 1.1.7 4 Spark 1.6.2 5 Elastic Search 2.4.1 6 Scala 2.11.8 7 Kafka 2.11-0.10.0.1 8 Flume 1.7 \u7cfb\u7edf\u67b6\u6784\uff1a Kafka\u9ed8\u8ba4\u914d\u7f6e\uff1a\uff08CDH\u91cc\u7684\u914d\u7f6e\uff09 \uff081\uff09 broker\u4e2d\u9ed8\u8ba4\u914d\u7f6e 1\uff09\u7f51\u7edc\u548cio\u64cd\u4f5c\u7ebf\u7a0b\u914d\u7f6e # broker\u5904\u7406\u6d88\u606f\u7684\u6700\u5927\u7ebf\u7a0b\u6570 \uff08\u4e00\u822c\u4e0d\u9700\u8981\u4fee\u6539\uff09 num.network.threads=3 # broker\u5904\u7406\u78c1\u76d8IO\u7684\u7ebf\u7a0b\u6570 num.io.threads=8 2\uff09log\u6570\u636e\u6587\u4ef6\u5237\u76d8\u7b56\u7565 \u4e3a\u4e86\u5927\u5e45\u5ea6\u63d0\u9ad8producer\u5199\u5165\u541e\u5410\u91cf\uff0c\u9700\u8981\u5b9a\u671f\u6279\u91cf\u5199\u6587\u4ef6 #\u6bcf\u5f53producer\u5199\u516510000\u6761\u6d88\u606f\u65f6\uff0c\u5237\u6570\u636e\u5230\u78c1\u76d8 log.flush.interval.messages=10000 # \u6bcf\u95f4\u96941\u79d2\u949f\u65f6\u95f4\uff0c\u5237\u6570\u636e\u5230\u78c1\u76d8 log.flush.interval.ms=1000 3\uff09\u65e5\u5fd7\u4fdd\u7559\u7b56\u7565\u914d\u7f6e # \u4fdd\u7559\u4e09\u5929\uff0c\u4e5f\u53ef\u4ee5\u66f4\u77ed log.retention.hours=72 # \u6bb5\u6587\u4ef6\u914d\u7f6e1GB\uff0c\u6709\u5229\u4e8e\u5feb\u901f\u56de\u6536\u78c1\u76d8\u7a7a\u95f4\uff0c\u91cd\u542fkafka\u52a0\u8f7d\u4e5f\u4f1a\u52a0\u5feb log.segment.bytes=1073741824 4\uff09Replica\u76f8\u5173\u914d\u7f6e replica.lag.time.max.ms:10000 replica.lag.max.messages:4000 num.replica.fetchers:1 #\u7528\u6765\u63a7\u5236Fetch\u7ebf\u7a0b\u7684\u6570\u91cf\u3002 default.replication.factor:1 #\u81ea\u52a8\u521b\u5efatopic\u65f6\u9ed8\u8ba4\u7684Replica\u6570\u91cf\uff0c\u4e00\u822c\u5efa\u8bae\u57282~3\u4e3a\u5b9c\u3002 5\uff09\u5176\u4ed6 num.partitions:1 #\u5206\u533a\u6570\u91cf queued.max.requests:500 #\u7528\u4e8e\u7f13\u5b58\u7f51\u7edc\u8bf7\u6c42\u7684\u961f\u5217\u7684\u6700\u5927\u5bb9\u91cf compression.codec:none #Message\u843d\u5730\u65f6\u662f\u5426\u91c7\u7528\u4ee5\u53ca\u91c7\u7528\u4f55\u79cd\u538b\u7f29\u7b97\u6cd5\u3002 in.insync.replicas:1 #\u6307\u5b9a\u6bcf\u6b21Producer\u5199\u64cd\u4f5c\u81f3\u5c11\u8981\u4fdd\u8bc1\u6709\u591a\u5c11\u4e2a\u5728ISR\u7684Replica\u786e\u8ba4\uff0c\u4e00\u822c\u914d\u5408request.required.acks\u4f7f\u7528\u3002\u8fc7\u9ad8\u53ef\u80fd\u4f1a\u5927\u5e45\u964d\u4f4e\u541e\u5410\u91cf\u3002 \uff082\uff09 producer \u914d\u7f6e buffer.memory:33554432 (32m) #\u5728Producer\u7aef\u7528\u6765\u5b58\u653e\u5c1a\u672a\u53d1\u9001\u51fa\u53bb\u7684Message\u7684\u7f13\u51b2\u533a\u5927\u5c0f\u3002 compression.type:none #\u751f\u4ea7\u8005\u751f\u6210\u7684\u6240\u6709\u6570\u636e\u538b\u7f29\u683c\u5f0f\uff0c\u9ed8\u8ba4\u53d1\u9001\u4e0d\u8fdb\u884c\u538b\u7f29\u3002\u82e5\u542f\u7528\u538b\u7f29\uff0c\u53ef\u4ee5\u5927\u5e45\u5ea6\u7684\u51cf\u7f13\u7f51\u7edc\u538b\u529b\u548cBroker\u7684\u5b58\u50a8\u538b\u529b\uff0c\u4f46\u4f1a\u5bf9cpu \u9020\u6210\u538b\u529b\u3002 linger.ms:0 #Producer\u9ed8\u8ba4\u4f1a\u628a\u4e24\u6b21\u53d1\u9001\u65f6\u95f4\u95f4\u9694\u5185\u6536\u96c6\u5230\u7684\u6240\u6709Requests\u8fdb\u884c\u4e00\u6b21\u805a\u5408\u7136\u540e\u518d\u53d1\u9001\uff0c\u4ee5\u6b64\u63d0\u9ad8\u541e\u5410\u91cf\uff0c\u8fd9\u4e2a\u53c2\u6570\u4e3a\u6bcf\u6b21\u53d1\u9001\u589e\u52a0\u4e00\u4e9bdelay\uff0c\u4ee5\u6b64\u6765\u805a\u5408\u66f4\u591a\u7684Message\u3002 batch.size:16384 #Producer\u4f1a\u5c1d\u8bd5\u53bb\u628a\u53d1\u5f80\u540c\u4e00\u4e2aPartition\u7684\u591a\u4e2aRequests\u8fdb\u884c\u5408\u5e76\uff0cbatch.size\u6307\u660e\u4e86\u4e00\u6b21Batch\u5408\u5e76\u540eRequests\u603b\u5927\u5c0f\u7684\u4e0a\u9650\u3002\u5982\u679c\u8fd9\u4e2a\u503c\u8bbe\u7f6e\u7684\u592a\u5c0f\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6240\u6709\u7684Request\u90fd\u4e0d\u8fdb\u884cBatch\u3002 acks:1 #\u8bbe\u5b9a\u53d1\u9001\u6d88\u606f\u540e\u662f\u5426\u9700\u8981Broker\u7aef\u8fd4\u56de\u786e\u8ba4\u3002 0: \u4e0d\u9700\u8981\u8fdb\u884c\u786e\u8ba4\uff0c\u901f\u5ea6\u6700\u5feb\u3002\u5b58\u5728\u4e22\u5931\u6570\u636e\u7684\u98ce\u9669\u3002 1: \u4ec5\u9700\u8981Leader\u8fdb\u884c\u786e\u8ba4\uff0c\u4e0d\u9700\u8981ISR\u8fdb\u884c\u786e\u8ba4\u3002\u662f\u4e00\u79cd\u6548\u7387\u548c\u5b89\u5168\u6298\u4e2d\u7684\u65b9\u5f0f\u3002 all: \u9700\u8981ISR\u4e2d\u6240\u6709\u7684Replica\u7ed9\u4e88\u63a5\u6536\u786e\u8ba4\uff0c\u901f\u5ea6\u6700\u6162\uff0c\u5b89\u5168\u6027\u6700\u9ad8\uff0c\u4f46\u662f\u7531\u4e8eISR\u53ef\u80fd\u4f1a\u7f29\u5c0f\u5230\u4ec5\u5305\u542b\u4e00\u4e2aReplica\uff0c\u8bbe\u7f6e\u53c2\u6570\u4e3aall\u5e76\u4e0d\u80fd\u4e00\u5b9a\u907f\u514d\u6570\u636e\u4e22\u5931\u3002 \uff083\uff09 Consumer num.consumer.fetchers:1 #\u542f\u52a8Consumer\u7684\u4e2a\u6570\uff0c\u9002\u5f53\u589e\u52a0\u53ef\u4ee5\u63d0\u9ad8\u5e76\u53d1\u5ea6\u3002 fetch.min.bytes:1 #\u6bcf\u6b21Fetch Request\u81f3\u5c11\u8981\u83b7\u53d6\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\u624d\u53ef\u4ee5\u8fd4\u56de\u3002 #\u5728Fetch Request\u83b7\u53d6\u7684\u6570\u636e\u81f3\u5c11\u8fbe\u5230fetch.min.bytes\u4e4b\u524d\uff0c\u5141\u8bb8\u7b49\u5f85\u7684\u6700\u5927\u65f6\u957f\u3002 fetch.wait.max.ms:100 \uff084\uff09 \u5176\u4ed6 zookeeper.session.timeout.ms=6s message.max.bytes=1000000B replica.fetch.max.bytes=1MB num.producers=1 ### Number of Producers num.streams=1 ###Number of Consumer Threads producer.request.timeout.ms=30s consumer.request.timeout.ms=40s session.timeout.ms=30s kafka.log4j.dir=/var/log/kafka ##kafka\u6570\u636e\u7684\u5b58\u653e\u5730\u5740 2.2 \u6d4b\u8bd5\u65b9\u6cd5 \u538b\u529b\u53d1\u8d77\uff1akafka\u5b98\u65b9\u63d0\u4f9b\u7684\u81ea\u6d4b\u811a\u672c 4\u9879\u6307\u6807\uff1a\u603b\u5171\u53d1\u9001\u6d88\u606f\u91cf\uff08\u4ee5MB\u4e3a\u5355\u4f4d\uff09\uff0c\u6bcf\u79d2\u53d1\u9001\u6d88\u606f\u91cf\uff08MB/second\uff09\uff0c\u53d1\u9001\u6d88\u606f\u603b\u6570\uff0c\u6bcf\u79d2\u53d1\u9001\u6d88\u606f\u6570\uff08records/second\uff09 \u76d1\u63a7\u4fe1\u606f\uff1a\u81ea\u5b9a\u4e49\u811a\u672c\u6765\u8bb0\u5f55\u670d\u52a1\u60c5\u51b5\uff0c\u5305\u62ecCPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u3001\u7f51\u7edc\u7b49\u60c5\u51b5\u3002 \uff081\uff09 \u751f\u4ea7\u8005\u6d4b\u8bd5\u811a\u672ckafka-producer-perf-test.sh \u53c2\u6570\u8bf4\u660e\uff1a --topic topic\u540d\u79f0\uff0c --num-records \u603b\u5171\u9700\u8981\u53d1\u9001\u7684\u6d88\u606f\u6570\uff0c --record-size \u6bcf\u4e2a\u8bb0\u5f55\u7684\u5b57\u8282\u6570\uff0c --throughput \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u8bb0\u5f55\u6570\uff0c --producer-props bootstrap.servers=localhost:9092 \u53d1\u9001\u7aef\u7684\u914d\u7f6e\u4fe1\u606f \uff082\uff09\u6d88\u8d39\u8005\u6d4b\u8bd5\u811a\u672ckafka-consumer-perf-test.sh \u53c2\u6570\u8bf4\u660e\uff1a --zookeeper \u6307\u5b9azookeeper\u7684\u94fe\u63a5\u4fe1\u606f\uff0c --topic \u6307\u5b9atopic\u7684\u540d\u79f0\uff0c --fetch-size \u6307\u5b9a\u6bcf\u6b21fetch\u7684\u6570\u636e\u7684\u5927\u5c0f\uff0c --messages \u603b\u5171\u8981\u6d88\u8d39\u7684\u6d88\u606f\u4e2a\u6570\uff0c 2.2.1 producer \u541e\u5410\u91cf\u6d4b\u8bd5\u65b9\u6cd5 1\u3001\u57fa\u4e8e\u539f\u6709\u914d\u7f6e\u4e0b\u5bf9kafka\u8fdb\u884c\u6570\u91cf\u7ea7\u7684\u52a0\u538b\uff0c\u9009\u7528\u4e00\u53f0\u6216\u4e09\u53f0\u5ba2\u6237\u673a\u5148\u6d4b\u8bd5\u5728\u6ca1\u6709\u6d88\u8d39\u8005\u65f6\u7684\u541e\u5410\u91cf\u3002\u6d4b\u8bd5\u5f71\u54cd\u56e0\u7d20\u4e3b\u8981\u5305\u62ecpartitions\u3001\u78c1\u76d8\u548cthread\u4e09\u4e2a\u4e3b\u8981\u56e0\u7d20\uff0c\u901a\u8fc7\u8bb0\u5f55\u6bcf\u79d2\u949f\u6761\u6570\uff08Records/s\uff09\u3001\u6bcf\u79d2\u65e5\u5fd7\u91cf\u5927\u5c0f\uff08MB/s\uff09\u8861\u91cf\u541e\u5410\u91cf\uff0c\u5e76\u627e\u5230\u5404\u4e2a\u56e0\u7d20\u4e4b\u95f4\u7684\u89c4\u5f8b\u3002 \u6ce8\uff1a \uff081\uff09 \u7ebf\u7a0b\u6570\u7684\u8bbe\u7f6e\u6839\u636ecpu\u5185\u6838\u6570\u8bbe\u7f6e\uff0c\u672c\u6d4b\u8bd5\u73af\u5883\u4e3a16\u6838\uff08thread <=16\uff09\u3002 \uff082\uff09 Broker \u57fa\u4e8e\u7269\u7406\u73af\u5883\u8bbe\u7f6e\uff08broker<=3\uff09\uff0c\u4e09\u4e2a 2\u3001\u901a\u8fc7\u4fee\u6539\u4ee5\u4e0a3\u4e2a\u5f71\u54cd\u56e0\u7d20\u6d4b\u8bd5kafka\u541e\u5410\u91cf\u3002 3\u3001\u6d4b\u8bd5\u547d\u4ee4 \uff081\uff09\u521b\u5efatopic 1)./kafka-topics.sh --zookeepr IP:2181 --create --topic test --partitions 3 --replication-factor 1 2)./ppt.sh --topic pc918 --num-records 50000000 --record-size 1000 --throughput 10000000 --threads 3 --producer-props bootstrap.servers=192.168.17.57:9092,192.168.17.64:9092,192.168.17.65:9092 \u6ce8\uff1appt.sh \u57fa\u4e8ekafka-producer-perf-test.sh\u4fee\u6539\uff0c\u589e\u52a0\u4e86\u751f\u4ea7\u8005\u7684thread \u9009\u9879\u3002 2.2.2 consumer \u541e\u5410\u91cf\u6d4b\u8bd5\u65b9\u6cd5 1\u3001\u57fa\u4e8e\u539f\u6709\u914d\u7f6e\u4e0b\u8fdb\u884c\u6d88\u8d39\uff0c\u5e76\u6d4b\u8bd5\u4e3b\u8981\u5f71\u54cd\u56e0\u7d20partitions\u3001thread\u548c\u78c1\u76d8\u7b49\u56e0\u7d20\uff0c\u9009\u7528\u4e00\u53f0\u6216\u4e09\u53f0\u5ba2\u6237\u673a\u5148\u6d4b\u8bd5\u6ca1\u6709\u751f\u4ea7\u8005\u65f6\u7684\u541e\u5410\u91cf\u3002\u901a\u8fc7\u8bb0\u5f55Records/second\u3001MB/second\u8861\u91cf\u541e\u5410\u91cf\uff0c\u5e76\u627e\u5230\u5404\u4e2a\u56e0\u7d20\u4e4b\u95f4\u7684\u89c4\u5f8b\u3002 2\u3001\u901a\u8fc7\u4fee\u6539\u5f71\u54cd\u56e0\u7d20\u6d4b\u8bd5kafka\u541e\u5410\u91cf\u3002 3\u3001\u6d4b\u8bd5\u547d\u4ee4 ./kafka-consumer-perf-test.sh --zookeeper IP:2181 --topic test1 --fetch-size 1048576 --messages 10000000 --threads 3 2.2.3 \u6d88\u8d39\u4e0e\u541e\u5410\u91cf \u5206\u522b\u5728\u4e00\u53f0\u6216\u4e09\u53f0\u5ba2\u6237\u673a\u540c\u65f6\u5f00\u542f\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u6d4b\u8bd5\u547d\u4ee4,\u8fdb\u884c\u6d4b\u8bd5 3 \u6d4b\u8bd5\u6570\u636e\uff08\u90e8\u5206\u6837\u4f8b\uff09 3 .1 \u5199\u5165\u6d4b\u8bd5(only\u751f\u4ea7\u8005) 3.1.1 Partition VS. Throughput \u200b \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic, Replication-factor=1\uff0c3\u4e2a\u78c1\u76d8\uff0cthroughput=1000w,num-records=2000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd51\uff0c3\uff0c6\uff0c12\uff0c15\uff0c20\uff0c30\uff0c50\u4e2apartition\u65f6\u7684\u541e\u5410\u91cf \u200b \u88681 partition\u5f71\u54cd\u56e0\u5b50 \u7c7b\u578b partition Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) partition 1 102760 98 297.65 929 3 283639 270.5 107.1 1965 6 332457 317.06 61.22 1085 9 305838 291.67 39.37 2842 12 344245 328.3 21.68 645 15 349846 333.64 20.51 618 20 349852 333.6 15.06 371 30 349870 333.66 15.47 843 50 346296 330.25 13.07 619 \u5f53partition\u7684\u4e2a\u6570\u4e3a3\u65f6\uff0c\u541e\u5410\u91cf\u6210\u7ebf\u6027\u589e\u957f\uff0c\u5f53partition\u591a\u4e8ebroker\u7684\u4e2a\u6570\u65f6\u589e\u957f\u5e76\u4e0d\u660e\u663e\uff0c\u751a\u81f3\u8fd8\u6709\u6240\u4e0b\u964d\u3002\u540c\u65f6\u968f\u7740\uff0cpartition\u4e2a\u6570\u7684\u589e\u591a\uff0c\u5ef6\u8fdf\u65f6\u95f4\u9010\u6e10\u51cf\u5c11\uff0c\u5f53partition\u4e2a\u6570\u57283-6\u4e4b\u95f4\u5ef6\u8fdf\u65f6\u95f4\u964d\u4f4e\u8f83\u5feb\uff0c\u8d8a\u5927\u5ef6\u8fdf\u65f6\u95f4\u964d\u4f4e\u8d8b\u4e8e\u5e73\u7a33\u3002 3.1.2 Replica VS. Throughput \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic,3\u4e2a\u78c1\u76d8\uff0cthroughput=35w,num-records=5000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5replication-factor\u4e3a1\uff0c2\uff0c3\uff0c6\u65f6\u7684\u541e\u5410\u91cf \u200b \u88682 Repica\u5f71\u54cd\u56e0\u5b50 \u7c7b\u578b replications Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) replication 1 349870 333.66 12.69 713 2 349846 333.64 10.8 392 3 345077 329.09 36.36 897 6 \u9519\u8bef Error while executing topic command : replication factor: 6 larger than available brokers: 3 \u7531\u8868\u53ef\u77e5\uff0creplication-factor\u7684\u4e2a\u6570\u5e94\u8be5\u4e0d\u5927\u4e8ebroker\u7684\u4e2a\u6570\uff0c\u5426\u5219\u5c31\u4f1a\u62a5\u9519\u3002\u968f\u7740replication-factor \u4e2a\u6570\u7684\u589e\u52a0\u541e\u5410\u91cf\u51cf\u5c0f\uff0c\u4f46\u5e76\u975e\u662f\u7ebf\u6027\u4e0b\u964d\uff0c\u56e0\u4e3a\u591a\u4e2aFollower\u7684\u6570\u636e\u590d\u5236\u662f\u5e76\u884c\u8fdb\u884c\u7684\uff0c\u800c\u975e\u4e32\u884c\u8fdb\u884c\uff0c\u56e0\u6b64\u57fa\u4e8e\u6570\u636e\u7684\u5b89\u5168\u6027\u53ca\u5ef6\u8fdf\u6027\u8003\u8651\uff0c\u6700\u591a\u9009\u62e92-3\u4e2a\u526f\u672c\u3002 3.1.3 Thread VS. Throughput \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic,3\u4e2a\u78c1\u76d8\uff0c3\u4e2apartitions , throughput=1000w,num-records=1000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5thread\u4e3a1\uff0c2\uff0c3\uff0c4\uff0c5\u65f6\u7684\u541e\u5410\u91cf \u200b \u88683 Thread \u5f71\u54cd\u56e0\u5b50 \u7c7b\u578b partition thread Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) thread 3 1 265505 253.21 113.79 571 2 559252 533.35 93.75 388 3 730300 696.47 68.96 337 4 722700 689.22 42.49 343 5 740137 705.85 36.88 283 \u7531\u8868\u53ef\u77e5\u968f\u7740\u7ebf\u7a0b\u6570\u7684\u589e\u52a0\u541e\u5410\u91cf\u4e0d\u65ad\u589e\u52a0\uff0c\u5f53\u7ebf\u7a0b\u6570\u5c0f\u4e8e\u5206\u533a\u6570\u65f6\u589e\u957f\u8f83\u5feb\uff0c\u5927\u4e8e\u5206\u533a\u6570\u65f6\u589e\u957f\u8f83\u6162\uff0c\u5e76\u8d8b\u4e8e\u5e73\u7a33\u3002\u76ee\u524d\u5355\u4e2a\u5ba2\u6237\u7aef\u53ef\u4ee5\u8fbe700MB-800MB/s\u4ee5\u4e0a\u7684\u7f51\u901f\u6d41\u91cf\u3002 3.1.4 \u78c1\u76d8 VS. Throughput \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=1000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u78c1\u76d8\u4e2a\u6570\u4e3a3\uff0c6\uff0c9\u65f6\u7684\u541e\u5410\u91cf \u200b \u88684 \u78c1\u76d8\u5f71\u54cd\u56e0\u5b50 \u7c7b\u578b partition \u78c1\u76d8\u4e2a\u6570 Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) \u78c1\u76d8 3 3 265505 253.21 113.79 571 6 6 354886 338.45 58.13 512 9 9 363240 346.41 6.33 409 \u7531\u8868\u53ef\u77e5\uff0c\u78c1\u76d8\u4e2a\u6570\u7684\u589e\u52a0\u4e0epartition\u7684\u589e\u52a0\u5177\u6709\u76f8\u5173\u6027\uff0c\u5e76\u975e\u8d8a\u591a\u8d8a\u597d\uff0cpartition\u7684\u589e\u52a0\u53d7broker\u7684\u5f71\u54cd\uff0c\u56e0\u6b64\u78c1\u76d8\u7684\u4e2a\u6570\u8bbe\u7f6e\u5e94\u5728broker\u4e2a\u6570\u76841-3\u500d\u4e4b\u95f4\u8f83\u4e3a\u5408\u9002\uff0c\u540c\u65f6\u968f\u7740\u78c1\u76d8\u4e2a\u6570\u7684\u589e\u52a0\uff0c\u5e73\u5747\u5ef6\u8fdf\u65f6\u95f4\u5728\u9010\u6e10\u51cf\u5c0f\uff0c\u56e0\u6b64\u78c1\u76d8\u7684\u6570\u91cf\u4f1a\u5f71\u54cd\u5e73\u5747\u5ef6\u8fdf\u65f6\u95f4\u3002 3.1.5 Others VS. Throughput 1 \u3001Network\u7ebf\u7a0b\u6570 Network\u7ebf\u7a0b\u6570\u5373broker\u5904\u7406\u6d88\u606f\u7684\u6700\u5927\u7ebf\u7a0b\u6570 \uff08\u4e00\u822c\u4e0d\u9700\u8981\u4fee\u6539\uff09\u3002 \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=5000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer\uff0c9\u4e2a\u78c1\u76d8\uff0c9\u4e2apartitions \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u7ebf\u7a0b\u4e2a\u6570\u4e3a3\uff0c8\u65f6\u7684\u541e\u5410\u91cf \u88685 Network\u7f51\u7edc\u7ebf\u7a0b\u6570 net.io.thread \u751f\u4ea7\u8005y99_thread Records/second(avg) MB/second(avg) CPU(max%) 3 3 516913 492.97 560.5 6 528966 504 943.2 9 441789 421.32 799.3 8 3 629945 600.76 636 6 554865 529.16 855 9 543371 518.2 859 \u7531\u8868\u6240\u793a\uff0c\u589e\u52a0\u7f51\u7edc\u7ebf\u7a0b\u6570\u53ef\u4ee5\u63d0\u9ad8\u541e\u5410\u91cf\uff0c\u4f46\u968f\u7740\u751f\u4ea7\u8005\u7ebf\u7a0b\u6570\u589e\u52a0\u9010\u6e10\u8d8b\u4e8e\u5e73\u7a33\uff0c\u6b64\u65f6CPU\u6700\u5927\u503c\u4e3a998.2%\uff0c\u5bf9\u4e8e16\u6838\u7684CPU\u7ea6\u5360\u523010\u6838\u3002 2 \u3001\u6d4b\u8bd5\u5ba2\u6237\u673a\u7684\u5f71\u54cd \u7531\u4e8e\u5728\u5355\u4e2a\u5ba2\u6237\u673a\u6d4b\u8bd5\u65f6\uff0c\u7f51\u5361\u786c\u4ef6\u6761\u4ef6\u7684\u9650\u5236\u4f1a\u5f71\u54cd\u6d4b\u8bd5\u7684\u541e\u5410\u91cf\uff0c\u56e0\u6b64\u6362\u75283\u53f0\u5ba2\u6237\u673a\u6d4b\u8bd5\uff0c\u541e\u5410\u91cf\u7684\u6d4b\u8bd5\u7ed3\u679c\u5373\u4e3a\u4e09\u4e2a\u5ba2\u6237\u673a\u541e\u5410\u603b\u91cf\u3002\u5206\u522b\u6d4b\u8bd56\u4e2a\u78c1\u76d8\u548c9\u4e2a\u78c1\u76d8\u5728\u4e0d\u540c\u5206\u533a\u548c\u7ebf\u7a0b\u6570\u7684\u60c5\u51b5\uff0c\u6d4b\u8bd5\u7ed3\u679c\u5982\u88686\u6240\u793a\u3002 \u200b \u88686 \u5ba2\u6237\u673a\u5f71\u54cd\u56e0\u7d20 topic_partition_thread 66 67 68 \u603b\u91cf Records/second(avg) MB/second(avg) Records/second(avg) MB/second(avg) Records/second(avg) MB/second(avg) Records/second(avg) MB/second(avg) p66(3) 439382 419.03 461382 440.01 449458 428.64 1350222 1287.68 p66(6) 471635 449.79 468059 446.38 466409 444.8 1406103 1340.97 p66(12) 145292 138.56 145266 138.54 144017 137.35 434575 414.45 p612(3) 498037 474.97 488181 465.57 584098 557.04 1570316 1497.58 p612(6) 305658 291.5 305255 291.11 305715 291.55 916628 874.16 p612(12) 102037 97.31 102032 97.31 101951 97.23 306020 291.85 p99(3) 473771 451.82 481621 459.31 498658 475.56 1454050 1386.69 p99(6) 207400 197.79 207337 197.73 206322 196.76 621059 592.28 p99(12) 174175 166.11 178429 170.16 177564 169.34 530168 505.61 \u7531\u88686\u53ef\u4ee5\u770b\u51fa\uff0c\u5728\u4e09\u53f0\u6d4b\u8bd5\u673a\u4e0b\uff0c\u540c\u65f6\u5411\u4e00\u4e2atopic\u4ea7\u751f\u6570\u636e\uff0c\u751f\u4ea7\u8005\u7684\u6570\u636e\u603b\u91cf\u662f\u5728\u589e\u5927\u7684\u3002\u5728\u7f51\u7edc\u7a33\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u66fe\u6d4b\u8bd53\u4e2a\u78c1\u76d83\u4e2apartition\u6700\u5927\u541e\u5410\u91cf\u572818000\u6761\u5de6\u53f3 \uff0c\u5927\u5c0f\u4e3a1683.31MB/s\uff0c\u5982\u56fe1\u6240\u793a\u3002 \u5176\u4e2d\u5728\u5355\u4e2abroker\u4e0acpu\u6700\u5927\u4e0a\u7ebf\u4e3a700%-800%\uff0c\u5185\u5b58\u5229\u7528\u7387\u4e3a10%-20%\u3002\u5728\u5355\u53f0\u6d4b\u8bd5\u673a\u60c5\u51b5\u4e0b\uff0c\u66fe\u6d4b\u8bd5\u5355\u53f0\u6d4b\u8bd5\u4e0b\u6700\u5927\u541e\u5410\u4e3a80w\u6761\u5de6\u53f3\uff0c\u5927\u5c0f\u7ea6\u4e3a80MB/s\uff0c\u7531\u4e8e\u8d44\u6e90\u9650\u5236\u4e09\u53f0\u673a\u5668\u603b\u91cf\u53ef\u80fd\u8fbe\u4e0d\u5230\u4e00\u53f0\u673a\u56683\u500d\u7684\u91cf\u3002 \u200b \u200b \u56fe1 3\u53f0\u673a\u5668\u7684\u541e\u5410\u91cf 3 \u3001IO\u7ebf\u7a0b\u6570 IO\u7ebf\u7a0b\u6570\u5373broker\u5904\u7406\u78c1\u76d8IO\u7684\u7ebf\u7a0b\u6570 \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=5000w \uff0cbatch-size=16K ,3\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer\uff0c6\u4e2a\u78c1\u76d8\uff0c6\u4e2apartitions \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u7ebf\u7a0b\u4e2a\u6570\u4e3a8\uff0c12\u65f6\u7684\u541e\u5410\u91cf \u56fe2 \u7ebf\u7a0b\u6570\u4e3a8 \u200b \u56fe3 \u7ebf\u7a0b\u6570\u4e3a12 \u7531\u56fe2\uff0c3\u53ef\u77e5\uff0c\u5f53\u7ebf\u7a0b\u6570\u589e\u52a0\u540e\uff0c\u541e\u5410\u91cf\u6709\u6240\u589e\u52a0\uff0c\u4f46\u589e\u52a0\u6bd4\u8f83\u7f13\u548c\u3002 4\u3001\u751f\u4ea7\u8005\u7684\u4e2a\u6570 \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=5000w \uff0cbatch-size=16K ,3\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer\uff0c9\u4e2a\u78c1\u76d8\uff0c9\u4e2apartitions \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u751f\u4ea7\u8005\u4e2a\u6570\u4e3a1\uff0c2\uff0c3\u65f6\u7684\u541e\u5410\u91cf \u88687 \u4e0d\u540c\u751f\u4ea7\u8005\u541e\u5410\u91cf thread 1 2 3 1\u7a97\u53e3 1\u7a97\u53e3 2\u7a97\u53e3 1\u7a97\u53e3 2\u7a97\u53e3 3\u7a97\u53e3 \u6761 MB \u6761 MB \u6761 MB \u6761 MB/s \u6761 MB/s \u6761 MB/s 3 629945 600.76 338900 323.2 328357 313.15 209465 199.76 205923 196.38 209129 199.44 6 554865 529.16 354172 337.77 382564 364.84 235881 224.95 236085 225.15 245225 233.87 9 543371 518.2 370090 352.95 359056 342.42 209646 199.93 221790 211.52 209058 199.37 \u7531\u88687 \u53ef\u77e5\uff0c\u5728\u540c\u4e00\u5ba2\u6237\u7aef\u4e0b\uff0c\u5f00\u542f\u4e0d\u540c\u7684\u751f\u4ea7\u8005\uff0c2\u4e2a\u751f\u4ea7\u8005\u548c3\u4e2a\u751f\u4ea7\u7684\u603b\u541e\u5410\u91cf\u57fa\u672c\u7b49\u4e8e1\u4e2a\u751f\u4ea7\u8005\u7684\u603b\u91cf\u3002 5\u3001\u538b\u7f29\u56e0\u7d20 \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=5000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer\uff0c9\u4e2a\u78c1\u76d8\uff0c9\u4e2apartitions \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u4e0d\u540c\u538b\u7f29\u7c7b\u578b\u7684\u541e\u5410\u91cf\uff0ckafka\u652f\u6301\u7684\u538b\u7f29\u7c7b\u578b\u5305\u62ecnone\u3001Snappy\u3001gzip\u3001LZ4\u3002 \u6d4b\u8bd5\u547d\u4ee4\uff1a ./ppt.sh --topic py --num-records 50000000 --record-size 1000 --throughput 10000000 --threads 3 --producer-props bootstrap.servers=192.168.17.68:9092,192.168.17.69:9092,192.168.17.70:9092 compression.type=gzip \u901a\u8fc7\u8fd0\u884c\u65f6\u521d\u59cb\u5316\u53c2\u6570\u770b\u5230\u4fee\u6539\u503c\u751f\u6548\uff0c\u5982\u56fe\u6240\u793a\u3002 \u200b \u56fe4 \u521d\u59cb\u5316\u53c2\u6570 \u200b \u88688 \u538b\u7f29\u56e0\u7d20 \u538b\u7f29\u7c7b\u578b Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) \u8017\u65f6 cpu max cpu avg none 636472 606 122.56 3281 78s 899 545 Snappy 392233 374.06 50.88 672 80s 670 574 gzip 92653 88.36 2.38 386 8\u520659s 959.5 522 LZ4 618444 589.79 4 329 81s 887.7 480 \u7531\u8868\u53ef\u77e5snappy\u3001gzip\u538b\u7f29\u53ef\u4ee5\u5927\u5e45\u5ea6\u7684\u51cf\u7f13\u7f51\u7edc\u538b\u529b\u548cBroker\u7684\u5b58\u50a8\u538b\u529b\uff0c\u540c\u65f6\u964d\u4f4e\u5e73\u5747\u5ef6\u8fdf\u65f6\u95f4\uff0cLZ4\u538b\u7f29\u5728\u964d\u4f4e\u5e73\u5747\u5ef6\u8fdf\u65f6\u95f4\u65f6\u6700\u663e\u8457\uff0cgzip\u5728\u751f\u4ea7\u6570\u636e\u65f6\u8017\u65f6\u6700\u5927\u3002 3.2 \u8bfb\u53d6\u6d4b\u8bd5(only \u6d88\u8d39\u8005) 3.2.1 Thread VS. Throughput \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic,3\u4e2a\u78c1\u76d8\uff0cthroughput=1000w,num-records=5000w \uff0c1\u4e2a\u5ba2\u6237\u7aef \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5thread\u4e3a1\uff0c2\uff0c3\uff0c6\u65f6\u7684\u541e\u5410\u91cf \u200b \u88689 \u7ebf\u7a0b\u56e0\u7d20 console&thread Records/second(avg) MB/second(avg) p33(11) 340124 324 p33(12) 799073 762 p33(13) 973551 928 p33(16) 963081 918 \u7531\u8868\u53ef\u77e5\uff0c\u589e\u52a0\u7ebf\u7a0b\u6570\u4f1a\u589e\u52a0\u6d88\u8d39\u8005\u7684\u541e\u5410\u91cf\uff0c\u5f53\u5c0f\u4e8e3\u4e2a\u7ebf\u7a0b\u65f6\u541e\u5410\u91cf\u589e\u901f\u8f83\u5feb\uff0c\u5927\u4e8e3\u4e2a\u7684\u65f6\u5019\u8d8b\u4e8e\u5927\u4f53\u5e73\u7a33\uff0c\u5355\u4e2a\u5ba2\u6237\u7aef\u6d88\u8d39\u8005\u7684\u541e\u5410\u91cf\u53ef\u8fbe\u5230928MB/s\u3002\u540c\u65f6\uff0c\u6d88\u8d39\u8005\u541e\u5410\u91cf\u5927\u4e8e\u751f\u4ea7\u8005\u7684\u541e\u5410\u91cf\u5e76\u4e14\u5904\u7406\u6d88\u606f\u7684\u65f6\u95f4\u603b\u5927\u4e8e\u751f\u4ea7\u8005\u3002\u56e0\u6b64\u5728\u5408\u7406\u7684\u914d\u7f6e\u4e0b\u53ef\u4ee5\u4fdd\u8bc1\u6d88\u606f\u88ab\u53ca\u65f6\u5904\u7406\u3002 3.2.2 \u6d88\u8d39\u8005 VS. Throughput \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic,3\u4e2a\u78c1\u76d8\uff0cthroughput=1000w,num-records=5000w \uff0c3\u4e2a\u5ba2\u6237\u7aef\uff0c\u5373\u4e09\u4e2a\u6d88\u8d39\u8005 \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u6d88\u8d39\u8005\u4e3a1\uff0c 3\u65f6\u7684\u541e\u5410\u91cf \u5f53\u6d88\u8d39\u8005\u4e2a\u6570\u67091\u589e\u4e3a3\u65f6\uff0c\u541e\u5410\u91cf\u7531324MB/s\u589e\u52a0\u52301324MB/s\u3002Consumer\u6d88\u8d39\u6d88\u606f\u65f6\u4ee5Partition\u4e3a\u5206\u914d\u5355\u4f4d\uff0c\u5f53\u53ea\u67091\u4e2aConsumer\u65f6\uff0c\u8be5Consumer\u9700\u8981\u540c\u65f6\u4ece3\u4e2aPartition\u62c9\u53d6\u6d88\u606f\uff0c\u8be5Consumer\u6240\u5728\u673a\u5668\u7684I/O\u6210\u4e3a\u6574\u4e2a\u6d88\u8d39\u8fc7\u7a0b\u7684\u74f6\u9888\uff0c\u800c\u5f53Consumer\u4e2a\u6570\u589e\u52a0\u81f33\u4e2a\u65f6\uff0c\u591a\u4e2aConsumer\u540c\u65f6\u4ece\u96c6\u7fa4\u62c9\u53d6\u6d88\u606f\uff0c\u5145\u5206\u5229\u7528\u4e86\u96c6\u7fa4\u7684\u541e\u5410\u7387\u3002\u5bf9\u4e8e\u540c\u4e00\u4e2a\u7ec4\u5185\u7684\u6d88\u8d39\u8005\u53ea\u5141\u8bb8\u4e00\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\u4e00\u4e2apartition\uff0c\u4e0d\u540c\u7ec4\u4e4b\u95f4\u53ef\u4ee5\u6d88\u8d39\u76f8\u540c\u7684partition\u3002 3.2.3 \u78c1\u76d8 VS. Throughput \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic, throughput=1000w,num-records=5000w \uff0c1\u4e2a\u5ba2\u6237\u7aef \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u6d88\u8d39\u8005\u4e3a3\uff0c6\uff0c9\u65f6\u7684\u541e\u5410\u91cf \u200b \u886810 \u78c1\u76d8\u5f71\u54cd\u56e0\u7d20 console&thread Records/second(avg) MB/second(avg) p36(33) 938827 895 p66(33) 888458 847 p96(33) 259475 247 \u7531\u8868\u770b\u51fa\uff0c\u78c1\u76d8\u6570\u589e\u52a0\u5e76\u4e0d\u80fd\u63d0\u9ad8\u541e\u5410\u7387\uff0c\u53cd\u800c\u541e\u5410\u7387\u76f8\u5e94\u4e0b\u964d\u3002\u56e0\u6b64\uff0c\u5728\u4e00\u5b9abroker\u548cpartition \u4e0b\u53ef\u4ee5\u6309\u4e24\u8005\u503c\u5408\u7406\u589e\u52a0\u78c1\u76d8\u3002 Consumer \u5c0f\u7ed3 \uff081\uff09 Consumer \u541e\u5410\u7387\u8fdc\u5927\u4e8e\u751f\u4ea7\u8005\uff0c\u56e0\u6b64\u53ef\u4ee5\u4fdd\u8bc1\u5728\u5408\u7406\u7684\u914d\u7f6e\u4e0b\uff0c\u6d88\u606f\u53ef\u88ab\u53ca\u65f6\u5904\u7406\u3002 \uff082\uff09 Consumer \u5904\u7406\u6d88\u606f\u65f6\u6240\u6d88\u8017\u5355\u4e2abroker\u7684CPU\u4e00\u822c\u572870%\u4ee5\u4e0b\uff0c\u6240\u5360\u5185\u5b58\u4e5f\u8f83\u5c0f\uff0c\u5c5e\u4e8e\u8f7b\u91cf\u7ea7\u8fdb\u7a0b\u3002 \uff083\uff09 \u672c\u5b9e\u9a8c\u5728\u4e09\u53f0\u5ba2\u6237\u7aef\u6d4b\u5f97Consumer\u7684\u6700\u5927\u541e\u5410\u91cf\u57282617MB/s 3.3 \u751f\u4ea7\u8005&\u6d88\u8d39\u8005 \u6a21\u62df\u7c7b\u4f3c\u771f\u5b9e\u7684\u73af\u5883\uff0c\u751f\u4ea7\u6d88\u8d39\u8fc7\u7a0b \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic, throughput=1000w,num-records=5000w \uff0c3\u4e2a\u5ba2\u6237\u7aef\uff0c\u5373\u4e09\u4e2a\u6d88\u8d39\u8005 \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u78c1\u76d8\u4e3a3\uff0c6\uff0c9\u65f6\u7684\u541e\u5410\u91cf \uff081\uff09 Producer \u200b \u886811 \u751f\u4ea7\u8005\u541e\u5410\u91cf topic Records/second(avg) MB/second(avg) pc36(366) 1023426 976.02 p66(366) 1319431 1258.31 p612(366) 1273905 1214.88 p99(366) 989373 943.54 p918(366) 1159443 1105.73 \uff082\uff09 Consumer \u200b \u886812 \u6d88\u8d39\u8005\u541e\u5410\u91cf topic Records/second(avg) MB/second(avg) pc36(366) 934007 889 p66(366) 2259154 2153 p612(366) 1982417 1889 p99(366) 649876 618 p918(366) 1313163 1817 \u7531producer\u4e0econsumer\u4e24\u8868\uff0c\u6d4b\u5f97\u751f\u4ea7\u7684\u6700\u5927\u541e\u5410\u91cf\u4e3a1258.31MB/s,\u6d88\u8d39\u6700\u5927\u541e\u5410\u91cf\u4e3a2153MB/s\u3002\u7531\u6b64\u770b\u51fa\uff0c\u4e0e\u5355\u751f\u4ea7\u3001\u5355\u6d88\u8d39\u65f6\u7684\u541e\u5410\u91cf\u5927\u4f53\u76f8\u5f53,\u6240\u7528CPU\u53ca\u5185\u5b58\u91cf\u5e76\u672a\u663e\u8457\u4e0a\u5347\u3002","title":"[kafka\u6027\u80fd\u6d4b\u8bd5](https://www.cnblogs.com/runnerjack/p/9105784.html)"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#kafka","text":"\u200b Kafka \u538b\u529b\u6d4b\u8bd5\u6587\u6863","title":"kafka\u6027\u80fd\u6d4b\u8bd5"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#1","text":"","title":"1    \u6982\u8ff0"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#11","text":"\u5728\u4e91\u5e73\u53f0\u7814\u53d1SR IAD\u7684\u8fc7\u7a0b\u4e2d\uff0c\u51fa\u73b0SR IAD\u5bf9\u786c\u4ef6\u8d44\u6e90\u6d88\u8017\u8f83\u4e3a\u4e25\u91cd\u7684\u60c5\u51b5\uff0c\u5176\u4e2d\u5728\u4e91\u5e73\u53f0\u7814\u53d1\u4e2d\u5229\u7528Kafka\u8f6f\u4ef6\u5bf9\u6d41\u5f0f\u6570\u636e\u8fdb\u884c\u6570\u636e\u5904\u7406\u3002\u6211\u4eec\u9488\u5bf9Kafka\u9ad8\u541e\u5410\u91cf\u7684\u7279\u6027\uff0c\u5bf9kafka\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\u3002","title":"1.1  \u6d4b\u8bd5\u80cc\u666f"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#12","text":"\u6d4b\u8bd5kafka\u7684\u541e\u5410\u6027\u80fd(Producer/Consumer\u6027\u80fd)\u3002\u6211\u4eec\u4e3b\u8981\u5bf9\u5206\u533a\u3001\u78c1\u76d8\u548c\u7ebf\u7a0b\u7b49\u5f71\u54cd\u56e0\u7d20\u8fdb\u884c\u6d4b\u8bd5\u3002","title":"1.2  \u6d4b\u8bd5\u76ee\u6807"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#2","text":"6\u53f0\u914d\u7f6e\u76f8\u540c\u7684\u670d\u52a1\u5668\u642d\u5efa\u7684\u4e24\u5957\u76f8\u540c\u7684\u96c6\u7fa4\u73af\u5883 2.1 \u6d4b\u8bd5\u73af\u5883 \u786c\u4ef6\u6761\u4ef6 \u5e8f\u53f7 \u786c\u4ef6 \u914d\u7f6e \u5907\u6ce8 1 CPU E5-2640v2 *2 2 \u5185\u5b58 128G 3 \u786c\u76d8 \u5171\u6302\u8f7d15\u5757\u78c1\u76d8\uff0c\u5269\u4f59\u7a7a\u95f410T\u5de6\u53f3 4 \u7f51\u7edc Intel I350 Gigabit Network Connection 4Intel 82599ES 10-Gigabit SFI/SFP+ Network Connection 2Intel I350 Gigabit Fiber Network Connection *2 \u4f7f\u7528\u4e07\u5146\u7f51\u5361 5 Kafka 3\u53f0\u5355\u78c1\u76d8\u670d\u52a1\u7ec4\u6210\u7684kafka\u96c6\u7fa4 \u8f6f\u4ef6\u7248\u672c\uff1a \u5e8f\u53f7 \u8f6f\u4ef6 \u7248\u672c \u5907\u6ce8 1 CentOS 7.3 2 Hadoop 2.7.3 3 HBase 1.1.7 4 Spark 1.6.2 5 Elastic Search 2.4.1 6 Scala 2.11.8 7 Kafka 2.11-0.10.0.1 8 Flume 1.7 \u7cfb\u7edf\u67b6\u6784\uff1a Kafka\u9ed8\u8ba4\u914d\u7f6e\uff1a\uff08CDH\u91cc\u7684\u914d\u7f6e\uff09 \uff081\uff09 broker\u4e2d\u9ed8\u8ba4\u914d\u7f6e 1\uff09\u7f51\u7edc\u548cio\u64cd\u4f5c\u7ebf\u7a0b\u914d\u7f6e # broker\u5904\u7406\u6d88\u606f\u7684\u6700\u5927\u7ebf\u7a0b\u6570 \uff08\u4e00\u822c\u4e0d\u9700\u8981\u4fee\u6539\uff09 num.network.threads=3 # broker\u5904\u7406\u78c1\u76d8IO\u7684\u7ebf\u7a0b\u6570 num.io.threads=8 2\uff09log\u6570\u636e\u6587\u4ef6\u5237\u76d8\u7b56\u7565 \u4e3a\u4e86\u5927\u5e45\u5ea6\u63d0\u9ad8producer\u5199\u5165\u541e\u5410\u91cf\uff0c\u9700\u8981\u5b9a\u671f\u6279\u91cf\u5199\u6587\u4ef6 #\u6bcf\u5f53producer\u5199\u516510000\u6761\u6d88\u606f\u65f6\uff0c\u5237\u6570\u636e\u5230\u78c1\u76d8 log.flush.interval.messages=10000 # \u6bcf\u95f4\u96941\u79d2\u949f\u65f6\u95f4\uff0c\u5237\u6570\u636e\u5230\u78c1\u76d8 log.flush.interval.ms=1000 3\uff09\u65e5\u5fd7\u4fdd\u7559\u7b56\u7565\u914d\u7f6e # \u4fdd\u7559\u4e09\u5929\uff0c\u4e5f\u53ef\u4ee5\u66f4\u77ed log.retention.hours=72 # \u6bb5\u6587\u4ef6\u914d\u7f6e1GB\uff0c\u6709\u5229\u4e8e\u5feb\u901f\u56de\u6536\u78c1\u76d8\u7a7a\u95f4\uff0c\u91cd\u542fkafka\u52a0\u8f7d\u4e5f\u4f1a\u52a0\u5feb log.segment.bytes=1073741824 4\uff09Replica\u76f8\u5173\u914d\u7f6e replica.lag.time.max.ms:10000 replica.lag.max.messages:4000 num.replica.fetchers:1 #\u7528\u6765\u63a7\u5236Fetch\u7ebf\u7a0b\u7684\u6570\u91cf\u3002 default.replication.factor:1 #\u81ea\u52a8\u521b\u5efatopic\u65f6\u9ed8\u8ba4\u7684Replica\u6570\u91cf\uff0c\u4e00\u822c\u5efa\u8bae\u57282~3\u4e3a\u5b9c\u3002 5\uff09\u5176\u4ed6 num.partitions:1 #\u5206\u533a\u6570\u91cf queued.max.requests:500 #\u7528\u4e8e\u7f13\u5b58\u7f51\u7edc\u8bf7\u6c42\u7684\u961f\u5217\u7684\u6700\u5927\u5bb9\u91cf compression.codec:none #Message\u843d\u5730\u65f6\u662f\u5426\u91c7\u7528\u4ee5\u53ca\u91c7\u7528\u4f55\u79cd\u538b\u7f29\u7b97\u6cd5\u3002 in.insync.replicas:1 #\u6307\u5b9a\u6bcf\u6b21Producer\u5199\u64cd\u4f5c\u81f3\u5c11\u8981\u4fdd\u8bc1\u6709\u591a\u5c11\u4e2a\u5728ISR\u7684Replica\u786e\u8ba4\uff0c\u4e00\u822c\u914d\u5408request.required.acks\u4f7f\u7528\u3002\u8fc7\u9ad8\u53ef\u80fd\u4f1a\u5927\u5e45\u964d\u4f4e\u541e\u5410\u91cf\u3002 \uff082\uff09 producer \u914d\u7f6e buffer.memory:33554432 (32m) #\u5728Producer\u7aef\u7528\u6765\u5b58\u653e\u5c1a\u672a\u53d1\u9001\u51fa\u53bb\u7684Message\u7684\u7f13\u51b2\u533a\u5927\u5c0f\u3002 compression.type:none #\u751f\u4ea7\u8005\u751f\u6210\u7684\u6240\u6709\u6570\u636e\u538b\u7f29\u683c\u5f0f\uff0c\u9ed8\u8ba4\u53d1\u9001\u4e0d\u8fdb\u884c\u538b\u7f29\u3002\u82e5\u542f\u7528\u538b\u7f29\uff0c\u53ef\u4ee5\u5927\u5e45\u5ea6\u7684\u51cf\u7f13\u7f51\u7edc\u538b\u529b\u548cBroker\u7684\u5b58\u50a8\u538b\u529b\uff0c\u4f46\u4f1a\u5bf9cpu \u9020\u6210\u538b\u529b\u3002 linger.ms:0 #Producer\u9ed8\u8ba4\u4f1a\u628a\u4e24\u6b21\u53d1\u9001\u65f6\u95f4\u95f4\u9694\u5185\u6536\u96c6\u5230\u7684\u6240\u6709Requests\u8fdb\u884c\u4e00\u6b21\u805a\u5408\u7136\u540e\u518d\u53d1\u9001\uff0c\u4ee5\u6b64\u63d0\u9ad8\u541e\u5410\u91cf\uff0c\u8fd9\u4e2a\u53c2\u6570\u4e3a\u6bcf\u6b21\u53d1\u9001\u589e\u52a0\u4e00\u4e9bdelay\uff0c\u4ee5\u6b64\u6765\u805a\u5408\u66f4\u591a\u7684Message\u3002 batch.size:16384 #Producer\u4f1a\u5c1d\u8bd5\u53bb\u628a\u53d1\u5f80\u540c\u4e00\u4e2aPartition\u7684\u591a\u4e2aRequests\u8fdb\u884c\u5408\u5e76\uff0cbatch.size\u6307\u660e\u4e86\u4e00\u6b21Batch\u5408\u5e76\u540eRequests\u603b\u5927\u5c0f\u7684\u4e0a\u9650\u3002\u5982\u679c\u8fd9\u4e2a\u503c\u8bbe\u7f6e\u7684\u592a\u5c0f\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6240\u6709\u7684Request\u90fd\u4e0d\u8fdb\u884cBatch\u3002 acks:1 #\u8bbe\u5b9a\u53d1\u9001\u6d88\u606f\u540e\u662f\u5426\u9700\u8981Broker\u7aef\u8fd4\u56de\u786e\u8ba4\u3002 0: \u4e0d\u9700\u8981\u8fdb\u884c\u786e\u8ba4\uff0c\u901f\u5ea6\u6700\u5feb\u3002\u5b58\u5728\u4e22\u5931\u6570\u636e\u7684\u98ce\u9669\u3002 1: \u4ec5\u9700\u8981Leader\u8fdb\u884c\u786e\u8ba4\uff0c\u4e0d\u9700\u8981ISR\u8fdb\u884c\u786e\u8ba4\u3002\u662f\u4e00\u79cd\u6548\u7387\u548c\u5b89\u5168\u6298\u4e2d\u7684\u65b9\u5f0f\u3002 all: \u9700\u8981ISR\u4e2d\u6240\u6709\u7684Replica\u7ed9\u4e88\u63a5\u6536\u786e\u8ba4\uff0c\u901f\u5ea6\u6700\u6162\uff0c\u5b89\u5168\u6027\u6700\u9ad8\uff0c\u4f46\u662f\u7531\u4e8eISR\u53ef\u80fd\u4f1a\u7f29\u5c0f\u5230\u4ec5\u5305\u542b\u4e00\u4e2aReplica\uff0c\u8bbe\u7f6e\u53c2\u6570\u4e3aall\u5e76\u4e0d\u80fd\u4e00\u5b9a\u907f\u514d\u6570\u636e\u4e22\u5931\u3002 \uff083\uff09 Consumer num.consumer.fetchers:1 #\u542f\u52a8Consumer\u7684\u4e2a\u6570\uff0c\u9002\u5f53\u589e\u52a0\u53ef\u4ee5\u63d0\u9ad8\u5e76\u53d1\u5ea6\u3002 fetch.min.bytes:1 #\u6bcf\u6b21Fetch Request\u81f3\u5c11\u8981\u83b7\u53d6\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\u624d\u53ef\u4ee5\u8fd4\u56de\u3002 #\u5728Fetch Request\u83b7\u53d6\u7684\u6570\u636e\u81f3\u5c11\u8fbe\u5230fetch.min.bytes\u4e4b\u524d\uff0c\u5141\u8bb8\u7b49\u5f85\u7684\u6700\u5927\u65f6\u957f\u3002 fetch.wait.max.ms:100 \uff084\uff09 \u5176\u4ed6 zookeeper.session.timeout.ms=6s message.max.bytes=1000000B replica.fetch.max.bytes=1MB num.producers=1 ### Number of Producers num.streams=1 ###Number of Consumer Threads producer.request.timeout.ms=30s consumer.request.timeout.ms=40s session.timeout.ms=30s kafka.log4j.dir=/var/log/kafka ##kafka\u6570\u636e\u7684\u5b58\u653e\u5730\u5740 2.2 \u6d4b\u8bd5\u65b9\u6cd5 \u538b\u529b\u53d1\u8d77\uff1akafka\u5b98\u65b9\u63d0\u4f9b\u7684\u81ea\u6d4b\u811a\u672c 4\u9879\u6307\u6807\uff1a\u603b\u5171\u53d1\u9001\u6d88\u606f\u91cf\uff08\u4ee5MB\u4e3a\u5355\u4f4d\uff09\uff0c\u6bcf\u79d2\u53d1\u9001\u6d88\u606f\u91cf\uff08MB/second\uff09\uff0c\u53d1\u9001\u6d88\u606f\u603b\u6570\uff0c\u6bcf\u79d2\u53d1\u9001\u6d88\u606f\u6570\uff08records/second\uff09 \u76d1\u63a7\u4fe1\u606f\uff1a\u81ea\u5b9a\u4e49\u811a\u672c\u6765\u8bb0\u5f55\u670d\u52a1\u60c5\u51b5\uff0c\u5305\u62ecCPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u3001\u7f51\u7edc\u7b49\u60c5\u51b5\u3002 \uff081\uff09 \u751f\u4ea7\u8005\u6d4b\u8bd5\u811a\u672ckafka-producer-perf-test.sh \u53c2\u6570\u8bf4\u660e\uff1a --topic topic\u540d\u79f0\uff0c --num-records \u603b\u5171\u9700\u8981\u53d1\u9001\u7684\u6d88\u606f\u6570\uff0c --record-size \u6bcf\u4e2a\u8bb0\u5f55\u7684\u5b57\u8282\u6570\uff0c --throughput \u6bcf\u79d2\u949f\u53d1\u9001\u7684\u8bb0\u5f55\u6570\uff0c --producer-props bootstrap.servers=localhost:9092 \u53d1\u9001\u7aef\u7684\u914d\u7f6e\u4fe1\u606f \uff082\uff09\u6d88\u8d39\u8005\u6d4b\u8bd5\u811a\u672ckafka-consumer-perf-test.sh \u53c2\u6570\u8bf4\u660e\uff1a --zookeeper \u6307\u5b9azookeeper\u7684\u94fe\u63a5\u4fe1\u606f\uff0c --topic \u6307\u5b9atopic\u7684\u540d\u79f0\uff0c --fetch-size \u6307\u5b9a\u6bcf\u6b21fetch\u7684\u6570\u636e\u7684\u5927\u5c0f\uff0c --messages \u603b\u5171\u8981\u6d88\u8d39\u7684\u6d88\u606f\u4e2a\u6570\uff0c 2.2.1 producer \u541e\u5410\u91cf\u6d4b\u8bd5\u65b9\u6cd5 1\u3001\u57fa\u4e8e\u539f\u6709\u914d\u7f6e\u4e0b\u5bf9kafka\u8fdb\u884c\u6570\u91cf\u7ea7\u7684\u52a0\u538b\uff0c\u9009\u7528\u4e00\u53f0\u6216\u4e09\u53f0\u5ba2\u6237\u673a\u5148\u6d4b\u8bd5\u5728\u6ca1\u6709\u6d88\u8d39\u8005\u65f6\u7684\u541e\u5410\u91cf\u3002\u6d4b\u8bd5\u5f71\u54cd\u56e0\u7d20\u4e3b\u8981\u5305\u62ecpartitions\u3001\u78c1\u76d8\u548cthread\u4e09\u4e2a\u4e3b\u8981\u56e0\u7d20\uff0c\u901a\u8fc7\u8bb0\u5f55\u6bcf\u79d2\u949f\u6761\u6570\uff08Records/s\uff09\u3001\u6bcf\u79d2\u65e5\u5fd7\u91cf\u5927\u5c0f\uff08MB/s\uff09\u8861\u91cf\u541e\u5410\u91cf\uff0c\u5e76\u627e\u5230\u5404\u4e2a\u56e0\u7d20\u4e4b\u95f4\u7684\u89c4\u5f8b\u3002 \u6ce8\uff1a \uff081\uff09 \u7ebf\u7a0b\u6570\u7684\u8bbe\u7f6e\u6839\u636ecpu\u5185\u6838\u6570\u8bbe\u7f6e\uff0c\u672c\u6d4b\u8bd5\u73af\u5883\u4e3a16\u6838\uff08thread <=16\uff09\u3002 \uff082\uff09 Broker \u57fa\u4e8e\u7269\u7406\u73af\u5883\u8bbe\u7f6e\uff08broker<=3\uff09\uff0c\u4e09\u4e2a 2\u3001\u901a\u8fc7\u4fee\u6539\u4ee5\u4e0a3\u4e2a\u5f71\u54cd\u56e0\u7d20\u6d4b\u8bd5kafka\u541e\u5410\u91cf\u3002 3\u3001\u6d4b\u8bd5\u547d\u4ee4 \uff081\uff09\u521b\u5efatopic 1)./kafka-topics.sh --zookeepr IP:2181 --create --topic test --partitions 3 --replication-factor 1 2)./ppt.sh --topic pc918 --num-records 50000000 --record-size 1000 --throughput 10000000 --threads 3 --producer-props bootstrap.servers=192.168.17.57:9092,192.168.17.64:9092,192.168.17.65:9092 \u6ce8\uff1appt.sh \u57fa\u4e8ekafka-producer-perf-test.sh\u4fee\u6539\uff0c\u589e\u52a0\u4e86\u751f\u4ea7\u8005\u7684thread \u9009\u9879\u3002 2.2.2 consumer \u541e\u5410\u91cf\u6d4b\u8bd5\u65b9\u6cd5 1\u3001\u57fa\u4e8e\u539f\u6709\u914d\u7f6e\u4e0b\u8fdb\u884c\u6d88\u8d39\uff0c\u5e76\u6d4b\u8bd5\u4e3b\u8981\u5f71\u54cd\u56e0\u7d20partitions\u3001thread\u548c\u78c1\u76d8\u7b49\u56e0\u7d20\uff0c\u9009\u7528\u4e00\u53f0\u6216\u4e09\u53f0\u5ba2\u6237\u673a\u5148\u6d4b\u8bd5\u6ca1\u6709\u751f\u4ea7\u8005\u65f6\u7684\u541e\u5410\u91cf\u3002\u901a\u8fc7\u8bb0\u5f55Records/second\u3001MB/second\u8861\u91cf\u541e\u5410\u91cf\uff0c\u5e76\u627e\u5230\u5404\u4e2a\u56e0\u7d20\u4e4b\u95f4\u7684\u89c4\u5f8b\u3002 2\u3001\u901a\u8fc7\u4fee\u6539\u5f71\u54cd\u56e0\u7d20\u6d4b\u8bd5kafka\u541e\u5410\u91cf\u3002 3\u3001\u6d4b\u8bd5\u547d\u4ee4 ./kafka-consumer-perf-test.sh --zookeeper IP:2181 --topic test1 --fetch-size 1048576 --messages 10000000 --threads 3 2.2.3 \u6d88\u8d39\u4e0e\u541e\u5410\u91cf \u5206\u522b\u5728\u4e00\u53f0\u6216\u4e09\u53f0\u5ba2\u6237\u673a\u540c\u65f6\u5f00\u542f\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u6d4b\u8bd5\u547d\u4ee4,\u8fdb\u884c\u6d4b\u8bd5","title":"2    \u6d4b\u8bd5\u6761\u4ef6"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#3","text":"3 .1 \u5199\u5165\u6d4b\u8bd5(only\u751f\u4ea7\u8005)","title":"3    \u6d4b\u8bd5\u6570\u636e\uff08\u90e8\u5206\u6837\u4f8b\uff09"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#311-partition-vs-throughput","text":"\u200b \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic, Replication-factor=1\uff0c3\u4e2a\u78c1\u76d8\uff0cthroughput=1000w,num-records=2000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd51\uff0c3\uff0c6\uff0c12\uff0c15\uff0c20\uff0c30\uff0c50\u4e2apartition\u65f6\u7684\u541e\u5410\u91cf \u200b \u88681 partition\u5f71\u54cd\u56e0\u5b50 \u7c7b\u578b partition Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) partition 1 102760 98 297.65 929 3 283639 270.5 107.1 1965 6 332457 317.06 61.22 1085 9 305838 291.67 39.37 2842 12 344245 328.3 21.68 645 15 349846 333.64 20.51 618 20 349852 333.6 15.06 371 30 349870 333.66 15.47 843 50 346296 330.25 13.07 619 \u5f53partition\u7684\u4e2a\u6570\u4e3a3\u65f6\uff0c\u541e\u5410\u91cf\u6210\u7ebf\u6027\u589e\u957f\uff0c\u5f53partition\u591a\u4e8ebroker\u7684\u4e2a\u6570\u65f6\u589e\u957f\u5e76\u4e0d\u660e\u663e\uff0c\u751a\u81f3\u8fd8\u6709\u6240\u4e0b\u964d\u3002\u540c\u65f6\u968f\u7740\uff0cpartition\u4e2a\u6570\u7684\u589e\u591a\uff0c\u5ef6\u8fdf\u65f6\u95f4\u9010\u6e10\u51cf\u5c11\uff0c\u5f53partition\u4e2a\u6570\u57283-6\u4e4b\u95f4\u5ef6\u8fdf\u65f6\u95f4\u964d\u4f4e\u8f83\u5feb\uff0c\u8d8a\u5927\u5ef6\u8fdf\u65f6\u95f4\u964d\u4f4e\u8d8b\u4e8e\u5e73\u7a33\u3002","title":"3.1.1   Partition VS. Throughput"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#312-replica-vs-throughput","text":"\u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic,3\u4e2a\u78c1\u76d8\uff0cthroughput=35w,num-records=5000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5replication-factor\u4e3a1\uff0c2\uff0c3\uff0c6\u65f6\u7684\u541e\u5410\u91cf \u200b \u88682 Repica\u5f71\u54cd\u56e0\u5b50 \u7c7b\u578b replications Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) replication 1 349870 333.66 12.69 713 2 349846 333.64 10.8 392 3 345077 329.09 36.36 897 6 \u9519\u8bef Error while executing topic command : replication factor: 6 larger than available brokers: 3 \u7531\u8868\u53ef\u77e5\uff0creplication-factor\u7684\u4e2a\u6570\u5e94\u8be5\u4e0d\u5927\u4e8ebroker\u7684\u4e2a\u6570\uff0c\u5426\u5219\u5c31\u4f1a\u62a5\u9519\u3002\u968f\u7740replication-factor \u4e2a\u6570\u7684\u589e\u52a0\u541e\u5410\u91cf\u51cf\u5c0f\uff0c\u4f46\u5e76\u975e\u662f\u7ebf\u6027\u4e0b\u964d\uff0c\u56e0\u4e3a\u591a\u4e2aFollower\u7684\u6570\u636e\u590d\u5236\u662f\u5e76\u884c\u8fdb\u884c\u7684\uff0c\u800c\u975e\u4e32\u884c\u8fdb\u884c\uff0c\u56e0\u6b64\u57fa\u4e8e\u6570\u636e\u7684\u5b89\u5168\u6027\u53ca\u5ef6\u8fdf\u6027\u8003\u8651\uff0c\u6700\u591a\u9009\u62e92-3\u4e2a\u526f\u672c\u3002","title":"3.1.2   Replica  VS. Throughput"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#313-thread-vs-throughput","text":"\u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic,3\u4e2a\u78c1\u76d8\uff0c3\u4e2apartitions , throughput=1000w,num-records=1000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5thread\u4e3a1\uff0c2\uff0c3\uff0c4\uff0c5\u65f6\u7684\u541e\u5410\u91cf \u200b \u88683 Thread \u5f71\u54cd\u56e0\u5b50 \u7c7b\u578b partition thread Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) thread 3 1 265505 253.21 113.79 571 2 559252 533.35 93.75 388 3 730300 696.47 68.96 337 4 722700 689.22 42.49 343 5 740137 705.85 36.88 283 \u7531\u8868\u53ef\u77e5\u968f\u7740\u7ebf\u7a0b\u6570\u7684\u589e\u52a0\u541e\u5410\u91cf\u4e0d\u65ad\u589e\u52a0\uff0c\u5f53\u7ebf\u7a0b\u6570\u5c0f\u4e8e\u5206\u533a\u6570\u65f6\u589e\u957f\u8f83\u5feb\uff0c\u5927\u4e8e\u5206\u533a\u6570\u65f6\u589e\u957f\u8f83\u6162\uff0c\u5e76\u8d8b\u4e8e\u5e73\u7a33\u3002\u76ee\u524d\u5355\u4e2a\u5ba2\u6237\u7aef\u53ef\u4ee5\u8fbe700MB-800MB/s\u4ee5\u4e0a\u7684\u7f51\u901f\u6d41\u91cf\u3002","title":"3.1.3   Thread VS. Throughput"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#314-vs-throughput","text":"\u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=1000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u78c1\u76d8\u4e2a\u6570\u4e3a3\uff0c6\uff0c9\u65f6\u7684\u541e\u5410\u91cf \u200b \u88684 \u78c1\u76d8\u5f71\u54cd\u56e0\u5b50 \u7c7b\u578b partition \u78c1\u76d8\u4e2a\u6570 Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) \u78c1\u76d8 3 3 265505 253.21 113.79 571 6 6 354886 338.45 58.13 512 9 9 363240 346.41 6.33 409 \u7531\u8868\u53ef\u77e5\uff0c\u78c1\u76d8\u4e2a\u6570\u7684\u589e\u52a0\u4e0epartition\u7684\u589e\u52a0\u5177\u6709\u76f8\u5173\u6027\uff0c\u5e76\u975e\u8d8a\u591a\u8d8a\u597d\uff0cpartition\u7684\u589e\u52a0\u53d7broker\u7684\u5f71\u54cd\uff0c\u56e0\u6b64\u78c1\u76d8\u7684\u4e2a\u6570\u8bbe\u7f6e\u5e94\u5728broker\u4e2a\u6570\u76841-3\u500d\u4e4b\u95f4\u8f83\u4e3a\u5408\u9002\uff0c\u540c\u65f6\u968f\u7740\u78c1\u76d8\u4e2a\u6570\u7684\u589e\u52a0\uff0c\u5e73\u5747\u5ef6\u8fdf\u65f6\u95f4\u5728\u9010\u6e10\u51cf\u5c0f\uff0c\u56e0\u6b64\u78c1\u76d8\u7684\u6570\u91cf\u4f1a\u5f71\u54cd\u5e73\u5747\u5ef6\u8fdf\u65f6\u95f4\u3002","title":"3.1.4   \u78c1\u76d8 VS. Throughput"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#315-others-vs-throughput","text":"1 \u3001Network\u7ebf\u7a0b\u6570 Network\u7ebf\u7a0b\u6570\u5373broker\u5904\u7406\u6d88\u606f\u7684\u6700\u5927\u7ebf\u7a0b\u6570 \uff08\u4e00\u822c\u4e0d\u9700\u8981\u4fee\u6539\uff09\u3002 \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=5000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer\uff0c9\u4e2a\u78c1\u76d8\uff0c9\u4e2apartitions \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u7ebf\u7a0b\u4e2a\u6570\u4e3a3\uff0c8\u65f6\u7684\u541e\u5410\u91cf \u88685 Network\u7f51\u7edc\u7ebf\u7a0b\u6570 net.io.thread \u751f\u4ea7\u8005y99_thread Records/second(avg) MB/second(avg) CPU(max%) 3 3 516913 492.97 560.5 6 528966 504 943.2 9 441789 421.32 799.3 8 3 629945 600.76 636 6 554865 529.16 855 9 543371 518.2 859 \u7531\u8868\u6240\u793a\uff0c\u589e\u52a0\u7f51\u7edc\u7ebf\u7a0b\u6570\u53ef\u4ee5\u63d0\u9ad8\u541e\u5410\u91cf\uff0c\u4f46\u968f\u7740\u751f\u4ea7\u8005\u7ebf\u7a0b\u6570\u589e\u52a0\u9010\u6e10\u8d8b\u4e8e\u5e73\u7a33\uff0c\u6b64\u65f6CPU\u6700\u5927\u503c\u4e3a998.2%\uff0c\u5bf9\u4e8e16\u6838\u7684CPU\u7ea6\u5360\u523010\u6838\u3002 2 \u3001\u6d4b\u8bd5\u5ba2\u6237\u673a\u7684\u5f71\u54cd \u7531\u4e8e\u5728\u5355\u4e2a\u5ba2\u6237\u673a\u6d4b\u8bd5\u65f6\uff0c\u7f51\u5361\u786c\u4ef6\u6761\u4ef6\u7684\u9650\u5236\u4f1a\u5f71\u54cd\u6d4b\u8bd5\u7684\u541e\u5410\u91cf\uff0c\u56e0\u6b64\u6362\u75283\u53f0\u5ba2\u6237\u673a\u6d4b\u8bd5\uff0c\u541e\u5410\u91cf\u7684\u6d4b\u8bd5\u7ed3\u679c\u5373\u4e3a\u4e09\u4e2a\u5ba2\u6237\u673a\u541e\u5410\u603b\u91cf\u3002\u5206\u522b\u6d4b\u8bd56\u4e2a\u78c1\u76d8\u548c9\u4e2a\u78c1\u76d8\u5728\u4e0d\u540c\u5206\u533a\u548c\u7ebf\u7a0b\u6570\u7684\u60c5\u51b5\uff0c\u6d4b\u8bd5\u7ed3\u679c\u5982\u88686\u6240\u793a\u3002 \u200b \u88686 \u5ba2\u6237\u673a\u5f71\u54cd\u56e0\u7d20 topic_partition_thread 66 67 68 \u603b\u91cf Records/second(avg) MB/second(avg) Records/second(avg) MB/second(avg) Records/second(avg) MB/second(avg) Records/second(avg) MB/second(avg) p66(3) 439382 419.03 461382 440.01 449458 428.64 1350222 1287.68 p66(6) 471635 449.79 468059 446.38 466409 444.8 1406103 1340.97 p66(12) 145292 138.56 145266 138.54 144017 137.35 434575 414.45 p612(3) 498037 474.97 488181 465.57 584098 557.04 1570316 1497.58 p612(6) 305658 291.5 305255 291.11 305715 291.55 916628 874.16 p612(12) 102037 97.31 102032 97.31 101951 97.23 306020 291.85 p99(3) 473771 451.82 481621 459.31 498658 475.56 1454050 1386.69 p99(6) 207400 197.79 207337 197.73 206322 196.76 621059 592.28 p99(12) 174175 166.11 178429 170.16 177564 169.34 530168 505.61 \u7531\u88686\u53ef\u4ee5\u770b\u51fa\uff0c\u5728\u4e09\u53f0\u6d4b\u8bd5\u673a\u4e0b\uff0c\u540c\u65f6\u5411\u4e00\u4e2atopic\u4ea7\u751f\u6570\u636e\uff0c\u751f\u4ea7\u8005\u7684\u6570\u636e\u603b\u91cf\u662f\u5728\u589e\u5927\u7684\u3002\u5728\u7f51\u7edc\u7a33\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u66fe\u6d4b\u8bd53\u4e2a\u78c1\u76d83\u4e2apartition\u6700\u5927\u541e\u5410\u91cf\u572818000\u6761\u5de6\u53f3 \uff0c\u5927\u5c0f\u4e3a1683.31MB/s\uff0c\u5982\u56fe1\u6240\u793a\u3002 \u5176\u4e2d\u5728\u5355\u4e2abroker\u4e0acpu\u6700\u5927\u4e0a\u7ebf\u4e3a700%-800%\uff0c\u5185\u5b58\u5229\u7528\u7387\u4e3a10%-20%\u3002\u5728\u5355\u53f0\u6d4b\u8bd5\u673a\u60c5\u51b5\u4e0b\uff0c\u66fe\u6d4b\u8bd5\u5355\u53f0\u6d4b\u8bd5\u4e0b\u6700\u5927\u541e\u5410\u4e3a80w\u6761\u5de6\u53f3\uff0c\u5927\u5c0f\u7ea6\u4e3a80MB/s\uff0c\u7531\u4e8e\u8d44\u6e90\u9650\u5236\u4e09\u53f0\u673a\u5668\u603b\u91cf\u53ef\u80fd\u8fbe\u4e0d\u5230\u4e00\u53f0\u673a\u56683\u500d\u7684\u91cf\u3002 \u200b \u200b \u56fe1 3\u53f0\u673a\u5668\u7684\u541e\u5410\u91cf 3 \u3001IO\u7ebf\u7a0b\u6570 IO\u7ebf\u7a0b\u6570\u5373broker\u5904\u7406\u78c1\u76d8IO\u7684\u7ebf\u7a0b\u6570 \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=5000w \uff0cbatch-size=16K ,3\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer\uff0c6\u4e2a\u78c1\u76d8\uff0c6\u4e2apartitions \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u7ebf\u7a0b\u4e2a\u6570\u4e3a8\uff0c12\u65f6\u7684\u541e\u5410\u91cf \u56fe2 \u7ebf\u7a0b\u6570\u4e3a8 \u200b \u56fe3 \u7ebf\u7a0b\u6570\u4e3a12 \u7531\u56fe2\uff0c3\u53ef\u77e5\uff0c\u5f53\u7ebf\u7a0b\u6570\u589e\u52a0\u540e\uff0c\u541e\u5410\u91cf\u6709\u6240\u589e\u52a0\uff0c\u4f46\u589e\u52a0\u6bd4\u8f83\u7f13\u548c\u3002 4\u3001\u751f\u4ea7\u8005\u7684\u4e2a\u6570 \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=5000w \uff0cbatch-size=16K ,3\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer\uff0c9\u4e2a\u78c1\u76d8\uff0c9\u4e2apartitions \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u751f\u4ea7\u8005\u4e2a\u6570\u4e3a1\uff0c2\uff0c3\u65f6\u7684\u541e\u5410\u91cf \u88687 \u4e0d\u540c\u751f\u4ea7\u8005\u541e\u5410\u91cf thread 1 2 3 1\u7a97\u53e3 1\u7a97\u53e3 2\u7a97\u53e3 1\u7a97\u53e3 2\u7a97\u53e3 3\u7a97\u53e3 \u6761 MB \u6761 MB \u6761 MB \u6761 MB/s \u6761 MB/s \u6761 MB/s 3 629945 600.76 338900 323.2 328357 313.15 209465 199.76 205923 196.38 209129 199.44 6 554865 529.16 354172 337.77 382564 364.84 235881 224.95 236085 225.15 245225 233.87 9 543371 518.2 370090 352.95 359056 342.42 209646 199.93 221790 211.52 209058 199.37 \u7531\u88687 \u53ef\u77e5\uff0c\u5728\u540c\u4e00\u5ba2\u6237\u7aef\u4e0b\uff0c\u5f00\u542f\u4e0d\u540c\u7684\u751f\u4ea7\u8005\uff0c2\u4e2a\u751f\u4ea7\u8005\u548c3\u4e2a\u751f\u4ea7\u7684\u603b\u541e\u5410\u91cf\u57fa\u672c\u7b49\u4e8e1\u4e2a\u751f\u4ea7\u8005\u7684\u603b\u91cf\u3002 5\u3001\u538b\u7f29\u56e0\u7d20 \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic\uff0cthroughput=1000w,num-records=5000w \uff0cbatch-size=16K ,1\u4e2a\u5ba2\u6237\u7aef\uff0c1\u4e2aproducer\uff0c9\u4e2a\u78c1\u76d8\uff0c9\u4e2apartitions \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u4e0d\u540c\u538b\u7f29\u7c7b\u578b\u7684\u541e\u5410\u91cf\uff0ckafka\u652f\u6301\u7684\u538b\u7f29\u7c7b\u578b\u5305\u62ecnone\u3001Snappy\u3001gzip\u3001LZ4\u3002 \u6d4b\u8bd5\u547d\u4ee4\uff1a ./ppt.sh --topic py --num-records 50000000 --record-size 1000 --throughput 10000000 --threads 3 --producer-props bootstrap.servers=192.168.17.68:9092,192.168.17.69:9092,192.168.17.70:9092 compression.type=gzip \u901a\u8fc7\u8fd0\u884c\u65f6\u521d\u59cb\u5316\u53c2\u6570\u770b\u5230\u4fee\u6539\u503c\u751f\u6548\uff0c\u5982\u56fe\u6240\u793a\u3002 \u200b \u56fe4 \u521d\u59cb\u5316\u53c2\u6570 \u200b \u88688 \u538b\u7f29\u56e0\u7d20 \u538b\u7f29\u7c7b\u578b Records/second(avg) MB/second(avg) \u5ef6\u8fdf\u65f6\u95f4\uff08avg\uff09 \u5ef6\u8fdf\u65f6\u95f4(max) \u8017\u65f6 cpu max cpu avg none 636472 606 122.56 3281 78s 899 545 Snappy 392233 374.06 50.88 672 80s 670 574 gzip 92653 88.36 2.38 386 8\u520659s 959.5 522 LZ4 618444 589.79 4 329 81s 887.7 480 \u7531\u8868\u53ef\u77e5snappy\u3001gzip\u538b\u7f29\u53ef\u4ee5\u5927\u5e45\u5ea6\u7684\u51cf\u7f13\u7f51\u7edc\u538b\u529b\u548cBroker\u7684\u5b58\u50a8\u538b\u529b\uff0c\u540c\u65f6\u964d\u4f4e\u5e73\u5747\u5ef6\u8fdf\u65f6\u95f4\uff0cLZ4\u538b\u7f29\u5728\u964d\u4f4e\u5e73\u5747\u5ef6\u8fdf\u65f6\u95f4\u65f6\u6700\u663e\u8457\uff0cgzip\u5728\u751f\u4ea7\u6570\u636e\u65f6\u8017\u65f6\u6700\u5927\u3002","title":"3.1.5   Others VS. Throughput"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#32-only","text":"","title":"3.2 \u8bfb\u53d6\u6d4b\u8bd5(only\u6d88\u8d39\u8005)"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#321-thread-vs-throughput","text":"\u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic,3\u4e2a\u78c1\u76d8\uff0cthroughput=1000w,num-records=5000w \uff0c1\u4e2a\u5ba2\u6237\u7aef \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5thread\u4e3a1\uff0c2\uff0c3\uff0c6\u65f6\u7684\u541e\u5410\u91cf \u200b \u88689 \u7ebf\u7a0b\u56e0\u7d20 console&thread Records/second(avg) MB/second(avg) p33(11) 340124 324 p33(12) 799073 762 p33(13) 973551 928 p33(16) 963081 918 \u7531\u8868\u53ef\u77e5\uff0c\u589e\u52a0\u7ebf\u7a0b\u6570\u4f1a\u589e\u52a0\u6d88\u8d39\u8005\u7684\u541e\u5410\u91cf\uff0c\u5f53\u5c0f\u4e8e3\u4e2a\u7ebf\u7a0b\u65f6\u541e\u5410\u91cf\u589e\u901f\u8f83\u5feb\uff0c\u5927\u4e8e3\u4e2a\u7684\u65f6\u5019\u8d8b\u4e8e\u5927\u4f53\u5e73\u7a33\uff0c\u5355\u4e2a\u5ba2\u6237\u7aef\u6d88\u8d39\u8005\u7684\u541e\u5410\u91cf\u53ef\u8fbe\u5230928MB/s\u3002\u540c\u65f6\uff0c\u6d88\u8d39\u8005\u541e\u5410\u91cf\u5927\u4e8e\u751f\u4ea7\u8005\u7684\u541e\u5410\u91cf\u5e76\u4e14\u5904\u7406\u6d88\u606f\u7684\u65f6\u95f4\u603b\u5927\u4e8e\u751f\u4ea7\u8005\u3002\u56e0\u6b64\u5728\u5408\u7406\u7684\u914d\u7f6e\u4e0b\u53ef\u4ee5\u4fdd\u8bc1\u6d88\u606f\u88ab\u53ca\u65f6\u5904\u7406\u3002","title":"3.2.1   Thread VS. Throughput"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#322-vs-throughput","text":"\u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic,3\u4e2a\u78c1\u76d8\uff0cthroughput=1000w,num-records=5000w \uff0c3\u4e2a\u5ba2\u6237\u7aef\uff0c\u5373\u4e09\u4e2a\u6d88\u8d39\u8005 \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u6d88\u8d39\u8005\u4e3a1\uff0c 3\u65f6\u7684\u541e\u5410\u91cf \u5f53\u6d88\u8d39\u8005\u4e2a\u6570\u67091\u589e\u4e3a3\u65f6\uff0c\u541e\u5410\u91cf\u7531324MB/s\u589e\u52a0\u52301324MB/s\u3002Consumer\u6d88\u8d39\u6d88\u606f\u65f6\u4ee5Partition\u4e3a\u5206\u914d\u5355\u4f4d\uff0c\u5f53\u53ea\u67091\u4e2aConsumer\u65f6\uff0c\u8be5Consumer\u9700\u8981\u540c\u65f6\u4ece3\u4e2aPartition\u62c9\u53d6\u6d88\u606f\uff0c\u8be5Consumer\u6240\u5728\u673a\u5668\u7684I/O\u6210\u4e3a\u6574\u4e2a\u6d88\u8d39\u8fc7\u7a0b\u7684\u74f6\u9888\uff0c\u800c\u5f53Consumer\u4e2a\u6570\u589e\u52a0\u81f33\u4e2a\u65f6\uff0c\u591a\u4e2aConsumer\u540c\u65f6\u4ece\u96c6\u7fa4\u62c9\u53d6\u6d88\u606f\uff0c\u5145\u5206\u5229\u7528\u4e86\u96c6\u7fa4\u7684\u541e\u5410\u7387\u3002\u5bf9\u4e8e\u540c\u4e00\u4e2a\u7ec4\u5185\u7684\u6d88\u8d39\u8005\u53ea\u5141\u8bb8\u4e00\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\u4e00\u4e2apartition\uff0c\u4e0d\u540c\u7ec4\u4e4b\u95f4\u53ef\u4ee5\u6d88\u8d39\u76f8\u540c\u7684partition\u3002","title":"3.2.2 \u6d88\u8d39\u8005 VS. Throughput"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#323-vs-throughput","text":"\u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic, throughput=1000w,num-records=5000w \uff0c1\u4e2a\u5ba2\u6237\u7aef \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u6d88\u8d39\u8005\u4e3a3\uff0c6\uff0c9\u65f6\u7684\u541e\u5410\u91cf \u200b \u886810 \u78c1\u76d8\u5f71\u54cd\u56e0\u7d20 console&thread Records/second(avg) MB/second(avg) p36(33) 938827 895 p66(33) 888458 847 p96(33) 259475 247 \u7531\u8868\u770b\u51fa\uff0c\u78c1\u76d8\u6570\u589e\u52a0\u5e76\u4e0d\u80fd\u63d0\u9ad8\u541e\u5410\u7387\uff0c\u53cd\u800c\u541e\u5410\u7387\u76f8\u5e94\u4e0b\u964d\u3002\u56e0\u6b64\uff0c\u5728\u4e00\u5b9abroker\u548cpartition \u4e0b\u53ef\u4ee5\u6309\u4e24\u8005\u503c\u5408\u7406\u589e\u52a0\u78c1\u76d8\u3002 Consumer \u5c0f\u7ed3 \uff081\uff09 Consumer \u541e\u5410\u7387\u8fdc\u5927\u4e8e\u751f\u4ea7\u8005\uff0c\u56e0\u6b64\u53ef\u4ee5\u4fdd\u8bc1\u5728\u5408\u7406\u7684\u914d\u7f6e\u4e0b\uff0c\u6d88\u606f\u53ef\u88ab\u53ca\u65f6\u5904\u7406\u3002 \uff082\uff09 Consumer \u5904\u7406\u6d88\u606f\u65f6\u6240\u6d88\u8017\u5355\u4e2abroker\u7684CPU\u4e00\u822c\u572870%\u4ee5\u4e0b\uff0c\u6240\u5360\u5185\u5b58\u4e5f\u8f83\u5c0f\uff0c\u5c5e\u4e8e\u8f7b\u91cf\u7ea7\u8fdb\u7a0b\u3002 \uff083\uff09 \u672c\u5b9e\u9a8c\u5728\u4e09\u53f0\u5ba2\u6237\u7aef\u6d4b\u5f97Consumer\u7684\u6700\u5927\u541e\u5410\u91cf\u57282617MB/s","title":"3.2.3 \u78c1\u76d8 VS. Throughput"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/kafka%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/#33","text":"\u6a21\u62df\u7c7b\u4f3c\u771f\u5b9e\u7684\u73af\u5883\uff0c\u751f\u4ea7\u6d88\u8d39\u8fc7\u7a0b \u5b9e\u9a8c\u6761\u4ef6:3\u4e2aBroker,1\u4e2aTopic, throughput=1000w,num-records=5000w \uff0c3\u4e2a\u5ba2\u6237\u7aef\uff0c\u5373\u4e09\u4e2a\u6d88\u8d39\u8005 \u6d4b\u8bd5\u9879\u76ee\uff1a\u5206\u522b\u6d4b\u8bd5\u78c1\u76d8\u4e3a3\uff0c6\uff0c9\u65f6\u7684\u541e\u5410\u91cf \uff081\uff09 Producer \u200b \u886811 \u751f\u4ea7\u8005\u541e\u5410\u91cf topic Records/second(avg) MB/second(avg) pc36(366) 1023426 976.02 p66(366) 1319431 1258.31 p612(366) 1273905 1214.88 p99(366) 989373 943.54 p918(366) 1159443 1105.73 \uff082\uff09 Consumer \u200b \u886812 \u6d88\u8d39\u8005\u541e\u5410\u91cf topic Records/second(avg) MB/second(avg) pc36(366) 934007 889 p66(366) 2259154 2153 p612(366) 1982417 1889 p99(366) 649876 618 p918(366) 1313163 1817 \u7531producer\u4e0econsumer\u4e24\u8868\uff0c\u6d4b\u5f97\u751f\u4ea7\u7684\u6700\u5927\u541e\u5410\u91cf\u4e3a1258.31MB/s,\u6d88\u8d39\u6700\u5927\u541e\u5410\u91cf\u4e3a2153MB/s\u3002\u7531\u6b64\u770b\u51fa\uff0c\u4e0e\u5355\u751f\u4ea7\u3001\u5355\u6d88\u8d39\u65f6\u7684\u541e\u5410\u91cf\u5927\u4f53\u76f8\u5f53,\u6240\u7528CPU\u53ca\u5185\u5b58\u91cf\u5e76\u672a\u663e\u8457\u4e0a\u5347\u3002","title":"3.3 \u751f\u4ea7\u8005&amp;\u6d88\u8d39\u8005"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/mysql/","text":"","title":"Mysql"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83kafka%E9%85%8D%E7%BD%AE/","text":"\u751f\u4ea7\u73af\u5883kafka\u914d\u7f6e\u8bf4\u660e \u89c4\u5212\u6b65\u9aa4 \u6839\u636e\u9700\u6c42\u8ba1\u7b97\u6570\u636e\u91cf\u4ee5\u53ca\u8981\u4fdd\u5b58\u7684\u65f6\u95f4\u5e76\u9884\u4f30\u6240\u9700\u7684\u78c1\u76d8\u5bb9\u91cf\u3002 \u4e3a\u4fdd\u8bc1\u9ad8\u53ef\u7528\u6027\u6570\u636e\u81f3\u5c11\u8bbe\u7f6e2\u4e2a\u526f\u672c\u3002 \u5bf9\u78c1\u76d8\u8fdb\u884c\u8bfb\u5199\u901f\u5ea6\u6d4b\u8bd5\uff08\u5173\u6ce8\u987a\u5e8f\u8bfb\u5199\u5373\u53ef\uff09 \u5982\u679c\u4e0d\u5f00\u538b\u7f29\u7684\u8bddcpu\u6838\u5fc3\u6570\u4e0d\u9700\u8981\u592a\u591a8\u6838\u5c31\u884c\u3002 \u673a\u5668\u5185\u5b58\u6700\u4f4e64G\uff0c\u5efa\u8bae128G\u8d77\u6b65\u3002 \u6839\u636e\u9ad8\u5cf0\u65f6\u6bb5\u7684\u6570\u636e\u91cf\u8ba1\u7b97\u6240\u9700\u7684\u5e76\u53d1\u6570\uff0c\u5355\u53f0\u7269\u7406\u673a\u53ef\u4ee5\u652f\u63014~5\u4e07\u5e76\u53d1\uff0c\u6839\u636e\u6570\u636e\u91cf\u4ee5\u53ca\u526f\u672c\u6570\u8ba1\u7b97\u6240\u9700\u7684\u673a\u5668\u6570\u91cf\u3002 \u6839\u636e\u5141\u8bb8\u6d88\u606f\u5927\u5c0f\u8bbe\u7f6e\u6700\u5927\u6d88\u606f\u7684\u5c3a\u5bf8\u3002 \u6309\u7167\u9700\u6c42\u89c4\u5212\u7f51\u7edc\u5c42\u9762\uff0c\u5efa\u8bae\u76f4\u63a5\u4e07\u5146\u63a5\u5165\u3002 broker\u7684\u5206\u533a\u6570\u89c4\u5212\uff0c\u5206\u533a\u6570\u8d8a\u591a\u5360\u7528\u5185\u5b58\u8d8a\u591a\u4e14\u9009\u4e3eleader\u8017\u65f6\u5c31\u8d8a\u4e45\u3002 \u56e0\u4e3akafka\u4f7f\u7528\u9875\u9762\u7f13\u5b58\u6765\u4f5c\u4e3a\u91cd\u8981\u7684\u63d0\u5347\u6027\u80fd\u7684\u624b\u6bb5\uff0c\u6240\u4ee5kafka\u4e0d\u8981\u548c\u5176\u4ed6\u5e94\u7528\u7ec4\u4ef6\u90e8\u7f72\u5728\u540c\u4e00\u4e2a\u670d\u52a1\u5668\u3002 \u78c1\u76d8\u4f7f\u7528xfs\u683c\u5f0f\u8fdb\u884c\u52a0\u8f7d\uff0c\u5e76\u8bbe\u7f6e\u53c2\u6570noatime\u907f\u514d\u5199\u5165\u6700\u540e\u8bbf\u95ee\u65f6\u95f4\u964d\u4f4eio\u6027\u80fd\u3002 \u670d\u52a1\u5668\u914d\u7f6e \u6240\u6709\u8282\u70b9ntp\u6821\u65f6\u8bbe\u7f6e\u3002 \u6240\u6709\u8282\u70b9\u6700\u5927\u6587\u4ef6\u6253\u5f00\u6570\u91cfulimit -n 65535\u5e76\u8bbe\u7f6e\u5230/etc/security/limits.conf\u6301\u4e45\u5316\u5b58\u50a8\u3002 bash_profile\u4e2d\u6dfb\u52a0\u5982\u4e0b\u914d\u7f6e\u5e76\u7528source\u4f7f\u5176\u751f\u6548 export KAFKA_HEAP_OPTS=\"-Xms6g -Xmx6g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80\" #sysctl.conf \u8bbe\u7f6e\u597d\u540e\u901a\u8fc7sysctl -p\u751f\u6548 vm.swappiness=1 vm.max_map_count=262144 #socket mem config net.core.wmem_default=131072 net.core.rmem_default=131072 net.core.wmem_max=20971520 net.core.rmem_max=20971520 #tcp mem config:min default max(<socket mem max) net.ipv4.tcp_wmem=4096 65536 20480000 net.ipv4.tcp_rmem=4096 65536 20480000 net.ipv4.tcp_window_scaling=1 net.ipv4.tcp_max_syn_backlog=4096 net.core.somaxconn=4096 net.core.netdev_max_backlog=4000 zookeeper\u914d\u7f6e\uff08kafka ver<3.x\u7684\u9700\u8981\u914d\u7f6ezookeeper\uff09 zookeeper\u4e2a\u6570\u91c7\u7528\u5355\u6570\uff0c3\u4e2a\u6216\u80055\u4e2a\uff0c\u4e0d\u5efa\u8bae\u8d85\u8fc75\u4e2a\u5426\u5219\u56e0\u4e3a\u4e00\u81f4\u6027\u534f\u8bae\u4f1a\u5bfc\u81f4\u964d\u4f4e\u6574\u4e2azk\u96c6\u7fa4\u7684\u6027\u80fd\u3002 mkdir -p /data/zkdata echo 1 > /data/zkdata/myid #zoo.cfg tickTime=2000 dataDir=/data/zkdata clientPort=2181 #tickTime\u7684\u500d\u65702000*20=40\u79d2 initLimit=20 #tickTime\u7684\u500d\u65702000*5=10\u79d2 syncLimit=5 server.1=ipaddress1:2888:3888 server.2=ipaddress2:2888:3888 server.3=ipaddress3:2888:3888 kafka broker\u914d\u7f6e mkdir -p /data/kfkdata #server.properties #\u6b63\u6574\u6570\uff0c\u6bcf\u4e2a\u8282\u70b9\u4e0d\u540c broker.id=1 zookeeper.connect=zk1:2181/cluster1,zk2:2181/cluster1,zk3:2181/cluster1 log.dirs=/data/kfkdata #\u542f\u52a8\u8bfb\u53d6\u4ee5\u53ca\u5173\u95ed\u5199\u5165\u7684\u7ebf\u7a0b\u6570\uff0c\u5982\u679c\u78c1\u76d8\u5728raid\u4e0a\u53ef\u4ee5\u9002\u5f53\u589e\u52a0\u70b9 num.recovery.threads.per.data.dir=1 #\u5141\u8bb8\u81ea\u52a8\u521b\u5efa\u4e3b\u9898 auto.create.topics.enable=true #\u81ea\u52a8\u521b\u5efa\u7684\u4e3b\u9898\u7684\u5206\u533a\u6570\uff0c\u6839\u636e\u6240\u9700\u7684\u6bcf\u79d2\u541e\u5410\u91cf\u8fdb\u884c\u4f30\u7b97 num.partitions=20 #\u9ed8\u8ba4\u526f\u672c\u6570 default.replication.factor=2 #\u6570\u636e\u4fdd\u7559\u65f6\u95f4 \u9ed8\u8ba4168\u5c0f\u65f6 log.retention.hours=168 #\u8bbe\u7f6e\u5355\u4e2a\u5206\u533a\u6700\u5927\u53ef\u4ee5\u4fdd\u7559\u591a\u5c11\u4f53\u79ef\u7684\u6570\u636e\uff081GB\uff09,\u4e0a\u8ff0\u65f6\u95f4\u548c\u672c\u8bbe\u7f6e\u7684\u4f53\u79ef\u4e24\u8005\u662f\u6216\u7684\u5173\u7cfb\uff0c\u6709\u4e00\u4e2a\u6ee1\u8db3\u5c31\u4f1a\u8fdb\u884c\u6e05\u7406 log.retention.bytes=1000000000 #\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u5927\u5c3a\u5bf8\uff0c\u9ed8\u8ba41GB\uff0c\u5f53\u6587\u4ef6\u6ee11GB\u540e\u624d\u4f1a\u5173\u95ed\u53e5\u67c4\u8fdb\u5165\u53ef\u4ee5\u88ab\u4e0a\u8ff0\u4e24\u79cd\u89c4\u5219\u6e05\u7406\u7684\u8303\u56f4\uff0c\u5982\u679c\u5355\u6761\u6570\u636e\u5f88\u5c0f\u4e14\u65e5\u589e\u6570\u636e\u91cf\u4e5f\u5f88\u5c0f\uff0c\u6b64\u503c\u9700\u8981\u76f8\u5e94\u7684\u6539\u5c0f\uff0c\u5426\u5219\u4f1a\u5f88\u4e45\u90fd\u65e0\u6cd5\u81ea\u52a8\u6e05\u7406\u3002 log.segment.bytes=1000000000 #\u5355\u4e2a\u65e5\u5fd7\u7684\u5173\u95ed\u65f6\u95f4\uff0c\u65e0\u9ed8\u8ba4\u503c\uff0c\u65f6\u95f4\u6216\u8005\u4f53\u79ef\u4efb\u610f\u4e00\u4e2a\u8fbe\u5230\u6761\u4ef6\u4f1a\u5173\u95ed\u6b64\u65e5\u5fd7\u6587\u4ef6\u3002 log.segment.ms=86400000 #\u6700\u5927\u6d88\u606f\u4f53\u79ef\u9ed8\u8ba41MB\uff0c\u5982\u679c\u8981\u5904\u7406\u7684\u6570\u636e\u5355\u6761\u8d85\u8fc7\u6b64\u503c\u5c31\u65e0\u6cd5\u8fdb\u6765\uff0c\u9700\u8981\u6839\u636e\u6700\u5927\u6d88\u606f\u5c3a\u5bf8\u6765\u89c4\u5212\u8bbe\u7f6e message.max.bytes=10000000 #\u96c6\u7fa4\u95f4\u590d\u5236\u6d88\u606f\u7684\u5927\u5c0f\u9650\u5236 replica.fetch.max.bytes=10000000 #\u6d88\u8d39\u8005\u6d88\u8d39\u6d88\u606f\u5927\u5c0f\u9650\u5236\u4e3afetch.message.max.bytes\u5982\u679c\u5c0f\u4e8e\u670d\u52a1\u5668\u8bbe\u7f6ename\u5c06\u65e0\u6cd5\u4e0b\u8f7d\u5230\u8f83\u5927\u7684\u6570\u636e vm.dirty_ratio = 60 kafka consumer\u914d\u7f6e #\u6bcf\u4e2a\u5206\u533a\u6700\u5927\u8fd4\u56de10MB\uff0c\u5982\u679c\u6d88\u8d39\u8005\u5206\u5230\u4e8610\u4e2a\u5206\u533a\u5c06\u5360\u7528100MB\u6765\u89e3\u6790\u6570\u636e max.partition.fetch.bytes=10485760 auto.offset.reset=earliest #\u81ea\u52a8\u63d0\u4ea4\u7531\u4e0b\u9762\u4e24\u4e2a\u914d\u7f6e\u51b3\u5b9a enable.auto.commit=true auto.commit.interval.ms=1000 client.id=clientid max.poll.records=500","title":"\u751f\u4ea7\u73af\u5883kafka\u914d\u7f6e\u8bf4\u660e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83kafka%E9%85%8D%E7%BD%AE/#kafka","text":"","title":"\u751f\u4ea7\u73af\u5883kafka\u914d\u7f6e\u8bf4\u660e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83kafka%E9%85%8D%E7%BD%AE/#_1","text":"\u6839\u636e\u9700\u6c42\u8ba1\u7b97\u6570\u636e\u91cf\u4ee5\u53ca\u8981\u4fdd\u5b58\u7684\u65f6\u95f4\u5e76\u9884\u4f30\u6240\u9700\u7684\u78c1\u76d8\u5bb9\u91cf\u3002 \u4e3a\u4fdd\u8bc1\u9ad8\u53ef\u7528\u6027\u6570\u636e\u81f3\u5c11\u8bbe\u7f6e2\u4e2a\u526f\u672c\u3002 \u5bf9\u78c1\u76d8\u8fdb\u884c\u8bfb\u5199\u901f\u5ea6\u6d4b\u8bd5\uff08\u5173\u6ce8\u987a\u5e8f\u8bfb\u5199\u5373\u53ef\uff09 \u5982\u679c\u4e0d\u5f00\u538b\u7f29\u7684\u8bddcpu\u6838\u5fc3\u6570\u4e0d\u9700\u8981\u592a\u591a8\u6838\u5c31\u884c\u3002 \u673a\u5668\u5185\u5b58\u6700\u4f4e64G\uff0c\u5efa\u8bae128G\u8d77\u6b65\u3002 \u6839\u636e\u9ad8\u5cf0\u65f6\u6bb5\u7684\u6570\u636e\u91cf\u8ba1\u7b97\u6240\u9700\u7684\u5e76\u53d1\u6570\uff0c\u5355\u53f0\u7269\u7406\u673a\u53ef\u4ee5\u652f\u63014~5\u4e07\u5e76\u53d1\uff0c\u6839\u636e\u6570\u636e\u91cf\u4ee5\u53ca\u526f\u672c\u6570\u8ba1\u7b97\u6240\u9700\u7684\u673a\u5668\u6570\u91cf\u3002 \u6839\u636e\u5141\u8bb8\u6d88\u606f\u5927\u5c0f\u8bbe\u7f6e\u6700\u5927\u6d88\u606f\u7684\u5c3a\u5bf8\u3002 \u6309\u7167\u9700\u6c42\u89c4\u5212\u7f51\u7edc\u5c42\u9762\uff0c\u5efa\u8bae\u76f4\u63a5\u4e07\u5146\u63a5\u5165\u3002 broker\u7684\u5206\u533a\u6570\u89c4\u5212\uff0c\u5206\u533a\u6570\u8d8a\u591a\u5360\u7528\u5185\u5b58\u8d8a\u591a\u4e14\u9009\u4e3eleader\u8017\u65f6\u5c31\u8d8a\u4e45\u3002 \u56e0\u4e3akafka\u4f7f\u7528\u9875\u9762\u7f13\u5b58\u6765\u4f5c\u4e3a\u91cd\u8981\u7684\u63d0\u5347\u6027\u80fd\u7684\u624b\u6bb5\uff0c\u6240\u4ee5kafka\u4e0d\u8981\u548c\u5176\u4ed6\u5e94\u7528\u7ec4\u4ef6\u90e8\u7f72\u5728\u540c\u4e00\u4e2a\u670d\u52a1\u5668\u3002 \u78c1\u76d8\u4f7f\u7528xfs\u683c\u5f0f\u8fdb\u884c\u52a0\u8f7d\uff0c\u5e76\u8bbe\u7f6e\u53c2\u6570noatime\u907f\u514d\u5199\u5165\u6700\u540e\u8bbf\u95ee\u65f6\u95f4\u964d\u4f4eio\u6027\u80fd\u3002","title":"\u89c4\u5212\u6b65\u9aa4"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83kafka%E9%85%8D%E7%BD%AE/#_2","text":"\u6240\u6709\u8282\u70b9ntp\u6821\u65f6\u8bbe\u7f6e\u3002 \u6240\u6709\u8282\u70b9\u6700\u5927\u6587\u4ef6\u6253\u5f00\u6570\u91cfulimit -n 65535\u5e76\u8bbe\u7f6e\u5230/etc/security/limits.conf\u6301\u4e45\u5316\u5b58\u50a8\u3002 bash_profile\u4e2d\u6dfb\u52a0\u5982\u4e0b\u914d\u7f6e\u5e76\u7528source\u4f7f\u5176\u751f\u6548 export KAFKA_HEAP_OPTS=\"-Xms6g -Xmx6g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80\" #sysctl.conf \u8bbe\u7f6e\u597d\u540e\u901a\u8fc7sysctl -p\u751f\u6548 vm.swappiness=1 vm.max_map_count=262144 #socket mem config net.core.wmem_default=131072 net.core.rmem_default=131072 net.core.wmem_max=20971520 net.core.rmem_max=20971520 #tcp mem config:min default max(<socket mem max) net.ipv4.tcp_wmem=4096 65536 20480000 net.ipv4.tcp_rmem=4096 65536 20480000 net.ipv4.tcp_window_scaling=1 net.ipv4.tcp_max_syn_backlog=4096 net.core.somaxconn=4096 net.core.netdev_max_backlog=4000","title":"\u670d\u52a1\u5668\u914d\u7f6e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83kafka%E9%85%8D%E7%BD%AE/#zookeeperkafka-ver3xzookeeper","text":"zookeeper\u4e2a\u6570\u91c7\u7528\u5355\u6570\uff0c3\u4e2a\u6216\u80055\u4e2a\uff0c\u4e0d\u5efa\u8bae\u8d85\u8fc75\u4e2a\u5426\u5219\u56e0\u4e3a\u4e00\u81f4\u6027\u534f\u8bae\u4f1a\u5bfc\u81f4\u964d\u4f4e\u6574\u4e2azk\u96c6\u7fa4\u7684\u6027\u80fd\u3002 mkdir -p /data/zkdata echo 1 > /data/zkdata/myid #zoo.cfg tickTime=2000 dataDir=/data/zkdata clientPort=2181 #tickTime\u7684\u500d\u65702000*20=40\u79d2 initLimit=20 #tickTime\u7684\u500d\u65702000*5=10\u79d2 syncLimit=5 server.1=ipaddress1:2888:3888 server.2=ipaddress2:2888:3888 server.3=ipaddress3:2888:3888","title":"zookeeper\u914d\u7f6e\uff08kafka ver&lt;3.x\u7684\u9700\u8981\u914d\u7f6ezookeeper\uff09"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83kafka%E9%85%8D%E7%BD%AE/#kafka-broker","text":"mkdir -p /data/kfkdata #server.properties #\u6b63\u6574\u6570\uff0c\u6bcf\u4e2a\u8282\u70b9\u4e0d\u540c broker.id=1 zookeeper.connect=zk1:2181/cluster1,zk2:2181/cluster1,zk3:2181/cluster1 log.dirs=/data/kfkdata #\u542f\u52a8\u8bfb\u53d6\u4ee5\u53ca\u5173\u95ed\u5199\u5165\u7684\u7ebf\u7a0b\u6570\uff0c\u5982\u679c\u78c1\u76d8\u5728raid\u4e0a\u53ef\u4ee5\u9002\u5f53\u589e\u52a0\u70b9 num.recovery.threads.per.data.dir=1 #\u5141\u8bb8\u81ea\u52a8\u521b\u5efa\u4e3b\u9898 auto.create.topics.enable=true #\u81ea\u52a8\u521b\u5efa\u7684\u4e3b\u9898\u7684\u5206\u533a\u6570\uff0c\u6839\u636e\u6240\u9700\u7684\u6bcf\u79d2\u541e\u5410\u91cf\u8fdb\u884c\u4f30\u7b97 num.partitions=20 #\u9ed8\u8ba4\u526f\u672c\u6570 default.replication.factor=2 #\u6570\u636e\u4fdd\u7559\u65f6\u95f4 \u9ed8\u8ba4168\u5c0f\u65f6 log.retention.hours=168 #\u8bbe\u7f6e\u5355\u4e2a\u5206\u533a\u6700\u5927\u53ef\u4ee5\u4fdd\u7559\u591a\u5c11\u4f53\u79ef\u7684\u6570\u636e\uff081GB\uff09,\u4e0a\u8ff0\u65f6\u95f4\u548c\u672c\u8bbe\u7f6e\u7684\u4f53\u79ef\u4e24\u8005\u662f\u6216\u7684\u5173\u7cfb\uff0c\u6709\u4e00\u4e2a\u6ee1\u8db3\u5c31\u4f1a\u8fdb\u884c\u6e05\u7406 log.retention.bytes=1000000000 #\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u5927\u5c3a\u5bf8\uff0c\u9ed8\u8ba41GB\uff0c\u5f53\u6587\u4ef6\u6ee11GB\u540e\u624d\u4f1a\u5173\u95ed\u53e5\u67c4\u8fdb\u5165\u53ef\u4ee5\u88ab\u4e0a\u8ff0\u4e24\u79cd\u89c4\u5219\u6e05\u7406\u7684\u8303\u56f4\uff0c\u5982\u679c\u5355\u6761\u6570\u636e\u5f88\u5c0f\u4e14\u65e5\u589e\u6570\u636e\u91cf\u4e5f\u5f88\u5c0f\uff0c\u6b64\u503c\u9700\u8981\u76f8\u5e94\u7684\u6539\u5c0f\uff0c\u5426\u5219\u4f1a\u5f88\u4e45\u90fd\u65e0\u6cd5\u81ea\u52a8\u6e05\u7406\u3002 log.segment.bytes=1000000000 #\u5355\u4e2a\u65e5\u5fd7\u7684\u5173\u95ed\u65f6\u95f4\uff0c\u65e0\u9ed8\u8ba4\u503c\uff0c\u65f6\u95f4\u6216\u8005\u4f53\u79ef\u4efb\u610f\u4e00\u4e2a\u8fbe\u5230\u6761\u4ef6\u4f1a\u5173\u95ed\u6b64\u65e5\u5fd7\u6587\u4ef6\u3002 log.segment.ms=86400000 #\u6700\u5927\u6d88\u606f\u4f53\u79ef\u9ed8\u8ba41MB\uff0c\u5982\u679c\u8981\u5904\u7406\u7684\u6570\u636e\u5355\u6761\u8d85\u8fc7\u6b64\u503c\u5c31\u65e0\u6cd5\u8fdb\u6765\uff0c\u9700\u8981\u6839\u636e\u6700\u5927\u6d88\u606f\u5c3a\u5bf8\u6765\u89c4\u5212\u8bbe\u7f6e message.max.bytes=10000000 #\u96c6\u7fa4\u95f4\u590d\u5236\u6d88\u606f\u7684\u5927\u5c0f\u9650\u5236 replica.fetch.max.bytes=10000000 #\u6d88\u8d39\u8005\u6d88\u8d39\u6d88\u606f\u5927\u5c0f\u9650\u5236\u4e3afetch.message.max.bytes\u5982\u679c\u5c0f\u4e8e\u670d\u52a1\u5668\u8bbe\u7f6ename\u5c06\u65e0\u6cd5\u4e0b\u8f7d\u5230\u8f83\u5927\u7684\u6570\u636e vm.dirty_ratio = 60","title":"kafka broker\u914d\u7f6e"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83kafka%E9%85%8D%E7%BD%AE/#kafka-consumer","text":"#\u6bcf\u4e2a\u5206\u533a\u6700\u5927\u8fd4\u56de10MB\uff0c\u5982\u679c\u6d88\u8d39\u8005\u5206\u5230\u4e8610\u4e2a\u5206\u533a\u5c06\u5360\u7528100MB\u6765\u89e3\u6790\u6570\u636e max.partition.fetch.bytes=10485760 auto.offset.reset=earliest #\u81ea\u52a8\u63d0\u4ea4\u7531\u4e0b\u9762\u4e24\u4e2a\u914d\u7f6e\u51b3\u5b9a enable.auto.commit=true auto.commit.interval.ms=1000 client.id=clientid max.poll.records=500","title":"kafka consumer\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/","text":"Citus\u96c6\u7fa4\u4f7f\u7528 \u5b89\u88c5 curl https://install.citusdata.com/community/deb.sh | sudo bash apt update apt-get -y install postgresql-14-citus-10.2 pg_conftool 14 main set shared_preload_libraries citus sudo service postgresql restart # and make it start automatically when computer does sudo update-rc.d postgresql enable sudo -i -u postgres psql -c \"CREATE EXTENSION citus;\" \u4f7f\u7528 -- \u4fee\u6539\u8fde\u63a5\u6570\uff08\u91cd\u542f\u751f\u6548\uff09 alter system set max_connections = 1000; --\u63d0\u524d\u8bbe\u7f6e\u597dpg_hba.conf\u5141\u8bb8\u6307\u5b9a\u4e3b\u673a\u901a\u8fc7\u67d0ip\u6216\u8005\u5185\u90e8\u7f51\u7edc\u4fe1\u4efb\u94fe\u63a5 --\u8bbe\u7f6e\u4e3b\u8282\u70b9\u8fde\u63a5\u4fe1\u606f SELECT citus_set_coordinator_host('coord.example.com', 5432); --\u6dfb\u52a0worker\u8282\u70b9 SELECT * from citus_add_node('worker-101', 5432); SELECT * from citus_add_node('worker-102', 5432); --#\u67e5\u770b\u8282\u70b9\u6570 SELECT * FROM citus_get_active_worker_nodes(); --\u666e\u901a\u7684\u521b\u5efa\u8868 create table icetest(id serial4,uname varchar(32)); --#\u8f6c\u6362\u4e3a\u5206\u533a\u8868 select create_distributed_table('icetest','id'); --#\u589e\u52a0\u6216\u8005\u51cf\u5c11\u8282\u70b9\u6216\u8005\u91cd\u65b0\u5e73\u8861\u8868\u6570\u636e SELECT rebalance_table_shards('companies'); --\u5e7f\u64ad\u5b57\u5178\u8868 create table mydict(code varchar(32),name varchar(255)); select create_reference_table('mydict'); --\u628a\u5206\u5e03\u5f0f\u8868\u53d8\u6210\u666e\u901a\u8868 SELECT undistribute_table('mydict'); --\u5728\u6240\u6709worker\u6267\u884c SELECT run_command_on_workers($cmd$ SHOW work_mem; $cmd$); --\u521b\u5efa\u5206\u5e03\u5f0fudf create_distributed_function --\u8bbe\u7f6e\u590d\u5236\u4efd\u6570\u4fdd\u6301\u8282\u70b9\u9ad8\u53ef\u7528\uff08\u786e\u4fdd\u6709\u8db3\u591fworker\u7684\u60c5\u51b5\u4e0b\uff09 SET citus.shard_replication_factor = 2; --\u4f7f\u7528\u5217\u5f0f\u5b58\u50a8\uff08\u4e00\u822c\u7528\u4e8e\u51b7\u6570\u636e\uff09 CREATE TABLE contestant ( handle TEXT, birthdate DATE, rating INT, percentile FLOAT, country CHAR(3), achievements TEXT[] ) USING columnar; --\u8f6c\u6362\u8868\u4e3a\u884c\u5b58\u50a8 SELECT alter_table_set_access_method('contestant', 'heap'); --\u8f6c\u6362\u8868\u4e3a\u5217\u5b58\u50a8 SELECT alter_table_set_access_method('contestant', 'columnar'); --\u66f4\u65b0\u8282\u70b9\u4fe1\u606f select citus_update_node(node_id,node_name,node_port); --\u7981\u7528/\u6fc0\u6d3b\u8282\u70b9 citus_disable_node(name,port) citus_activate_node(name,port) citus_remove_node(name,port) --\u6dfb\u52a0\u5907\u7528\u4e3b\u8282\u70b9 citus_add_secondary_node(nodname,nodeport,primaryname,primaryport,nodeclustername) \u96c6\u7fa4\u6a21\u5f0f\u914d\u7f6e --\u521d\u59cb\u5316\u8bbe\u7f6e alter system set citus.shard_count=32; --\u5206\u7247\u6570\u9ed8\u8ba432 \u5efa\u8bae\u914d\u7f6e\u4e3aCPU\u603b\u6838\u6570\u76842~4\u500d\uff1b alter system set citus.shard_replication_factor=1; --\u526f\u672c\u6570 -- \u7b2c\u4e00\u79cd\u6a21\u5f0f \u9ad8\u5e76\u53d1\u5199\u5165\u6a21\u5f0f \u9ed8\u8ba4\u6a21\u5f0f -- \u6ce8\u610f\uff1a\u652f\u6301\u591a\u8282\u70b9\u5199\u5165\uff08\u9ad8\u5e76\u53d1\u5199\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u6570\u636e\u8282\u70b9\u5199\u5165\uff0c\u907f\u514dmaster\u8d1f\u8f7d\u8fc7\u9ad8\uff0c\u76ee\u524d\u53d1\u73b0\u7684\u7ea6\u675f\u4e3a\u81ea\u589e\u5e8f\u5217\u5fc5\u987b\u7528serial8\u8fd9\u4e2a\u7ea7\u522b\uff0c\u6bcf\u4e2a\u6570\u636e\u8282\u70b9\u4f1a\u6709\u81ea\u5df1\u7684\u5206\u6bb5\uff0c\u6bd4\u5982A\u4ece1~10000 B\u4ece 20000~100000\uff09\uff0c\u53ef\u4ee5\u8003\u8651\u540c\u6b65\u65f6\u95f4\u7684\u524d\u63d0\u4e0b\u7528\u6570\u636e\u5e93\u5165\u5e93\u65f6\u95f4\u6765\u505a\u589e\u91cf\u540c\u6b65\u6216\u8005\u7528cdc\u6a21\u5f0f\u6765\u589e\u91cf\u540c\u6b65\u5230es\u4e4b\u7c7b -- \u8fd9\u79cd\u6a21\u5f0f\u4e0d\u76f4\u63a5\u652f\u6301\u590d\u5236\u4efd\u6570\u7684\u8bbe\u7f6e\uff0c\u6709\u8282\u70b9\u6302\u4e86\u5c06\u4f1a\u5f71\u54cd\u6570\u636e\u67e5\u8be2\uff08\u53ef\u4ee5\u4e34\u65f6\u7981\u7528\u6302\u6389\u7684\u8282\u70b9\uff0c\u4f7f\u5f97\u67e5\u8be2\u53ef\u7528\uff0c\u4f46\u6389\u7ebf\u8282\u70b9\u7684\u6570\u636e\u6682\u65f6\u4e0d\u5b58\u5728\uff0c\u4fee\u597d\u540e\u518d\u6fc0\u6d3b\u8282\u70b9\uff09 --\u7b2c\u4e8c\u79cd citus\u81ea\u5e26\u7684\u9ad8\u53ef\u7528\u6a21\u5f0f -- alter system set citus.replication_model='statement'; --\u8fd9\u662f\u5168\u5c40\u8bbe\u7f6e\uff08\u4f46\u4e0d\u5bf9\u5f53\u524dsession\u751f\u6548\uff09 \u8fd9\u4e2a\u8bbe\u7f6e\u5728\u6700\u65b0\u7248\u4e2d\u5df2\u7ecf\u542f\u7528\u4e86\u4f1a\u6709\u76f8\u5e94\u63d0\u793a\uff0c\u8ba9\u76f4\u63a5\u8bbe\u7f6e\u4e0b\u9762\u8fd9\u4e2a\uff0c\u518d\u521b\u5efa\u7684\u65b0\u8868\u5c31\u4f1a\u662f\u6709\u590d\u5236\u4efd\u6570\u7684\u5566 alter system set citus.shard_replication_factor=2; \u5206\u533a\u5206\u5e03\u5f0f\u8868\u4e0e\u81ea\u52a8\u7ef4\u62a4\u5206\u533a --\u521b\u5efa\u5206\u533a\u8868 CREATE TABLE github_events ( event_id bigint, event_type text, event_public boolean, repo_id bigint, payload jsonb, repo jsonb, actor jsonb, org jsonb, created_at timestamp ) PARTITION BY RANGE (created_at); --\u5206\u5e03\u5f0f\u5206\u53d1 SELECT create_distributed_table('github_events', 'repo_id'); --\u81ea\u52a8\u5efa\u5206\u533a SELECT cron.schedule('create-partitions', '0 0 1 * *', $$ SELECT create_time_partitions( table_name := 'github_events', partition_interval := '1 month', end_at := now() + '12 months' ) $$); --\u53ef\u9009\u7684\uff1a\u81ea\u52a8\u6e05\u7406\u8fc7\u671f\u7684\u4e0d\u518d\u88ab\u9700\u8981\uff08\u6216\u8005\u5df2\u7ecf\u8f6c\u5165\u51b7\u6570\u636e\u8868\u5f52\u6863\u7684\uff09\u6570\u636e SELECT cron.schedule('drop-partitions', '0 0 1 * *', $$ CALL drop_old_time_partitions( 'github_events', now() - interval '12 months' /* older_than */ ); $$); \u5f52\u6863\u51b7\u6570\u636e\u6848\u4f8b CREATE TABLE github_columnar_events ( event_id bigint, event_type text, event_public boolean, repo_id bigint, payload jsonb, repo jsonb, actor jsonb, org jsonb, created_at timestamp ) PARTITION BY RANGE (created_at); SELECT create_time_partitions( table_name := 'github_columnar_events', partition_interval := '2 hours', start_from := '2015-01-01 00:00:00', end_at := '2015-01-01 08:00:00' ); --\u8bbe\u7f6e\u65e7\u5206\u533a\u4e3a\u5217\u5b58\u538b\u7f29\u6a21\u5f0f CALL alter_old_partitions_set_access_method( 'github_columnar_events', now() - interval '6 months', 'columnar' ); \u7ebf\u4e0a\u8fc1\u79fb \u63d0\u524d\u8bbe\u7f6e\u597dpg_hba.conf\u5141\u8bb8\u6307\u5b9a\u4e3b\u673a\u901a\u8fc7\u67d0ip\u6216\u8005\u5185\u90e8\u7f51\u7edc\u4fe1\u4efb\u94fe\u63a5 \u590d\u5236\u7ed3\u6784 pg_dump --schema-only \u4e3b\u8282\u70b9\u5f00\u542f\u903b\u8f91\u590d\u5236\uff08\u91cd\u542f\u751f\u6548\uff09 wal_level = logical max_replication_slots = 5 # has to be > 0 max_wal_senders = 5 # has to be > 0 --\u521b\u5efa\u7528\u6237\u6216\u8005\u76f4\u63a5\u4f7f\u7528postgres\u7528\u6237 CREATE ROLE fzuser WITH REPLICATION PASSWORD 'Fz123456' LOGIN; \u4ece\u8282\u70b9 \u5f00\u59cb\u590d\u5236 \u786e\u5b9a\u6570\u636e\u5e93\u5df2\u7ecf\u540c\u6b65\u540e\uff0c\u53ef\u4ee5\u7ed3\u5408pgbouncer\u6765\u5feb\u901f\u5207\u6362\u6240\u6709\u5ba2\u6237\u7aef\u5230\u65b0\u5e93 jdbc\u5199\u5165\u6d4b\u8bd5 --\u5f80\u4e3b\u8282\u70b9\u5199 2 \u526f\u672c 10\u5b57\u6bb5 10w\u6761100\u79d2=1000/s 1\u526f\u672c 10\u5b57\u6bb5 10w\u676141\u79d2=2400+/s \u5355\u673a 10\u5b57\u6bb5 10w\u67612.8\u79d2=35000+/s 10\u5b57\u6bb5 50w\u6570\u636e12\u79d2=41666/s --\u4e3b\u8282\u70b9\u5efa\u8868\u7136\u540e\u76f4\u63a5\u5f80\u6570\u636e\u8282\u70b9\u5199 2 \u526f\u672c 10\u5b57\u6bb5 10w\u676153\u79d2=1886/s 1\u526f\u672c 10\u5b57\u6bb5 10w\u676130\u79d2=3333+/s -- \u5e93\u5185inser into 2\u526f\u672c 10\u5b57\u6bb520w\u6570\u636e2.3\u79d2=86900+/s 1\u526f\u672c 10\u5b57\u6bb520w\u6570\u636e1\u79d2=200000/s","title":"Citus\u96c6\u7fa4\u4f7f\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#citus","text":"","title":"Citus\u96c6\u7fa4\u4f7f\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_1","text":"curl https://install.citusdata.com/community/deb.sh | sudo bash apt update apt-get -y install postgresql-14-citus-10.2 pg_conftool 14 main set shared_preload_libraries citus sudo service postgresql restart # and make it start automatically when computer does sudo update-rc.d postgresql enable sudo -i -u postgres psql -c \"CREATE EXTENSION citus;\"","title":"\u5b89\u88c5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_2","text":"-- \u4fee\u6539\u8fde\u63a5\u6570\uff08\u91cd\u542f\u751f\u6548\uff09 alter system set max_connections = 1000; --\u63d0\u524d\u8bbe\u7f6e\u597dpg_hba.conf\u5141\u8bb8\u6307\u5b9a\u4e3b\u673a\u901a\u8fc7\u67d0ip\u6216\u8005\u5185\u90e8\u7f51\u7edc\u4fe1\u4efb\u94fe\u63a5 --\u8bbe\u7f6e\u4e3b\u8282\u70b9\u8fde\u63a5\u4fe1\u606f SELECT citus_set_coordinator_host('coord.example.com', 5432); --\u6dfb\u52a0worker\u8282\u70b9 SELECT * from citus_add_node('worker-101', 5432); SELECT * from citus_add_node('worker-102', 5432); --#\u67e5\u770b\u8282\u70b9\u6570 SELECT * FROM citus_get_active_worker_nodes(); --\u666e\u901a\u7684\u521b\u5efa\u8868 create table icetest(id serial4,uname varchar(32)); --#\u8f6c\u6362\u4e3a\u5206\u533a\u8868 select create_distributed_table('icetest','id'); --#\u589e\u52a0\u6216\u8005\u51cf\u5c11\u8282\u70b9\u6216\u8005\u91cd\u65b0\u5e73\u8861\u8868\u6570\u636e SELECT rebalance_table_shards('companies'); --\u5e7f\u64ad\u5b57\u5178\u8868 create table mydict(code varchar(32),name varchar(255)); select create_reference_table('mydict'); --\u628a\u5206\u5e03\u5f0f\u8868\u53d8\u6210\u666e\u901a\u8868 SELECT undistribute_table('mydict'); --\u5728\u6240\u6709worker\u6267\u884c SELECT run_command_on_workers($cmd$ SHOW work_mem; $cmd$); --\u521b\u5efa\u5206\u5e03\u5f0fudf create_distributed_function --\u8bbe\u7f6e\u590d\u5236\u4efd\u6570\u4fdd\u6301\u8282\u70b9\u9ad8\u53ef\u7528\uff08\u786e\u4fdd\u6709\u8db3\u591fworker\u7684\u60c5\u51b5\u4e0b\uff09 SET citus.shard_replication_factor = 2; --\u4f7f\u7528\u5217\u5f0f\u5b58\u50a8\uff08\u4e00\u822c\u7528\u4e8e\u51b7\u6570\u636e\uff09 CREATE TABLE contestant ( handle TEXT, birthdate DATE, rating INT, percentile FLOAT, country CHAR(3), achievements TEXT[] ) USING columnar; --\u8f6c\u6362\u8868\u4e3a\u884c\u5b58\u50a8 SELECT alter_table_set_access_method('contestant', 'heap'); --\u8f6c\u6362\u8868\u4e3a\u5217\u5b58\u50a8 SELECT alter_table_set_access_method('contestant', 'columnar'); --\u66f4\u65b0\u8282\u70b9\u4fe1\u606f select citus_update_node(node_id,node_name,node_port); --\u7981\u7528/\u6fc0\u6d3b\u8282\u70b9 citus_disable_node(name,port) citus_activate_node(name,port) citus_remove_node(name,port) --\u6dfb\u52a0\u5907\u7528\u4e3b\u8282\u70b9 citus_add_secondary_node(nodname,nodeport,primaryname,primaryport,nodeclustername)","title":"\u4f7f\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_3","text":"--\u521d\u59cb\u5316\u8bbe\u7f6e alter system set citus.shard_count=32; --\u5206\u7247\u6570\u9ed8\u8ba432 \u5efa\u8bae\u914d\u7f6e\u4e3aCPU\u603b\u6838\u6570\u76842~4\u500d\uff1b alter system set citus.shard_replication_factor=1; --\u526f\u672c\u6570 -- \u7b2c\u4e00\u79cd\u6a21\u5f0f \u9ad8\u5e76\u53d1\u5199\u5165\u6a21\u5f0f \u9ed8\u8ba4\u6a21\u5f0f -- \u6ce8\u610f\uff1a\u652f\u6301\u591a\u8282\u70b9\u5199\u5165\uff08\u9ad8\u5e76\u53d1\u5199\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u6570\u636e\u8282\u70b9\u5199\u5165\uff0c\u907f\u514dmaster\u8d1f\u8f7d\u8fc7\u9ad8\uff0c\u76ee\u524d\u53d1\u73b0\u7684\u7ea6\u675f\u4e3a\u81ea\u589e\u5e8f\u5217\u5fc5\u987b\u7528serial8\u8fd9\u4e2a\u7ea7\u522b\uff0c\u6bcf\u4e2a\u6570\u636e\u8282\u70b9\u4f1a\u6709\u81ea\u5df1\u7684\u5206\u6bb5\uff0c\u6bd4\u5982A\u4ece1~10000 B\u4ece 20000~100000\uff09\uff0c\u53ef\u4ee5\u8003\u8651\u540c\u6b65\u65f6\u95f4\u7684\u524d\u63d0\u4e0b\u7528\u6570\u636e\u5e93\u5165\u5e93\u65f6\u95f4\u6765\u505a\u589e\u91cf\u540c\u6b65\u6216\u8005\u7528cdc\u6a21\u5f0f\u6765\u589e\u91cf\u540c\u6b65\u5230es\u4e4b\u7c7b -- \u8fd9\u79cd\u6a21\u5f0f\u4e0d\u76f4\u63a5\u652f\u6301\u590d\u5236\u4efd\u6570\u7684\u8bbe\u7f6e\uff0c\u6709\u8282\u70b9\u6302\u4e86\u5c06\u4f1a\u5f71\u54cd\u6570\u636e\u67e5\u8be2\uff08\u53ef\u4ee5\u4e34\u65f6\u7981\u7528\u6302\u6389\u7684\u8282\u70b9\uff0c\u4f7f\u5f97\u67e5\u8be2\u53ef\u7528\uff0c\u4f46\u6389\u7ebf\u8282\u70b9\u7684\u6570\u636e\u6682\u65f6\u4e0d\u5b58\u5728\uff0c\u4fee\u597d\u540e\u518d\u6fc0\u6d3b\u8282\u70b9\uff09 --\u7b2c\u4e8c\u79cd citus\u81ea\u5e26\u7684\u9ad8\u53ef\u7528\u6a21\u5f0f -- alter system set citus.replication_model='statement'; --\u8fd9\u662f\u5168\u5c40\u8bbe\u7f6e\uff08\u4f46\u4e0d\u5bf9\u5f53\u524dsession\u751f\u6548\uff09 \u8fd9\u4e2a\u8bbe\u7f6e\u5728\u6700\u65b0\u7248\u4e2d\u5df2\u7ecf\u542f\u7528\u4e86\u4f1a\u6709\u76f8\u5e94\u63d0\u793a\uff0c\u8ba9\u76f4\u63a5\u8bbe\u7f6e\u4e0b\u9762\u8fd9\u4e2a\uff0c\u518d\u521b\u5efa\u7684\u65b0\u8868\u5c31\u4f1a\u662f\u6709\u590d\u5236\u4efd\u6570\u7684\u5566 alter system set citus.shard_replication_factor=2;","title":"\u96c6\u7fa4\u6a21\u5f0f\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_4","text":"--\u521b\u5efa\u5206\u533a\u8868 CREATE TABLE github_events ( event_id bigint, event_type text, event_public boolean, repo_id bigint, payload jsonb, repo jsonb, actor jsonb, org jsonb, created_at timestamp ) PARTITION BY RANGE (created_at); --\u5206\u5e03\u5f0f\u5206\u53d1 SELECT create_distributed_table('github_events', 'repo_id'); --\u81ea\u52a8\u5efa\u5206\u533a SELECT cron.schedule('create-partitions', '0 0 1 * *', $$ SELECT create_time_partitions( table_name := 'github_events', partition_interval := '1 month', end_at := now() + '12 months' ) $$); --\u53ef\u9009\u7684\uff1a\u81ea\u52a8\u6e05\u7406\u8fc7\u671f\u7684\u4e0d\u518d\u88ab\u9700\u8981\uff08\u6216\u8005\u5df2\u7ecf\u8f6c\u5165\u51b7\u6570\u636e\u8868\u5f52\u6863\u7684\uff09\u6570\u636e SELECT cron.schedule('drop-partitions', '0 0 1 * *', $$ CALL drop_old_time_partitions( 'github_events', now() - interval '12 months' /* older_than */ ); $$);","title":"\u5206\u533a\u5206\u5e03\u5f0f\u8868\u4e0e\u81ea\u52a8\u7ef4\u62a4\u5206\u533a"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_5","text":"CREATE TABLE github_columnar_events ( event_id bigint, event_type text, event_public boolean, repo_id bigint, payload jsonb, repo jsonb, actor jsonb, org jsonb, created_at timestamp ) PARTITION BY RANGE (created_at); SELECT create_time_partitions( table_name := 'github_columnar_events', partition_interval := '2 hours', start_from := '2015-01-01 00:00:00', end_at := '2015-01-01 08:00:00' ); --\u8bbe\u7f6e\u65e7\u5206\u533a\u4e3a\u5217\u5b58\u538b\u7f29\u6a21\u5f0f CALL alter_old_partitions_set_access_method( 'github_columnar_events', now() - interval '6 months', 'columnar' );","title":"\u5f52\u6863\u51b7\u6570\u636e\u6848\u4f8b"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#_6","text":"\u63d0\u524d\u8bbe\u7f6e\u597dpg_hba.conf\u5141\u8bb8\u6307\u5b9a\u4e3b\u673a\u901a\u8fc7\u67d0ip\u6216\u8005\u5185\u90e8\u7f51\u7edc\u4fe1\u4efb\u94fe\u63a5 \u590d\u5236\u7ed3\u6784 pg_dump --schema-only \u4e3b\u8282\u70b9\u5f00\u542f\u903b\u8f91\u590d\u5236\uff08\u91cd\u542f\u751f\u6548\uff09 wal_level = logical max_replication_slots = 5 # has to be > 0 max_wal_senders = 5 # has to be > 0 --\u521b\u5efa\u7528\u6237\u6216\u8005\u76f4\u63a5\u4f7f\u7528postgres\u7528\u6237 CREATE ROLE fzuser WITH REPLICATION PASSWORD 'Fz123456' LOGIN; \u4ece\u8282\u70b9 \u5f00\u59cb\u590d\u5236 \u786e\u5b9a\u6570\u636e\u5e93\u5df2\u7ecf\u540c\u6b65\u540e\uff0c\u53ef\u4ee5\u7ed3\u5408pgbouncer\u6765\u5feb\u901f\u5207\u6362\u6240\u6709\u5ba2\u6237\u7aef\u5230\u65b0\u5e93","title":"\u7ebf\u4e0a\u8fc1\u79fb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Citus%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8/#jdbc","text":"--\u5f80\u4e3b\u8282\u70b9\u5199 2 \u526f\u672c 10\u5b57\u6bb5 10w\u6761100\u79d2=1000/s 1\u526f\u672c 10\u5b57\u6bb5 10w\u676141\u79d2=2400+/s \u5355\u673a 10\u5b57\u6bb5 10w\u67612.8\u79d2=35000+/s 10\u5b57\u6bb5 50w\u6570\u636e12\u79d2=41666/s --\u4e3b\u8282\u70b9\u5efa\u8868\u7136\u540e\u76f4\u63a5\u5f80\u6570\u636e\u8282\u70b9\u5199 2 \u526f\u672c 10\u5b57\u6bb5 10w\u676153\u79d2=1886/s 1\u526f\u672c 10\u5b57\u6bb5 10w\u676130\u79d2=3333+/s -- \u5e93\u5185inser into 2\u526f\u672c 10\u5b57\u6bb520w\u6570\u636e2.3\u79d2=86900+/s 1\u526f\u672c 10\u5b57\u6bb520w\u6570\u636e1\u79d2=200000/s","title":"jdbc\u5199\u5165\u6d4b\u8bd5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/","text":"gp/mdb\u96c6\u7fa4\u5185\u5b58\u914d\u7f6e \u7531\u4e8epostgres\u4e3a\u591a\u8fdb\u7a0b\u6a21\u5f0f\uff0c\u5728\u8bbe\u7f6e\u597d\u5185\u5b58\u5404\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\u8fd8\u5fc5\u987b\u7ed3\u5408\u670d\u52a1\u7aef\u8fde\u63a5\u6c60\u6765\u964d\u4f4e\u8d44\u6e90\u5360\u7528\u538b\u529b\u3002 POSTGRES \u5c42\u9762\u5185\u5b58\u8bbe\u7f6e shared_buffers \u4e00\u822c\u4e3a\u7269\u7406\u5185\u5b58\u768425% Effective_cache_size \u7528\u4e8e\u4f18\u5316\u67e5\u8be2\u5668\u5185\u5b58\u4f30\u7b97\u4f7f\u7528\uff0c\u4e00\u822c\u4e3a\u5185\u5b58\u76841/2\u52303/4 work_mem \u4e3b\u8981\u7528\u4e8e\u7ed3\u679c\u6392\u5e8f\uff0c\u5355\u4e2a\u8fde\u63a5\u6700\u5c11\u4f7f\u7528\u4e00\u4efdwork_mem\u7684\u5185\u5b58\uff0c\u6700\u5927\u8fde\u63a5\u6570\u8bbe\u7f6e\u9700\u8981\u53c2\u8003\u6b64\u9879\uff0c\u6ce8\u610f\u5e76\u975e\u4e00\u4e2a\u8fde\u63a5\u53ea\u5360\u7528\u4e00\u4efdwork_mem\uff01\uff01\u4e00\u4e2a\u590d\u6742\u67e5\u8be2\u53ef\u80fd\u4f1a\u5360\u7528\u591a\u4efd\u7684work_mem\u7684\u5185\u5b58\uff0c\u9ed8\u8ba432MB maintenance_work_mem \u7528\u4e8e\u7ef4\u62a4\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u91cfVacuum\u3001Create Index\u548cAlter Table Add Foreign Key \u9ed8\u8ba464MB\uff0c\u7531\u4e8e\u901a\u5e38\u6b63\u5e38\u8fd0\u884c\u7684\u6570\u636e\u5e93\u4e2d\u4e0d\u4f1a\u6709\u5927\u91cf\u5e76\u53d1\u7684\u6b64\u7c7b\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u7684\u8f83\u5927\u4e00\u4e9b\uff0c\u63d0\u9ad8\u6e05\u7406\u548c\u521b\u5efa\u7d22\u5f15\u5916\u952e\u7684\u901f\u5ea6\u3002 wal_buffers \u5728PostgreSQL 12\u7248\u4e2d\uff0c\u9ed8\u8ba4\u503c\u4e3a-1\uff0c\u4e5f\u5c31\u662f\u9009\u62e9\u7b49\u4e8eshared_buffers\u76841/32 \u3002\u5982\u679c\u81ea\u52a8\u7684\u9009\u62e9\u592a\u5927\u6216\u592a\u5c0f\u53ef\u4ee5\u624b\u5de5\u8bbe\u7f6e\u8be5\u503c\u3002\u4e00\u822c\u8003\u8651\u8bbe\u7f6e\u4e3a16MB\u3002 temp_buffers \u8bbe\u7f6e\u6bcf\u4e2a\u6570\u636e\u5e93\u4f1a\u8bdd\u4f7f\u7528\u7684\u4e34\u65f6\u7f13\u51b2\u533a\u7684\u6700\u5927\u6570\u76ee\u3002\u6b64\u672c\u5730\u7f13\u51b2\u533a\u53ea\u7528\u4e8e\u8bbf\u95ee\u4e34\u65f6\u8868\u3002\u4e34\u65f6\u7f13\u51b2\u533a\u662f\u5728\u67d0\u4e2a\u8fde\u63a5\u4f1a\u8bdd\u7684\u670d\u52a1\u8fdb\u7a0b\u4e2d\u5206\u914d\u7684\uff0c\u5c5e\u4e8e\u672c\u5730\u5185\u5b58\u3002\u4e34\u65f6\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u4e5f\u662f\u6309\u6570\u636e\u5757\u5927\u5c0f\u5206\u914d\u7684\uff0c\u9ed8\u8ba48MB\u3002 GP/MDB\u5c42\u9762\u5185\u5b58\u8bbe\u7f6e gp_vmem_protect_limit \u7269\u7406\u5185\u5b58 \u00d7 0.9 \u00f7 \u4e3b\u673a\u4e0a\u5206\u7247\u6570\u91cf\uff08\u6fc0\u8fdb\u70b9\u5c31\u9664\u4e3b\u5206\u7247\u6570\u91cf\uff09\u5355\u4f4dMB # \u4ee5\u5355\u4e2a\u8282\u70b9256GB\u5185\u5b58\u5206\u7247\u657012\uff086\u4e3b+6\u4ece\uff09\u4e3a\u4f8b\u7684\u6700\u4f73\u914d\u7f6e # \u53ef\u5206\u914d\u5185\u5b58\u4ee5\u5b9e\u9645\u5185\u5b58\u768490%\uff08\u7ed9\u7cfb\u7edf\u9884\u7559\u4e00\u4e9b\uff09256*0.9=230GB # \u5355\u4e2a\u5206\u7247\u6700\u5927\u53ef\u7528\u5185\u5b58\u4e3a230/12=19GB # \u4f7f\u7528https://pgtune.leopard.in.ua/ \u5de5\u5177\u8ba1\u7b97 # \u6838\u5fc3\u657048/12=4 # DB Version: 13 # OS Type: linux # DB Type: mixed # Total Memory (RAM): 19 GB # CPUs num: 4 # Data Storage: hdd #\u4e3b\u8282\u70b9\u8fde\u63a5\u6570 max_connections = 100 shared_buffers = 4864MB effective_cache_size = 14592MB maintenance_work_mem = 1216MB checkpoint_completion_target = 0.9 wal_buffers = 16MB default_statistics_target = 100 random_page_cost = 4 effective_io_concurrency = 2 work_mem = 12451kB min_wal_size = 1GB max_wal_size = 4GB #max_worker_processes = 4 #max_parallel_workers_per_gather = 2 #max_parallel_workers = 4 #max_parallel_maintenance_workers = 2 gp_vmem_protect_limit=11831 statement_mem=200MB #\u6570\u636e\u8282\u70b9\u8fde\u63a5\u6570gpconfig -c max_connections -m 100 -v 500 max_connections=500 max_prepared_transactions =100 # \u5355\u8282\u70b9500GB\u5185\u5b58\u5206\u7247\u65708\uff084\u4e3b4\u4ece\uff09\u4e3a\u4f8b # 500*0.9=450GB # \u5355\u4e2a\u5206\u7247\u6700\u5927\u53ef\u7528\u5185\u5b58=450/8=56GB # \u6838\u5fc3\u657056/8=7 # DB Version: 13 # OS Type: linux # DB Type: mixed # Total Memory (RAM): 56 GB # CPUs num: 7 # Data Storage: hdd max_connections = 150 shared_buffers = 14GB effective_cache_size = 42GB maintenance_work_mem = 2GB checkpoint_completion_target = 0.9 wal_buffers = 16MB default_statistics_target = 100 random_page_cost = 4 effective_io_concurrency = 2 work_mem = 18350kB min_wal_size = 1GB max_wal_size = 4GB max_worker_processes = 7 max_parallel_workers_per_gather = 4 max_parallel_workers = 7 max_parallel_maintenance_workers = 4 gp_vmem_protect_limit=50864 statement_mem=400MB #\u6570\u636e\u8282\u70b9\u8fde\u63a5\u6570gpconfig -c max_connections -m 150 -v 750 max_connections=750 max_prepared_transactions =150 \u4e0a\u8ff0\u53c2\u6570\u9700\u8981\u901a\u8fc7gpconfig -c work_mem -m '18350kB' -v '18350kB' \u8fd9\u6837\u7684\u5f62\u5f0f\u5728\u7ba1\u7406\u8282\u70b9\u7edf\u4e00\u6267\u884c\uff0c\u8fd9\u6837\u624d\u80fd\u81ea\u52a8\u5206\u53d1\u5230\u6570\u636e\u8282\u70b9\u53bb pgbouncer\u914d\u7f6e \u51c6\u5907\u65e5\u5fd7\u548cpid\u76ee\u5f55 mkdir /var/log/pgbouncer chown mxadmin:mxadmin -R /var/log/pgbouncer mkdir /var/run/pgbouncer chown mxadmin:mxadmin -R /var/run/pgbouncer \u521b\u5efa\u8fde\u63a5\u6c60\u914d\u7f6e\u6587\u4ef6 #/etc/matrixdb/pguserlist.txt \u8fd9\u91cc\u7684\u5185\u5bb9\u6765\u81ea\u4e0epsql -c \"select usename,passwd from pg_shadow;\",\u67e5\u51fa\u7684\u7ed3\u679c\u7ed9\u503c\u90fd\u52a0\u4e0a\u53cc\u5f15\u53f7\u653e\u8fdb\u6765\u5373\u53ef\u3002 \"mxadmin\" \"md5d802636a5d23d0fd440e212213e94d92\" /etc/matrixdb/pgbouncer.ini [databases] lhcz1 = host=127.0.0.1 port=5433 lhcz = host=127.0.0.1 port=5434 [pgbouncer] logfile = /var/log/pgbouncer/pgbouncer.log log_connections=0 log_disconnections=0 log_stats=0 pidfile = /var/run/pgbouncer/pgbouncer.pid listen_addr = 0.0.0.0 listen_port = 5432 auth_type = hba auth_file = /etc/matrixdb/pguserlist.txt auth_hba_file = /etc/matrixdb/pg_hba.conf admin_users = mxadmin,hjdev stats_users = stats pool_mode = transaction server_reset_query = DISCARD ALL max_client_conn = 800 default_pool_size = 100 ignore_startup_parameters = extra_float_digits,geqo /etc/matrixdb/pg_hba.conf local all all trust host all all 0.0.0.0/0 md5 + \u4f7f\u8fde\u63a5\u6c60\u4fdd\u6301\u81ea\u542f\u52a8 \u65b0\u589e\u6587\u4ef6/etc/matrixdb/supervisor.pgbouncer.conf [program:pgbouncer] process_name=pgbouncer command=/usr/local/matrixdb/bin/pgbouncer /etc/matrixdb/pgbouncer.ini -u mxadmin directory=/etc/matrixdb autostart=true autorestart=unexpected exitcodes=0 process_num=1 numprocs_start=0 stopsignal=TERM stopwaitsecs=5 stopasgroup=true killasgroup=true stdout_logfile=%(ENV_MXLOGDIR)s/pgbouncer.log stdout_logfile_maxbytes=50MB stdout_logfile_backups=10 redirect_stderr=true \u4fee\u6539/etc/matrixdb/supervisor.conf \u5728\u6700\u540einclude\u6bb5\u7684files\u914d\u7f6e\u9879\u7684\u503c\u540e\u8ffd\u52a0\u4e0b\u9762\u5185\u5bb9\uff08\u6ce8\u610f\u548c\u539f\u6709\u5185\u5bb9\u4e4b\u95f4\u6709\u4e2a\u7a7a\u683c\uff09 supervisor.pgbouncer.conf + \u67e5\u770b\u4e0e\u91cd\u542f ```bash /usr/local/matrixdb/bin/supervisord -c /etc/matrixdb/supervisor.conf ctl -s http://localhost:4617 -u matrixdb -P changeme status /usr/local/matrixdb/bin/supervisord -c /etc/matrixdb/supervisor.conf ctl -s http://localhost:4617 -u matrixdb -P changeme restart pgbouncer \u7a0b\u5e8f\u914d\u7f6e datax\u6216\u8005\u6709jdbcurl\u53ef\u4ee5\u914d\u7f6e\u7684\u7a0b\u5e8f\u5728\u53c2\u6570\u91cc\u589e\u52a0\u4e0b\u9762\u8fd9\u4e2a\u8bbe\u7f6e\u9879,\u7aef\u53e3\u4f7f\u7528\u8fde\u63a5\u6c60\u76846543\u7aef\u53e3 prepareThreshold=0 \u5176\u4ed6\u7c7b\u578b\u7a0b\u5e8f\u6bd4\u5982ftp2gp\u7c7b\u578b\u7684\u5355\u7eaf\u4fee\u6539\u7aef\u53e3\u4e3a6543\u5373\u53ef\u3002 \u6392\u67e5\u5c1a\u672a\u901a\u8fc7\u8fde\u63a5\u6c60\u94fe\u63a5\u7684\u5e94\u7528 \u547d\u4ee4\u884c\u7684psql\u65e0\u9700\u4fee\u6539\uff0c\u4f9d\u7136\u901a\u8fc7\u539f\u6765\u76845432\u94fe\u63a5 select client_addr,client_port,usename,application_name,state,pid from pg_stat_activity ; #\u53ef\u4ee5\u67e5\u8be2\u51fa\u5ba2\u6237\u7aef\u94fe\u63a5\u7684ip\u548c\u7aef\u53e3\u6bd4\u5982ip\u5c3e\u53f7123\u7aef\u53e31234\u53ef\u4ee5ssh\u94fe\u63a5\u8fc7\u53bbnetstat -anop|grep 1234\u627e\u5230\u5bf9\u5e94\u7684\u8fdb\u7a0b\u53f7\uff0c\u518d\u901a\u8fc7ps -aux|grep \u8fdb\u7a0b\u53f7\u627e\u5230\u4f7f\u54ea\u4e2a\u7a0b\u5e8f\uff0c\u4fee\u6539\u5176\u914d\u7f6e\u91cd\u542f\u5373\u53ef\u3002","title":"gp/mdb\u96c6\u7fa4\u5185\u5b58\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#gpmdb","text":"\u7531\u4e8epostgres\u4e3a\u591a\u8fdb\u7a0b\u6a21\u5f0f\uff0c\u5728\u8bbe\u7f6e\u597d\u5185\u5b58\u5404\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\u8fd8\u5fc5\u987b\u7ed3\u5408\u670d\u52a1\u7aef\u8fde\u63a5\u6c60\u6765\u964d\u4f4e\u8d44\u6e90\u5360\u7528\u538b\u529b\u3002","title":"gp/mdb\u96c6\u7fa4\u5185\u5b58\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#postgres","text":"shared_buffers \u4e00\u822c\u4e3a\u7269\u7406\u5185\u5b58\u768425% Effective_cache_size \u7528\u4e8e\u4f18\u5316\u67e5\u8be2\u5668\u5185\u5b58\u4f30\u7b97\u4f7f\u7528\uff0c\u4e00\u822c\u4e3a\u5185\u5b58\u76841/2\u52303/4 work_mem \u4e3b\u8981\u7528\u4e8e\u7ed3\u679c\u6392\u5e8f\uff0c\u5355\u4e2a\u8fde\u63a5\u6700\u5c11\u4f7f\u7528\u4e00\u4efdwork_mem\u7684\u5185\u5b58\uff0c\u6700\u5927\u8fde\u63a5\u6570\u8bbe\u7f6e\u9700\u8981\u53c2\u8003\u6b64\u9879\uff0c\u6ce8\u610f\u5e76\u975e\u4e00\u4e2a\u8fde\u63a5\u53ea\u5360\u7528\u4e00\u4efdwork_mem\uff01\uff01\u4e00\u4e2a\u590d\u6742\u67e5\u8be2\u53ef\u80fd\u4f1a\u5360\u7528\u591a\u4efd\u7684work_mem\u7684\u5185\u5b58\uff0c\u9ed8\u8ba432MB maintenance_work_mem \u7528\u4e8e\u7ef4\u62a4\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u91cfVacuum\u3001Create Index\u548cAlter Table Add Foreign Key \u9ed8\u8ba464MB\uff0c\u7531\u4e8e\u901a\u5e38\u6b63\u5e38\u8fd0\u884c\u7684\u6570\u636e\u5e93\u4e2d\u4e0d\u4f1a\u6709\u5927\u91cf\u5e76\u53d1\u7684\u6b64\u7c7b\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u7684\u8f83\u5927\u4e00\u4e9b\uff0c\u63d0\u9ad8\u6e05\u7406\u548c\u521b\u5efa\u7d22\u5f15\u5916\u952e\u7684\u901f\u5ea6\u3002 wal_buffers \u5728PostgreSQL 12\u7248\u4e2d\uff0c\u9ed8\u8ba4\u503c\u4e3a-1\uff0c\u4e5f\u5c31\u662f\u9009\u62e9\u7b49\u4e8eshared_buffers\u76841/32 \u3002\u5982\u679c\u81ea\u52a8\u7684\u9009\u62e9\u592a\u5927\u6216\u592a\u5c0f\u53ef\u4ee5\u624b\u5de5\u8bbe\u7f6e\u8be5\u503c\u3002\u4e00\u822c\u8003\u8651\u8bbe\u7f6e\u4e3a16MB\u3002 temp_buffers \u8bbe\u7f6e\u6bcf\u4e2a\u6570\u636e\u5e93\u4f1a\u8bdd\u4f7f\u7528\u7684\u4e34\u65f6\u7f13\u51b2\u533a\u7684\u6700\u5927\u6570\u76ee\u3002\u6b64\u672c\u5730\u7f13\u51b2\u533a\u53ea\u7528\u4e8e\u8bbf\u95ee\u4e34\u65f6\u8868\u3002\u4e34\u65f6\u7f13\u51b2\u533a\u662f\u5728\u67d0\u4e2a\u8fde\u63a5\u4f1a\u8bdd\u7684\u670d\u52a1\u8fdb\u7a0b\u4e2d\u5206\u914d\u7684\uff0c\u5c5e\u4e8e\u672c\u5730\u5185\u5b58\u3002\u4e34\u65f6\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u4e5f\u662f\u6309\u6570\u636e\u5757\u5927\u5c0f\u5206\u914d\u7684\uff0c\u9ed8\u8ba48MB\u3002","title":"POSTGRES \u5c42\u9762\u5185\u5b58\u8bbe\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#gpmdb_1","text":"gp_vmem_protect_limit \u7269\u7406\u5185\u5b58 \u00d7 0.9 \u00f7 \u4e3b\u673a\u4e0a\u5206\u7247\u6570\u91cf\uff08\u6fc0\u8fdb\u70b9\u5c31\u9664\u4e3b\u5206\u7247\u6570\u91cf\uff09\u5355\u4f4dMB # \u4ee5\u5355\u4e2a\u8282\u70b9256GB\u5185\u5b58\u5206\u7247\u657012\uff086\u4e3b+6\u4ece\uff09\u4e3a\u4f8b\u7684\u6700\u4f73\u914d\u7f6e # \u53ef\u5206\u914d\u5185\u5b58\u4ee5\u5b9e\u9645\u5185\u5b58\u768490%\uff08\u7ed9\u7cfb\u7edf\u9884\u7559\u4e00\u4e9b\uff09256*0.9=230GB # \u5355\u4e2a\u5206\u7247\u6700\u5927\u53ef\u7528\u5185\u5b58\u4e3a230/12=19GB # \u4f7f\u7528https://pgtune.leopard.in.ua/ \u5de5\u5177\u8ba1\u7b97 # \u6838\u5fc3\u657048/12=4 # DB Version: 13 # OS Type: linux # DB Type: mixed # Total Memory (RAM): 19 GB # CPUs num: 4 # Data Storage: hdd #\u4e3b\u8282\u70b9\u8fde\u63a5\u6570 max_connections = 100 shared_buffers = 4864MB effective_cache_size = 14592MB maintenance_work_mem = 1216MB checkpoint_completion_target = 0.9 wal_buffers = 16MB default_statistics_target = 100 random_page_cost = 4 effective_io_concurrency = 2 work_mem = 12451kB min_wal_size = 1GB max_wal_size = 4GB #max_worker_processes = 4 #max_parallel_workers_per_gather = 2 #max_parallel_workers = 4 #max_parallel_maintenance_workers = 2 gp_vmem_protect_limit=11831 statement_mem=200MB #\u6570\u636e\u8282\u70b9\u8fde\u63a5\u6570gpconfig -c max_connections -m 100 -v 500 max_connections=500 max_prepared_transactions =100 # \u5355\u8282\u70b9500GB\u5185\u5b58\u5206\u7247\u65708\uff084\u4e3b4\u4ece\uff09\u4e3a\u4f8b # 500*0.9=450GB # \u5355\u4e2a\u5206\u7247\u6700\u5927\u53ef\u7528\u5185\u5b58=450/8=56GB # \u6838\u5fc3\u657056/8=7 # DB Version: 13 # OS Type: linux # DB Type: mixed # Total Memory (RAM): 56 GB # CPUs num: 7 # Data Storage: hdd max_connections = 150 shared_buffers = 14GB effective_cache_size = 42GB maintenance_work_mem = 2GB checkpoint_completion_target = 0.9 wal_buffers = 16MB default_statistics_target = 100 random_page_cost = 4 effective_io_concurrency = 2 work_mem = 18350kB min_wal_size = 1GB max_wal_size = 4GB max_worker_processes = 7 max_parallel_workers_per_gather = 4 max_parallel_workers = 7 max_parallel_maintenance_workers = 4 gp_vmem_protect_limit=50864 statement_mem=400MB #\u6570\u636e\u8282\u70b9\u8fde\u63a5\u6570gpconfig -c max_connections -m 150 -v 750 max_connections=750 max_prepared_transactions =150 \u4e0a\u8ff0\u53c2\u6570\u9700\u8981\u901a\u8fc7gpconfig -c work_mem -m '18350kB' -v '18350kB' \u8fd9\u6837\u7684\u5f62\u5f0f\u5728\u7ba1\u7406\u8282\u70b9\u7edf\u4e00\u6267\u884c\uff0c\u8fd9\u6837\u624d\u80fd\u81ea\u52a8\u5206\u53d1\u5230\u6570\u636e\u8282\u70b9\u53bb","title":"GP/MDB\u5c42\u9762\u5185\u5b58\u8bbe\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#pgbouncer","text":"\u51c6\u5907\u65e5\u5fd7\u548cpid\u76ee\u5f55 mkdir /var/log/pgbouncer chown mxadmin:mxadmin -R /var/log/pgbouncer mkdir /var/run/pgbouncer chown mxadmin:mxadmin -R /var/run/pgbouncer \u521b\u5efa\u8fde\u63a5\u6c60\u914d\u7f6e\u6587\u4ef6 #/etc/matrixdb/pguserlist.txt \u8fd9\u91cc\u7684\u5185\u5bb9\u6765\u81ea\u4e0epsql -c \"select usename,passwd from pg_shadow;\",\u67e5\u51fa\u7684\u7ed3\u679c\u7ed9\u503c\u90fd\u52a0\u4e0a\u53cc\u5f15\u53f7\u653e\u8fdb\u6765\u5373\u53ef\u3002 \"mxadmin\" \"md5d802636a5d23d0fd440e212213e94d92\"","title":"pgbouncer\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#etcmatrixdbpgbouncerini","text":"[databases] lhcz1 = host=127.0.0.1 port=5433 lhcz = host=127.0.0.1 port=5434 [pgbouncer] logfile = /var/log/pgbouncer/pgbouncer.log log_connections=0 log_disconnections=0 log_stats=0 pidfile = /var/run/pgbouncer/pgbouncer.pid listen_addr = 0.0.0.0 listen_port = 5432 auth_type = hba auth_file = /etc/matrixdb/pguserlist.txt auth_hba_file = /etc/matrixdb/pg_hba.conf admin_users = mxadmin,hjdev stats_users = stats pool_mode = transaction server_reset_query = DISCARD ALL max_client_conn = 800 default_pool_size = 100 ignore_startup_parameters = extra_float_digits,geqo","title":"/etc/matrixdb/pgbouncer.ini"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#etcmatrixdbpg_hbaconf","text":"local all all trust host all all 0.0.0.0/0 md5 + \u4f7f\u8fde\u63a5\u6c60\u4fdd\u6301\u81ea\u542f\u52a8","title":"/etc/matrixdb/pg_hba.conf"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#etcmatrixdbsupervisorpgbouncerconf","text":"[program:pgbouncer] process_name=pgbouncer command=/usr/local/matrixdb/bin/pgbouncer /etc/matrixdb/pgbouncer.ini -u mxadmin directory=/etc/matrixdb autostart=true autorestart=unexpected exitcodes=0 process_num=1 numprocs_start=0 stopsignal=TERM stopwaitsecs=5 stopasgroup=true killasgroup=true stdout_logfile=%(ENV_MXLOGDIR)s/pgbouncer.log stdout_logfile_maxbytes=50MB stdout_logfile_backups=10 redirect_stderr=true","title":"\u65b0\u589e\u6587\u4ef6/etc/matrixdb/supervisor.pgbouncer.conf"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#etcmatrixdbsupervisorconf-includefiles","text":"supervisor.pgbouncer.conf + \u67e5\u770b\u4e0e\u91cd\u542f ```bash /usr/local/matrixdb/bin/supervisord -c /etc/matrixdb/supervisor.conf ctl -s http://localhost:4617 -u matrixdb -P changeme status /usr/local/matrixdb/bin/supervisord -c /etc/matrixdb/supervisor.conf ctl -s http://localhost:4617 -u matrixdb -P changeme restart pgbouncer","title":"\u4fee\u6539/etc/matrixdb/supervisor.conf \u5728\u6700\u540einclude\u6bb5\u7684files\u914d\u7f6e\u9879\u7684\u503c\u540e\u8ffd\u52a0\u4e0b\u9762\u5185\u5bb9\uff08\u6ce8\u610f\u548c\u539f\u6709\u5185\u5bb9\u4e4b\u95f4\u6709\u4e2a\u7a7a\u683c\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#_1","text":"","title":"\u7a0b\u5e8f\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#dataxjdbcurl6543","text":"prepareThreshold=0","title":"datax\u6216\u8005\u6709jdbcurl\u53ef\u4ee5\u914d\u7f6e\u7684\u7a0b\u5e8f\u5728\u53c2\u6570\u91cc\u589e\u52a0\u4e0b\u9762\u8fd9\u4e2a\u8bbe\u7f6e\u9879,\u7aef\u53e3\u4f7f\u7528\u8fde\u63a5\u6c60\u76846543\u7aef\u53e3"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#ftp2gp6543","text":"","title":"\u5176\u4ed6\u7c7b\u578b\u7a0b\u5e8f\u6bd4\u5982ftp2gp\u7c7b\u578b\u7684\u5355\u7eaf\u4fee\u6539\u7aef\u53e3\u4e3a6543\u5373\u53ef\u3002"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#_2","text":"","title":"\u6392\u67e5\u5c1a\u672a\u901a\u8fc7\u8fde\u63a5\u6c60\u94fe\u63a5\u7684\u5e94\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/GP_MDB%E9%9B%86%E7%BE%A4%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE/#psql5432","text":"select client_addr,client_port,usename,application_name,state,pid from pg_stat_activity ; #\u53ef\u4ee5\u67e5\u8be2\u51fa\u5ba2\u6237\u7aef\u94fe\u63a5\u7684ip\u548c\u7aef\u53e3\u6bd4\u5982ip\u5c3e\u53f7123\u7aef\u53e31234\u53ef\u4ee5ssh\u94fe\u63a5\u8fc7\u53bbnetstat -anop|grep 1234\u627e\u5230\u5bf9\u5e94\u7684\u8fdb\u7a0b\u53f7\uff0c\u518d\u901a\u8fc7ps -aux|grep \u8fdb\u7a0b\u53f7\u627e\u5230\u4f7f\u54ea\u4e2a\u7a0b\u5e8f\uff0c\u4fee\u6539\u5176\u914d\u7f6e\u91cd\u542f\u5373\u53ef\u3002","title":"\u547d\u4ee4\u884c\u7684psql\u65e0\u9700\u4fee\u6539\uff0c\u4f9d\u7136\u901a\u8fc7\u539f\u6765\u76845432\u94fe\u63a5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Lcpg%E5%86%85%E9%83%A8%E5%8F%91%E8%A1%8C%E7%89%88%E4%BD%BF%E7%94%A8/","text":"Lcpg\u5185\u90e8\u53d1\u884c\u7248\u4f7f\u7528 \u521d\u59cb\u5316 mkdir /data/pg14 tar zxvf pg14py.tgz -C /data/pg14 cd /data/pg14 rpm -ivh py/*.rpm pip3 install --no-index -f py/pip fabric simplejson sh dev initenv.sh su postgres -c \"initdb --no-locale -E UTF_8 --data-checksums -D data\" sed -i 's/port/#port/g' data/postgresql.conf sed -i 's/listen_addresses/#listen_addresses/g' data/postgresql.conf echo 'port=5433' >> data/postgresql.conf echo \"listen_addresses='*'\" >> data/postgresql.conf echo \"max_wal_senders=5\" >> data/postgresql.conf echo \"wal_level=hot_standby\" >> data/postgresql.conf echo \"logging_collector=on\" >> data/postgresql.conf echo \"host replication all mdw1 trust\" >> data/pg_hba.conf #\u5907\u8282\u70b9 mkdir /data/pg14/data -p chown postgres:postgres -R /data/pg14 su postgres -c \"pg_basebackup -h mdw -U postgres -F p -P -R -D /data/pg14/data -p 5433 -l /data/pg14/standbylog\" echo \"primary_conninfo='application_name=mdw1 user=postgres host=mdw port=5433 sslmode=disable sslcompression=1 target_session_attrs=any'\" >> data/postgresql.conf su postgres -c \"touch data/standby.signal\" chmod 700 -R data su postgres -c \"pg_ctl start -D data\" centos7\u6784\u5efa yum install --downloadonly --downloaddir ./ citus110_14 postgresql14-contrib nano pgbouncer wal2json_14 topn_14 pg_cron_14 pg_repack_14 timescaledb_14 sequential_uuids_14 postgresql_faker_14 pglogical_14 pgaudit16_14 pg_top_14 pg-auto-failover16_14 pg_auto_failover_14 mysql_fdw_14 mongo_fdw_14 hll_14 hdfs_fdw_14 pgpool-II pgpoolAdmin pgpool-II-pg14-extensions pgadmin4-web barman barman-cli python36-sh createrepo ed createrepo . cat <<EOF > /etc/yum.repos.d/citus.repo [citusrep] name=citusrep baseurl=http://localhost:6789 enabled=1 gpgcheck=0 EOF yum install --disablerepo=* --enablerepo=citusrep \u5b89\u88c5 #\u89e3\u538b nohup python2 -m SimpleHTTPServer 6789 & cat <<EOF > /etc/yum.repos.d/citus.repo [citusrep] name=citusrep baseurl=http://localhost:6789 enabled=1 gpgcheck=0 EOF yum makecache --disablerepo=* --enablerepo=citusrep yum install --disablerepo=* --enablerepo=citusrep -y citus110_14 postgresql14-contrib nano pgbouncer wal2json_14 topn_14 pg_cron_14 pg_repack_14 timescaledb_14 sequential_uuids_14 postgresql_faker_14 pglogical_14 pgaudit16_14 pg_top_14 pg_auto_failover_14 mysql_fdw_14 mongo_fdw_14 hll_14 hdfs_fdw_14 pgpool-II pgpoolAdmin ed pgpool-II-pg14-extensions pgadmin4-web barman barman-cli python36-sh echo \"export PATH=$PATH:/usr/pgsql-14/bin\" >> /var/lib/pgsql/.bash_profile echo \"export PATH=$PATH:/usr/pgsql-14/bin\" >> ~/.bash_profile mkdir /data/pgdata chown postgres:postgres -R /data/pgdata su - postgres pg_auto_failover \u7248\u672c\u9ad8\u53ef\u7528 \u73af\u5883\u51c6\u5907 \u6240\u6709\u8282\u70b9\u914d\u7f6entp \u6240\u6709\u8282\u70b9\u5173\u95edselinux\u5e76\u91cd\u542f \u521d\u59cb\u5316 #\u4ee5\u4e0b\u547d\u4ee4\u5c06\u8fd0\u884c\u4e00\u4e2a\u76d1\u63a7\u8282\u70b9\u548c\u4e00\u4e3b\u4e00\u4ece\u7684\u96c6\u7fa4\uff0c\u5ba2\u6237\u7aef\u8bbf\u95ee\u65f6\u5019\u901a\u8fc75001\u548c5002\u8bbf\u95ee\u5176\u4e2d\u4e00\u4e2a\u662f\u53ef\u8bfb\u5199\u53e6\u4e00\u4e2a\u662f\u53ea\u8bfb\u3002 #root\u6267\u884c setsebool 0 #postgres\u6267\u884c export PGDATA=./monitor export PGPORT=5000 pg_autoctl create monitor --pgdata /data/pgdata/monitor --pgport 5001 --hostname mdw --auth trust --ssl-self-signed export PGDATA=./node_1 export PGPORT=5001 pg_autoctl create postgres --hostname localhost --auth trust --ssl-self-signed --monitor 'postgres://autoctl_node@localhost:5000/pg_auto_failover?sslmode=require' export PGDATA=./node_2 export PGPORT=5002 pg_autoctl create postgres --hostname localhost --auth trust --ssl-self-signed --monitor 'postgres://autoctl_node@localhost:5000/pg_auto_failover?sslmode=require' #root\u6267\u884c pg_autoctl -q show systemd --pgdata /data/pgdata/monitor > /usr/lib/systemd/system/pgmonitor.service pg_autoctl -q show systemd --pgdata /data/pgdata/node_1 > /usr/lib/systemd/system/pgnode1.service pg_autoctl -q show systemd --pgdata /data/pgdata/node_2 > /usr/lib/systemd/system/pgnode2.service systemctl daemon-reload systemctl enable pgmonitor systemctl enable pgnode1 systemctl enable pgnode2 systemctl start pgmonitor systemctl start pgnode1 systemctl start pgnode2 pgpoolII\u7248\u672c\u9ad8\u53ef\u7528 \u73af\u5883\u51c6\u5907 \u6240\u6709\u8282\u70b9\u914d\u7f6entp \u6240\u6709\u8282\u70b9\u5173\u95edselinux\u5e76\u91cd\u542f \u521d\u59cb\u5316 #root\u6267\u884c setsebool 0 #postgres\u6267\u884c initdb -E utf-8 -D node1 #\u4fee\u6539pg_hba\u8ba9\u4ece\u8282\u70b9\u53ef\u4ee5\u514d\u5bc6\u8bbf\u95ee echo \"host replication all 0.0.0.0/0 trust\" >> node1/pg_hba.conf echo \"host all all 0.0.0.0/0 md5\" >> node1/pg_hba.conf #\u4fee\u6539\u76d1\u542c\u5730\u5740 cat <<EOF >> node1/postgresql.conf listen_addresses = '*' port = 5433 max_wal_senders=5 # \u5927\u4e8e\u5907\u5e93\u6570\u91cf wal_level=hot_standby EOF #\u5728\u5176\u4ed6\u8282\u70b9\u521d\u59cb\u5316\u5907\u5e93 pg_basebackup -h mdw -U postgres -F p -P -R -D /data/pgdata/node2 -p 5433 echo \"primary_conninfo='application_name=mdw1 user=postgres host=mdw port=11002 sslmode=disable sslcompression=1 target_session_attrs=any'\" >> node2/postgresql.conf touch node2/standby.signal pg_ctl start -D node2 #\u4e3b\u8282\u70b9postgres\u7528\u6237\u67e5\u770b\u72b6\u6001 psql -p 5433 -c 'select * from pg_stat_replication;' #\u914d\u7f6epgpool\u8d1f\u8f7d\u5747\u8861 mkdir {etc,run,cache}","title":"Lcpg\u5185\u90e8\u53d1\u884c\u7248\u4f7f\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Lcpg%E5%86%85%E9%83%A8%E5%8F%91%E8%A1%8C%E7%89%88%E4%BD%BF%E7%94%A8/#lcpg","text":"","title":"Lcpg\u5185\u90e8\u53d1\u884c\u7248\u4f7f\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Lcpg%E5%86%85%E9%83%A8%E5%8F%91%E8%A1%8C%E7%89%88%E4%BD%BF%E7%94%A8/#_1","text":"mkdir /data/pg14 tar zxvf pg14py.tgz -C /data/pg14 cd /data/pg14 rpm -ivh py/*.rpm pip3 install --no-index -f py/pip fabric simplejson sh","title":"\u521d\u59cb\u5316"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Lcpg%E5%86%85%E9%83%A8%E5%8F%91%E8%A1%8C%E7%89%88%E4%BD%BF%E7%94%A8/#dev","text":"","title":"dev"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Lcpg%E5%86%85%E9%83%A8%E5%8F%91%E8%A1%8C%E7%89%88%E4%BD%BF%E7%94%A8/#initenvsh","text":"su postgres -c \"initdb --no-locale -E UTF_8 --data-checksums -D data\" sed -i 's/port/#port/g' data/postgresql.conf sed -i 's/listen_addresses/#listen_addresses/g' data/postgresql.conf echo 'port=5433' >> data/postgresql.conf echo \"listen_addresses='*'\" >> data/postgresql.conf echo \"max_wal_senders=5\" >> data/postgresql.conf echo \"wal_level=hot_standby\" >> data/postgresql.conf echo \"logging_collector=on\" >> data/postgresql.conf echo \"host replication all mdw1 trust\" >> data/pg_hba.conf #\u5907\u8282\u70b9 mkdir /data/pg14/data -p chown postgres:postgres -R /data/pg14 su postgres -c \"pg_basebackup -h mdw -U postgres -F p -P -R -D /data/pg14/data -p 5433 -l /data/pg14/standbylog\" echo \"primary_conninfo='application_name=mdw1 user=postgres host=mdw port=5433 sslmode=disable sslcompression=1 target_session_attrs=any'\" >> data/postgresql.conf su postgres -c \"touch data/standby.signal\" chmod 700 -R data su postgres -c \"pg_ctl start -D data\"","title":"initenv.sh"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Lcpg%E5%86%85%E9%83%A8%E5%8F%91%E8%A1%8C%E7%89%88%E4%BD%BF%E7%94%A8/#centos7","text":"yum install --downloadonly --downloaddir ./ citus110_14 postgresql14-contrib nano pgbouncer wal2json_14 topn_14 pg_cron_14 pg_repack_14 timescaledb_14 sequential_uuids_14 postgresql_faker_14 pglogical_14 pgaudit16_14 pg_top_14 pg-auto-failover16_14 pg_auto_failover_14 mysql_fdw_14 mongo_fdw_14 hll_14 hdfs_fdw_14 pgpool-II pgpoolAdmin pgpool-II-pg14-extensions pgadmin4-web barman barman-cli python36-sh createrepo ed createrepo . cat <<EOF > /etc/yum.repos.d/citus.repo [citusrep] name=citusrep baseurl=http://localhost:6789 enabled=1 gpgcheck=0 EOF yum install --disablerepo=* --enablerepo=citusrep \u5b89\u88c5 #\u89e3\u538b nohup python2 -m SimpleHTTPServer 6789 & cat <<EOF > /etc/yum.repos.d/citus.repo [citusrep] name=citusrep baseurl=http://localhost:6789 enabled=1 gpgcheck=0 EOF yum makecache --disablerepo=* --enablerepo=citusrep yum install --disablerepo=* --enablerepo=citusrep -y citus110_14 postgresql14-contrib nano pgbouncer wal2json_14 topn_14 pg_cron_14 pg_repack_14 timescaledb_14 sequential_uuids_14 postgresql_faker_14 pglogical_14 pgaudit16_14 pg_top_14 pg_auto_failover_14 mysql_fdw_14 mongo_fdw_14 hll_14 hdfs_fdw_14 pgpool-II pgpoolAdmin ed pgpool-II-pg14-extensions pgadmin4-web barman barman-cli python36-sh echo \"export PATH=$PATH:/usr/pgsql-14/bin\" >> /var/lib/pgsql/.bash_profile echo \"export PATH=$PATH:/usr/pgsql-14/bin\" >> ~/.bash_profile mkdir /data/pgdata chown postgres:postgres -R /data/pgdata su - postgres","title":"centos7\u6784\u5efa"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Lcpg%E5%86%85%E9%83%A8%E5%8F%91%E8%A1%8C%E7%89%88%E4%BD%BF%E7%94%A8/#pg_auto_failover","text":"\u73af\u5883\u51c6\u5907 \u6240\u6709\u8282\u70b9\u914d\u7f6entp \u6240\u6709\u8282\u70b9\u5173\u95edselinux\u5e76\u91cd\u542f \u521d\u59cb\u5316 #\u4ee5\u4e0b\u547d\u4ee4\u5c06\u8fd0\u884c\u4e00\u4e2a\u76d1\u63a7\u8282\u70b9\u548c\u4e00\u4e3b\u4e00\u4ece\u7684\u96c6\u7fa4\uff0c\u5ba2\u6237\u7aef\u8bbf\u95ee\u65f6\u5019\u901a\u8fc75001\u548c5002\u8bbf\u95ee\u5176\u4e2d\u4e00\u4e2a\u662f\u53ef\u8bfb\u5199\u53e6\u4e00\u4e2a\u662f\u53ea\u8bfb\u3002 #root\u6267\u884c setsebool 0 #postgres\u6267\u884c export PGDATA=./monitor export PGPORT=5000 pg_autoctl create monitor --pgdata /data/pgdata/monitor --pgport 5001 --hostname mdw --auth trust --ssl-self-signed export PGDATA=./node_1 export PGPORT=5001 pg_autoctl create postgres --hostname localhost --auth trust --ssl-self-signed --monitor 'postgres://autoctl_node@localhost:5000/pg_auto_failover?sslmode=require' export PGDATA=./node_2 export PGPORT=5002 pg_autoctl create postgres --hostname localhost --auth trust --ssl-self-signed --monitor 'postgres://autoctl_node@localhost:5000/pg_auto_failover?sslmode=require' #root\u6267\u884c pg_autoctl -q show systemd --pgdata /data/pgdata/monitor > /usr/lib/systemd/system/pgmonitor.service pg_autoctl -q show systemd --pgdata /data/pgdata/node_1 > /usr/lib/systemd/system/pgnode1.service pg_autoctl -q show systemd --pgdata /data/pgdata/node_2 > /usr/lib/systemd/system/pgnode2.service systemctl daemon-reload systemctl enable pgmonitor systemctl enable pgnode1 systemctl enable pgnode2 systemctl start pgmonitor systemctl start pgnode1 systemctl start pgnode2","title":"pg_auto_failover \u7248\u672c\u9ad8\u53ef\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Lcpg%E5%86%85%E9%83%A8%E5%8F%91%E8%A1%8C%E7%89%88%E4%BD%BF%E7%94%A8/#pgpoolii","text":"\u73af\u5883\u51c6\u5907 \u6240\u6709\u8282\u70b9\u914d\u7f6entp \u6240\u6709\u8282\u70b9\u5173\u95edselinux\u5e76\u91cd\u542f \u521d\u59cb\u5316 #root\u6267\u884c setsebool 0 #postgres\u6267\u884c initdb -E utf-8 -D node1 #\u4fee\u6539pg_hba\u8ba9\u4ece\u8282\u70b9\u53ef\u4ee5\u514d\u5bc6\u8bbf\u95ee echo \"host replication all 0.0.0.0/0 trust\" >> node1/pg_hba.conf echo \"host all all 0.0.0.0/0 md5\" >> node1/pg_hba.conf #\u4fee\u6539\u76d1\u542c\u5730\u5740 cat <<EOF >> node1/postgresql.conf listen_addresses = '*' port = 5433 max_wal_senders=5 # \u5927\u4e8e\u5907\u5e93\u6570\u91cf wal_level=hot_standby EOF #\u5728\u5176\u4ed6\u8282\u70b9\u521d\u59cb\u5316\u5907\u5e93 pg_basebackup -h mdw -U postgres -F p -P -R -D /data/pgdata/node2 -p 5433 echo \"primary_conninfo='application_name=mdw1 user=postgres host=mdw port=11002 sslmode=disable sslcompression=1 target_session_attrs=any'\" >> node2/postgresql.conf touch node2/standby.signal pg_ctl start -D node2 #\u4e3b\u8282\u70b9postgres\u7528\u6237\u67e5\u770b\u72b6\u6001 psql -p 5433 -c 'select * from pg_stat_replication;' #\u914d\u7f6epgpool\u8d1f\u8f7d\u5747\u8861 mkdir {etc,run,cache}","title":"pgpoolII\u7248\u672c\u9ad8\u53ef\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/","text":"\u521b\u5efa\u5bb9\u5668 docker network create mdb rootpwd=`openssl rand -base64 16` echo $rootpwd #K0XwkqGwPH+2g4A8x/OueQ== #\u5982\u679c\u662f\u8de8\u4e3b\u673a\u90e8\u7f72\u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a--net host\u5373\u53ef\u4f7f\u7528\u4e3b\u673a\u7f51\u7edc\u65e0\u9700\u6620\u5c04\u7aef\u53e3 docker run -itd --name pridb -e MARIADB_ROOT_PASSWORD=\"K0XwkqGwPH+2g4A8x/OueQ==\" --net mdb --hostname pridb -v /data:/var/lib/mysql -p 3306:3306 mariadb:10.5 docker run -itd --name secdb -e MARIADB_ROOT_PASSWORD=\"K0XwkqGwPH+2g4A8x/OueQ==\" --net mdb --hostname secdb -v /data:/var/lib/mysql-p 3307:3306 mariadb:10.5 \u8bbe\u7f6e\u4e3b\u8282\u70b9 docker exec -it pridb bash cd /etc/mysql/mariadb.conf.d #\u53ef\u4ee5\u5728\u4e0b\u9762\u914d\u7f6e\u6587\u4ef6\u4e2d\u81ea\u5b9a\u4e49\u4fdd\u7559logbin\u7684\u65e5\u671f\uff0c\u4fdd\u7559\u7684\u957f\u4e86\u4f1a\u5360\u7528\u66f4\u591a\u78c1\u76d8\u7a7a\u95f4\uff0c\u77ed\u4e86\u4f1a\u5b58\u5728\u4ece\u8282\u70b9\u6389\u7ebf\u8d85\u8fc7N\u5929\u5c31\u65e0\u6cd5\u518d\u540c\u6b65\u7684\u60c5\u51b5\uff0c\u9700\u8981\u81ea\u884c\u9009\u62e9 cat > pri.cnf [mysqld] server-id = 1 log-bin = mysql-bin expire_logs_days=3 Ctrl+D exit docker restart pridb docker exec -it pridb bash mysql -uroot -p #\u67e5\u770b\u4e3b\u8282\u70b9\u72b6\u6001 show master status; #\u521b\u5efa\u4ece\u8282\u70b9\u590d\u5236\u8d26\u6237 CREATE USER 'sec'@'%' IDENTIFIED BY 'K0XwkqGwPH'; GRANT REPLICATION SLAVE ON *.* TO 'sec'@'%'; \u914d\u7f6e\u4ece\u8282\u70b9 docker exec -it secdb bash cd /etc/mysql/mariadb.conf.d cat > sec.cnf [mysqld] server-id=2 log-bin = mysql-bin expire_logs_days=3 #\u53ef\u9009\u53c2\u6570 read-only Ctrl+D exit docker restart secdb docker exec -it pridb bash mysql -uroot -p #\u521b\u5efa\u8d26\u6237 CREATE USER 'sec'@'%' IDENTIFIED BY 'K0XwkqGwPH'; GRANT REPLICATION SLAVE ON *.* TO 'sec'@'%'; #\u4e0b\u9762\u7684\u503c\u901a\u8fc7\u5728\u4e3b\u8282\u70b9\u4e2d\u7684show master status\u83b7\u5f97 CHANGE MASTER TO MASTER_HOST='pridb', MASTER_USER='sec', MASTER_PASSWORD='K0XwkqGwPH', MASTER_LOG_FILE='mysqld-bin.000001', MASTER_LOG_POS=646; start slave; show slave status; \u6d4b\u8bd5 --\u5728\u4e3b\u8282\u70b9\u6267\u884c create database testdb; use testdb; create table mytest(id int,txt varchar(255)); insert into mytest values(1,'111'); --\u5728\u4ece\u8282\u70b9\u6267\u884c show databases; use testdb; select * from mytest; --\u5373\u53ef\u770b\u5230testdb\u4e2d\u7684mytest\u8868\u4e2d\u7684\u6570\u636e \u4e3b\u8282\u70b9\u6545\u969c\u63d0\u5347\u4ece\u8282\u70b9\u4e3a\u4e3b\u8282\u70b9 docker stop pridb docker exec -it secdb bash mysql -uroot -p stop slave; reset slave all; show slave status; #\u6ca1\u6709\u4ece\u8282\u70b9\u7684\u72b6\u6001\u6570\u636e\u4e86 #\u5982\u679c\u4e4b\u524d\u6709\u914d\u7f6e\u4ece\u8282\u70b9\u4e3a\u53ea\u8bfb\u7684\u8bdd\u9700\u8981\u53bb\u9664\u53ea\u8bfb\u9009\u9879 exit #\u5b8c\u6210\uff0c\u6b64\u65f6\u53ef\u4ee5\u5bf9\u4ece\u8282\u70b9\u8fdb\u884c\u6b63\u5e38\u4f7f\u7528\u4e86\uff08\u6b63\u5e38\u60c5\u51b5\u4e0d\u5efa\u8bae\u76f4\u63a5\u4f7f\u7528\u4ece\u8282\u70b9\uff0c\u56e0\u4e3a\u4ece\u8282\u70b9\u505a\u7684\u53d8\u66f4\u4e0d\u4f1a\u88ab\u540c\u6b65\u5230\u4e3b\u8282\u70b9\uff0c\u9020\u6210\u6570\u636e\u5dee\u5f02\uff09 \u8bbe\u7f6e\u534a\u540c\u6b65\uff08semi-synchronous Replication\uff09 \u89e3\u51b3\u4ece\u8282\u70b9\u6570\u636e\u5ef6\u8fdf\u95ee\u9898 #\u4e3b\u8282\u70b9\u914d\u7f6e #\u6267\u884csql SET GLOBAL rpl_semi_sync_master_enabled=on; #\u4ece\u8282\u70b9\u914d\u7f6e #\u6267\u884csql set global rpl_semi_sync_slave_enabled=on; #\u91cd\u542fIO\u7ebf\u7a0b STOP SLAVE IO_THREAD; START SLAVE IO_THREAD; #\u67e5\u770b\u72b6\u6001 show variables like 'rpl%';","title":"Mariadb\u4e3b\u4ece\u590d\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/#_1","text":"docker network create mdb rootpwd=`openssl rand -base64 16` echo $rootpwd #K0XwkqGwPH+2g4A8x/OueQ== #\u5982\u679c\u662f\u8de8\u4e3b\u673a\u90e8\u7f72\u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a--net host\u5373\u53ef\u4f7f\u7528\u4e3b\u673a\u7f51\u7edc\u65e0\u9700\u6620\u5c04\u7aef\u53e3 docker run -itd --name pridb -e MARIADB_ROOT_PASSWORD=\"K0XwkqGwPH+2g4A8x/OueQ==\" --net mdb --hostname pridb -v /data:/var/lib/mysql -p 3306:3306 mariadb:10.5 docker run -itd --name secdb -e MARIADB_ROOT_PASSWORD=\"K0XwkqGwPH+2g4A8x/OueQ==\" --net mdb --hostname secdb -v /data:/var/lib/mysql-p 3307:3306 mariadb:10.5","title":"\u521b\u5efa\u5bb9\u5668"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/#_2","text":"docker exec -it pridb bash cd /etc/mysql/mariadb.conf.d #\u53ef\u4ee5\u5728\u4e0b\u9762\u914d\u7f6e\u6587\u4ef6\u4e2d\u81ea\u5b9a\u4e49\u4fdd\u7559logbin\u7684\u65e5\u671f\uff0c\u4fdd\u7559\u7684\u957f\u4e86\u4f1a\u5360\u7528\u66f4\u591a\u78c1\u76d8\u7a7a\u95f4\uff0c\u77ed\u4e86\u4f1a\u5b58\u5728\u4ece\u8282\u70b9\u6389\u7ebf\u8d85\u8fc7N\u5929\u5c31\u65e0\u6cd5\u518d\u540c\u6b65\u7684\u60c5\u51b5\uff0c\u9700\u8981\u81ea\u884c\u9009\u62e9 cat > pri.cnf [mysqld] server-id = 1 log-bin = mysql-bin expire_logs_days=3 Ctrl+D exit docker restart pridb docker exec -it pridb bash mysql -uroot -p #\u67e5\u770b\u4e3b\u8282\u70b9\u72b6\u6001 show master status; #\u521b\u5efa\u4ece\u8282\u70b9\u590d\u5236\u8d26\u6237 CREATE USER 'sec'@'%' IDENTIFIED BY 'K0XwkqGwPH'; GRANT REPLICATION SLAVE ON *.* TO 'sec'@'%';","title":"\u8bbe\u7f6e\u4e3b\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/#_3","text":"docker exec -it secdb bash cd /etc/mysql/mariadb.conf.d cat > sec.cnf [mysqld] server-id=2 log-bin = mysql-bin expire_logs_days=3 #\u53ef\u9009\u53c2\u6570 read-only Ctrl+D exit docker restart secdb docker exec -it pridb bash mysql -uroot -p #\u521b\u5efa\u8d26\u6237 CREATE USER 'sec'@'%' IDENTIFIED BY 'K0XwkqGwPH'; GRANT REPLICATION SLAVE ON *.* TO 'sec'@'%'; #\u4e0b\u9762\u7684\u503c\u901a\u8fc7\u5728\u4e3b\u8282\u70b9\u4e2d\u7684show master status\u83b7\u5f97 CHANGE MASTER TO MASTER_HOST='pridb', MASTER_USER='sec', MASTER_PASSWORD='K0XwkqGwPH', MASTER_LOG_FILE='mysqld-bin.000001', MASTER_LOG_POS=646; start slave; show slave status;","title":"\u914d\u7f6e\u4ece\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/#_4","text":"--\u5728\u4e3b\u8282\u70b9\u6267\u884c create database testdb; use testdb; create table mytest(id int,txt varchar(255)); insert into mytest values(1,'111'); --\u5728\u4ece\u8282\u70b9\u6267\u884c show databases; use testdb; select * from mytest; --\u5373\u53ef\u770b\u5230testdb\u4e2d\u7684mytest\u8868\u4e2d\u7684\u6570\u636e","title":"\u6d4b\u8bd5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/#_5","text":"docker stop pridb docker exec -it secdb bash mysql -uroot -p stop slave; reset slave all; show slave status; #\u6ca1\u6709\u4ece\u8282\u70b9\u7684\u72b6\u6001\u6570\u636e\u4e86 #\u5982\u679c\u4e4b\u524d\u6709\u914d\u7f6e\u4ece\u8282\u70b9\u4e3a\u53ea\u8bfb\u7684\u8bdd\u9700\u8981\u53bb\u9664\u53ea\u8bfb\u9009\u9879 exit #\u5b8c\u6210\uff0c\u6b64\u65f6\u53ef\u4ee5\u5bf9\u4ece\u8282\u70b9\u8fdb\u884c\u6b63\u5e38\u4f7f\u7528\u4e86\uff08\u6b63\u5e38\u60c5\u51b5\u4e0d\u5efa\u8bae\u76f4\u63a5\u4f7f\u7528\u4ece\u8282\u70b9\uff0c\u56e0\u4e3a\u4ece\u8282\u70b9\u505a\u7684\u53d8\u66f4\u4e0d\u4f1a\u88ab\u540c\u6b65\u5230\u4e3b\u8282\u70b9\uff0c\u9020\u6210\u6570\u636e\u5dee\u5f02\uff09","title":"\u4e3b\u8282\u70b9\u6545\u969c\u63d0\u5347\u4ece\u8282\u70b9\u4e3a\u4e3b\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/#semi-synchronous-replication","text":"\u89e3\u51b3\u4ece\u8282\u70b9\u6570\u636e\u5ef6\u8fdf\u95ee\u9898 #\u4e3b\u8282\u70b9\u914d\u7f6e #\u6267\u884csql SET GLOBAL rpl_semi_sync_master_enabled=on; #\u4ece\u8282\u70b9\u914d\u7f6e #\u6267\u884csql set global rpl_semi_sync_slave_enabled=on; #\u91cd\u542fIO\u7ebf\u7a0b STOP SLAVE IO_THREAD; START SLAVE IO_THREAD; #\u67e5\u770b\u72b6\u6001 show variables like 'rpl%';","title":"\u8bbe\u7f6e\u534a\u540c\u6b65\uff08semi-synchronous Replication\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E5%A4%9A%E4%B8%BB%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/","text":"\u5355\u673a\uff08swarm\u96c6\u7fa4\uff09\u90e8\u7f72 \u6b64\u65b9\u6cd5\u90e8\u7f72\u7684\u96c6\u7fa4\u6ca1\u6709\u8bbe\u7f6e\u6301\u4e45\u5377\uff0c\u53ef\u4ee5\u4f7f\u7528nfs\u4e4b\u7c7b\u7684\u65b9\u5f0f\u8bbe\u7f6e\u7edf\u4e00\u7684\u5b58\u50a8\u6216\u8005\u91c7\u7528\u53e6\u5916\u4e00\u79cd\u5206\u5e03\u5f0f\u90e8\u7f72\u7684\u65b9\u5f0f\u6765\u8fdb\u884c image=\"toughiq/mariadb-cluster\" rootpwd=`openssl rand -base64 16` echo $rootpwd /uDCWlDUdyVAPsFM8LqC7A== docker network create mydbnet #\u521d\u59cb\u5316\u96c6\u7fa4 clustername=dbcluster docker service create --name $clustername \\ --network mydbnet \\ --replicas=1 \\ -e MYSQL_ROOT_PASSWORD=$rootpwd \\ --env DB_SERVICE_NAME=$clustername \\ toughiq/mariadb-cluster #\u62c9\u4f38\u96c6\u7fa4(\u6570\u91cf\u6700\u5c113\u4e2a\uff0c\u6700\u597d\u662f\u5947\u6570\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a2\u7684\u8bdd\u5176\u4e2d\u4e00\u4e2a\u6389\u7ebf\u4f1a\u5bfc\u81f4\u96c6\u7fa4\u65e0\u6cd5\u4f7f\u7528\uff09 docker service scale $clustername=3 \u5206\u5e03\u5f0f\u90e8\u7f72 \u4e0d\u4f9d\u8d56swarm\u7f51\u7edc\uff0c\u76f4\u63a5\u4f7f\u7528\u4e3b\u673a\u7f51\u7edc \u7ed3\u5408seaweedfs\u7684docker\u5b58\u50a8\u63d2\u4ef6\u53c2\u8003 \"seaweedfs\u4f5c\u4e3a\u5206\u5e03\u5f0f\u5b58\u50a8\u63d2\u4ef6\" #\u5b89\u88c5\u5e76\u914d\u7f6e\u597dseaweedfs\u5b58\u50a8\u63d2\u4ef6 #\u521b\u5efa\u6301\u4e45\u5316\u5b58\u50a8\u5377 docker volume create -d seaweedfs mdb1 #\u521d\u59cb\u5316\u96c6\u7fa4 image=\"toughiq/mariadb-cluster\" rootpwd=`openssl rand -base64 16` echo $rootpwd #hgvMgQRJGEyeYQ3oYWc07g== nodename=mdb1 docker run -itd --name $nodename --hostname $nodename --restart=always -p 3306:3306 $image","title":"Mariadb\u591a\u4e3b\u96c6\u7fa4\u642d\u5efa"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E5%A4%9A%E4%B8%BB%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/#swarm","text":"\u6b64\u65b9\u6cd5\u90e8\u7f72\u7684\u96c6\u7fa4\u6ca1\u6709\u8bbe\u7f6e\u6301\u4e45\u5377\uff0c\u53ef\u4ee5\u4f7f\u7528nfs\u4e4b\u7c7b\u7684\u65b9\u5f0f\u8bbe\u7f6e\u7edf\u4e00\u7684\u5b58\u50a8\u6216\u8005\u91c7\u7528\u53e6\u5916\u4e00\u79cd\u5206\u5e03\u5f0f\u90e8\u7f72\u7684\u65b9\u5f0f\u6765\u8fdb\u884c image=\"toughiq/mariadb-cluster\" rootpwd=`openssl rand -base64 16` echo $rootpwd /uDCWlDUdyVAPsFM8LqC7A== docker network create mydbnet #\u521d\u59cb\u5316\u96c6\u7fa4 clustername=dbcluster docker service create --name $clustername \\ --network mydbnet \\ --replicas=1 \\ -e MYSQL_ROOT_PASSWORD=$rootpwd \\ --env DB_SERVICE_NAME=$clustername \\ toughiq/mariadb-cluster #\u62c9\u4f38\u96c6\u7fa4(\u6570\u91cf\u6700\u5c113\u4e2a\uff0c\u6700\u597d\u662f\u5947\u6570\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a2\u7684\u8bdd\u5176\u4e2d\u4e00\u4e2a\u6389\u7ebf\u4f1a\u5bfc\u81f4\u96c6\u7fa4\u65e0\u6cd5\u4f7f\u7528\uff09 docker service scale $clustername=3","title":"\u5355\u673a\uff08swarm\u96c6\u7fa4\uff09\u90e8\u7f72"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mariadb%E5%A4%9A%E4%B8%BB%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/#_1","text":"\u4e0d\u4f9d\u8d56swarm\u7f51\u7edc\uff0c\u76f4\u63a5\u4f7f\u7528\u4e3b\u673a\u7f51\u7edc \u7ed3\u5408seaweedfs\u7684docker\u5b58\u50a8\u63d2\u4ef6\u53c2\u8003 \"seaweedfs\u4f5c\u4e3a\u5206\u5e03\u5f0f\u5b58\u50a8\u63d2\u4ef6\" #\u5b89\u88c5\u5e76\u914d\u7f6e\u597dseaweedfs\u5b58\u50a8\u63d2\u4ef6 #\u521b\u5efa\u6301\u4e45\u5316\u5b58\u50a8\u5377 docker volume create -d seaweedfs mdb1 #\u521d\u59cb\u5316\u96c6\u7fa4 image=\"toughiq/mariadb-cluster\" rootpwd=`openssl rand -base64 16` echo $rootpwd #hgvMgQRJGEyeYQ3oYWc07g== nodename=mdb1 docker run -itd --name $nodename --hostname $nodename --restart=always -p 3306:3306 $image","title":"\u5206\u5e03\u5f0f\u90e8\u7f72"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D/","text":"mysql\u6545\u969c\u6062\u590d \u5f53mysql/mariadb\u906d\u9047\u610f\u5916\u5bfc\u81f4\u635f\u574f\uff0c\u6b63\u5e38\u6a21\u5f0f\u65e0\u6cd5\u542f\u52a8\u65f6\u5019\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u5c1d\u8bd5\u4fee\u590d\uff1b \u5728mysql.cnf\u4e2d\u7684mysqld\u8282\u70b9\u4e0b\u589e\u52a0\u914d\u7f6e\u9879 innodb_force_recovery=x \u5176\u4e2dx\u5206\u522b\u5c1d\u8bd51~6\u8bbe\u7f6e\u597d\u540e\u5c1d\u8bd5\u542f\u52a8\u6570\u636e\u5e93\uff0c\u4e00\u822c\u81f3\u5c11\u6709\u4e00\u4e2a\u6a21\u5f0f\u80fd\u542f\u52a8\u6210\u529f\uff0c\u542f\u52a8\u6210\u529f\u540e\u6b64\u65f6\u6570\u636e\u5e93\u51e0\u4e4e\u5904\u4e8e\u53ea\u8bfb\u6a21\u5f0f\uff0c\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528\uff0c\u9700\u8981\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u6545\u969c\u7684\u6392\u9664\u6216\u8005\u5bfc\u51fa\u6570\u636e\u91cd\u5efa\u3002 \u68c0\u67e5\u6240\u6709\u8868\u770b\u770b\u54ea\u4e2a\u635f\u574f\u4e86\uff0c\u5982\u679c\u635f\u574f\u7684\u8f83\u5c11\u53ef\u4ee5\u5355\u72ec\u5bf9\u6307\u5b9a\u7684\u8868\u8fdb\u884c\u5bfc\u51fa->\u91cd\u5efa->\u5bfc\u5165\u64cd\u4f5c\uff1b\u5148\u7528 show tables \u663e\u793a\u6240\u6709\u8868\uff0c\u7136\u540e\u7528\u6587\u672c\u7f16\u8f91\u5668\u6574\u7406\u4e0b\u6279\u91cf\u6dfb\u52a0\u4e0a\u524d\u7f00,\u5f62\u6210\u7c7b\u4f3c check table tablename; \u7684\u8bed\u53e5\u53bb\u6267\u884c\uff0c\u4ee5\u68c0\u67e5\u51fa\u9519\u7684\u6570\u636e\u8868\u3002","title":"mysql\u6545\u969c\u6062\u590d"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D/#mysql","text":"\u5f53mysql/mariadb\u906d\u9047\u610f\u5916\u5bfc\u81f4\u635f\u574f\uff0c\u6b63\u5e38\u6a21\u5f0f\u65e0\u6cd5\u542f\u52a8\u65f6\u5019\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u5c1d\u8bd5\u4fee\u590d\uff1b \u5728mysql.cnf\u4e2d\u7684mysqld\u8282\u70b9\u4e0b\u589e\u52a0\u914d\u7f6e\u9879 innodb_force_recovery=x \u5176\u4e2dx\u5206\u522b\u5c1d\u8bd51~6\u8bbe\u7f6e\u597d\u540e\u5c1d\u8bd5\u542f\u52a8\u6570\u636e\u5e93\uff0c\u4e00\u822c\u81f3\u5c11\u6709\u4e00\u4e2a\u6a21\u5f0f\u80fd\u542f\u52a8\u6210\u529f\uff0c\u542f\u52a8\u6210\u529f\u540e\u6b64\u65f6\u6570\u636e\u5e93\u51e0\u4e4e\u5904\u4e8e\u53ea\u8bfb\u6a21\u5f0f\uff0c\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528\uff0c\u9700\u8981\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u6545\u969c\u7684\u6392\u9664\u6216\u8005\u5bfc\u51fa\u6570\u636e\u91cd\u5efa\u3002 \u68c0\u67e5\u6240\u6709\u8868\u770b\u770b\u54ea\u4e2a\u635f\u574f\u4e86\uff0c\u5982\u679c\u635f\u574f\u7684\u8f83\u5c11\u53ef\u4ee5\u5355\u72ec\u5bf9\u6307\u5b9a\u7684\u8868\u8fdb\u884c\u5bfc\u51fa->\u91cd\u5efa->\u5bfc\u5165\u64cd\u4f5c\uff1b\u5148\u7528 show tables \u663e\u793a\u6240\u6709\u8868\uff0c\u7136\u540e\u7528\u6587\u672c\u7f16\u8f91\u5668\u6574\u7406\u4e0b\u6279\u91cf\u6dfb\u52a0\u4e0a\u524d\u7f00,\u5f62\u6210\u7c7b\u4f3c check table tablename; \u7684\u8bed\u53e5\u53bb\u6267\u884c\uff0c\u4ee5\u68c0\u67e5\u51fa\u9519\u7684\u6570\u636e\u8868\u3002","title":"mysql\u6545\u969c\u6062\u590d"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/","text":"\u5173\u7cfb\u56fe\u8c31\u6280\u672f\u6f14\u8fdb \u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6241\u5e73\u5316\u5b58\u50a8+sql\u67e5\u8be2 \u4f18\u70b9\uff1a\u5b9e\u73b0\u7b80\u5355\u3001\u65e0\u989d\u5916\u5b66\u4e60\u6210\u672c\u3002 \u7f3a\u70b9\uff1a\u591a\u7ea7\u5173\u8054\u6570\u636e\u67e5\u8be2\u9ebb\u70e6\uff0c\u4e14\u53d7\u9650\u4e8e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8bbe\u8ba1\u539f\u7406\uff0c\u5bf9\u56fe\u6570\u636e\u6ca1\u6709\u4e13\u95e8\u7684\u4f18\u5316\uff0c\u5728\u67e5\u8be2\u591a\u7ea7\u5927\u91cf\u6570\u636e\u65f6\u6027\u80fd\u4e0d\u4f73\u3002 \u4e13\u7528\u7684\u56fe\u6570\u636e\u5e93\u4f8b\u5982neo4j \u4f18\u70b9\uff1a\u9488\u5bf9\u56fe\u8ba1\u7b97\u4e0e\u5b58\u50a8\u505a\u4e13\u95e8\u8bbe\u8ba1\u63d0\u9ad8\u5176\u6027\u80fd\uff0ccypher\u4e13\u7528\u67e5\u8be2\u8bed\u8a00\u8f83sql\u80fd\u66f4\u6e05\u695a\u7684\u8868\u8fbe\u56fe\u4e4b\u95f4\u7684\u5173\u7cfb\u3002 \u7f3a\u70b9\uff1a\u9700\u8981\u5b66\u4e60cypher\u67e5\u8be2\u8bed\u8a00\uff0c\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u4e5f\u4e0e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7565\u6709\u4e0d\u540c\u3002 \u5173\u7cfb\u56fe\u5b58\u50a8\u67e5\u8be2\u8ba1\u7b97\u89e3\u51b3\u65b9\u6848 \u901a\u8fc7Neo4j\u5b9e\u73b0\u4eba\u5458\u7684\u6279\u91cf\u521b\u5efa\uff0c\u66f4\u65b0\uff08\u521b\u5efa\u540e\u5408\u5e76\uff09\uff0c\u5220\u9664\uff0c\u591a\u7ea7\u5173\u7cfb\u67e5\u8be2\u7b49 \u793e\u533a\u7248\u642d\u5efa #\u4e3a\u4e86\u4fdd\u8bc1\u6027\u80fd\u4ee5\u53ca\u5927\u6570\u636e\u91cf\u64cd\u4f5c\u65f6\u5019\u4e0d\u5185\u5b58\u6ea2\u51fa\uff0c\u5728\u786e\u4fdd\u540c\u673a\u5668\u5176\u4ed6\u7ec4\u4ef6\u9700\u6c42\u7684\u60c5\u51b5\u4e0b\uff0c\u5c3d\u53ef\u80fd\u7ed9\u66f4\u591a\u7684\u53ef\u7528\u5185\u5b58 docker run -itd --name neo4j --restart=always -p 7474:7474 -p 7687:7687 -e=NEO4J_dbms_memory_pagecache_size=8G -e=NEO4J_dbms_memory_heap_initial__size=4G -e=NEO4J_dbms_memory_heap_max__size=32G -v /data/neo4j:/data neo4j:4.2.7 #\u4e0b\u8f7dapoc\u63d2\u4ef6\u4ee5\u63d0\u4f9b\u589e\u5f3a\u529f\u80fd\u652f\u6301\uff08\u6bd4\u5982\u5408\u5e76\u8282\u70b9\uff09\uff0c\u5730\u5740\uff1ahttps://github.com/neo4j-contrib/neo4j-apoc-procedures/releases \u7248\u672c\u53f7\u5982\u679c\u6ca1\u6709\u5b8c\u5168\u76f8\u540c\u7684\u9009\u62e9\u63a5\u8fd1\u7684\u4e5f\u53ef\u4ee5 cd /data/neo4j wget https://github.com/neo4j-contrib/neo4j-apoc-procedures/releases/download/4.2.0.4/apoc-4.2.0.4-all.jar #\u590d\u5236apoc*.jar\u5230\u5bb9\u5668\u4e2dneo4j\u76ee\u5f55\u7684plugins\u6587\u4ef6\u5939\u4e2d docker exec -it neo4j bash cp data/apoc-*.jar ./plugins/ #\u4fee\u6539conf/neo4j.conf\u914d\u7f6e\u6587\u4ef6\uff0c\u589e\u52a0\u5982\u4e0b\u4e24\u884c dbms.security.procedures.unrestricted=algo.* dbms.security.procedures.unrestricted=apoc.* #\u4fdd\u5b58\u540e\u91cd\u542f\u5bb9\u5668 docker restart neo4j \u4f7f\u7528 \u7d22\u5f15\u5efa\u7acb\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\uff0c\u4e00\u4e2a\u7d22\u5f15\u53ef\u4ee5\u5f88\u5927\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u5927\u89c4\u6a21\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6\u3002\uff08\u5728\u5bf9\u8282\u70b9\u6309\u7167name\u5c5e\u6027\u5efa\u7acb\u4e86\u7d22\u5f15\u4e4b\u540e\uff0c\u622a\u6b62\u6211\u5199\u8fd9\u7bc7blog\u7684\u65f6\u5019\uff0c\u6570\u636e\u91cf\u4e3a\u8282\u70b9600w+,\u5173\u7cfb1100w+\uff0c\u67e5\u8be2\u4e00\u4e2a\u8282\u70b9\u4ee5\u53ca\u76f8\u5173\u8054\u7684\u8282\u70b9\u5173\u7cfb\u6d88\u8017\u7684\u65f6\u95f4\u548c\u6570\u636e\u91cf\u5f88\u5c0f\u7684\u65f6\u5019\u51e0\u4e4e\u6ca1\u6709\u4ec0\u4e48\u5dee\u522b\uff0c\u57fa\u672c\u4e0a\u90fd\u7a33\u5b9a\u572816~20ms\u5de6\u53f3\u3002\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/a2497a33390f \uff09 \u4ee5\u4e0b\u6d89\u53ca\u6027\u80fd\u7684\u6d4b\u8bd5\u76f8\u5173\u7684\u673a\u5668\u914d\u7f6e\u5982\u4e0b:32G\u5185\u5b58 8\u6838\u5904\u7406\u5668 \u673a\u68b0\u786c\u76d8 \u6279\u91cf\u64cd\u4f5c\u6700\u4f73\u5b9e\u8df5 \u6279\u91cf\u521b\u5efa\u8282\u70b9\u91c7\u7528(\u7eaf\u65b0\u589e)\uff1a\u6279\u91cf\u521b\u5efa\u8282\u70b9\uff08\u6863\u6848\u8868\u8bfb\u53d6\uff09-\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u8282\u70b9\u91c7\u7528(\u65b0\u589e\u4ee5\u53ca\u5305\u542b\u66f4\u65b0)\uff1a\u901a\u8fc7\u8bc1\u4ef6\u53f7\u5408\u5e76\u65b9\u5f0f\u521b\u5efa-\u589e\u91cf\u66f4\u65b0\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u5173\u7cfb\u91c7\u7528\uff1a\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u5173\u7cfb\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f-\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u5173\u7cfb\uff08\u590d\u6742\u7c7b\u578b\uff09\u91c7\u7528\uff1a\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u65b9\u5f0f\u521b\u5efa\u4eba\u8f66\u5173\u7cfb \u6279\u91cf\u5408\u5e76\u5b9e\u4f53\u8282\u70b9\u91c7\u7528\uff1a\u6839\u636e\u8bc1\u4ef6\u53f7\u7801\u5408\u5e76\u8282\u70b9-cypher\u65b9\u5f0f(\u4f9d\u8d56apoc\u63d2\u4ef6) \u6279\u91cf\u5408\u5e76\u91cd\u590d\u5173\u7cfb\uff08\u4e3b\u8981\u7531\u5408\u5e76\u8282\u70b9\u4ea7\u751f\uff09\uff1a\u5408\u5e76\u91cd\u590d\u5173\u7cfb-cypher\u65b9\u5f0f\uff08\u4f9d\u8d56apoc\u63d2\u4ef6\uff09 \u6279\u91cf\u521b\u5efa\u8282\u70b9 #python dependson:pip install py2neo from py2neo import Graph from py2neo.bulk import create_nodes g = Graph(connectionInfoParam...) keys = [\"name\", \"age\"] data = [ [\"Alice\", 33], [\"Bob\", 44], [\"Carol\", 55], ] create_nodes(g.auto(), data, labels={\"Person\"}, keys=keys) g.nodes.match(\"Person\").count() \u6279\u91cf\u521b\u5efa\u8282\u70b9\uff08\u6863\u6848\u8868\u8bfb\u53d6\uff09-\u7eaf\u65b0\u589e\u63a8\u8350 \u5199\u51651\u4e07\u6761\u8017\u65f67\u79d2\uff0c\u5199\u5165\u64cd\u4f5c\u65f6\uff0c\u6d4b\u8bd5\u673a\u5668python\u548cjava\u8fdb\u7a0b\u7684cpu\u5360\u7528\u8f83\u9ad8\uff0c\u5185\u5b58\u5408\u8ba1\u5360\u75287GB\uff0c\u78c1\u76d8\u8bfb\u51991-3MB/S\uff0c\u521d\u6b65\u63a8\u6d4b\u9700\u8981\u63d0\u5347\u5199\u5165\u6027\u80fd\u7684\u8bdd\u9700\u8981\u5728cpu\u65b9\u9762\u6269\u5bb9\u3002 \u7ed3\u5408\u8f66\u8f86\u6863\u6848\u6570\u636e\u6d4b\u8bd5\u7ed3\u679c\uff1a21\u4e2a\u5b57\u6bb51\u4e07\u6761\u6570\u636e\u5199\u51654.5\u79d2 \uff08\u4eba\u7684\u6863\u684846\u4e2a\u5b57\u6bb57\u79d2\uff09\uff0c\u5c06\u5168\u91cf\u5b57\u6bb5\u653e\u5230\u6570\u636e\u4ed3\u5e93\u4e2d\uff0c\u56fe\u6570\u636e\u5e93\u4e2d\u53ea\u5b58\u5fc5\u8981\u7684\u67e5\u8be2\u4ee5\u53ca\u76f4\u63a5\u663e\u793a\u5b57\u6bb5\u53ef\u4ee5\u6709\u6548\u63d0\u5347\u5199\u5165\u901f\u5ea6\u3002 #py2neo \u7684bulk\u63a5\u53e3\u65b9\u5f0f from py2neo import Graph import psycopg2 from py2neo.bulk import create_nodes,merge_nodes from itertools import islice import time #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password hostipaddress port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=[] #\u8fde\u63a5neo4j graph = Graph(\"bolt://ipaddress:7687\", auth=(\"neo4j\", \"neo4jpassword\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=10000 if batch_size>limit: batch_size=limit try: cur.execute(sqls) print('query:%s' % sqls) data=cur.fetchmany(batch_size) ta0=time.time() cnt=0 while data: cnt=cnt+1 print('load data size:%s' % len(data)) for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes.append(p) if len(nodes)>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() create_nodes(graph.auto(),nodes,labels={'Person'}) nodes.clear() print(\"\u63d0\u4ea4 %s \u6b21\uff0c\u8017\u65f6:%s\u79d2\" % (cnt,round(time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if len(nodes)>0: create_nodes(graph.auto(),nodes,labels={'Person'}) nodes.clear() data=cur.fetchmany(batch_size) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\u79d2\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta0))) cur.close() db.close() \u901a\u8fc7\u8bc1\u4ef6\u53f7\u5408\u5e76\u65b9\u5f0f\u521b\u5efa-\u589e\u91cf\u66f4\u65b0\u63a8\u8350 1\u4e07\u6761\u8017\u65f6283\u79d2 from py2neo import Graph import psycopg2 from py2neo.bulk import create_nodes,merge_nodes from itertools import islice import time #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=[] #\u8fde\u63a5neo4j graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=10000 if batch_size>limit: batch_size=limit try: cur.execute(sqls) print('query:%s' % sqls) data=cur.fetchmany(batch_size) ta0=time.time() cnt=0 while data: cnt=cnt+1 print('load data size:%s' % len(data)) for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes.append(p) if len(nodes)>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() merge_nodes(graph.auto(),nodes,('Person','gmsfhm'),labels={'Person'}) nodes.clear() print(\"\u63d0\u4ea4 %s \u6b21\uff0c\u8017\u65f6:%s\u79d2\" % (cnt,round(time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if len(nodes)>0: merge_nodes(graph.auto(),nodes,('Person','gmsfhm'),labels={'Person'}) nodes.clear() data=cur.fetchmany(batch_size) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\u79d2\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta0))) cur.close() db.close() \u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u521b\u5efa\u8282\u70b9 \u5199\u51651000\u6761\u8017\u65f6217\u79d2\uff0c\u4e0d\u63a8\u8350 #\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u521b\u5efa from py2neo import Graph import psycopg2 from itertools import islice import time import simplejson def custJson(d): s=\"{\" if len(d)>0: for k in d: if d[k]: s=s+k+':\"'+d[k]+'\",' else: s=s+k+':\"\",' if len(s)>2: return s[0:-1]+'}' else: return '{}' else: return '{}' #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=1_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=\"[\" #\u8fde\u63a5neo4j graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=1000 cnt=0 try: cur.execute(sqls) data=cur.fetchall() for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes=nodes+custJson(p)+',' cnt=cnt+1 # print(nodes) if cnt>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() graph.run('call apoc.create.nodes([\"Person\"],%s)' % (nodes[0:-1]+']')) nodes='[' cnt=0 print('\u8017\u65f6:%s' % ((time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if cnt>0: graph.run('call apoc.create.nodes([\"Person\"],%s)' % (nodes[0:-1]+']')) nodes='[' cnt=0 # merge_nodes(graph.auto(),) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta))) cur.close() db.close() \u901a\u8fc7\u5b50\u56fe\u65b9\u5f0f\u6279\u91cf\u521b\u5efa\u8282\u70b9 \u8017\u65f6\u548cpy2neo\u7684\u6279\u91cf\u63a5\u53e3create_nodes\u57fa\u672c\u4e00\u6837 #\u901a\u8fc7subgraph\u52a0\u4e8b\u52a1\u6279\u91cf\u521b\u5efa\u8282\u70b9 from py2neo import Graph,Node,Subgraph import psycopg2 from itertools import islice import time import simplejson def custJson(d): s=\"{\" if len(d)>0: for k in d: if d[k]: s=s+k+':\"'+d[k]+'\",' else: s=s+k+':\"\",' if len(s)>2: return s[0:-1]+'}' else: return '{}' else: return '{}' #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=\"[\" #\u8fde\u63a5neo4j graph = Graph(\"bolt://ipaddress:7687\", auth=(\"neo4j\", \"password\")) tx = graph.begin() nodes=[] cur.execute(sqls) data=cur.fetchall() ta=time.time() for line in data: oneNode = Node() for ki in range(len(keyss)): k=keyss[ki] oneNode[k]=line[ki] nodes.append(oneNode) nodes=Subgraph(nodes) tx.create(nodes) tx.commit() print('\u8017\u65f6:%s' % ((time.time()-ta))) \u6839\u636e\u8bc1\u4ef6\u53f7\u7801\u5408\u5e76\u8282\u70b9-cypher\u65b9\u5f0f(\u4f9d\u8d56apoc\u63d2\u4ef6) 2\u4e07\u6761\u6570\u636e\uff0c\u5b9e\u9645\u67091\u4e07\u6761\u4e0d\u91cd\u590d\u6570\u636e\uff0c\u6267\u884c\u8017\u65f62\u79d2\uff0c\u63a8\u8350 190\u4e07\u6570\u636e\u5b9e\u9645\u4e0d\u91cd\u590d\u7684100\u4e07\uff0c\u6267\u884c\u65f6\u95f44\u79d2 --cypher \u8bed\u6cd5\u5b9e\u73b0 match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 call apoc.refactor.mergeNodes(nodelist,{properties:\"combine\",mergeRels:true}) yield node return node \u5408\u5e76\u91cd\u590d\u5173\u7cfb-cypher\u65b9\u5f0f\uff08\u4f9d\u8d56apoc\u63d2\u4ef6\uff09 MATCH (a:Person)-[r:rel]-(b:Person) WITH a, b, collect(r) as rels CALL apoc.refactor.mergeRelationships(rels) YIELD rel RETURN count(rel) --\u5982\u679c\u6709\u592a\u591a\u91cd\u590d\u6570\u636e\u6700\u597d\u6bcf\u6b21\u53ea\u5904\u7406\u4e00\u90e8\u5206\uff0c\u907f\u514d\u5168\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u9020\u6210\u5185\u5b58\u6ea2\u51fa\uff0c\u5982\u4e0b match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 call apoc.refactor.mergeNodes(nodelist) yield node return node limit 10000 --\u67e5\u8be2\u6709\u591a\u5c11\u7ec4\u91cd\u590d\u6570\u636e match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 return count(nodelist) \u6839\u636e\u8bc1\u4ef6\u53f7\u5408\u5e76\u8282\u70b9-python\u65b9\u5f0f 2\u4e07\u6761\u6570\u636e\uff0c\u5b9e\u9645\u67091\u4e07\u6761\u4e0d\u91cd\u590d\u6570\u636e\uff0c\u6267\u884c\u8017\u65f6365\u79d2\uff0c\u4e0d\u63a8\u8350 #\u5408\u5e76 from py2neo import Graph import time from py2neo.bulk import create_nodes,merge_nodes graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) print(\"count:\"+str(graph.nodes.match('Person').count())) nodes=graph.nodes.match('Person') # mdata=[] # for n in nodes: # mdata.append({'gmsfhm':n['gmsfhm']}) # print(mdata[0]) ta=time.time() merge_nodes(tx=graph.auto(),data=nodes,merge_key=('Person','gmsfhm')) print(\"using time:\"+str(round(time.time()-ta))) print(\"count:\"+str(graph.nodes.match('Person').count())) \u7d22\u5f15\uff08cql\uff09 CREATE INDEX ON:Person(hh) --\u521b\u5efa\u591a\u5b57\u6bb5\u7684\u8bdd\u4f7f\u7528\u65f6\u5019\u5fc5\u987b\u4e5f\u4f20\u591a\u5b57\u6bb5 CREATE INDEX ON:Person(gmsfhm) --\u67e5\u770b\u7d22\u5f15 :schema --\u5220\u9664\u7d22\u5f15 DROP INDEX ON :Person(gmsfhm,hh) \u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u5173\u7cfb\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f-\u63a8\u8350 \u8017\u65f60.04\u79d2\uff0c\u5b9e\u6d4b\u91cd\u590d\u6267\u884c\u4e0d\u4f1a\u5bfc\u81f4\u5efa\u7acb\u591a\u4e2a\u91cd\u590d\u5173\u7cfb #\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb-\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f(\u63a8\u8350) from py2neo import Graph,Relationship,Subgraph import time from py2neo.matching import * graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) nodeM=NodeMatcher(graph) #\u627e\u4e00\u5bb6\u4eba hh='361024002267449' nodes=nodeM.match('Person',hh=hh).all() hz=nodeM.match('Person',hh=hh,yhzgxdm='02').first() print(hz) if hz: print('\u5bb6\u4eba\u6570\u91cf:%s' % len(nodes)) ta=time.time() mData=[] tx = graph.begin() for n in nodes: if n['yhzgxdm']!='02': mData.append(Relationship(hz,'rel',n,relation=n['yhzgxmc'])) if len(mData)>0: A=Subgraph(relationships=mData) graph.create(A) tx.commit() print('over time:%s' % ((time.time()-ta))) else: print('\u6ca1\u6709\u6237\u4e3b\u7684\u975e\u6cd5\u6570\u636e') \u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb(\u4e0d\u63a8\u8350\uff0c\u4ec5\u4f9b\u53c2\u8003) \u8017\u65f6183\u79d2(\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u4fdd\u7559\u4e0b\u6765\u4f5c\u4e3a\u5176\u4ed6\u53ef\u80fd\u573a\u666f\u7684\u5e94\u7528) #\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb from py2neo import Graph import time from py2neo.bulk import create_nodes,merge_nodes,create_relationships from py2neo.matching import * graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) nodeM=NodeMatcher(graph) #\u627e\u4e00\u5bb6\u4eba hh='110101007156971' nodes=nodeM.match('Person',hh=hh).all() print('\u5bb6\u4eba\u6570\u91cf:%s' % len(nodes)) rels=\"38,68,10,45,51,63,52,99\".split(',') relsmc=\"\u513f\u5ab3,\u914d\u5076\u7684\u66fe\u7956\u7236\u6bcd,\u914d\u5076,(\u5916)\u5b59\u5ab3\u5987,\u7236\u4eb2,\u5916\u7956\u7236,\u6bcd\u4eb2,\u8fc1\u51fa\u6216\u6b7b\u4ea1\".split(',') ta=time.time() mData=[] for rel in range(len(rels)): relItem=rels[rel] relmcItem=relsmc[rel] print('relItem:%s mc:%s' % (relItem,relmcItem)) query=\"MATCH (p:Person{hh:'%s',yhzgxdm:'02'}),(p2:Person{hh:'%s',yhzgxdm:'%s'}) where p2['gmsfhm'] is not null MERGE (p)-[:rel{relation:'%s'}]->(p2)\" % (hh,hh,relItem,relmcItem) print(\"query:%s\" % query) graph.run(query) print('over use time:%s r:%s' % (round(time.time()-ta),r)) \u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u65b9\u5f0f\u521b\u5efa\u4eba\u8f66\u5173\u7cfb \u6b64\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u540c\u65f6\u64cd\u4f5c\u6570\u636e\u8fc7\u591a\u5e26\u6765\u7684\u5185\u5b58\u6ea2\u51fa\u7b49\u95ee\u9898\u3002 call apoc.periodic.iterate(\"match(v:Vehicle) return v\",\"match(p:Person{gmsfhm:v.sfzmhm}) merge (p)-[:car {relation:'\u8f66\u4e3b'}]->(v) return v\",{batchSize:10000,parallel:true}) \u6839\u636e\u6307\u5b9a\u6761\u4ef6\u67e5\u8be2N\u5c42\u5173\u7cfb\u4eba\u4ee5\u53ca\u5173\u7cfb\u6570\u636e-cypher\u65b9\u5f0f --\u67e5\u8be2idcard\u4e3a'idcard'\u7684\u4eba\u4e3a\u4e3b\u4f53\uff0c\u5e76\u8fd4\u56de\u51763\u5c42\u5173\u7cfb\u4eba\u4ee5\u53ca\u5173\u7cfb\u6570\u636e match data=(na:Person{idcard:'idcard'})-[*1..3]-(nb:Person) return data \u907f\u514d\u5185\u5b58\u6ea2\u51fa\u7684\u6e05\u7406\u6570\u636e\uff08\u5371\u9669\uff01\uff01\uff01\uff09 call apoc.periodic.iterate(\"match(p:Person) return p\",\"delete p return p\",{batchSize:10000, parallel:true}) cypher\u5c06Label\u6807\u7b7e\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6 match data=(na:Person)-[*1..3]-(nb) where any(label in labels(nb) WHERE label in ['Qb', 'Person']) and na.gmsfhm='123456' return data limit 100 cypher\u5c06\u591a\u5173\u7cfb\u3001\u591a\u6807\u7b7e\u548c\u53ef\u53d8\u6b65\u957f\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6 --\u67e5\u8be2idcard\u4e3a'123456'\u7684\u4eba\u4e3a\u4e3b\u4f53\uff0c\u5173\u7cfb\u4e3arel1\u548crel2 \u8282\u70b9\u6807\u7b7e\u4e3alabel1\u548clabel2 \u4e141-3\u5c42\u7684\u5173\u7cfb\u6570\u636e match data=(na:Person)-[:rel1|rel2*1..3]-(nb) where na.gmsfhm in ['123456']and any(label in labels(nb) WHERE label in ['label1','label2']) return data","title":"Neo4j\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_1","text":"\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6241\u5e73\u5316\u5b58\u50a8+sql\u67e5\u8be2 \u4f18\u70b9\uff1a\u5b9e\u73b0\u7b80\u5355\u3001\u65e0\u989d\u5916\u5b66\u4e60\u6210\u672c\u3002 \u7f3a\u70b9\uff1a\u591a\u7ea7\u5173\u8054\u6570\u636e\u67e5\u8be2\u9ebb\u70e6\uff0c\u4e14\u53d7\u9650\u4e8e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8bbe\u8ba1\u539f\u7406\uff0c\u5bf9\u56fe\u6570\u636e\u6ca1\u6709\u4e13\u95e8\u7684\u4f18\u5316\uff0c\u5728\u67e5\u8be2\u591a\u7ea7\u5927\u91cf\u6570\u636e\u65f6\u6027\u80fd\u4e0d\u4f73\u3002 \u4e13\u7528\u7684\u56fe\u6570\u636e\u5e93\u4f8b\u5982neo4j \u4f18\u70b9\uff1a\u9488\u5bf9\u56fe\u8ba1\u7b97\u4e0e\u5b58\u50a8\u505a\u4e13\u95e8\u8bbe\u8ba1\u63d0\u9ad8\u5176\u6027\u80fd\uff0ccypher\u4e13\u7528\u67e5\u8be2\u8bed\u8a00\u8f83sql\u80fd\u66f4\u6e05\u695a\u7684\u8868\u8fbe\u56fe\u4e4b\u95f4\u7684\u5173\u7cfb\u3002 \u7f3a\u70b9\uff1a\u9700\u8981\u5b66\u4e60cypher\u67e5\u8be2\u8bed\u8a00\uff0c\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u4e5f\u4e0e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7565\u6709\u4e0d\u540c\u3002","title":"\u5173\u7cfb\u56fe\u8c31\u6280\u672f\u6f14\u8fdb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_2","text":"\u901a\u8fc7Neo4j\u5b9e\u73b0\u4eba\u5458\u7684\u6279\u91cf\u521b\u5efa\uff0c\u66f4\u65b0\uff08\u521b\u5efa\u540e\u5408\u5e76\uff09\uff0c\u5220\u9664\uff0c\u591a\u7ea7\u5173\u7cfb\u67e5\u8be2\u7b49","title":"\u5173\u7cfb\u56fe\u5b58\u50a8\u67e5\u8be2\u8ba1\u7b97\u89e3\u51b3\u65b9\u6848"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_3","text":"#\u4e3a\u4e86\u4fdd\u8bc1\u6027\u80fd\u4ee5\u53ca\u5927\u6570\u636e\u91cf\u64cd\u4f5c\u65f6\u5019\u4e0d\u5185\u5b58\u6ea2\u51fa\uff0c\u5728\u786e\u4fdd\u540c\u673a\u5668\u5176\u4ed6\u7ec4\u4ef6\u9700\u6c42\u7684\u60c5\u51b5\u4e0b\uff0c\u5c3d\u53ef\u80fd\u7ed9\u66f4\u591a\u7684\u53ef\u7528\u5185\u5b58 docker run -itd --name neo4j --restart=always -p 7474:7474 -p 7687:7687 -e=NEO4J_dbms_memory_pagecache_size=8G -e=NEO4J_dbms_memory_heap_initial__size=4G -e=NEO4J_dbms_memory_heap_max__size=32G -v /data/neo4j:/data neo4j:4.2.7 #\u4e0b\u8f7dapoc\u63d2\u4ef6\u4ee5\u63d0\u4f9b\u589e\u5f3a\u529f\u80fd\u652f\u6301\uff08\u6bd4\u5982\u5408\u5e76\u8282\u70b9\uff09\uff0c\u5730\u5740\uff1ahttps://github.com/neo4j-contrib/neo4j-apoc-procedures/releases \u7248\u672c\u53f7\u5982\u679c\u6ca1\u6709\u5b8c\u5168\u76f8\u540c\u7684\u9009\u62e9\u63a5\u8fd1\u7684\u4e5f\u53ef\u4ee5 cd /data/neo4j wget https://github.com/neo4j-contrib/neo4j-apoc-procedures/releases/download/4.2.0.4/apoc-4.2.0.4-all.jar #\u590d\u5236apoc*.jar\u5230\u5bb9\u5668\u4e2dneo4j\u76ee\u5f55\u7684plugins\u6587\u4ef6\u5939\u4e2d docker exec -it neo4j bash cp data/apoc-*.jar ./plugins/ #\u4fee\u6539conf/neo4j.conf\u914d\u7f6e\u6587\u4ef6\uff0c\u589e\u52a0\u5982\u4e0b\u4e24\u884c dbms.security.procedures.unrestricted=algo.* dbms.security.procedures.unrestricted=apoc.* #\u4fdd\u5b58\u540e\u91cd\u542f\u5bb9\u5668 docker restart neo4j","title":"\u793e\u533a\u7248\u642d\u5efa"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_4","text":"\u7d22\u5f15\u5efa\u7acb\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\uff0c\u4e00\u4e2a\u7d22\u5f15\u53ef\u4ee5\u5f88\u5927\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u5927\u89c4\u6a21\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6\u3002\uff08\u5728\u5bf9\u8282\u70b9\u6309\u7167name\u5c5e\u6027\u5efa\u7acb\u4e86\u7d22\u5f15\u4e4b\u540e\uff0c\u622a\u6b62\u6211\u5199\u8fd9\u7bc7blog\u7684\u65f6\u5019\uff0c\u6570\u636e\u91cf\u4e3a\u8282\u70b9600w+,\u5173\u7cfb1100w+\uff0c\u67e5\u8be2\u4e00\u4e2a\u8282\u70b9\u4ee5\u53ca\u76f8\u5173\u8054\u7684\u8282\u70b9\u5173\u7cfb\u6d88\u8017\u7684\u65f6\u95f4\u548c\u6570\u636e\u91cf\u5f88\u5c0f\u7684\u65f6\u5019\u51e0\u4e4e\u6ca1\u6709\u4ec0\u4e48\u5dee\u522b\uff0c\u57fa\u672c\u4e0a\u90fd\u7a33\u5b9a\u572816~20ms\u5de6\u53f3\u3002\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/a2497a33390f \uff09 \u4ee5\u4e0b\u6d89\u53ca\u6027\u80fd\u7684\u6d4b\u8bd5\u76f8\u5173\u7684\u673a\u5668\u914d\u7f6e\u5982\u4e0b:32G\u5185\u5b58 8\u6838\u5904\u7406\u5668 \u673a\u68b0\u786c\u76d8","title":"\u4f7f\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_5","text":"\u6279\u91cf\u521b\u5efa\u8282\u70b9\u91c7\u7528(\u7eaf\u65b0\u589e)\uff1a\u6279\u91cf\u521b\u5efa\u8282\u70b9\uff08\u6863\u6848\u8868\u8bfb\u53d6\uff09-\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u8282\u70b9\u91c7\u7528(\u65b0\u589e\u4ee5\u53ca\u5305\u542b\u66f4\u65b0)\uff1a\u901a\u8fc7\u8bc1\u4ef6\u53f7\u5408\u5e76\u65b9\u5f0f\u521b\u5efa-\u589e\u91cf\u66f4\u65b0\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u5173\u7cfb\u91c7\u7528\uff1a\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u5173\u7cfb\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f-\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u5173\u7cfb\uff08\u590d\u6742\u7c7b\u578b\uff09\u91c7\u7528\uff1a\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u65b9\u5f0f\u521b\u5efa\u4eba\u8f66\u5173\u7cfb \u6279\u91cf\u5408\u5e76\u5b9e\u4f53\u8282\u70b9\u91c7\u7528\uff1a\u6839\u636e\u8bc1\u4ef6\u53f7\u7801\u5408\u5e76\u8282\u70b9-cypher\u65b9\u5f0f(\u4f9d\u8d56apoc\u63d2\u4ef6) \u6279\u91cf\u5408\u5e76\u91cd\u590d\u5173\u7cfb\uff08\u4e3b\u8981\u7531\u5408\u5e76\u8282\u70b9\u4ea7\u751f\uff09\uff1a\u5408\u5e76\u91cd\u590d\u5173\u7cfb-cypher\u65b9\u5f0f\uff08\u4f9d\u8d56apoc\u63d2\u4ef6\uff09","title":"\u6279\u91cf\u64cd\u4f5c\u6700\u4f73\u5b9e\u8df5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_6","text":"#python dependson:pip install py2neo from py2neo import Graph from py2neo.bulk import create_nodes g = Graph(connectionInfoParam...) keys = [\"name\", \"age\"] data = [ [\"Alice\", 33], [\"Bob\", 44], [\"Carol\", 55], ] create_nodes(g.auto(), data, labels={\"Person\"}, keys=keys) g.nodes.match(\"Person\").count()","title":"\u6279\u91cf\u521b\u5efa\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#-","text":"\u5199\u51651\u4e07\u6761\u8017\u65f67\u79d2\uff0c\u5199\u5165\u64cd\u4f5c\u65f6\uff0c\u6d4b\u8bd5\u673a\u5668python\u548cjava\u8fdb\u7a0b\u7684cpu\u5360\u7528\u8f83\u9ad8\uff0c\u5185\u5b58\u5408\u8ba1\u5360\u75287GB\uff0c\u78c1\u76d8\u8bfb\u51991-3MB/S\uff0c\u521d\u6b65\u63a8\u6d4b\u9700\u8981\u63d0\u5347\u5199\u5165\u6027\u80fd\u7684\u8bdd\u9700\u8981\u5728cpu\u65b9\u9762\u6269\u5bb9\u3002 \u7ed3\u5408\u8f66\u8f86\u6863\u6848\u6570\u636e\u6d4b\u8bd5\u7ed3\u679c\uff1a21\u4e2a\u5b57\u6bb51\u4e07\u6761\u6570\u636e\u5199\u51654.5\u79d2 \uff08\u4eba\u7684\u6863\u684846\u4e2a\u5b57\u6bb57\u79d2\uff09\uff0c\u5c06\u5168\u91cf\u5b57\u6bb5\u653e\u5230\u6570\u636e\u4ed3\u5e93\u4e2d\uff0c\u56fe\u6570\u636e\u5e93\u4e2d\u53ea\u5b58\u5fc5\u8981\u7684\u67e5\u8be2\u4ee5\u53ca\u76f4\u63a5\u663e\u793a\u5b57\u6bb5\u53ef\u4ee5\u6709\u6548\u63d0\u5347\u5199\u5165\u901f\u5ea6\u3002 #py2neo \u7684bulk\u63a5\u53e3\u65b9\u5f0f from py2neo import Graph import psycopg2 from py2neo.bulk import create_nodes,merge_nodes from itertools import islice import time #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password hostipaddress port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=[] #\u8fde\u63a5neo4j graph = Graph(\"bolt://ipaddress:7687\", auth=(\"neo4j\", \"neo4jpassword\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=10000 if batch_size>limit: batch_size=limit try: cur.execute(sqls) print('query:%s' % sqls) data=cur.fetchmany(batch_size) ta0=time.time() cnt=0 while data: cnt=cnt+1 print('load data size:%s' % len(data)) for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes.append(p) if len(nodes)>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() create_nodes(graph.auto(),nodes,labels={'Person'}) nodes.clear() print(\"\u63d0\u4ea4 %s \u6b21\uff0c\u8017\u65f6:%s\u79d2\" % (cnt,round(time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if len(nodes)>0: create_nodes(graph.auto(),nodes,labels={'Person'}) nodes.clear() data=cur.fetchmany(batch_size) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\u79d2\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta0))) cur.close() db.close()","title":"\u6279\u91cf\u521b\u5efa\u8282\u70b9\uff08\u6863\u6848\u8868\u8bfb\u53d6\uff09-\u7eaf\u65b0\u589e\u63a8\u8350"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#-_1","text":"1\u4e07\u6761\u8017\u65f6283\u79d2 from py2neo import Graph import psycopg2 from py2neo.bulk import create_nodes,merge_nodes from itertools import islice import time #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=[] #\u8fde\u63a5neo4j graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=10000 if batch_size>limit: batch_size=limit try: cur.execute(sqls) print('query:%s' % sqls) data=cur.fetchmany(batch_size) ta0=time.time() cnt=0 while data: cnt=cnt+1 print('load data size:%s' % len(data)) for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes.append(p) if len(nodes)>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() merge_nodes(graph.auto(),nodes,('Person','gmsfhm'),labels={'Person'}) nodes.clear() print(\"\u63d0\u4ea4 %s \u6b21\uff0c\u8017\u65f6:%s\u79d2\" % (cnt,round(time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if len(nodes)>0: merge_nodes(graph.auto(),nodes,('Person','gmsfhm'),labels={'Person'}) nodes.clear() data=cur.fetchmany(batch_size) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\u79d2\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta0))) cur.close() db.close()","title":"\u901a\u8fc7\u8bc1\u4ef6\u53f7\u5408\u5e76\u65b9\u5f0f\u521b\u5efa-\u589e\u91cf\u66f4\u65b0\u63a8\u8350"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#apoc","text":"\u5199\u51651000\u6761\u8017\u65f6217\u79d2\uff0c\u4e0d\u63a8\u8350 #\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u521b\u5efa from py2neo import Graph import psycopg2 from itertools import islice import time import simplejson def custJson(d): s=\"{\" if len(d)>0: for k in d: if d[k]: s=s+k+':\"'+d[k]+'\",' else: s=s+k+':\"\",' if len(s)>2: return s[0:-1]+'}' else: return '{}' else: return '{}' #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=1_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=\"[\" #\u8fde\u63a5neo4j graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=1000 cnt=0 try: cur.execute(sqls) data=cur.fetchall() for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes=nodes+custJson(p)+',' cnt=cnt+1 # print(nodes) if cnt>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() graph.run('call apoc.create.nodes([\"Person\"],%s)' % (nodes[0:-1]+']')) nodes='[' cnt=0 print('\u8017\u65f6:%s' % ((time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if cnt>0: graph.run('call apoc.create.nodes([\"Person\"],%s)' % (nodes[0:-1]+']')) nodes='[' cnt=0 # merge_nodes(graph.auto(),) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta))) cur.close() db.close()","title":"\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u521b\u5efa\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_7","text":"\u8017\u65f6\u548cpy2neo\u7684\u6279\u91cf\u63a5\u53e3create_nodes\u57fa\u672c\u4e00\u6837 #\u901a\u8fc7subgraph\u52a0\u4e8b\u52a1\u6279\u91cf\u521b\u5efa\u8282\u70b9 from py2neo import Graph,Node,Subgraph import psycopg2 from itertools import islice import time import simplejson def custJson(d): s=\"{\" if len(d)>0: for k in d: if d[k]: s=s+k+':\"'+d[k]+'\",' else: s=s+k+':\"\",' if len(s)>2: return s[0:-1]+'}' else: return '{}' else: return '{}' #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=\"[\" #\u8fde\u63a5neo4j graph = Graph(\"bolt://ipaddress:7687\", auth=(\"neo4j\", \"password\")) tx = graph.begin() nodes=[] cur.execute(sqls) data=cur.fetchall() ta=time.time() for line in data: oneNode = Node() for ki in range(len(keyss)): k=keyss[ki] oneNode[k]=line[ki] nodes.append(oneNode) nodes=Subgraph(nodes) tx.create(nodes) tx.commit() print('\u8017\u65f6:%s' % ((time.time()-ta)))","title":"\u901a\u8fc7\u5b50\u56fe\u65b9\u5f0f\u6279\u91cf\u521b\u5efa\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#-cypherapoc","text":"2\u4e07\u6761\u6570\u636e\uff0c\u5b9e\u9645\u67091\u4e07\u6761\u4e0d\u91cd\u590d\u6570\u636e\uff0c\u6267\u884c\u8017\u65f62\u79d2\uff0c\u63a8\u8350 190\u4e07\u6570\u636e\u5b9e\u9645\u4e0d\u91cd\u590d\u7684100\u4e07\uff0c\u6267\u884c\u65f6\u95f44\u79d2 --cypher \u8bed\u6cd5\u5b9e\u73b0 match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 call apoc.refactor.mergeNodes(nodelist,{properties:\"combine\",mergeRels:true}) yield node return node","title":"\u6839\u636e\u8bc1\u4ef6\u53f7\u7801\u5408\u5e76\u8282\u70b9-cypher\u65b9\u5f0f(\u4f9d\u8d56apoc\u63d2\u4ef6)"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#-cypherapoc_1","text":"MATCH (a:Person)-[r:rel]-(b:Person) WITH a, b, collect(r) as rels CALL apoc.refactor.mergeRelationships(rels) YIELD rel RETURN count(rel) --\u5982\u679c\u6709\u592a\u591a\u91cd\u590d\u6570\u636e\u6700\u597d\u6bcf\u6b21\u53ea\u5904\u7406\u4e00\u90e8\u5206\uff0c\u907f\u514d\u5168\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u9020\u6210\u5185\u5b58\u6ea2\u51fa\uff0c\u5982\u4e0b match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 call apoc.refactor.mergeNodes(nodelist) yield node return node limit 10000 --\u67e5\u8be2\u6709\u591a\u5c11\u7ec4\u91cd\u590d\u6570\u636e match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 return count(nodelist)","title":"\u5408\u5e76\u91cd\u590d\u5173\u7cfb-cypher\u65b9\u5f0f\uff08\u4f9d\u8d56apoc\u63d2\u4ef6\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#-python","text":"2\u4e07\u6761\u6570\u636e\uff0c\u5b9e\u9645\u67091\u4e07\u6761\u4e0d\u91cd\u590d\u6570\u636e\uff0c\u6267\u884c\u8017\u65f6365\u79d2\uff0c\u4e0d\u63a8\u8350 #\u5408\u5e76 from py2neo import Graph import time from py2neo.bulk import create_nodes,merge_nodes graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) print(\"count:\"+str(graph.nodes.match('Person').count())) nodes=graph.nodes.match('Person') # mdata=[] # for n in nodes: # mdata.append({'gmsfhm':n['gmsfhm']}) # print(mdata[0]) ta=time.time() merge_nodes(tx=graph.auto(),data=nodes,merge_key=('Person','gmsfhm')) print(\"using time:\"+str(round(time.time()-ta))) print(\"count:\"+str(graph.nodes.match('Person').count()))","title":"\u6839\u636e\u8bc1\u4ef6\u53f7\u5408\u5e76\u8282\u70b9-python\u65b9\u5f0f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#cql","text":"CREATE INDEX ON:Person(hh) --\u521b\u5efa\u591a\u5b57\u6bb5\u7684\u8bdd\u4f7f\u7528\u65f6\u5019\u5fc5\u987b\u4e5f\u4f20\u591a\u5b57\u6bb5 CREATE INDEX ON:Person(gmsfhm) --\u67e5\u770b\u7d22\u5f15 :schema --\u5220\u9664\u7d22\u5f15 DROP INDEX ON :Person(gmsfhm,hh)","title":"\u7d22\u5f15\uff08cql\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#-_2","text":"\u8017\u65f60.04\u79d2\uff0c\u5b9e\u6d4b\u91cd\u590d\u6267\u884c\u4e0d\u4f1a\u5bfc\u81f4\u5efa\u7acb\u591a\u4e2a\u91cd\u590d\u5173\u7cfb #\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb-\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f(\u63a8\u8350) from py2neo import Graph,Relationship,Subgraph import time from py2neo.matching import * graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) nodeM=NodeMatcher(graph) #\u627e\u4e00\u5bb6\u4eba hh='361024002267449' nodes=nodeM.match('Person',hh=hh).all() hz=nodeM.match('Person',hh=hh,yhzgxdm='02').first() print(hz) if hz: print('\u5bb6\u4eba\u6570\u91cf:%s' % len(nodes)) ta=time.time() mData=[] tx = graph.begin() for n in nodes: if n['yhzgxdm']!='02': mData.append(Relationship(hz,'rel',n,relation=n['yhzgxmc'])) if len(mData)>0: A=Subgraph(relationships=mData) graph.create(A) tx.commit() print('over time:%s' % ((time.time()-ta))) else: print('\u6ca1\u6709\u6237\u4e3b\u7684\u975e\u6cd5\u6570\u636e')","title":"\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u5173\u7cfb\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f-\u63a8\u8350"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_8","text":"\u8017\u65f6183\u79d2(\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u4fdd\u7559\u4e0b\u6765\u4f5c\u4e3a\u5176\u4ed6\u53ef\u80fd\u573a\u666f\u7684\u5e94\u7528) #\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb from py2neo import Graph import time from py2neo.bulk import create_nodes,merge_nodes,create_relationships from py2neo.matching import * graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) nodeM=NodeMatcher(graph) #\u627e\u4e00\u5bb6\u4eba hh='110101007156971' nodes=nodeM.match('Person',hh=hh).all() print('\u5bb6\u4eba\u6570\u91cf:%s' % len(nodes)) rels=\"38,68,10,45,51,63,52,99\".split(',') relsmc=\"\u513f\u5ab3,\u914d\u5076\u7684\u66fe\u7956\u7236\u6bcd,\u914d\u5076,(\u5916)\u5b59\u5ab3\u5987,\u7236\u4eb2,\u5916\u7956\u7236,\u6bcd\u4eb2,\u8fc1\u51fa\u6216\u6b7b\u4ea1\".split(',') ta=time.time() mData=[] for rel in range(len(rels)): relItem=rels[rel] relmcItem=relsmc[rel] print('relItem:%s mc:%s' % (relItem,relmcItem)) query=\"MATCH (p:Person{hh:'%s',yhzgxdm:'02'}),(p2:Person{hh:'%s',yhzgxdm:'%s'}) where p2['gmsfhm'] is not null MERGE (p)-[:rel{relation:'%s'}]->(p2)\" % (hh,hh,relItem,relmcItem) print(\"query:%s\" % query) graph.run(query) print('over use time:%s r:%s' % (round(time.time()-ta),r))","title":"\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb(\u4e0d\u63a8\u8350\uff0c\u4ec5\u4f9b\u53c2\u8003)"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#apoc_1","text":"\u6b64\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u540c\u65f6\u64cd\u4f5c\u6570\u636e\u8fc7\u591a\u5e26\u6765\u7684\u5185\u5b58\u6ea2\u51fa\u7b49\u95ee\u9898\u3002 call apoc.periodic.iterate(\"match(v:Vehicle) return v\",\"match(p:Person{gmsfhm:v.sfzmhm}) merge (p)-[:car {relation:'\u8f66\u4e3b'}]->(v) return v\",{batchSize:10000,parallel:true})","title":"\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u65b9\u5f0f\u521b\u5efa\u4eba\u8f66\u5173\u7cfb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#n-cypher","text":"--\u67e5\u8be2idcard\u4e3a'idcard'\u7684\u4eba\u4e3a\u4e3b\u4f53\uff0c\u5e76\u8fd4\u56de\u51763\u5c42\u5173\u7cfb\u4eba\u4ee5\u53ca\u5173\u7cfb\u6570\u636e match data=(na:Person{idcard:'idcard'})-[*1..3]-(nb:Person) return data","title":"\u6839\u636e\u6307\u5b9a\u6761\u4ef6\u67e5\u8be2N\u5c42\u5173\u7cfb\u4eba\u4ee5\u53ca\u5173\u7cfb\u6570\u636e-cypher\u65b9\u5f0f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#_9","text":"call apoc.periodic.iterate(\"match(p:Person) return p\",\"delete p return p\",{batchSize:10000, parallel:true})","title":"\u907f\u514d\u5185\u5b58\u6ea2\u51fa\u7684\u6e05\u7406\u6570\u636e\uff08\u5371\u9669\uff01\uff01\uff01\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#cypherlabel","text":"match data=(na:Person)-[*1..3]-(nb) where any(label in labels(nb) WHERE label in ['Qb', 'Person']) and na.gmsfhm='123456' return data limit 100","title":"cypher\u5c06Label\u6807\u7b7e\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Neo4j%E7%9B%B8%E5%85%B3/#cypher","text":"--\u67e5\u8be2idcard\u4e3a'123456'\u7684\u4eba\u4e3a\u4e3b\u4f53\uff0c\u5173\u7cfb\u4e3arel1\u548crel2 \u8282\u70b9\u6807\u7b7e\u4e3alabel1\u548clabel2 \u4e141-3\u5c42\u7684\u5173\u7cfb\u6570\u636e match data=(na:Person)-[:rel1|rel2*1..3]-(nb) where na.gmsfhm in ['123456']and any(label in labels(nb) WHERE label in ['label1','label2']) return data","title":"cypher\u5c06\u591a\u5173\u7cfb\u3001\u591a\u6807\u7b7e\u548c\u53ef\u53d8\u6b65\u957f\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/","text":"PG\u539f\u751f\u96c6\u7fa4\u590d\u5236\u914d\u7f6e\u4e0e\u9ad8\u53ef\u7528 \u590d\u5236\u6a21\u5f0f\u7b80\u4ecb \u6d41\u590d\u5236 \u57fa\u4e8e\u6587\u4ef6\u7cfb\u7edf\u7684\u5b57\u8282\u6d41\u5f62\u5f0f\u7684\u590d\u5236\uff0c\u7279\u70b9\u4e3a\uff1a\u4e3b\u8282\u70b9\u53ef\u4ee5\u6709\u591a\u4e2a\u4ece\u8282\u70b9\u3001\u4e3b\u8282\u70b9\u53ef\u4ee5\u6302\u8f7d\u4ece\u8282\u70b9\u3001\u4e3b\u8282\u70b9\u4e2a\u6570\u4e0d\u9650\u5c42\u7ea7\u4e0d\u9650\u3001\u4e3b\u4ece\u53ef\u4ee5\u540c\u6b65/\u5f02\u6b65\u590d\u5236\u4e5f\u53ef\u4ee5\u6df7\u5408\u5b58\u5728\u3002 \u65e0\u989d\u5916\u4f9d\u8d56\u3002 \u903b\u8f91\u590d\u5236 \u903b\u8f91\u590d\u5236\u4f1a\u5728\u6d41\u590d\u5236\u7684\u57fa\u7840\u4e0a\u5c06\u6570\u636e\u53d8\u52a8\u62bd\u8c61\u4e3ainsert\u3001delete\u7b49\u64cd\u4f5c\uff0c\u7ecf\u8fc7\u53d1\u5e03\u8282\u70b9sender\u8fdb\u7a0b\u5411\u5916\u53d1\u5e03\uff0c\u8ba2\u9605\u8282\u70b9\u62ff\u5230\u540e\u8fdb\u884c\u64cd\u4f5c\u91cd\u653e\uff0c\u7279\u70b9\u4e3a\uff1a\u6240\u6709\u8282\u70b9\u5bf9\u7b49\u90fd\u53ef\u4ee5\u8bfb\u5199\u3001\u6240\u6709\u8282\u70b9\u53ef\u4ee5\u540c\u65f6\u4e3a\u53d1\u5e03\u6216\u8005\u8ba2\u9605\u6216\u8005\u6df7\u5408\u5b58\u5728\u3002 \u4f9d\u8d56wal2json\u63d2\u4ef6 \u5f02\u6b65\u6d41\u590d\u5236 \u4e3b\u5e93\u914d\u7f6epg_hba.conf\u5141\u8bb8\u5907\u5e93\u7684\u590d\u5236\u94fe\u63a5 host replication all 192.168.240.14/32 trust \u4e3b\u5e93\u914d\u7f6epostgresql.conf listen_address='*' max_wal_senders=5 # \u5927\u4e8e\u5907\u5e93\u6570\u91cf wal_level=hot_standby \u521d\u59cb\u5316\u5907\u5e93 pg_basebackup -h mdw -U postgres -F p -P -R -D /data/oscg/pgpool/data1 -p 11002 -l backuplog \u5907\u5e93\u7684postgresql.conf\u6dfb\u52a0\u4e3b\u5e93\u94fe\u63a5\u4fe1\u606f primary_conninfo='application_name=mdw1 user=postgres host=mdw port=11002 sslmode=disable sslcompression=1 target_session_attrs=any' \u751f\u4ea7\u5907\u5e93\u6807\u5fd7\u6587\u4ef6 touch /data/oscg/pgpool/data1/standby.signal \u542f\u52a8\u5907\u5e93 pg_ctl start -D data1 \u4e3b\u8282\u70b9\u67e5\u770b\u72b6\u6001 select * from pg_stat_replication; \u903b\u8f91\u590d\u5236 \u4e3b\u5e93\u914d\u7f6epg_hba.conf\u5141\u8bb8\u5907\u5e93\u7684\u590d\u5236\u94fe\u63a5 host replication all 192.168.240.14/32 trust \u4e3b\u5e93\u914d\u7f6epostgresql.conf listen_address='*' wal_level=logical # \u66f4\u6539solts\u6700\u5927\u6570\u91cf\uff08\u9ed8\u8ba4\u503c\u4e3a10\uff09\uff0cflink-cdc\u9ed8\u8ba4\u4e00\u5f20\u8868\u5360\u7528\u4e00\u4e2aslots \u4e0b\u9762\u5f00\u59cb\u662f\u53ef\u9009 max_replication_slots = 5 # max number of replication slots # \u66f4\u6539wal\u53d1\u9001\u6700\u5927\u8fdb\u7a0b\u6570\uff08\u9ed8\u8ba4\u503c\u4e3a10\uff09\uff0c\u8fd9\u4e2a\u503c\u548c\u4e0a\u9762\u7684solts\u8bbe\u7f6e\u4e00\u6837 max_wal_senders = 5 # max number of walsender processes # \u4e2d\u65ad\u90a3\u4e9b\u505c\u6b62\u6d3b\u52a8\u8d85\u8fc7\u6307\u5b9a\u6beb\u79d2\u6570\u7684\u590d\u5236\u8fde\u63a5\uff0c\u53ef\u4ee5\u9002\u5f53\u8bbe\u7f6e\u5927\u4e00\u70b9\uff08\u9ed8\u8ba460s\uff09 wal_sender_timeout = 180s # in milliseconds; 0 disable \u4e3b\u5e93\u521b\u5efa\u590d\u5236\u69fd select pg_create_logical_replication_slot('slotname','wal2json') --\u521b\u5efa\u76f8\u5e94\u7528\u6237 CREATE USER user WITH PASSWORD 'pwd'; -- \u7ed9\u7528\u6237\u590d\u5236\u6d41\u6743\u9650 ALTER ROLE user replication; -- \u7ed9\u7528\u6237\u767b\u5f55\u6570\u636e\u5e93\u6743\u9650 grant CONNECT ON DATABASE test to user; -- \u628a\u5f53\u524d\u5e93public\u4e0b\u6240\u6709\u8868\u67e5\u8be2\u6743\u9650\u8d4b\u7ed9\u7528\u6237 GRANT SELECT ON ALL TABLES IN SCHEMA public TO user; -- \u8bbe\u7f6e\u53d1\u5e03\u4e3atrue update pg_publication set puballtables=true where pubname is not null; -- \u628a\u6240\u6709\u8868\u8fdb\u884c\u53d1\u5e03 CREATE PUBLICATION dbz_publication FOR ALL TABLES; -- \u67e5\u8be2\u54ea\u4e9b\u8868\u5df2\u7ecf\u53d1\u5e03 select * from pg_publication_tables; -- \u66f4\u6539\u590d\u5236\u6807\u8bc6\u5305\u542b\u66f4\u65b0\u548c\u5220\u9664\u4e4b\u524d\u503c ALTER TABLE test0425 REPLICA IDENTITY FULL; -- \u67e5\u770b\u590d\u5236\u6807\u8bc6\uff08\u4e3af\u6807\u8bc6\u8bf4\u660e\u8bbe\u7f6e\u6210\u529f\uff09 select relreplident from pg_class where relname='test0425'; \u521d\u59cb\u5316\u5907\u5e93 pg_basebackup -h mdw -U postgres -F p -P -R -D /data/oscg/pgpool/data1 -p 11002 -l backuplog \u5907\u5e93\u7684postgresql.conf\u6dfb\u52a0\u4e3b\u5e93\u94fe\u63a5\u4fe1\u606f primary_conninfo='application_name=mdw1 user=postgres host=mdw port=11002 sslmode=disable sslcompression=1 target_session_attrs=any' \u751f\u4ea7\u5907\u5e93\u6807\u5fd7\u6587\u4ef6 touch /data/oscg/pgpool/data1/standby.signal \u542f\u52a8\u5907\u5e93 pg_ctl start -D data1 \u4e3b\u8282\u70b9\u67e5\u770b\u72b6\u6001 select * from pg_stat_replication; \u4e3b\u5907\u5207\u6362 \u5173\u95ed\u4e3b\u8282\u70b9\uff08\u6a21\u62df\u6545\u969c\uff09 pg_ctl stop -D data0 \u63d0\u5347\u5907\u8282\u70b9\u4e3a\u4e3b\u8282\u70b9 #\u65b9\u5f0f1 pg_ctl promote -D data1 #\u65b9\u5f0f2 sql select pg_promote(true,60) \u67e5\u770b\u6570\u636e\u5e93\u72b6\u6001 pg_controldata -D /data/oscg/pgpool/data0|grep 'state' #\u8fd4\u56de\u7ed3\u679c\u6062\u590d\u6a21\u5f0f Database cluster state: in archive recovery #\u8fd4\u56de\u7ed3\u679c\u751f\u4ea7\u6a21\u5f0f Database cluster state: in production \u539f\u4e3b\u8282\u70b9\u4f5c\u4e3a\u5907\u8282\u70b9\u6dfb\u52a0\u8fdb\u96c6\u7fa4 \u539f\u5907\u8282\u70b9pg_hba.conf\u6dfb\u52a0\u539f\u4e3b\u8282\u70b9\u7684\u94fe\u63a5\u8bb8\u53ef host replication all 192.168.240.14/32 trust \u539f\u4e3b\u8282\u70b9\u6dfb\u52a0\u73b0\u4e3b\u8282\u70b9\uff08\u539f\u5907\u8282\u70b9\uff09\u7684\u94fe\u63a5\u65b9\u5f0f postgresql.conf primary_conninfo='application_name=mdw user=postgres host=mdw port=11002' \u521b\u5efa\u5907\u5e93\u6807\u5fd7 touch /data/oscg/pgpool/data0/standby.signal \u4f7f\u7528pg_rewind\u66ff\u4ee3pg_basebackup pg_rewind\u4f18\u52bf\uff1a\u652f\u6301\u589e\u91cf\u590d\u5236\uff0c\u5982\u679c\u5907\u8282\u70b9\u6302\u6389\u8f83\u957f\u65f6\u95f4\uff0c\u4e3b\u8282\u70b9\u4fdd\u7559\u7684\u65e5\u5fd7\u5df2\u7ecf\u4e0d\u591f\u8fdb\u884c\u540c\u6b65\u4e86\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u53ef\u4ee5\u4f7f\u7528pg_rewind\u8fdb\u884c\u589e\u91cf\u540c\u6b65\u4e00\u6b21\u6570\u636e\u518d\u5c1d\u8bd5\u62c9\u8d77\u3002 \u4f7f\u7528\u524d\u63d0\uff0c\u9700\u8981\u5728\u4e3b\u8282\u70b9postgresql.conf\u8bbe\u7f6e #\u5fc5\u987b\u8bbe\u7f6e wal_log_hints: on #\u6b64\u9879\u9ed8\u8ba4\u5b58\u5728 full_page_writes: on \u9ad8\u53ef\u7528","title":"PG\u539f\u751f\u96c6\u7fa4\u590d\u5236\u914d\u7f6e\u4e0e\u9ad8\u53ef\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#pg","text":"","title":"PG\u539f\u751f\u96c6\u7fa4\u590d\u5236\u914d\u7f6e\u4e0e\u9ad8\u53ef\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#_1","text":"","title":"\u590d\u5236\u6a21\u5f0f\u7b80\u4ecb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#_2","text":"\u57fa\u4e8e\u6587\u4ef6\u7cfb\u7edf\u7684\u5b57\u8282\u6d41\u5f62\u5f0f\u7684\u590d\u5236\uff0c\u7279\u70b9\u4e3a\uff1a\u4e3b\u8282\u70b9\u53ef\u4ee5\u6709\u591a\u4e2a\u4ece\u8282\u70b9\u3001\u4e3b\u8282\u70b9\u53ef\u4ee5\u6302\u8f7d\u4ece\u8282\u70b9\u3001\u4e3b\u8282\u70b9\u4e2a\u6570\u4e0d\u9650\u5c42\u7ea7\u4e0d\u9650\u3001\u4e3b\u4ece\u53ef\u4ee5\u540c\u6b65/\u5f02\u6b65\u590d\u5236\u4e5f\u53ef\u4ee5\u6df7\u5408\u5b58\u5728\u3002 \u65e0\u989d\u5916\u4f9d\u8d56\u3002","title":"\u6d41\u590d\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#_3","text":"\u903b\u8f91\u590d\u5236\u4f1a\u5728\u6d41\u590d\u5236\u7684\u57fa\u7840\u4e0a\u5c06\u6570\u636e\u53d8\u52a8\u62bd\u8c61\u4e3ainsert\u3001delete\u7b49\u64cd\u4f5c\uff0c\u7ecf\u8fc7\u53d1\u5e03\u8282\u70b9sender\u8fdb\u7a0b\u5411\u5916\u53d1\u5e03\uff0c\u8ba2\u9605\u8282\u70b9\u62ff\u5230\u540e\u8fdb\u884c\u64cd\u4f5c\u91cd\u653e\uff0c\u7279\u70b9\u4e3a\uff1a\u6240\u6709\u8282\u70b9\u5bf9\u7b49\u90fd\u53ef\u4ee5\u8bfb\u5199\u3001\u6240\u6709\u8282\u70b9\u53ef\u4ee5\u540c\u65f6\u4e3a\u53d1\u5e03\u6216\u8005\u8ba2\u9605\u6216\u8005\u6df7\u5408\u5b58\u5728\u3002 \u4f9d\u8d56wal2json\u63d2\u4ef6","title":"\u903b\u8f91\u590d\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#_4","text":"\u4e3b\u5e93\u914d\u7f6epg_hba.conf\u5141\u8bb8\u5907\u5e93\u7684\u590d\u5236\u94fe\u63a5 host replication all 192.168.240.14/32 trust \u4e3b\u5e93\u914d\u7f6epostgresql.conf listen_address='*' max_wal_senders=5 # \u5927\u4e8e\u5907\u5e93\u6570\u91cf wal_level=hot_standby \u521d\u59cb\u5316\u5907\u5e93 pg_basebackup -h mdw -U postgres -F p -P -R -D /data/oscg/pgpool/data1 -p 11002 -l backuplog \u5907\u5e93\u7684postgresql.conf\u6dfb\u52a0\u4e3b\u5e93\u94fe\u63a5\u4fe1\u606f primary_conninfo='application_name=mdw1 user=postgres host=mdw port=11002 sslmode=disable sslcompression=1 target_session_attrs=any' \u751f\u4ea7\u5907\u5e93\u6807\u5fd7\u6587\u4ef6 touch /data/oscg/pgpool/data1/standby.signal \u542f\u52a8\u5907\u5e93 pg_ctl start -D data1 \u4e3b\u8282\u70b9\u67e5\u770b\u72b6\u6001 select * from pg_stat_replication;","title":"\u5f02\u6b65\u6d41\u590d\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#_5","text":"\u4e3b\u5e93\u914d\u7f6epg_hba.conf\u5141\u8bb8\u5907\u5e93\u7684\u590d\u5236\u94fe\u63a5 host replication all 192.168.240.14/32 trust \u4e3b\u5e93\u914d\u7f6epostgresql.conf listen_address='*' wal_level=logical # \u66f4\u6539solts\u6700\u5927\u6570\u91cf\uff08\u9ed8\u8ba4\u503c\u4e3a10\uff09\uff0cflink-cdc\u9ed8\u8ba4\u4e00\u5f20\u8868\u5360\u7528\u4e00\u4e2aslots \u4e0b\u9762\u5f00\u59cb\u662f\u53ef\u9009 max_replication_slots = 5 # max number of replication slots # \u66f4\u6539wal\u53d1\u9001\u6700\u5927\u8fdb\u7a0b\u6570\uff08\u9ed8\u8ba4\u503c\u4e3a10\uff09\uff0c\u8fd9\u4e2a\u503c\u548c\u4e0a\u9762\u7684solts\u8bbe\u7f6e\u4e00\u6837 max_wal_senders = 5 # max number of walsender processes # \u4e2d\u65ad\u90a3\u4e9b\u505c\u6b62\u6d3b\u52a8\u8d85\u8fc7\u6307\u5b9a\u6beb\u79d2\u6570\u7684\u590d\u5236\u8fde\u63a5\uff0c\u53ef\u4ee5\u9002\u5f53\u8bbe\u7f6e\u5927\u4e00\u70b9\uff08\u9ed8\u8ba460s\uff09 wal_sender_timeout = 180s # in milliseconds; 0 disable \u4e3b\u5e93\u521b\u5efa\u590d\u5236\u69fd select pg_create_logical_replication_slot('slotname','wal2json') --\u521b\u5efa\u76f8\u5e94\u7528\u6237 CREATE USER user WITH PASSWORD 'pwd'; -- \u7ed9\u7528\u6237\u590d\u5236\u6d41\u6743\u9650 ALTER ROLE user replication; -- \u7ed9\u7528\u6237\u767b\u5f55\u6570\u636e\u5e93\u6743\u9650 grant CONNECT ON DATABASE test to user; -- \u628a\u5f53\u524d\u5e93public\u4e0b\u6240\u6709\u8868\u67e5\u8be2\u6743\u9650\u8d4b\u7ed9\u7528\u6237 GRANT SELECT ON ALL TABLES IN SCHEMA public TO user; -- \u8bbe\u7f6e\u53d1\u5e03\u4e3atrue update pg_publication set puballtables=true where pubname is not null; -- \u628a\u6240\u6709\u8868\u8fdb\u884c\u53d1\u5e03 CREATE PUBLICATION dbz_publication FOR ALL TABLES; -- \u67e5\u8be2\u54ea\u4e9b\u8868\u5df2\u7ecf\u53d1\u5e03 select * from pg_publication_tables; -- \u66f4\u6539\u590d\u5236\u6807\u8bc6\u5305\u542b\u66f4\u65b0\u548c\u5220\u9664\u4e4b\u524d\u503c ALTER TABLE test0425 REPLICA IDENTITY FULL; -- \u67e5\u770b\u590d\u5236\u6807\u8bc6\uff08\u4e3af\u6807\u8bc6\u8bf4\u660e\u8bbe\u7f6e\u6210\u529f\uff09 select relreplident from pg_class where relname='test0425'; \u521d\u59cb\u5316\u5907\u5e93 pg_basebackup -h mdw -U postgres -F p -P -R -D /data/oscg/pgpool/data1 -p 11002 -l backuplog \u5907\u5e93\u7684postgresql.conf\u6dfb\u52a0\u4e3b\u5e93\u94fe\u63a5\u4fe1\u606f primary_conninfo='application_name=mdw1 user=postgres host=mdw port=11002 sslmode=disable sslcompression=1 target_session_attrs=any' \u751f\u4ea7\u5907\u5e93\u6807\u5fd7\u6587\u4ef6 touch /data/oscg/pgpool/data1/standby.signal \u542f\u52a8\u5907\u5e93 pg_ctl start -D data1 \u4e3b\u8282\u70b9\u67e5\u770b\u72b6\u6001 select * from pg_stat_replication;","title":"\u903b\u8f91\u590d\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#_6","text":"\u5173\u95ed\u4e3b\u8282\u70b9\uff08\u6a21\u62df\u6545\u969c\uff09 pg_ctl stop -D data0 \u63d0\u5347\u5907\u8282\u70b9\u4e3a\u4e3b\u8282\u70b9 #\u65b9\u5f0f1 pg_ctl promote -D data1 #\u65b9\u5f0f2 sql select pg_promote(true,60) \u67e5\u770b\u6570\u636e\u5e93\u72b6\u6001 pg_controldata -D /data/oscg/pgpool/data0|grep 'state' #\u8fd4\u56de\u7ed3\u679c\u6062\u590d\u6a21\u5f0f Database cluster state: in archive recovery #\u8fd4\u56de\u7ed3\u679c\u751f\u4ea7\u6a21\u5f0f Database cluster state: in production","title":"\u4e3b\u5907\u5207\u6362"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#_7","text":"\u539f\u5907\u8282\u70b9pg_hba.conf\u6dfb\u52a0\u539f\u4e3b\u8282\u70b9\u7684\u94fe\u63a5\u8bb8\u53ef host replication all 192.168.240.14/32 trust \u539f\u4e3b\u8282\u70b9\u6dfb\u52a0\u73b0\u4e3b\u8282\u70b9\uff08\u539f\u5907\u8282\u70b9\uff09\u7684\u94fe\u63a5\u65b9\u5f0f postgresql.conf primary_conninfo='application_name=mdw user=postgres host=mdw port=11002' \u521b\u5efa\u5907\u5e93\u6807\u5fd7 touch /data/oscg/pgpool/data0/standby.signal","title":"\u539f\u4e3b\u8282\u70b9\u4f5c\u4e3a\u5907\u8282\u70b9\u6dfb\u52a0\u8fdb\u96c6\u7fa4"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#pg_rewindpg_basebackup","text":"pg_rewind\u4f18\u52bf\uff1a\u652f\u6301\u589e\u91cf\u590d\u5236\uff0c\u5982\u679c\u5907\u8282\u70b9\u6302\u6389\u8f83\u957f\u65f6\u95f4\uff0c\u4e3b\u8282\u70b9\u4fdd\u7559\u7684\u65e5\u5fd7\u5df2\u7ecf\u4e0d\u591f\u8fdb\u884c\u540c\u6b65\u4e86\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u53ef\u4ee5\u4f7f\u7528pg_rewind\u8fdb\u884c\u589e\u91cf\u540c\u6b65\u4e00\u6b21\u6570\u636e\u518d\u5c1d\u8bd5\u62c9\u8d77\u3002 \u4f7f\u7528\u524d\u63d0\uff0c\u9700\u8981\u5728\u4e3b\u8282\u70b9postgresql.conf\u8bbe\u7f6e #\u5fc5\u987b\u8bbe\u7f6e wal_log_hints: on #\u6b64\u9879\u9ed8\u8ba4\u5b58\u5728 full_page_writes: on","title":"\u4f7f\u7528pg_rewind\u66ff\u4ee3pg_basebackup"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Pg%E5%8E%9F%E7%94%9F%E9%9B%86%E7%BE%A4%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/#_8","text":"","title":"\u9ad8\u53ef\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/","text":"Postgresql\u76f8\u5173 \u5e38\u7528\u914d\u7f6e max_connections \u5141\u8bb8\u7684\u6700\u5927\u5ba2\u6237\u7aef\u8fde\u63a5\u6570\u3002\u8fd9\u4e2a\u53c2\u6570\u8bbe\u7f6e\u5927\u5c0f\u548cwork_mem\u6709\u4e00\u4e9b\u5173\u7cfb\u3002\u914d\u7f6e\u7684\u8d8a\u9ad8\uff0c\u53ef\u80fd\u4f1a\u5360\u7528\u7cfb\u7edf\u66f4\u591a\u7684\u5185\u5b58\u3002\u901a\u5e38\u53ef\u4ee5\u8bbe\u7f6e\u6570\u767e\u4e2a\u8fde\u63a5\uff0c\u5982\u679c\u8981\u4f7f\u7528\u4e0a\u5343\u4e2a\u8fde\u63a5\uff0c\u5efa\u8bae\u914d\u7f6e\u8fde\u63a5\u6c60\u6765\u51cf\u5c11\u5f00\u9500\u3002 shared_buffers PostgreSQL\u4f7f\u7528\u81ea\u5df1\u7684\u7f13\u51b2\u533a\uff0c\u4e5f\u4f7f\u7528Linux\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2OS Cache\u3002\u8fd9\u5c31\u8bf4\u660e\u6570\u636e\u4e24\u6b21\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u9996\u5148\u662fPostgreSQL\u7f13\u51b2\u533a\uff0c\u7136\u540e\u662f\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2\u533a\u3002\u4e0e\u5176\u4ed6\u6570\u636e\u5e93\u4e0d\u540c\uff0cPostgreSQL\u4e0d\u63d0\u4f9b\u76f4\u63a5IO\uff0c\u6240\u4ee5\u8fd9\u53c8\u88ab\u79f0\u4e3a\u53cc\u7f13\u51b2\u3002PostgreSQL\u7f13\u51b2\u533a\u79f0\u4e3ashared_buffer\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u7269\u7406\u5185\u5b58\u76841/4\u3002\u800c\u5b9e\u9645\u914d\u7f6e\u53d6\u51b3\u4e8e\u786c\u4ef6\u914d\u7f6e\u548c\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u5982\u679c\u4f60\u7684\u5185\u5b58\u5f88\u5927\uff0c\u800c\u4f60\u53c8\u60f3\u591a\u7f13\u51b2\u4e00\u4e9b\u6570\u636e\u5230\u5185\u5b58\u4e2d\uff0c\u53ef\u4ee5\u7ee7\u7eed\u8c03\u5927shared_buffer\u3002 Effective_cache_size \u8fd9\u4e2a\u53c2\u6570\u4e3b\u8981\u7528\u4e8ePostgre\u67e5\u8be2\u4f18\u5316\u5668\u3002\u662f\u5355\u4e2a\u67e5\u8be2\u53ef\u7528\u7684\u78c1\u76d8\u9ad8\u901f\u7f13\u5b58\u7684\u6709\u6548\u5927\u5c0f\u7684\u4e00\u4e2a\u5047\u8bbe\uff0c\u662f\u4e00\u4e2a\u4f30\u7b97\u503c\uff0c\u5b83\u5e76\u4e0d\u5360\u636e\u7cfb\u7edf\u5185\u5b58\u3002\u7531\u4e8e\u4f18\u5316\u5668\u9700\u8981\u8fdb\u884c\u4f30\u7b97\u6210\u672c\uff0c\u8f83\u9ad8\u7684\u503c\u66f4\u6709\u53ef\u80fd\u4f7f\u7528\u7d22\u5f15\u626b\u63cf\uff0c\u8f83\u4f4e\u7684\u503c\u5219\u6709\u53ef\u80fd\u4f7f\u7528\u987a\u5e8f\u626b\u63cf\u3002\u4e00\u822c\u8fd9\u4e2a\u503c\u8bbe\u7f6e\u4e3a\u5185\u5b58\u76841/2\u662f\u6b63\u5e38\u4fdd\u5b88\u7684\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u4e3a\u5185\u5b58\u76843/4\u662f\u6bd4\u8f83\u63a8\u8350\u7684\u503c\u3002\u901a\u8fc7free\u547d\u4ee4\u67e5\u770b\u64cd\u4f5c\u7cfb\u7edf\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u60a8\u53ef\u80fd\u4f1a\u66f4\u597d\u7684\u4f30\u7b97\u8be5\u503c\u3002 [pg@e22 ~]$ free -g total used free shared buff/cache available Mem: 62 2 5 16 55 40 Swap: 7 0 7 work_mem \u8fd9\u4e2a\u53c2\u6570\u4e3b\u8981\u7528\u4e8e\u5199\u5165\u4e34\u65f6\u6587\u4ef6\u4e4b\u524d\u5185\u90e8\u6392\u5e8f\u64cd\u4f5c\u548c\u6563\u5217\u8868\u4f7f\u7528\u7684\u5185\u5b58\u91cf\uff0c\u589e\u52a0work_mem\u53c2\u6570\u5c06\u4f7fPostgreSQL\u53ef\u4ee5\u8fdb\u884c\u66f4\u5927\u7684\u5185\u5b58\u6392\u5e8f\u3002\u8fd9\u4e2a\u53c2\u6570\u548cmax_connections\u6709\u4e00\u4e9b\u5173\u7cfb\uff0c\u5047\u8bbe\u4f60\u8bbe\u7f6e\u4e3a30MB\uff0c\u521940\u4e2a\u7528\u6237\u540c\u65f6\u6267\u884c\u67e5\u8be2\u6392\u5e8f\uff0c\u5f88\u5feb\u5c31\u4f1a\u4f7f\u75281.2GB\u7684\u5b9e\u9645\u5185\u5b58\u3002\u540c\u65f6\u5bf9\u4e8e\u590d\u6742\u67e5\u8be2\uff0c\u53ef\u80fd\u4f1a\u8fd0\u884c\u591a\u4e2a\u6392\u5e8f\u548c\u6563\u5217\u64cd\u4f5c\uff0c\u4f8b\u5982\u6d89\u53ca\u52308\u5f20\u8868\u8fdb\u884c\u5408\u5e76\u6392\u5e8f\uff0c\u6b64\u65f6\u5c31\u9700\u89818\u500d\u7684work_mem\u3002 \u5982\u4e0b\u9762\u6848\u4f8b\u6240\u793a\uff0c\u8be5\u73af\u5883\u4f7f\u75284MB\u7684work_mem\uff0c\u5728\u6267\u884c\u6392\u5e8f\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u7684Sort Method\u662fexternal merge Disk\u3002 external merge Disk\u3002 kms=> explain (analyze,buffers) select * from KMS_BUSINESS_HALL_TOTAL order by buss_query_info; QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------- Gather Merge (cost=262167.99..567195.15 rows=2614336 width=52) (actual time=2782.203..5184.442 rows=3137204 loops=1) Workers Planned: 2 Workers Launched: 2 Buffers: shared hit=68 read=25939, temp read=28863 written=28947 -> Sort (cost=261167.97..264435.89 rows=1307168 width=52) (actual time=2760.566..3453.783 rows=1045735 loops=3) Sort Key: buss_query_info Sort Method: external merge Disk: 50568kB Worker 0: Sort Method: external merge Disk: 50840kB Worker 1: Sort Method: external merge Disk: 49944kB Buffers: shared hit=68 read=25939, temp read=28863 written=28947 -> Parallel Seq Scan on kms_business_hall_total (cost=0.00..39010.68 rows=1307168 width=52) (actual time=0.547..259.524 rows=1045735 loops=3) Buffers: shared read=25939 Planning Time: 0.540 ms Execution Time: 5461.516 ms (14 rows) \u5f53\u6211\u4eec\u628a\u53c2\u6570\u4fee\u6539\u6210512MB\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u770b\u5230Sort Method\u53d8\u6210\u4e86quicksort Memory\uff0c\u53d8\u6210\u4e86\u5185\u5b58\u6392\u5e8f\u3002 kms=> set work_mem to \"512MB\"; SET kms=> explain (analyze,buffers) select * from KMS_BUSINESS_HALL_TOTAL order by buss_query_info; QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------ Sort (cost=395831.79..403674.80 rows=3137204 width=52) (actual time=7870.826..8204.794 rows=3137204 loops=1) Sort Key: buss_query_info Sort Method: quicksort Memory: 359833kB Buffers: shared hit=25939 -> Seq Scan on kms_business_hall_total (cost=0.00..57311.04 rows=3137204 width=52) (actual time=0.019..373.067 rows=3137204 loops=1) Buffers: shared hit=25939 Planning Time: 0.081 ms Execution Time: 8419.994 ms (8 rows) maintenance_work_mem \u6307\u5b9a\u7ef4\u62a4\u64cd\u4f5c\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u91cf\uff0c\u4f8b\u5982\uff08Vacuum\u3001Create Index\u548cAlter Table Add Foreign Key\uff09\uff0c\u9ed8\u8ba4\u503c\u662f64MB\u3002\u7531\u4e8e\u901a\u5e38\u6b63\u5e38\u8fd0\u884c\u7684\u6570\u636e\u5e93\u4e2d\u4e0d\u4f1a\u6709\u5927\u91cf\u5e76\u53d1\u7684\u6b64\u7c7b\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u7684\u8f83\u5927\u4e00\u4e9b\uff0c\u63d0\u9ad8\u6e05\u7406\u548c\u521b\u5efa\u7d22\u5f15\u5916\u952e\u7684\u901f\u5ea6\u3002 postgres=# set maintenance_work_mem to \"64MB\"; SET Time: 1.971 ms postgres=# create index idx1_test on test(id); CREATE INDEX Time: 7483.621 ms (00:07.484) postgres=# set maintenance_work_mem to \"2GB\"; SET Time: 0.543 ms postgres=# drop index idx1_test; DROP INDEX Time: 133.984 ms postgres=# create index idx1_test on test(id); CREATE INDEX Time: 5661.018 ms (00:05.661) \u53ef\u4ee5\u770b\u5230\u5728\u4f7f\u7528\u9ed8\u8ba4\u768464MB\u521b\u5efa\u7d22\u5f15\uff0c\u901f\u5ea6\u4e3a7.4\u79d2\uff0c\u800c\u8bbe\u7f6e\u4e3a2GB\u540e\uff0c\u521b\u5efa\u901f\u5ea6\u662f5.6\u79d2 wal_sync_method \u6bcf\u6b21\u53d1\u751f\u4e8b\u52a1\u540e\uff0cPostgreSQL\u4f1a\u5f3a\u5236\u5c06\u63d0\u4ea4\u5199\u5230WAL\u65e5\u5fd7\u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u4f7f\u7528pg_test_fsync\u547d\u4ee4\u5728\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fdb\u884c\u6d4b\u8bd5\uff0cfdatasync\u662fLinux\u4e0a\u7684\u9ed8\u8ba4\u65b9\u6cd5\u3002\u5982\u4e0b\u6240\u793a\uff0c\u6211\u7684\u73af\u5883\u6d4b\u8bd5\u4e0b\u6765fdatasync\u8fd8\u662f\u901f\u5ea6\u53ef\u4ee5\u7684\u3002\u4e0d\u652f\u6301\u7684\u65b9\u6cd5\u50cffsync_writethrough\u76f4\u63a5\u663e\u793an/a\u3002 postgres=# show wal_sync_method ; wal_sync_method ----------------- fdatasync (1 row) [pg@e22 ~]$ pg_test_fsync -s 3 3 seconds per test O_DIRECT supported on this platform for open_datasync and open_sync. Compare file sync methods using one 8kB write: (in wal_sync_method preference order, except fdatasync is Linux's default) open_datasync 4782.871 ops/sec 209 usecs/op fdatasync 4935.556 ops/sec 203 usecs/op fsync 3781.254 ops/sec 264 usecs/op fsync_writethrough n/a open_sync 3850.219 ops/sec 260 usecs/op Compare file sync methods using two 8kB writes: (in wal_sync_method preference order, except fdatasync is Linux's default) open_datasync 2469.646 ops/sec 405 usecs/op fdatasync 4412.266 ops/sec 227 usecs/op fsync 3432.794 ops/sec 291 usecs/op fsync_writethrough n/a open_sync 1929.221 ops/sec 518 usecs/op Compare open_sync with different write sizes: (This is designed to compare the cost of writing 16kB in different write open_sync sizes.) 1 * 16kB open_sync write 3159.780 ops/sec 316 usecs/op 2 * 8kB open_sync writes 1944.723 ops/sec 514 usecs/op 4 * 4kB open_sync writes 993.173 ops/sec 1007 usecs/op 8 * 2kB open_sync writes 493.396 ops/sec 2027 usecs/op 16 * 1kB open_sync writes 249.762 ops/sec 4004 usecs/op Test if fsync on non-write file descriptor is honored: (If the times are similar, fsync() can sync data written on a different descriptor.) write, fsync, close 3719.973 ops/sec 269 usecs/op write, close, fsync 3651.820 ops/sec 274 usecs/op Non-sync'ed 8kB writes: write 400577.329 ops/sec 2 usecs/op wal_buffers \u4e8b\u52a1\u65e5\u5fd7\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0cPostgreSQL\u5c06WAL\u8bb0\u5f55\u5199\u5165\u7f13\u51b2\u533a\uff0c\u7136\u540e\u518d\u5c06\u7f13\u51b2\u533a\u5237\u65b0\u5230\u78c1\u76d8\u3002\u5728PostgreSQL 12\u7248\u4e2d\uff0c\u9ed8\u8ba4\u503c\u4e3a-1\uff0c\u4e5f\u5c31\u662f\u9009\u62e9\u7b49\u4e8eshared_buffers\u76841/32 \u3002\u5982\u679c\u81ea\u52a8\u7684\u9009\u62e9\u592a\u5927\u6216\u592a\u5c0f\u53ef\u4ee5\u624b\u5de5\u8bbe\u7f6e\u8be5\u503c\u3002\u4e00\u822c\u8003\u8651\u8bbe\u7f6e\u4e3a16MB\u3002 synchronous_commit \u5ba2\u6237\u7aef\u6267\u884c\u63d0\u4ea4\uff0c\u5e76\u4e14\u7b49\u5f85WAL\u5199\u5165\u78c1\u76d8\u4e4b\u540e\uff0c\u7136\u540e\u518d\u5c06\u6210\u529f\u72b6\u6001\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4e3aon\uff0cremote_apply\uff0cremote_write\uff0clocal\uff0coff\u7b49\u503c\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3aon\u3002\u5982\u679c\u8bbe\u7f6e\u4e3aoff\uff0c\u4f1a\u5173\u95edsync_commit\uff0c\u5ba2\u6237\u7aef\u63d0\u4ea4\u4e4b\u540e\u5c31\u7acb\u9a6c\u8fd4\u56de\uff0c\u4e0d\u7528\u7b49\u8bb0\u5f55\u5237\u65b0\u5230\u78c1\u76d8\u3002\u6b64\u65f6\u5982\u679cPostgreSQL\u5b9e\u4f8b\u5d29\u6e83\uff0c\u5219\u6700\u540e\u51e0\u4e2a\u5f02\u6b65\u63d0\u4ea4\u5c06\u4f1a\u4e22\u5931\u3002 default_statistics_target PostgreSQL\u4f7f\u7528\u7edf\u8ba1\u4fe1\u606f\u6765\u751f\u6210\u6267\u884c\u8ba1\u5212\u3002\u7edf\u8ba1\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8Analyze\u547d\u4ee4\u6216\u8005\u662fautovacuum\u8fdb\u7a0b\u542f\u52a8\u7684\u81ea\u52a8\u5206\u6790\u6765\u6536\u96c6\uff0cdefault_statistics_target\u53c2\u6570\u6307\u5b9a\u5728\u6536\u96c6\u548c\u8bb0\u5f55\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u65f6\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002\u9ed8\u8ba4\u503c\u4e3a100\u5bf9\u4e8e\u5927\u591a\u6570\u5de5\u4f5c\u8d1f\u8f7d\u662f\u6bd4\u8f83\u5408\u7406\u7684\uff0c\u5bf9\u4e8e\u975e\u5e38\u7b80\u5355\u7684\u67e5\u8be2\uff0c\u8f83\u5c0f\u7684\u503c\u53ef\u80fd\u4f1a\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u590d\u6742\u7684\u67e5\u8be2\uff08\u5c24\u5176\u662f\u9488\u5bf9\u5927\u578b\u8868\u7684\u67e5\u8be2\uff09\uff0c\u8f83\u5927\u7684\u503c\u53ef\u80fd\u4f1a\u66f4\u597d\u3002\u4e3a\u4e86\u4e0d\u8981\u4e00\u5200\u5207\uff0c\u53ef\u4ee5\u4f7f\u7528ALTER TABLE .. ALTER COLUMN .. SET STATISTICS\u8986\u76d6\u7279\u5b9a\u8868\u5217\u7684\u9ed8\u8ba4\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002 checkpoint_timeout\u3001max_wal_size\uff0cmin_wal_size\u3001checkpoint_completion_target \u4e86\u89e3\u8fd9\u4e24\u4e2a\u53c2\u6570\u4ee5\u524d\uff0c\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u4e0b\uff0c\u89e6\u53d1\u68c0\u67e5\u70b9\u7684\u51e0\u4e2a\u64cd\u4f5c\u3002 \u76f4\u63a5\u6267\u884ccheckpoint\u547d\u4ee4 \u6267\u884c\u9700\u8981\u68c0\u67e5\u70b9\u7684\u547d\u4ee4\uff08\u4f8b\u5982pg_start_backup,Create database,pg_ctl stop/start\u7b49\u7b49\uff09 \u81ea\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u4ee5\u6765\uff0c\u8fbe\u5230\u4e86\u5df2\u7ecf\u914d\u7f6e\u7684\u65f6\u95f4\u91cf\uff08checkpoint_timeout \uff09 \u81ea\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u4ee5\u6765\u751f\u6210\u7684WAL\u6570\u91cf\uff08max_wal_size\uff09 \u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u68c0\u67e5\u70b9\u5c06\u5728checkpoint_timeout=5min\u3002\u4e5f\u5c31\u662f\u6bcf5\u5206\u949f\u89e6\u53d1\u4e00\u6b21\u3002\u800cmax_wal_size\u8bbe\u7f6e\u662f\u81ea\u52a8\u68c0\u67e5\u70b9\u4e4b\u95f4\u589e\u957f\u7684\u6700\u5927\u9884\u5199\u65e5\u5fd7\u8bb0\u5f55\uff08WAL\uff09\u91cf\u3002\u9ed8\u8ba4\u662f1GB\uff0c\u5982\u679c\u8d85\u8fc7\u4e861GB\uff0c\u5219\u4f1a\u53d1\u751f\u68c0\u67e5\u70b9\u3002\u8fd9\u662f\u4e00\u4e2a\u8f6f\u9650\u5236\u3002\u5728\u4e00\u4e2a\u7279\u6b8a\u7684\u60c5\u51b5\u4e0b\uff0c\u6bd4\u5982\u7cfb\u7edf\u906d\u9047\u5230\u77ed\u65f6\u95f4\u7684\u9ad8\u8d1f\u8f7d\uff0c\u65e5\u5fd7\u4ea7\u751f\u51e0\u79d2\u79cd\u5c31\u53ef\u4ee5\u8fbe\u52301GB\uff0c\u8fd9\u4e2a\u901f\u5ea6\u5df2\u7ecf\u660e\u663e\u8d85\u8fc7\u4e86checkpoint_timeout \uff0cpg_wal\u76ee\u5f55\u7684\u5927\u5c0f\u4f1a\u6025\u5267\u589e\u52a0\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4ece\u65e5\u5fd7\u4e2d\u770b\u5230\u76f8\u5173\u7c7b\u4f3c\u7684\u8b66\u544a\u3002 LOG: checkpoints are occurring too frequently (9 seconds apart) HINT: Consider increasing the configuration parameter \"max_wal_size\". LOG: checkpoints are occurring too frequently (2 seconds apart) HINT: Consider increasing the configuration parameter \"max_wal_size\". \u6240\u4ee5\u8981\u5408\u7406\u914d\u7f6emax_wal_size\uff0c\u4ee5\u907f\u514d\u9891\u7e41\u7684\u8fdb\u884c\u68c0\u67e5\u70b9\u3002\u4e00\u822c\u63a8\u8350\u8bbe\u7f6e\u4e3a16GB\u4ee5\u4e0a\uff0c\u4e0d\u8fc7\u5177\u4f53\u8bbe\u7f6e\u591a\u5927\u8fd8\u9700\u8981\u548c\u5de5\u4f5c\u8d1f\u8377\u76f8\u5339\u914d\u3002 min_wal_size\u53c2\u6570\u662f\u53ea\u8981 WAL \u78c1\u76d8\u4f7f\u7528\u91cf\u4fdd\u6301\u5728\u8fd9\u4e2a\u8bbe\u7f6e\u4e4b\u4e0b\uff0c\u5728\u505a\u68c0\u67e5\u70b9\u65f6\uff0c\u65e7\u7684 WAL \u6587\u4ef6\u603b\u662f\u88ab\u56de\u6536\u4ee5\u4fbf\u672a\u6765\u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u88ab\u5220\u9664\u3002 \u800c\u68c0\u67e5\u70b9\u7684\u5199\u5165\u4e0d\u662f\u5168\u90e8\u7acb\u9a6c\u5b8c\u6210\u7684\uff0cPostgreSQL\u4f1a\u5c06\u4e00\u6b21\u68c0\u67e5\u70b9\u7684\u6240\u6709\u64cd\u4f5c\u5206\u6563\u5230\u4e00\u6bb5\u65f6\u95f4\u5185\u3002\u8fd9\u6bb5\u65f6\u95f4\u7531\u53c2\u6570checkpoint_completion_target\u63a7\u5236\uff0c\u5b83\u662f\u4e00\u4e2a\u5206\u6570\uff0c\u9ed8\u8ba4\u4e3a0.5\u3002\u4e5f\u5c31\u662f\u5728\u4e24\u6b21\u68c0\u67e5\u70b9\u4e4b\u95f4\u76840.5\u6bd4\u4f8b\u5b8c\u6210\u5199\u76d8\u64cd\u4f5c\u3002\u5982\u679c\u8bbe\u7f6e\u7684\u5f88\u5c0f\uff0c\u5219\u68c0\u67e5\u70b9\u8fdb\u7a0b\u5c31\u4f1a\u66f4\u52a0\u8fc5\u901f\u7684\u5199\u76d8\uff0c\u8bbe\u7f6e\u7684\u5f88\u5927\uff0c\u5219\u5c31\u4f1a\u6bd4\u8f83\u6162\u3002\u4e00\u822c\u63a8\u8350\u8bbe\u7f6e\u4e3a0.9\uff0c\u8ba9\u68c0\u67e5\u70b9\u7684\u5199\u5165\u5206\u6563\u4e00\u70b9\u3002\u4f46\u662f\u7f3a\u70b9\u5c31\u662f\u51fa\u73b0\u6545\u969c\u7684\u65f6\u5019\uff0c\u5f71\u54cd\u6062\u590d\u7684\u65f6\u95f4\u3002 \u53ef\u4ee5\u8f93\u5165\u53c2\u6570\u4f7f\u7528pgtune\u81ea\u52a8\u751f\u6210\u914d\u7f6e\u5efa\u8bae\uff1ahttps://pgtune.leopard.in.ua/#/ \u5916\u90e8\u8868 mysql/mariadb/tidb\u5916\u90e8\u8868 --\u4e3e\u4f8b\u4e2d\u672c\u5730\u6570\u636e\u5e93\u7528\u6237\u4e3auser --\u521b\u5efafdw\u63d2\u4ef6\uff08\u5982\u5bb9\u5668\u955c\u50cfpg13\u547d\u4ee4\u4e3aapt-get update && apt-get install -y postgresql-13-mysql-fdw) create extension mysql_fdw; --\u6ce8\u518c\u5916\u90e8\u670d\u52a1\u5668 create server outdb foreign data wrapper mysql_fdw options (host '123.123.123.123' ,port '3306'); --\u5728greenplum\u4e2d\uff0c\u5982\u679c\u4e0a\u9762\u547d\u4ee4\u7528pgadmin\u7528\u6237\u6267\u884c\u7684\u8bdd\uff0c\u9700\u8981\u5c06\u6240\u6709\u6743\u7ed9\u5230\u666e\u901a\u7528\u6237 ALTER SERVER \"outdb\" OWNER TO \"user\"; --\u521b\u5efa\u7528\u6237\u6620\u5c04 create user mapping for user server outdb options (username 'root',password 'password'); --\u521b\u5efa\u5916\u90e8\u8868 CREATE FOREIGN TABLE \"public\".\"out_yy_regions\" ( \"indexCode\" varchar(255), \"name\" varchar(255), \"parentIndexCode\" varchar(255), \"treeCode\" varchar(255), \"id\" int4 ) SERVER \"outdb\" OPTIONS (\"dbname\" 'mydb', \"table_name\" 'mytable'); oracle\u5916\u90e8\u8868 todo \u7269\u5316\u89c6\u56fe postgres\u4e2d\u7269\u5316\u89c6\u56fe\u53ef\u4ee5\u5c06\u9700\u8981\u4e00\u5b9a\u8ba1\u7b97\u91cf\u6216\u8005\u6570\u636e\u4f20\u8f93\uff08\u4f8b\u5982\u5916\u90e8\u8868\uff09\u8017\u65f6\u7684\u89c6\u56fe\u4eff\u771f\u6210\u4e3a\u4e00\u4e2a\u6570\u636e\u8868\uff0c\u518d\u8f85\u4ee5\u5b9a\u65f6\u5237\u65b0\u6216\u8005\u6309\u9700\u5237\u65b0\u7684\u673a\u5236\u6765\u4fbf\u6377\u7684\u4f7f\u7528\u8be5\u6570\u636e\uff1b \u521b\u5efa\u7269\u5316\u89c6\u56fe --\u5047\u8bbe\u5b58\u5728\u4e00\u4e2a\u5916\u90e8\u8868 out_tab1\u5176\u4e2d\u6709100\u4e07\u6570\u636e\uff0c\u5982\u679c\u4e0d\u505a\u7269\u5316\u89c6\u56fe\u7684\u8bdd\u6bcf\u6b21\u67e5\u8be2\u90fd\u4f1a\u53bb\u539f\u59cb\u6570\u636e\u5e93\u4e2d\u62ff\u8fd9100\u4e07\u7684\u6570\u636e\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u5bf9\u8017\u65f6\u654f\u611f\u7684\u64cd\u4f5c\u5341\u5206\u4e0d\u53cb\u597d\uff0c\u6b64\u65f6\u901a\u8fc7\u7269\u5316\u89c6\u56fe\u6765\u8fdb\u884c\u4f18\u5316\uff1b --\u521b\u5efa\u7a7a\u7684\u7269\u5316\u89c6\u56fe create MATERIALIZED view mv_out_tab1 as select * from out_tab1 with no data; --\u5982\u679c\u662fgreenplum\u8fd8\u9700\u8981\u589e\u52a0\u5206\u5e03\u952e\u7684\u58f0\u660e\uff0c\u4f8b\u5982\uff1acreate MATERIALIZED view mv_out_tab1 as select * from out_tab1 with no data Distributed by (id) --\u5237\u65b0\u6570\u636e refresh MATERIALIZED view mv_out_tab1; \u5e38\u7528\u6280\u5de7 domain \u521b\u5efa\u7c7b\u578b\u522b\u540d create domain amount as decimal(33, 18); create domain price as decimal(33, 18); \u81ea\u5b9a\u4e49\u679a\u4e3e\u7c7b\u578b \u4f7f\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u4f20\u5b57\u7b26\u4e32\uff0c\u5b9e\u9645\u5b58\u50a8\u662f\u6574\u6570\u3002 create type \u8fd8\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u66f4\u590d\u6742\u7684\u7c7b\u578b\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u3002create type side as enum ('buy', 'sell'); Heap-Only-Tuple \u548c fillfactor \u8fd9\u4e2a\u548cPG\u7684MVCC\u5b9e\u73b0\u6709\u5173\u7cfb\uff0c\u7b80\u5355\u7684\u8bf4\uff0cPG\u7684\u8868\u6570\u636e\u662f\u5b58\u5728\u65e0\u5e8f\u7684\u5806\u4e0a\u7684\uff0c\u5305\u62ec\u4e3b\u952e\u7684\u6240\u6709\u7d22\u5f15\u90fd\u662f\u5355\u72ec\u7684\uff0c\u7d22\u5f15\u5f15\u7528\u6570\u636e\u884c\u5728\u5806\u4e0a\u7684\u4f4d\u7f6e\u3002 \u52a0\u4e0aMVCC\u7684\u5b9e\u73b0\uff0cUpdate\u5176\u5b9e\u662fInsert+Delete\uff0c\u65b0\u7684\u884c\u6570\u636e\u5728\u5806\u4e0a\u7684\u4f4d\u7f6e\u53d1\u751f\u6539\u53d8\uff0c\u4f7f\u5f97\u9700\u8981\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u3002\u4e3a\u4e86\u4f18\u5316\u8fd9\u79cd\u60c5\u51b5\uff0c \u5982\u679c\u5728\u8be5\u6761\u6570\u636e\u76f8\u540c\u7684Page\u4e0a\u9762\u6709\u7a7a\u95f2\u4f4d\u7f6e\uff0c\u65b0\u63d2\u5165\u6570\u636e\u4f18\u5148\u653e\u5728\u76f8\u540c\u9875\u4e0a\uff0c\u5e76\u548c\u65e7\u7248\u672c\u6570\u636e\u5efa\u7acb\u94fe\u8868\u3002\u5728\u67e5\u8be2\u6570\u636e\u7684\u65f6\u5019\uff0c\u6839\u636e\u8fd9\u4e2a\u94fe\u8868\u518d\u53bb\u5904\u7406\u4e8b\u52a1\u53ef\u89c1\u6027\u7b49\u5224\u65ad\u3002 \u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u53bb\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u4e86\u3002\u5982\u679cPage\u4e0a\u6ca1\u6709\u7a7a\u95f2\u4f4d\u7f6e\u5c31\u6ca1\u529e\u6cd5\u4e86\u3002\u6240\u4ee5 create table \u7684\u65f6\u5019\u53ef\u4ee5\u6307\u5b9a fillfactor \u9009\u9879\uff0c\u9884\u5148\u7559\u51fa\u4e00\u4e9b\u4f4d\u7f6e\u3002 \u9002\u5408\u6570\u636e\u91cf\u4e0d\u5927\u4e14\u66f4\u65b0\u9891\u7e41\u7684\u573a\u666f\u3002 \u7528snowflake\u7b97\u6cd5\u751f\u6210\u552f\u4e00ID\u5f88\u5b9e\u7528\uff0c\u4f46\u662f\u5728PG\u4e0a\u6709\u4e2a\u95ee\u9898\uff0cPG\u9075\u5faaSQL\u6807\u51c6\uff0c\u4e0d\u652f\u6301\u65e0\u7b26\u53f764\u4f4d\u6574\u6570\u3002snowflake\u7559\u4e8641bit\u7ed9\u6beb\u79d2\u7ea7\u65f6\u95f4\u6233\uff0c\u53bb\u4e00\u4f4d\u7ed9\u7b26\u53f7\u4f4d\uff0c\u5269\u4e0b40\u4f4d\u3002 \u7b97\u4e00\u4e0b\u53d1\u73b02004\u5e74\u5c31\u6ea2\u51fa\u4e86\uff0c\u5176\u5b9e\u5c31\u7b97\u65e0\u7b26\u53f764\u4f4d\u6574\u6570\uff0c2039\u5e74\u4e5f\u5c31\u6ea2\u51fa\u4e86\u3002\u89e3\u51b3\u65b9\u6848\uff0c\u65f6\u95f4\u6233\u7edf\u4e00\u51cf\u53bb\u4e00\u4e2a\u6700\u8fd1\u7684\u65f6\u95f4\u70b9\uff0c\u77ac\u95f4\u591a\u51fa50\u5e74\u3002 \u5728PG\u91cc\u9762\u7528\u8fd9\u79cdID\uff0c\u7ed3\u5408\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u8fde\u65f6\u95f4\u6233\u5b57\u6bb5\u90fd\u7701\u4e86(PG12\u8c8c\u4f3c\u8981\u652f\u6301\u865a\u62df\u5b57\u6bb5\u4e86)\u3002\u81ea\u52a8\u5206\u8868\u4e5f\u53ef\u4ee5\u6309\u7167ID\u8fdb\u884c\uff0c\u8fbe\u5230\u6309\u65f6\u95f4\u6233\u5206\u8868\u4e00\u6837\u7684\u6548\u679c\uff0c\u8fd8\u80fd\u4fdd\u7559\u4e3b\u952e\u529f\u80fd\uff0c\u4e00\u4e3e\u591a\u5f97\u3002 \u6279\u91cfinsert/update/upsert/delete/move #\u6570\u636e\u5e93\u91cc\u9762\uff0c\u6279\u91cf\u64cd\u4f5c\u7684\u541e\u5410\u91cf\u548c\u5355\u6761\u6267\u884c\u4e0d\u5728\u4e00\u4e2a\u6570\u91cf\u7ea7\u3002insert\u6279\u91cf\u5927\u5bb6\u90fd\u77e5\u9053\uff1a insert into table values (1,3,3), (2,3,3), (3,3,3)... #\u7528psycopg2\u7684\u670b\u53cb\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c cur.executemany \u51fd\u6570\u5e76\u4e0d\u662f\u771f\u6279\u91cf\u64cd\u4f5c\uff0c\u4ed6\u8fd8\u662f\u751f\u6210\u4e00\u5806\u72ec\u7acb\u7684insert\u6267\u884c\uff0c\u771f\u6b63\u7684\u6279\u91cf\u64cd\u4f5c\u8981\u8fd9\u4e48\u5199\uff1a #postgresql\u6279\u91cf\u64cd\u4f5c import time import psycopg2 import psycopg2.extras db=psycopg2.connect(\"dbname=postgres user=postgres password=pwd host=127.0.0.1\") cur=db.cursor() #insert_values lst=[] for i in range(100_0000): lst.append(['name%s' % i,'text%s' % i]) cur.execute('truncate table ctest') ta=time.time() psycopg2.extras.execute_values(cur,\"\"\" insert into ctest(uname,text) values %s\"\"\",lst) cur.execute(\"commit\") print('use time:%s' % (time.time()-ta)) # use time:15.339413166046143 cur.execute(\"select count(1) cnt from ctest\") data=cur.fetchone() print(data) db.close() #update \u5982\u4f55\u6279\u91cf\u5462\uff1a with tmp(id, name) as (values (1, 'a'), (2, 'b'), (3, 'c')) update table set name=tmp.name from tmp where table.id=tmp.id; upsert: insert into table values (1,3,3), (2,3,3), (3,3,3)... on conflict (a) do update set a=table.a+excluded.a delete: delete from table where id = ANY[%s] #move, \u6709\u65f6\u5019\u6211\u4eec\u60f3\u628a\u6570\u636e\u6279\u91cf\u4ece\u4e00\u4e2a\u8868\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u8868\uff1a with moved_rows as ( with tmp(id, a, b) as (values %s) delete from t_old_table a using tmp where tmp.id=a.id returning a.* ) insert into t_new_table select * from moved_rows mvcc snapshot\u3002\u95ee\u9898\uff1a\u5982\u4f55\u628a\u4e00\u4e2a\u5e76\u53d1\u8bbf\u95ee\u7684\u8868\u4e00\u81f4\u7684\u5206\u5272\u6210\u591a\u6bb5\uff0c\u6bd4\u5982\u6211\u4eec\u60f3\u8981\u5206\u6279\u6b21\u5bf9\u91cc\u9762\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u4f46\u4e0d\u5e0c\u671b\u6f0f\u6570\u636e\uff0c\u4e5f\u4e0d\u5e0c\u671b\u91cd\u590d\u5904\u7406\u3002 \u6ce8\u89e3 \u81ea\u589eID\uff1f\u5728\u5e76\u53d1\u8bbf\u95ee\u4e0b\uff0c\u81ea\u589eID\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u8fde\u7eed\u6ca1\u6709\u95f4\u65ad\u7684\uff0c\u6bd4\u5982\u4e2d\u95f4\u53ef\u80fd\u8fd8\u6709\u4e8b\u52a1\u6ca1\u6709\u63d0\u4ea4\u3002 \u89e3\u51b3\u65b9\u6848\u662f\uff0c\u5728\u8868\u91cc\u4fdd\u5b58 txid_current() \uff0c\u8981\u5206\u6bb5\u7684\u65f6\u5019\uff0c\u8bb0\u5f55\u4e0b txid_current_snapshot() \uff0csnapshot\u7531\u4e09\u4e2a\u4fe1\u606f\u7ec4\u6210\uff1axmin, xmax, xip\u3002 xmin\u662f\u5f53\u524d\u8fdb\u884c\u4e2d\u7684\u4e8b\u52a1ID\u4e2d\u6700\u5c0f\u7684\uff0c\u4e5f\u5c31\u662f\u6bd4xmin\u66f4\u5c0f\u7684\u4e8b\u52a1\u90fd\u5df2\u63d0\u4ea4\u6216\u8005\u64a4\u9500\uff0cxmax\u662f\u4e0b\u4e00\u4e2a\u5c06\u8981\u5206\u914d\u7684\u4e8b\u52a1ID\uff0c\u6bd4xmax\u66f4\u5927\u7684\u4e8b\u52a1\u8fd8\u6ca1\u51fa\u73b0\uff0cxip\u662f\u5f53\u524d\u8fdb\u884c\u4e2d\u7684\u4e8b\u52a1ID\u5217\u8868\u3002 \u90a3\u4e48\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u53d1\u751f\u5728\u8fd9\u4e2asnapshot\u4e4b\u524d\u5c31\u5f88\u660e\u786e\u4e86\uff0c txid < xmin or (txid < xmax and txid not in xip) \uff0c\u5bf9\u5e94\u7684\u51fd\u6570\u662f txid_visible_in_snapshot(txid, snapshot) \u3002 pipelinedb\uff0c\u6d41\u5f0f\u805a\u5408 create foreign table trade (time timestamp with time zone, price decimal, amount decimal) server pipelinedb; create view kline_1m as select date_trunc('minute', time) as time, keyed_min(time, price) as open, max(price) as high, min(price) as low, keyed_max(time, price) as close, sum(amount) as volume, sum(amount * price) as value, count(*) as count from trade group by 1; create unique index kline_1m_time_idx on kline_1m(time); \u7136\u540e\u53ea\u7ba1\u75af\u72c2\u5bf9 trade \u8868insert\uff0c kline_1m \u4f1a\u81ea\u52a8\u66f4\u65b0\u805a\u5408\u6570\u636e\uff0c\u800c\u4e14 trade \u4e0d\u4f1a\u4fdd\u7559\u6570\u636e\u3002 timescaledb\uff0c\u65f6\u5e8f\u6570\u636e\u5e93\uff0c\u6309\u7167\u65f6\u95f4\u6233\u5b57\u6bb5\u5168\u81ea\u52a8\u5206\u8868\u3002\u867d\u7136pg\u6709\u4e86\u58f0\u660e\u5f0f\u5206\u8868\uff0c\u4f46\u8fd8\u662f\u4e0d\u5982\u5168\u81ea\u52a8\u6765\u7684\u723d\u3002\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u8868\u6570\u636e\u91cf\u8fc7\u592a\u591a\u5f71\u54cd\u6027\u80fd\u4e86\u3002 large in\u4f18\u5316 Large In:\u67e5\u8be2\u6761\u4ef6\u4e2d\u6709\u4f8b\u5982 id in (1,2,3\u2026\u2026) \u5f88\u591a\u5f88\u591a\u503c\u7684list\u7684\u60c5\u51b5\uff0c\u5f53\u4f20\u5165\u503c\u8fbe\u5230\u4e0a\u4e07\u540e\u6548\u7387\u5f88\u4f4e\u3002 \u5e38\u7528\u65b9\u5f0f\uff1a in-list\uff1a where id in (1,2,3\u2026\u2026) \u5e38\u91cf\u5b50\u67e5\u8be2: location in (values ('\u6668\u5e02'),('\u78ca\u5e02'),('\u9759\u5e02')) limit 100 \u4e34\u65f6\u8868\u67e5\u8be2\uff08cte\uff09\uff1a with tmp_ids as ( select unnest('{2100698,2100699,2100700,2100701,2100702,2100703,2100704,2100705,2100706,2100707,2100708,2100709,2100710,2100711,2100712,2100713,2100714,2100715,2100716}'::bigint[]) id ) select * from czrkjbxx ck,tmp_ids tids where ck.pid =tids.id \u5b9e\u6d4b \uff1a1000\u4e2a\u503c\u5dee\u8ddd\u4e0d\u660e\u663e\uff0c\u5728\u8fbe\u523010000\u4e2a\u503c\u4e4b\u540e\uff0cIN-list\u9700\u898118\u79d2\u5de6\u53f3\uff0c\u5e38\u91cf\u5b50\u67e5\u8be2\u9700\u89814\u79d2\uff0c\u4e34\u65f6\u8868\u53ea\u9700\u8981347 ms\u3002\u4e34\u65f6\u8868\u7684\u6548\u7387\u662f\u6700\u9ad8\u7684\u3002","title":"Postgresql\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#postgresql","text":"","title":"Postgresql\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#_1","text":"","title":"\u5e38\u7528\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#max_connections","text":"\u5141\u8bb8\u7684\u6700\u5927\u5ba2\u6237\u7aef\u8fde\u63a5\u6570\u3002\u8fd9\u4e2a\u53c2\u6570\u8bbe\u7f6e\u5927\u5c0f\u548cwork_mem\u6709\u4e00\u4e9b\u5173\u7cfb\u3002\u914d\u7f6e\u7684\u8d8a\u9ad8\uff0c\u53ef\u80fd\u4f1a\u5360\u7528\u7cfb\u7edf\u66f4\u591a\u7684\u5185\u5b58\u3002\u901a\u5e38\u53ef\u4ee5\u8bbe\u7f6e\u6570\u767e\u4e2a\u8fde\u63a5\uff0c\u5982\u679c\u8981\u4f7f\u7528\u4e0a\u5343\u4e2a\u8fde\u63a5\uff0c\u5efa\u8bae\u914d\u7f6e\u8fde\u63a5\u6c60\u6765\u51cf\u5c11\u5f00\u9500\u3002","title":"max_connections"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#shared_buffers","text":"PostgreSQL\u4f7f\u7528\u81ea\u5df1\u7684\u7f13\u51b2\u533a\uff0c\u4e5f\u4f7f\u7528Linux\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2OS Cache\u3002\u8fd9\u5c31\u8bf4\u660e\u6570\u636e\u4e24\u6b21\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u9996\u5148\u662fPostgreSQL\u7f13\u51b2\u533a\uff0c\u7136\u540e\u662f\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2\u533a\u3002\u4e0e\u5176\u4ed6\u6570\u636e\u5e93\u4e0d\u540c\uff0cPostgreSQL\u4e0d\u63d0\u4f9b\u76f4\u63a5IO\uff0c\u6240\u4ee5\u8fd9\u53c8\u88ab\u79f0\u4e3a\u53cc\u7f13\u51b2\u3002PostgreSQL\u7f13\u51b2\u533a\u79f0\u4e3ashared_buffer\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u7269\u7406\u5185\u5b58\u76841/4\u3002\u800c\u5b9e\u9645\u914d\u7f6e\u53d6\u51b3\u4e8e\u786c\u4ef6\u914d\u7f6e\u548c\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u5982\u679c\u4f60\u7684\u5185\u5b58\u5f88\u5927\uff0c\u800c\u4f60\u53c8\u60f3\u591a\u7f13\u51b2\u4e00\u4e9b\u6570\u636e\u5230\u5185\u5b58\u4e2d\uff0c\u53ef\u4ee5\u7ee7\u7eed\u8c03\u5927shared_buffer\u3002","title":"shared_buffers"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#effective_cache_size","text":"\u8fd9\u4e2a\u53c2\u6570\u4e3b\u8981\u7528\u4e8ePostgre\u67e5\u8be2\u4f18\u5316\u5668\u3002\u662f\u5355\u4e2a\u67e5\u8be2\u53ef\u7528\u7684\u78c1\u76d8\u9ad8\u901f\u7f13\u5b58\u7684\u6709\u6548\u5927\u5c0f\u7684\u4e00\u4e2a\u5047\u8bbe\uff0c\u662f\u4e00\u4e2a\u4f30\u7b97\u503c\uff0c\u5b83\u5e76\u4e0d\u5360\u636e\u7cfb\u7edf\u5185\u5b58\u3002\u7531\u4e8e\u4f18\u5316\u5668\u9700\u8981\u8fdb\u884c\u4f30\u7b97\u6210\u672c\uff0c\u8f83\u9ad8\u7684\u503c\u66f4\u6709\u53ef\u80fd\u4f7f\u7528\u7d22\u5f15\u626b\u63cf\uff0c\u8f83\u4f4e\u7684\u503c\u5219\u6709\u53ef\u80fd\u4f7f\u7528\u987a\u5e8f\u626b\u63cf\u3002\u4e00\u822c\u8fd9\u4e2a\u503c\u8bbe\u7f6e\u4e3a\u5185\u5b58\u76841/2\u662f\u6b63\u5e38\u4fdd\u5b88\u7684\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u4e3a\u5185\u5b58\u76843/4\u662f\u6bd4\u8f83\u63a8\u8350\u7684\u503c\u3002\u901a\u8fc7free\u547d\u4ee4\u67e5\u770b\u64cd\u4f5c\u7cfb\u7edf\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u60a8\u53ef\u80fd\u4f1a\u66f4\u597d\u7684\u4f30\u7b97\u8be5\u503c\u3002 [pg@e22 ~]$ free -g total used free shared buff/cache available Mem: 62 2 5 16 55 40 Swap: 7 0 7","title":"Effective_cache_size"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#work_mem","text":"\u8fd9\u4e2a\u53c2\u6570\u4e3b\u8981\u7528\u4e8e\u5199\u5165\u4e34\u65f6\u6587\u4ef6\u4e4b\u524d\u5185\u90e8\u6392\u5e8f\u64cd\u4f5c\u548c\u6563\u5217\u8868\u4f7f\u7528\u7684\u5185\u5b58\u91cf\uff0c\u589e\u52a0work_mem\u53c2\u6570\u5c06\u4f7fPostgreSQL\u53ef\u4ee5\u8fdb\u884c\u66f4\u5927\u7684\u5185\u5b58\u6392\u5e8f\u3002\u8fd9\u4e2a\u53c2\u6570\u548cmax_connections\u6709\u4e00\u4e9b\u5173\u7cfb\uff0c\u5047\u8bbe\u4f60\u8bbe\u7f6e\u4e3a30MB\uff0c\u521940\u4e2a\u7528\u6237\u540c\u65f6\u6267\u884c\u67e5\u8be2\u6392\u5e8f\uff0c\u5f88\u5feb\u5c31\u4f1a\u4f7f\u75281.2GB\u7684\u5b9e\u9645\u5185\u5b58\u3002\u540c\u65f6\u5bf9\u4e8e\u590d\u6742\u67e5\u8be2\uff0c\u53ef\u80fd\u4f1a\u8fd0\u884c\u591a\u4e2a\u6392\u5e8f\u548c\u6563\u5217\u64cd\u4f5c\uff0c\u4f8b\u5982\u6d89\u53ca\u52308\u5f20\u8868\u8fdb\u884c\u5408\u5e76\u6392\u5e8f\uff0c\u6b64\u65f6\u5c31\u9700\u89818\u500d\u7684work_mem\u3002 \u5982\u4e0b\u9762\u6848\u4f8b\u6240\u793a\uff0c\u8be5\u73af\u5883\u4f7f\u75284MB\u7684work_mem\uff0c\u5728\u6267\u884c\u6392\u5e8f\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u7684Sort Method\u662fexternal merge Disk\u3002 external merge Disk\u3002 kms=> explain (analyze,buffers) select * from KMS_BUSINESS_HALL_TOTAL order by buss_query_info; QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------- Gather Merge (cost=262167.99..567195.15 rows=2614336 width=52) (actual time=2782.203..5184.442 rows=3137204 loops=1) Workers Planned: 2 Workers Launched: 2 Buffers: shared hit=68 read=25939, temp read=28863 written=28947 -> Sort (cost=261167.97..264435.89 rows=1307168 width=52) (actual time=2760.566..3453.783 rows=1045735 loops=3) Sort Key: buss_query_info Sort Method: external merge Disk: 50568kB Worker 0: Sort Method: external merge Disk: 50840kB Worker 1: Sort Method: external merge Disk: 49944kB Buffers: shared hit=68 read=25939, temp read=28863 written=28947 -> Parallel Seq Scan on kms_business_hall_total (cost=0.00..39010.68 rows=1307168 width=52) (actual time=0.547..259.524 rows=1045735 loops=3) Buffers: shared read=25939 Planning Time: 0.540 ms Execution Time: 5461.516 ms (14 rows) \u5f53\u6211\u4eec\u628a\u53c2\u6570\u4fee\u6539\u6210512MB\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u770b\u5230Sort Method\u53d8\u6210\u4e86quicksort Memory\uff0c\u53d8\u6210\u4e86\u5185\u5b58\u6392\u5e8f\u3002 kms=> set work_mem to \"512MB\"; SET kms=> explain (analyze,buffers) select * from KMS_BUSINESS_HALL_TOTAL order by buss_query_info; QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------ Sort (cost=395831.79..403674.80 rows=3137204 width=52) (actual time=7870.826..8204.794 rows=3137204 loops=1) Sort Key: buss_query_info Sort Method: quicksort Memory: 359833kB Buffers: shared hit=25939 -> Seq Scan on kms_business_hall_total (cost=0.00..57311.04 rows=3137204 width=52) (actual time=0.019..373.067 rows=3137204 loops=1) Buffers: shared hit=25939 Planning Time: 0.081 ms Execution Time: 8419.994 ms (8 rows)","title":"work_mem"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#maintenance_work_mem","text":"\u6307\u5b9a\u7ef4\u62a4\u64cd\u4f5c\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u91cf\uff0c\u4f8b\u5982\uff08Vacuum\u3001Create Index\u548cAlter Table Add Foreign Key\uff09\uff0c\u9ed8\u8ba4\u503c\u662f64MB\u3002\u7531\u4e8e\u901a\u5e38\u6b63\u5e38\u8fd0\u884c\u7684\u6570\u636e\u5e93\u4e2d\u4e0d\u4f1a\u6709\u5927\u91cf\u5e76\u53d1\u7684\u6b64\u7c7b\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u7684\u8f83\u5927\u4e00\u4e9b\uff0c\u63d0\u9ad8\u6e05\u7406\u548c\u521b\u5efa\u7d22\u5f15\u5916\u952e\u7684\u901f\u5ea6\u3002 postgres=# set maintenance_work_mem to \"64MB\"; SET Time: 1.971 ms postgres=# create index idx1_test on test(id); CREATE INDEX Time: 7483.621 ms (00:07.484) postgres=# set maintenance_work_mem to \"2GB\"; SET Time: 0.543 ms postgres=# drop index idx1_test; DROP INDEX Time: 133.984 ms postgres=# create index idx1_test on test(id); CREATE INDEX Time: 5661.018 ms (00:05.661) \u53ef\u4ee5\u770b\u5230\u5728\u4f7f\u7528\u9ed8\u8ba4\u768464MB\u521b\u5efa\u7d22\u5f15\uff0c\u901f\u5ea6\u4e3a7.4\u79d2\uff0c\u800c\u8bbe\u7f6e\u4e3a2GB\u540e\uff0c\u521b\u5efa\u901f\u5ea6\u662f5.6\u79d2","title":"maintenance_work_mem"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#wal_sync_method","text":"\u6bcf\u6b21\u53d1\u751f\u4e8b\u52a1\u540e\uff0cPostgreSQL\u4f1a\u5f3a\u5236\u5c06\u63d0\u4ea4\u5199\u5230WAL\u65e5\u5fd7\u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u4f7f\u7528pg_test_fsync\u547d\u4ee4\u5728\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fdb\u884c\u6d4b\u8bd5\uff0cfdatasync\u662fLinux\u4e0a\u7684\u9ed8\u8ba4\u65b9\u6cd5\u3002\u5982\u4e0b\u6240\u793a\uff0c\u6211\u7684\u73af\u5883\u6d4b\u8bd5\u4e0b\u6765fdatasync\u8fd8\u662f\u901f\u5ea6\u53ef\u4ee5\u7684\u3002\u4e0d\u652f\u6301\u7684\u65b9\u6cd5\u50cffsync_writethrough\u76f4\u63a5\u663e\u793an/a\u3002 postgres=# show wal_sync_method ; wal_sync_method ----------------- fdatasync (1 row) [pg@e22 ~]$ pg_test_fsync -s 3 3 seconds per test O_DIRECT supported on this platform for open_datasync and open_sync. Compare file sync methods using one 8kB write: (in wal_sync_method preference order, except fdatasync is Linux's default) open_datasync 4782.871 ops/sec 209 usecs/op fdatasync 4935.556 ops/sec 203 usecs/op fsync 3781.254 ops/sec 264 usecs/op fsync_writethrough n/a open_sync 3850.219 ops/sec 260 usecs/op Compare file sync methods using two 8kB writes: (in wal_sync_method preference order, except fdatasync is Linux's default) open_datasync 2469.646 ops/sec 405 usecs/op fdatasync 4412.266 ops/sec 227 usecs/op fsync 3432.794 ops/sec 291 usecs/op fsync_writethrough n/a open_sync 1929.221 ops/sec 518 usecs/op Compare open_sync with different write sizes: (This is designed to compare the cost of writing 16kB in different write open_sync sizes.) 1 * 16kB open_sync write 3159.780 ops/sec 316 usecs/op 2 * 8kB open_sync writes 1944.723 ops/sec 514 usecs/op 4 * 4kB open_sync writes 993.173 ops/sec 1007 usecs/op 8 * 2kB open_sync writes 493.396 ops/sec 2027 usecs/op 16 * 1kB open_sync writes 249.762 ops/sec 4004 usecs/op Test if fsync on non-write file descriptor is honored: (If the times are similar, fsync() can sync data written on a different descriptor.) write, fsync, close 3719.973 ops/sec 269 usecs/op write, close, fsync 3651.820 ops/sec 274 usecs/op Non-sync'ed 8kB writes: write 400577.329 ops/sec 2 usecs/op","title":"wal_sync_method"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#wal_buffers","text":"\u4e8b\u52a1\u65e5\u5fd7\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0cPostgreSQL\u5c06WAL\u8bb0\u5f55\u5199\u5165\u7f13\u51b2\u533a\uff0c\u7136\u540e\u518d\u5c06\u7f13\u51b2\u533a\u5237\u65b0\u5230\u78c1\u76d8\u3002\u5728PostgreSQL 12\u7248\u4e2d\uff0c\u9ed8\u8ba4\u503c\u4e3a-1\uff0c\u4e5f\u5c31\u662f\u9009\u62e9\u7b49\u4e8eshared_buffers\u76841/32 \u3002\u5982\u679c\u81ea\u52a8\u7684\u9009\u62e9\u592a\u5927\u6216\u592a\u5c0f\u53ef\u4ee5\u624b\u5de5\u8bbe\u7f6e\u8be5\u503c\u3002\u4e00\u822c\u8003\u8651\u8bbe\u7f6e\u4e3a16MB\u3002","title":"wal_buffers"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#synchronous_commit","text":"\u5ba2\u6237\u7aef\u6267\u884c\u63d0\u4ea4\uff0c\u5e76\u4e14\u7b49\u5f85WAL\u5199\u5165\u78c1\u76d8\u4e4b\u540e\uff0c\u7136\u540e\u518d\u5c06\u6210\u529f\u72b6\u6001\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4e3aon\uff0cremote_apply\uff0cremote_write\uff0clocal\uff0coff\u7b49\u503c\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3aon\u3002\u5982\u679c\u8bbe\u7f6e\u4e3aoff\uff0c\u4f1a\u5173\u95edsync_commit\uff0c\u5ba2\u6237\u7aef\u63d0\u4ea4\u4e4b\u540e\u5c31\u7acb\u9a6c\u8fd4\u56de\uff0c\u4e0d\u7528\u7b49\u8bb0\u5f55\u5237\u65b0\u5230\u78c1\u76d8\u3002\u6b64\u65f6\u5982\u679cPostgreSQL\u5b9e\u4f8b\u5d29\u6e83\uff0c\u5219\u6700\u540e\u51e0\u4e2a\u5f02\u6b65\u63d0\u4ea4\u5c06\u4f1a\u4e22\u5931\u3002","title":"synchronous_commit"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#default_statistics_target","text":"PostgreSQL\u4f7f\u7528\u7edf\u8ba1\u4fe1\u606f\u6765\u751f\u6210\u6267\u884c\u8ba1\u5212\u3002\u7edf\u8ba1\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8Analyze\u547d\u4ee4\u6216\u8005\u662fautovacuum\u8fdb\u7a0b\u542f\u52a8\u7684\u81ea\u52a8\u5206\u6790\u6765\u6536\u96c6\uff0cdefault_statistics_target\u53c2\u6570\u6307\u5b9a\u5728\u6536\u96c6\u548c\u8bb0\u5f55\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u65f6\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002\u9ed8\u8ba4\u503c\u4e3a100\u5bf9\u4e8e\u5927\u591a\u6570\u5de5\u4f5c\u8d1f\u8f7d\u662f\u6bd4\u8f83\u5408\u7406\u7684\uff0c\u5bf9\u4e8e\u975e\u5e38\u7b80\u5355\u7684\u67e5\u8be2\uff0c\u8f83\u5c0f\u7684\u503c\u53ef\u80fd\u4f1a\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u590d\u6742\u7684\u67e5\u8be2\uff08\u5c24\u5176\u662f\u9488\u5bf9\u5927\u578b\u8868\u7684\u67e5\u8be2\uff09\uff0c\u8f83\u5927\u7684\u503c\u53ef\u80fd\u4f1a\u66f4\u597d\u3002\u4e3a\u4e86\u4e0d\u8981\u4e00\u5200\u5207\uff0c\u53ef\u4ee5\u4f7f\u7528ALTER TABLE .. ALTER COLUMN .. SET STATISTICS\u8986\u76d6\u7279\u5b9a\u8868\u5217\u7684\u9ed8\u8ba4\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002","title":"default_statistics_target"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#checkpoint_timeoutmax_wal_sizemin_wal_sizecheckpoint_completion_target","text":"\u4e86\u89e3\u8fd9\u4e24\u4e2a\u53c2\u6570\u4ee5\u524d\uff0c\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u4e0b\uff0c\u89e6\u53d1\u68c0\u67e5\u70b9\u7684\u51e0\u4e2a\u64cd\u4f5c\u3002 \u76f4\u63a5\u6267\u884ccheckpoint\u547d\u4ee4 \u6267\u884c\u9700\u8981\u68c0\u67e5\u70b9\u7684\u547d\u4ee4\uff08\u4f8b\u5982pg_start_backup,Create database,pg_ctl stop/start\u7b49\u7b49\uff09 \u81ea\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u4ee5\u6765\uff0c\u8fbe\u5230\u4e86\u5df2\u7ecf\u914d\u7f6e\u7684\u65f6\u95f4\u91cf\uff08checkpoint_timeout \uff09 \u81ea\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u4ee5\u6765\u751f\u6210\u7684WAL\u6570\u91cf\uff08max_wal_size\uff09 \u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u68c0\u67e5\u70b9\u5c06\u5728checkpoint_timeout=5min\u3002\u4e5f\u5c31\u662f\u6bcf5\u5206\u949f\u89e6\u53d1\u4e00\u6b21\u3002\u800cmax_wal_size\u8bbe\u7f6e\u662f\u81ea\u52a8\u68c0\u67e5\u70b9\u4e4b\u95f4\u589e\u957f\u7684\u6700\u5927\u9884\u5199\u65e5\u5fd7\u8bb0\u5f55\uff08WAL\uff09\u91cf\u3002\u9ed8\u8ba4\u662f1GB\uff0c\u5982\u679c\u8d85\u8fc7\u4e861GB\uff0c\u5219\u4f1a\u53d1\u751f\u68c0\u67e5\u70b9\u3002\u8fd9\u662f\u4e00\u4e2a\u8f6f\u9650\u5236\u3002\u5728\u4e00\u4e2a\u7279\u6b8a\u7684\u60c5\u51b5\u4e0b\uff0c\u6bd4\u5982\u7cfb\u7edf\u906d\u9047\u5230\u77ed\u65f6\u95f4\u7684\u9ad8\u8d1f\u8f7d\uff0c\u65e5\u5fd7\u4ea7\u751f\u51e0\u79d2\u79cd\u5c31\u53ef\u4ee5\u8fbe\u52301GB\uff0c\u8fd9\u4e2a\u901f\u5ea6\u5df2\u7ecf\u660e\u663e\u8d85\u8fc7\u4e86checkpoint_timeout \uff0cpg_wal\u76ee\u5f55\u7684\u5927\u5c0f\u4f1a\u6025\u5267\u589e\u52a0\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4ece\u65e5\u5fd7\u4e2d\u770b\u5230\u76f8\u5173\u7c7b\u4f3c\u7684\u8b66\u544a\u3002 LOG: checkpoints are occurring too frequently (9 seconds apart) HINT: Consider increasing the configuration parameter \"max_wal_size\". LOG: checkpoints are occurring too frequently (2 seconds apart) HINT: Consider increasing the configuration parameter \"max_wal_size\". \u6240\u4ee5\u8981\u5408\u7406\u914d\u7f6emax_wal_size\uff0c\u4ee5\u907f\u514d\u9891\u7e41\u7684\u8fdb\u884c\u68c0\u67e5\u70b9\u3002\u4e00\u822c\u63a8\u8350\u8bbe\u7f6e\u4e3a16GB\u4ee5\u4e0a\uff0c\u4e0d\u8fc7\u5177\u4f53\u8bbe\u7f6e\u591a\u5927\u8fd8\u9700\u8981\u548c\u5de5\u4f5c\u8d1f\u8377\u76f8\u5339\u914d\u3002 min_wal_size\u53c2\u6570\u662f\u53ea\u8981 WAL \u78c1\u76d8\u4f7f\u7528\u91cf\u4fdd\u6301\u5728\u8fd9\u4e2a\u8bbe\u7f6e\u4e4b\u4e0b\uff0c\u5728\u505a\u68c0\u67e5\u70b9\u65f6\uff0c\u65e7\u7684 WAL \u6587\u4ef6\u603b\u662f\u88ab\u56de\u6536\u4ee5\u4fbf\u672a\u6765\u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u88ab\u5220\u9664\u3002 \u800c\u68c0\u67e5\u70b9\u7684\u5199\u5165\u4e0d\u662f\u5168\u90e8\u7acb\u9a6c\u5b8c\u6210\u7684\uff0cPostgreSQL\u4f1a\u5c06\u4e00\u6b21\u68c0\u67e5\u70b9\u7684\u6240\u6709\u64cd\u4f5c\u5206\u6563\u5230\u4e00\u6bb5\u65f6\u95f4\u5185\u3002\u8fd9\u6bb5\u65f6\u95f4\u7531\u53c2\u6570checkpoint_completion_target\u63a7\u5236\uff0c\u5b83\u662f\u4e00\u4e2a\u5206\u6570\uff0c\u9ed8\u8ba4\u4e3a0.5\u3002\u4e5f\u5c31\u662f\u5728\u4e24\u6b21\u68c0\u67e5\u70b9\u4e4b\u95f4\u76840.5\u6bd4\u4f8b\u5b8c\u6210\u5199\u76d8\u64cd\u4f5c\u3002\u5982\u679c\u8bbe\u7f6e\u7684\u5f88\u5c0f\uff0c\u5219\u68c0\u67e5\u70b9\u8fdb\u7a0b\u5c31\u4f1a\u66f4\u52a0\u8fc5\u901f\u7684\u5199\u76d8\uff0c\u8bbe\u7f6e\u7684\u5f88\u5927\uff0c\u5219\u5c31\u4f1a\u6bd4\u8f83\u6162\u3002\u4e00\u822c\u63a8\u8350\u8bbe\u7f6e\u4e3a0.9\uff0c\u8ba9\u68c0\u67e5\u70b9\u7684\u5199\u5165\u5206\u6563\u4e00\u70b9\u3002\u4f46\u662f\u7f3a\u70b9\u5c31\u662f\u51fa\u73b0\u6545\u969c\u7684\u65f6\u5019\uff0c\u5f71\u54cd\u6062\u590d\u7684\u65f6\u95f4\u3002 \u53ef\u4ee5\u8f93\u5165\u53c2\u6570\u4f7f\u7528pgtune\u81ea\u52a8\u751f\u6210\u914d\u7f6e\u5efa\u8bae\uff1ahttps://pgtune.leopard.in.ua/#/","title":"checkpoint_timeout\u3001max_wal_size\uff0cmin_wal_size\u3001checkpoint_completion_target"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#_2","text":"","title":"\u5916\u90e8\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#mysqlmariadbtidb","text":"--\u4e3e\u4f8b\u4e2d\u672c\u5730\u6570\u636e\u5e93\u7528\u6237\u4e3auser --\u521b\u5efafdw\u63d2\u4ef6\uff08\u5982\u5bb9\u5668\u955c\u50cfpg13\u547d\u4ee4\u4e3aapt-get update && apt-get install -y postgresql-13-mysql-fdw) create extension mysql_fdw; --\u6ce8\u518c\u5916\u90e8\u670d\u52a1\u5668 create server outdb foreign data wrapper mysql_fdw options (host '123.123.123.123' ,port '3306'); --\u5728greenplum\u4e2d\uff0c\u5982\u679c\u4e0a\u9762\u547d\u4ee4\u7528pgadmin\u7528\u6237\u6267\u884c\u7684\u8bdd\uff0c\u9700\u8981\u5c06\u6240\u6709\u6743\u7ed9\u5230\u666e\u901a\u7528\u6237 ALTER SERVER \"outdb\" OWNER TO \"user\"; --\u521b\u5efa\u7528\u6237\u6620\u5c04 create user mapping for user server outdb options (username 'root',password 'password'); --\u521b\u5efa\u5916\u90e8\u8868 CREATE FOREIGN TABLE \"public\".\"out_yy_regions\" ( \"indexCode\" varchar(255), \"name\" varchar(255), \"parentIndexCode\" varchar(255), \"treeCode\" varchar(255), \"id\" int4 ) SERVER \"outdb\" OPTIONS (\"dbname\" 'mydb', \"table_name\" 'mytable');","title":"mysql/mariadb/tidb\u5916\u90e8\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#oracle","text":"todo","title":"oracle\u5916\u90e8\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#_3","text":"postgres\u4e2d\u7269\u5316\u89c6\u56fe\u53ef\u4ee5\u5c06\u9700\u8981\u4e00\u5b9a\u8ba1\u7b97\u91cf\u6216\u8005\u6570\u636e\u4f20\u8f93\uff08\u4f8b\u5982\u5916\u90e8\u8868\uff09\u8017\u65f6\u7684\u89c6\u56fe\u4eff\u771f\u6210\u4e3a\u4e00\u4e2a\u6570\u636e\u8868\uff0c\u518d\u8f85\u4ee5\u5b9a\u65f6\u5237\u65b0\u6216\u8005\u6309\u9700\u5237\u65b0\u7684\u673a\u5236\u6765\u4fbf\u6377\u7684\u4f7f\u7528\u8be5\u6570\u636e\uff1b","title":"\u7269\u5316\u89c6\u56fe"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#_4","text":"--\u5047\u8bbe\u5b58\u5728\u4e00\u4e2a\u5916\u90e8\u8868 out_tab1\u5176\u4e2d\u6709100\u4e07\u6570\u636e\uff0c\u5982\u679c\u4e0d\u505a\u7269\u5316\u89c6\u56fe\u7684\u8bdd\u6bcf\u6b21\u67e5\u8be2\u90fd\u4f1a\u53bb\u539f\u59cb\u6570\u636e\u5e93\u4e2d\u62ff\u8fd9100\u4e07\u7684\u6570\u636e\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u5bf9\u8017\u65f6\u654f\u611f\u7684\u64cd\u4f5c\u5341\u5206\u4e0d\u53cb\u597d\uff0c\u6b64\u65f6\u901a\u8fc7\u7269\u5316\u89c6\u56fe\u6765\u8fdb\u884c\u4f18\u5316\uff1b --\u521b\u5efa\u7a7a\u7684\u7269\u5316\u89c6\u56fe create MATERIALIZED view mv_out_tab1 as select * from out_tab1 with no data; --\u5982\u679c\u662fgreenplum\u8fd8\u9700\u8981\u589e\u52a0\u5206\u5e03\u952e\u7684\u58f0\u660e\uff0c\u4f8b\u5982\uff1acreate MATERIALIZED view mv_out_tab1 as select * from out_tab1 with no data Distributed by (id) --\u5237\u65b0\u6570\u636e refresh MATERIALIZED view mv_out_tab1;","title":"\u521b\u5efa\u7269\u5316\u89c6\u56fe"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#_5","text":"domain \u521b\u5efa\u7c7b\u578b\u522b\u540d create domain amount as decimal(33, 18); create domain price as decimal(33, 18); \u81ea\u5b9a\u4e49\u679a\u4e3e\u7c7b\u578b \u4f7f\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u4f20\u5b57\u7b26\u4e32\uff0c\u5b9e\u9645\u5b58\u50a8\u662f\u6574\u6570\u3002 create type \u8fd8\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u66f4\u590d\u6742\u7684\u7c7b\u578b\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u3002create type side as enum ('buy', 'sell'); Heap-Only-Tuple \u548c fillfactor \u8fd9\u4e2a\u548cPG\u7684MVCC\u5b9e\u73b0\u6709\u5173\u7cfb\uff0c\u7b80\u5355\u7684\u8bf4\uff0cPG\u7684\u8868\u6570\u636e\u662f\u5b58\u5728\u65e0\u5e8f\u7684\u5806\u4e0a\u7684\uff0c\u5305\u62ec\u4e3b\u952e\u7684\u6240\u6709\u7d22\u5f15\u90fd\u662f\u5355\u72ec\u7684\uff0c\u7d22\u5f15\u5f15\u7528\u6570\u636e\u884c\u5728\u5806\u4e0a\u7684\u4f4d\u7f6e\u3002 \u52a0\u4e0aMVCC\u7684\u5b9e\u73b0\uff0cUpdate\u5176\u5b9e\u662fInsert+Delete\uff0c\u65b0\u7684\u884c\u6570\u636e\u5728\u5806\u4e0a\u7684\u4f4d\u7f6e\u53d1\u751f\u6539\u53d8\uff0c\u4f7f\u5f97\u9700\u8981\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u3002\u4e3a\u4e86\u4f18\u5316\u8fd9\u79cd\u60c5\u51b5\uff0c \u5982\u679c\u5728\u8be5\u6761\u6570\u636e\u76f8\u540c\u7684Page\u4e0a\u9762\u6709\u7a7a\u95f2\u4f4d\u7f6e\uff0c\u65b0\u63d2\u5165\u6570\u636e\u4f18\u5148\u653e\u5728\u76f8\u540c\u9875\u4e0a\uff0c\u5e76\u548c\u65e7\u7248\u672c\u6570\u636e\u5efa\u7acb\u94fe\u8868\u3002\u5728\u67e5\u8be2\u6570\u636e\u7684\u65f6\u5019\uff0c\u6839\u636e\u8fd9\u4e2a\u94fe\u8868\u518d\u53bb\u5904\u7406\u4e8b\u52a1\u53ef\u89c1\u6027\u7b49\u5224\u65ad\u3002 \u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u53bb\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u4e86\u3002\u5982\u679cPage\u4e0a\u6ca1\u6709\u7a7a\u95f2\u4f4d\u7f6e\u5c31\u6ca1\u529e\u6cd5\u4e86\u3002\u6240\u4ee5 create table \u7684\u65f6\u5019\u53ef\u4ee5\u6307\u5b9a fillfactor \u9009\u9879\uff0c\u9884\u5148\u7559\u51fa\u4e00\u4e9b\u4f4d\u7f6e\u3002 \u9002\u5408\u6570\u636e\u91cf\u4e0d\u5927\u4e14\u66f4\u65b0\u9891\u7e41\u7684\u573a\u666f\u3002 \u7528snowflake\u7b97\u6cd5\u751f\u6210\u552f\u4e00ID\u5f88\u5b9e\u7528\uff0c\u4f46\u662f\u5728PG\u4e0a\u6709\u4e2a\u95ee\u9898\uff0cPG\u9075\u5faaSQL\u6807\u51c6\uff0c\u4e0d\u652f\u6301\u65e0\u7b26\u53f764\u4f4d\u6574\u6570\u3002snowflake\u7559\u4e8641bit\u7ed9\u6beb\u79d2\u7ea7\u65f6\u95f4\u6233\uff0c\u53bb\u4e00\u4f4d\u7ed9\u7b26\u53f7\u4f4d\uff0c\u5269\u4e0b40\u4f4d\u3002 \u7b97\u4e00\u4e0b\u53d1\u73b02004\u5e74\u5c31\u6ea2\u51fa\u4e86\uff0c\u5176\u5b9e\u5c31\u7b97\u65e0\u7b26\u53f764\u4f4d\u6574\u6570\uff0c2039\u5e74\u4e5f\u5c31\u6ea2\u51fa\u4e86\u3002\u89e3\u51b3\u65b9\u6848\uff0c\u65f6\u95f4\u6233\u7edf\u4e00\u51cf\u53bb\u4e00\u4e2a\u6700\u8fd1\u7684\u65f6\u95f4\u70b9\uff0c\u77ac\u95f4\u591a\u51fa50\u5e74\u3002 \u5728PG\u91cc\u9762\u7528\u8fd9\u79cdID\uff0c\u7ed3\u5408\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u8fde\u65f6\u95f4\u6233\u5b57\u6bb5\u90fd\u7701\u4e86(PG12\u8c8c\u4f3c\u8981\u652f\u6301\u865a\u62df\u5b57\u6bb5\u4e86)\u3002\u81ea\u52a8\u5206\u8868\u4e5f\u53ef\u4ee5\u6309\u7167ID\u8fdb\u884c\uff0c\u8fbe\u5230\u6309\u65f6\u95f4\u6233\u5206\u8868\u4e00\u6837\u7684\u6548\u679c\uff0c\u8fd8\u80fd\u4fdd\u7559\u4e3b\u952e\u529f\u80fd\uff0c\u4e00\u4e3e\u591a\u5f97\u3002 \u6279\u91cfinsert/update/upsert/delete/move #\u6570\u636e\u5e93\u91cc\u9762\uff0c\u6279\u91cf\u64cd\u4f5c\u7684\u541e\u5410\u91cf\u548c\u5355\u6761\u6267\u884c\u4e0d\u5728\u4e00\u4e2a\u6570\u91cf\u7ea7\u3002insert\u6279\u91cf\u5927\u5bb6\u90fd\u77e5\u9053\uff1a insert into table values (1,3,3), (2,3,3), (3,3,3)... #\u7528psycopg2\u7684\u670b\u53cb\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c cur.executemany \u51fd\u6570\u5e76\u4e0d\u662f\u771f\u6279\u91cf\u64cd\u4f5c\uff0c\u4ed6\u8fd8\u662f\u751f\u6210\u4e00\u5806\u72ec\u7acb\u7684insert\u6267\u884c\uff0c\u771f\u6b63\u7684\u6279\u91cf\u64cd\u4f5c\u8981\u8fd9\u4e48\u5199\uff1a #postgresql\u6279\u91cf\u64cd\u4f5c import time import psycopg2 import psycopg2.extras db=psycopg2.connect(\"dbname=postgres user=postgres password=pwd host=127.0.0.1\") cur=db.cursor() #insert_values lst=[] for i in range(100_0000): lst.append(['name%s' % i,'text%s' % i]) cur.execute('truncate table ctest') ta=time.time() psycopg2.extras.execute_values(cur,\"\"\" insert into ctest(uname,text) values %s\"\"\",lst) cur.execute(\"commit\") print('use time:%s' % (time.time()-ta)) # use time:15.339413166046143 cur.execute(\"select count(1) cnt from ctest\") data=cur.fetchone() print(data) db.close() #update \u5982\u4f55\u6279\u91cf\u5462\uff1a with tmp(id, name) as (values (1, 'a'), (2, 'b'), (3, 'c')) update table set name=tmp.name from tmp where table.id=tmp.id; upsert: insert into table values (1,3,3), (2,3,3), (3,3,3)... on conflict (a) do update set a=table.a+excluded.a delete: delete from table where id = ANY[%s] #move, \u6709\u65f6\u5019\u6211\u4eec\u60f3\u628a\u6570\u636e\u6279\u91cf\u4ece\u4e00\u4e2a\u8868\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u8868\uff1a with moved_rows as ( with tmp(id, a, b) as (values %s) delete from t_old_table a using tmp where tmp.id=a.id returning a.* ) insert into t_new_table select * from moved_rows mvcc snapshot\u3002\u95ee\u9898\uff1a\u5982\u4f55\u628a\u4e00\u4e2a\u5e76\u53d1\u8bbf\u95ee\u7684\u8868\u4e00\u81f4\u7684\u5206\u5272\u6210\u591a\u6bb5\uff0c\u6bd4\u5982\u6211\u4eec\u60f3\u8981\u5206\u6279\u6b21\u5bf9\u91cc\u9762\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u4f46\u4e0d\u5e0c\u671b\u6f0f\u6570\u636e\uff0c\u4e5f\u4e0d\u5e0c\u671b\u91cd\u590d\u5904\u7406\u3002 \u6ce8\u89e3 \u81ea\u589eID\uff1f\u5728\u5e76\u53d1\u8bbf\u95ee\u4e0b\uff0c\u81ea\u589eID\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u8fde\u7eed\u6ca1\u6709\u95f4\u65ad\u7684\uff0c\u6bd4\u5982\u4e2d\u95f4\u53ef\u80fd\u8fd8\u6709\u4e8b\u52a1\u6ca1\u6709\u63d0\u4ea4\u3002 \u89e3\u51b3\u65b9\u6848\u662f\uff0c\u5728\u8868\u91cc\u4fdd\u5b58 txid_current() \uff0c\u8981\u5206\u6bb5\u7684\u65f6\u5019\uff0c\u8bb0\u5f55\u4e0b txid_current_snapshot() \uff0csnapshot\u7531\u4e09\u4e2a\u4fe1\u606f\u7ec4\u6210\uff1axmin, xmax, xip\u3002 xmin\u662f\u5f53\u524d\u8fdb\u884c\u4e2d\u7684\u4e8b\u52a1ID\u4e2d\u6700\u5c0f\u7684\uff0c\u4e5f\u5c31\u662f\u6bd4xmin\u66f4\u5c0f\u7684\u4e8b\u52a1\u90fd\u5df2\u63d0\u4ea4\u6216\u8005\u64a4\u9500\uff0cxmax\u662f\u4e0b\u4e00\u4e2a\u5c06\u8981\u5206\u914d\u7684\u4e8b\u52a1ID\uff0c\u6bd4xmax\u66f4\u5927\u7684\u4e8b\u52a1\u8fd8\u6ca1\u51fa\u73b0\uff0cxip\u662f\u5f53\u524d\u8fdb\u884c\u4e2d\u7684\u4e8b\u52a1ID\u5217\u8868\u3002 \u90a3\u4e48\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u53d1\u751f\u5728\u8fd9\u4e2asnapshot\u4e4b\u524d\u5c31\u5f88\u660e\u786e\u4e86\uff0c txid < xmin or (txid < xmax and txid not in xip) \uff0c\u5bf9\u5e94\u7684\u51fd\u6570\u662f txid_visible_in_snapshot(txid, snapshot) \u3002 pipelinedb\uff0c\u6d41\u5f0f\u805a\u5408 create foreign table trade (time timestamp with time zone, price decimal, amount decimal) server pipelinedb; create view kline_1m as select date_trunc('minute', time) as time, keyed_min(time, price) as open, max(price) as high, min(price) as low, keyed_max(time, price) as close, sum(amount) as volume, sum(amount * price) as value, count(*) as count from trade group by 1; create unique index kline_1m_time_idx on kline_1m(time); \u7136\u540e\u53ea\u7ba1\u75af\u72c2\u5bf9 trade \u8868insert\uff0c kline_1m \u4f1a\u81ea\u52a8\u66f4\u65b0\u805a\u5408\u6570\u636e\uff0c\u800c\u4e14 trade \u4e0d\u4f1a\u4fdd\u7559\u6570\u636e\u3002 timescaledb\uff0c\u65f6\u5e8f\u6570\u636e\u5e93\uff0c\u6309\u7167\u65f6\u95f4\u6233\u5b57\u6bb5\u5168\u81ea\u52a8\u5206\u8868\u3002\u867d\u7136pg\u6709\u4e86\u58f0\u660e\u5f0f\u5206\u8868\uff0c\u4f46\u8fd8\u662f\u4e0d\u5982\u5168\u81ea\u52a8\u6765\u7684\u723d\u3002\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u8868\u6570\u636e\u91cf\u8fc7\u592a\u591a\u5f71\u54cd\u6027\u80fd\u4e86\u3002","title":"\u5e38\u7528\u6280\u5de7"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql/#large-in","text":"Large In:\u67e5\u8be2\u6761\u4ef6\u4e2d\u6709\u4f8b\u5982 id in (1,2,3\u2026\u2026) \u5f88\u591a\u5f88\u591a\u503c\u7684list\u7684\u60c5\u51b5\uff0c\u5f53\u4f20\u5165\u503c\u8fbe\u5230\u4e0a\u4e07\u540e\u6548\u7387\u5f88\u4f4e\u3002 \u5e38\u7528\u65b9\u5f0f\uff1a in-list\uff1a where id in (1,2,3\u2026\u2026) \u5e38\u91cf\u5b50\u67e5\u8be2: location in (values ('\u6668\u5e02'),('\u78ca\u5e02'),('\u9759\u5e02')) limit 100 \u4e34\u65f6\u8868\u67e5\u8be2\uff08cte\uff09\uff1a with tmp_ids as ( select unnest('{2100698,2100699,2100700,2100701,2100702,2100703,2100704,2100705,2100706,2100707,2100708,2100709,2100710,2100711,2100712,2100713,2100714,2100715,2100716}'::bigint[]) id ) select * from czrkjbxx ck,tmp_ids tids where ck.pid =tids.id \u5b9e\u6d4b \uff1a1000\u4e2a\u503c\u5dee\u8ddd\u4e0d\u660e\u663e\uff0c\u5728\u8fbe\u523010000\u4e2a\u503c\u4e4b\u540e\uff0cIN-list\u9700\u898118\u79d2\u5de6\u53f3\uff0c\u5e38\u91cf\u5b50\u67e5\u8be2\u9700\u89814\u79d2\uff0c\u4e34\u65f6\u8868\u53ea\u9700\u8981347 ms\u3002\u4e34\u65f6\u8868\u7684\u6548\u7387\u662f\u6700\u9ad8\u7684\u3002","title":"large in\u4f18\u5316"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/","text":"\u5e38\u7528\u914d\u7f6e max_connections \u5141\u8bb8\u7684\u6700\u5927\u5ba2\u6237\u7aef\u8fde\u63a5\u6570\u3002\u8fd9\u4e2a\u53c2\u6570\u8bbe\u7f6e\u5927\u5c0f\u548cwork_mem\u6709\u4e00\u4e9b\u5173\u7cfb\u3002\u914d\u7f6e\u7684\u8d8a\u9ad8\uff0c\u53ef\u80fd\u4f1a\u5360\u7528\u7cfb\u7edf\u66f4\u591a\u7684\u5185\u5b58\u3002\u901a\u5e38\u53ef\u4ee5\u8bbe\u7f6e\u6570\u767e\u4e2a\u8fde\u63a5\uff0c\u5982\u679c\u8981\u4f7f\u7528\u4e0a\u5343\u4e2a\u8fde\u63a5\uff0c\u5efa\u8bae\u914d\u7f6e\u8fde\u63a5\u6c60\u6765\u51cf\u5c11\u5f00\u9500\u3002 shared_buffers PostgreSQL\u4f7f\u7528\u81ea\u5df1\u7684\u7f13\u51b2\u533a\uff0c\u4e5f\u4f7f\u7528Linux\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2OS Cache\u3002\u8fd9\u5c31\u8bf4\u660e\u6570\u636e\u4e24\u6b21\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u9996\u5148\u662fPostgreSQL\u7f13\u51b2\u533a\uff0c\u7136\u540e\u662f\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2\u533a\u3002\u4e0e\u5176\u4ed6\u6570\u636e\u5e93\u4e0d\u540c\uff0cPostgreSQL\u4e0d\u63d0\u4f9b\u76f4\u63a5IO\uff0c\u6240\u4ee5\u8fd9\u53c8\u88ab\u79f0\u4e3a\u53cc\u7f13\u51b2\u3002PostgreSQL\u7f13\u51b2\u533a\u79f0\u4e3ashared_buffer\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u7269\u7406\u5185\u5b58\u76841/4\u3002\u800c\u5b9e\u9645\u914d\u7f6e\u53d6\u51b3\u4e8e\u786c\u4ef6\u914d\u7f6e\u548c\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u5982\u679c\u4f60\u7684\u5185\u5b58\u5f88\u5927\uff0c\u800c\u4f60\u53c8\u60f3\u591a\u7f13\u51b2\u4e00\u4e9b\u6570\u636e\u5230\u5185\u5b58\u4e2d\uff0c\u53ef\u4ee5\u7ee7\u7eed\u8c03\u5927shared_buffer\u3002 Effective_cache_size \u8fd9\u4e2a\u53c2\u6570\u4e3b\u8981\u7528\u4e8ePostgre\u67e5\u8be2\u4f18\u5316\u5668\u3002\u662f\u5355\u4e2a\u67e5\u8be2\u53ef\u7528\u7684\u78c1\u76d8\u9ad8\u901f\u7f13\u5b58\u7684\u6709\u6548\u5927\u5c0f\u7684\u4e00\u4e2a\u5047\u8bbe\uff0c\u662f\u4e00\u4e2a\u4f30\u7b97\u503c\uff0c\u5b83\u5e76\u4e0d\u5360\u636e\u7cfb\u7edf\u5185\u5b58\u3002\u7531\u4e8e\u4f18\u5316\u5668\u9700\u8981\u8fdb\u884c\u4f30\u7b97\u6210\u672c\uff0c\u8f83\u9ad8\u7684\u503c\u66f4\u6709\u53ef\u80fd\u4f7f\u7528\u7d22\u5f15\u626b\u63cf\uff0c\u8f83\u4f4e\u7684\u503c\u5219\u6709\u53ef\u80fd\u4f7f\u7528\u987a\u5e8f\u626b\u63cf\u3002\u4e00\u822c\u8fd9\u4e2a\u503c\u8bbe\u7f6e\u4e3a\u5185\u5b58\u76841/2\u662f\u6b63\u5e38\u4fdd\u5b88\u7684\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u4e3a\u5185\u5b58\u76843/4\u662f\u6bd4\u8f83\u63a8\u8350\u7684\u503c\u3002\u901a\u8fc7free\u547d\u4ee4\u67e5\u770b\u64cd\u4f5c\u7cfb\u7edf\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u60a8\u53ef\u80fd\u4f1a\u66f4\u597d\u7684\u4f30\u7b97\u8be5\u503c\u3002 [pg@e22 ~]$ free -g total used free shared buff/cache available Mem: 62 2 5 16 55 40 Swap: 7 0 7 work_mem \u8fd9\u4e2a\u53c2\u6570\u4e3b\u8981\u7528\u4e8e\u5199\u5165\u4e34\u65f6\u6587\u4ef6\u4e4b\u524d\u5185\u90e8\u6392\u5e8f\u64cd\u4f5c\u548c\u6563\u5217\u8868\u4f7f\u7528\u7684\u5185\u5b58\u91cf\uff0c\u589e\u52a0work_mem\u53c2\u6570\u5c06\u4f7fPostgreSQL\u53ef\u4ee5\u8fdb\u884c\u66f4\u5927\u7684\u5185\u5b58\u6392\u5e8f\u3002\u8fd9\u4e2a\u53c2\u6570\u548cmax_connections\u6709\u4e00\u4e9b\u5173\u7cfb\uff0c\u5047\u8bbe\u4f60\u8bbe\u7f6e\u4e3a30MB\uff0c\u521940\u4e2a\u7528\u6237\u540c\u65f6\u6267\u884c\u67e5\u8be2\u6392\u5e8f\uff0c\u5f88\u5feb\u5c31\u4f1a\u4f7f\u75281.2GB\u7684\u5b9e\u9645\u5185\u5b58\u3002\u540c\u65f6\u5bf9\u4e8e\u590d\u6742\u67e5\u8be2\uff0c\u53ef\u80fd\u4f1a\u8fd0\u884c\u591a\u4e2a\u6392\u5e8f\u548c\u6563\u5217\u64cd\u4f5c\uff0c\u4f8b\u5982\u6d89\u53ca\u52308\u5f20\u8868\u8fdb\u884c\u5408\u5e76\u6392\u5e8f\uff0c\u6b64\u65f6\u5c31\u9700\u89818\u500d\u7684work_mem\u3002 \u5982\u4e0b\u9762\u6848\u4f8b\u6240\u793a\uff0c\u8be5\u73af\u5883\u4f7f\u75284MB\u7684work_mem\uff0c\u5728\u6267\u884c\u6392\u5e8f\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u7684Sort Method\u662fexternal merge Disk\u3002 external merge Disk\u3002 kms=> explain (analyze,buffers) select * from KMS_BUSINESS_HALL_TOTAL order by buss_query_info; QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------- Gather Merge (cost=262167.99..567195.15 rows=2614336 width=52) (actual time=2782.203..5184.442 rows=3137204 loops=1) Workers Planned: 2 Workers Launched: 2 Buffers: shared hit=68 read=25939, temp read=28863 written=28947 -> Sort (cost=261167.97..264435.89 rows=1307168 width=52) (actual time=2760.566..3453.783 rows=1045735 loops=3) Sort Key: buss_query_info Sort Method: external merge Disk: 50568kB Worker 0: Sort Method: external merge Disk: 50840kB Worker 1: Sort Method: external merge Disk: 49944kB Buffers: shared hit=68 read=25939, temp read=28863 written=28947 -> Parallel Seq Scan on kms_business_hall_total (cost=0.00..39010.68 rows=1307168 width=52) (actual time=0.547..259.524 rows=1045735 loops=3) Buffers: shared read=25939 Planning Time: 0.540 ms Execution Time: 5461.516 ms (14 rows) \u5f53\u6211\u4eec\u628a\u53c2\u6570\u4fee\u6539\u6210512MB\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u770b\u5230Sort Method\u53d8\u6210\u4e86quicksort Memory\uff0c\u53d8\u6210\u4e86\u5185\u5b58\u6392\u5e8f\u3002 kms=> set work_mem to \"512MB\"; SET kms=> explain (analyze,buffers) select * from KMS_BUSINESS_HALL_TOTAL order by buss_query_info; QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------ Sort (cost=395831.79..403674.80 rows=3137204 width=52) (actual time=7870.826..8204.794 rows=3137204 loops=1) Sort Key: buss_query_info Sort Method: quicksort Memory: 359833kB Buffers: shared hit=25939 -> Seq Scan on kms_business_hall_total (cost=0.00..57311.04 rows=3137204 width=52) (actual time=0.019..373.067 rows=3137204 loops=1) Buffers: shared hit=25939 Planning Time: 0.081 ms Execution Time: 8419.994 ms (8 rows) maintenance_work_mem \u6307\u5b9a\u7ef4\u62a4\u64cd\u4f5c\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u91cf\uff0c\u4f8b\u5982\uff08Vacuum\u3001Create Index\u548cAlter Table Add Foreign Key\uff09\uff0c\u9ed8\u8ba4\u503c\u662f64MB\u3002\u7531\u4e8e\u901a\u5e38\u6b63\u5e38\u8fd0\u884c\u7684\u6570\u636e\u5e93\u4e2d\u4e0d\u4f1a\u6709\u5927\u91cf\u5e76\u53d1\u7684\u6b64\u7c7b\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u7684\u8f83\u5927\u4e00\u4e9b\uff0c\u63d0\u9ad8\u6e05\u7406\u548c\u521b\u5efa\u7d22\u5f15\u5916\u952e\u7684\u901f\u5ea6\u3002 postgres=# set maintenance_work_mem to \"64MB\"; SET Time: 1.971 ms postgres=# create index idx1_test on test(id); CREATE INDEX Time: 7483.621 ms (00:07.484) postgres=# set maintenance_work_mem to \"2GB\"; SET Time: 0.543 ms postgres=# drop index idx1_test; DROP INDEX Time: 133.984 ms postgres=# create index idx1_test on test(id); CREATE INDEX Time: 5661.018 ms (00:05.661) \u53ef\u4ee5\u770b\u5230\u5728\u4f7f\u7528\u9ed8\u8ba4\u768464MB\u521b\u5efa\u7d22\u5f15\uff0c\u901f\u5ea6\u4e3a7.4\u79d2\uff0c\u800c\u8bbe\u7f6e\u4e3a2GB\u540e\uff0c\u521b\u5efa\u901f\u5ea6\u662f5.6\u79d2 wal_sync_method \u6bcf\u6b21\u53d1\u751f\u4e8b\u52a1\u540e\uff0cPostgreSQL\u4f1a\u5f3a\u5236\u5c06\u63d0\u4ea4\u5199\u5230WAL\u65e5\u5fd7\u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u4f7f\u7528pg_test_fsync\u547d\u4ee4\u5728\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fdb\u884c\u6d4b\u8bd5\uff0cfdatasync\u662fLinux\u4e0a\u7684\u9ed8\u8ba4\u65b9\u6cd5\u3002\u5982\u4e0b\u6240\u793a\uff0c\u6211\u7684\u73af\u5883\u6d4b\u8bd5\u4e0b\u6765fdatasync\u8fd8\u662f\u901f\u5ea6\u53ef\u4ee5\u7684\u3002\u4e0d\u652f\u6301\u7684\u65b9\u6cd5\u50cffsync_writethrough\u76f4\u63a5\u663e\u793an/a\u3002 postgres=# show wal_sync_method ; wal_sync_method ----------------- fdatasync (1 row) [pg@e22 ~]$ pg_test_fsync -s 3 3 seconds per test O_DIRECT supported on this platform for open_datasync and open_sync. Compare file sync methods using one 8kB write: (in wal_sync_method preference order, except fdatasync is Linux's default) open_datasync 4782.871 ops/sec 209 usecs/op fdatasync 4935.556 ops/sec 203 usecs/op fsync 3781.254 ops/sec 264 usecs/op fsync_writethrough n/a open_sync 3850.219 ops/sec 260 usecs/op Compare file sync methods using two 8kB writes: (in wal_sync_method preference order, except fdatasync is Linux's default) open_datasync 2469.646 ops/sec 405 usecs/op fdatasync 4412.266 ops/sec 227 usecs/op fsync 3432.794 ops/sec 291 usecs/op fsync_writethrough n/a open_sync 1929.221 ops/sec 518 usecs/op Compare open_sync with different write sizes: (This is designed to compare the cost of writing 16kB in different write open_sync sizes.) 1 * 16kB open_sync write 3159.780 ops/sec 316 usecs/op 2 * 8kB open_sync writes 1944.723 ops/sec 514 usecs/op 4 * 4kB open_sync writes 993.173 ops/sec 1007 usecs/op 8 * 2kB open_sync writes 493.396 ops/sec 2027 usecs/op 16 * 1kB open_sync writes 249.762 ops/sec 4004 usecs/op Test if fsync on non-write file descriptor is honored: (If the times are similar, fsync() can sync data written on a different descriptor.) write, fsync, close 3719.973 ops/sec 269 usecs/op write, close, fsync 3651.820 ops/sec 274 usecs/op Non-sync'ed 8kB writes: write 400577.329 ops/sec 2 usecs/op wal_buffers \u4e8b\u52a1\u65e5\u5fd7\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0cPostgreSQL\u5c06WAL\u8bb0\u5f55\u5199\u5165\u7f13\u51b2\u533a\uff0c\u7136\u540e\u518d\u5c06\u7f13\u51b2\u533a\u5237\u65b0\u5230\u78c1\u76d8\u3002\u5728PostgreSQL 12\u7248\u4e2d\uff0c\u9ed8\u8ba4\u503c\u4e3a-1\uff0c\u4e5f\u5c31\u662f\u9009\u62e9\u7b49\u4e8eshared_buffers\u76841/32 \u3002\u5982\u679c\u81ea\u52a8\u7684\u9009\u62e9\u592a\u5927\u6216\u592a\u5c0f\u53ef\u4ee5\u624b\u5de5\u8bbe\u7f6e\u8be5\u503c\u3002\u4e00\u822c\u8003\u8651\u8bbe\u7f6e\u4e3a16MB\u3002 synchronous_commit \u5ba2\u6237\u7aef\u6267\u884c\u63d0\u4ea4\uff0c\u5e76\u4e14\u7b49\u5f85WAL\u5199\u5165\u78c1\u76d8\u4e4b\u540e\uff0c\u7136\u540e\u518d\u5c06\u6210\u529f\u72b6\u6001\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4e3aon\uff0cremote_apply\uff0cremote_write\uff0clocal\uff0coff\u7b49\u503c\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3aon\u3002\u5982\u679c\u8bbe\u7f6e\u4e3aoff\uff0c\u4f1a\u5173\u95edsync_commit\uff0c\u5ba2\u6237\u7aef\u63d0\u4ea4\u4e4b\u540e\u5c31\u7acb\u9a6c\u8fd4\u56de\uff0c\u4e0d\u7528\u7b49\u8bb0\u5f55\u5237\u65b0\u5230\u78c1\u76d8\u3002\u6b64\u65f6\u5982\u679cPostgreSQL\u5b9e\u4f8b\u5d29\u6e83\uff0c\u5219\u6700\u540e\u51e0\u4e2a\u5f02\u6b65\u63d0\u4ea4\u5c06\u4f1a\u4e22\u5931\u3002 default_statistics_target PostgreSQL\u4f7f\u7528\u7edf\u8ba1\u4fe1\u606f\u6765\u751f\u6210\u6267\u884c\u8ba1\u5212\u3002\u7edf\u8ba1\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8Analyze\u547d\u4ee4\u6216\u8005\u662fautovacuum\u8fdb\u7a0b\u542f\u52a8\u7684\u81ea\u52a8\u5206\u6790\u6765\u6536\u96c6\uff0cdefault_statistics_target\u53c2\u6570\u6307\u5b9a\u5728\u6536\u96c6\u548c\u8bb0\u5f55\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u65f6\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002\u9ed8\u8ba4\u503c\u4e3a100\u5bf9\u4e8e\u5927\u591a\u6570\u5de5\u4f5c\u8d1f\u8f7d\u662f\u6bd4\u8f83\u5408\u7406\u7684\uff0c\u5bf9\u4e8e\u975e\u5e38\u7b80\u5355\u7684\u67e5\u8be2\uff0c\u8f83\u5c0f\u7684\u503c\u53ef\u80fd\u4f1a\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u590d\u6742\u7684\u67e5\u8be2\uff08\u5c24\u5176\u662f\u9488\u5bf9\u5927\u578b\u8868\u7684\u67e5\u8be2\uff09\uff0c\u8f83\u5927\u7684\u503c\u53ef\u80fd\u4f1a\u66f4\u597d\u3002\u4e3a\u4e86\u4e0d\u8981\u4e00\u5200\u5207\uff0c\u53ef\u4ee5\u4f7f\u7528ALTER TABLE .. ALTER COLUMN .. SET STATISTICS\u8986\u76d6\u7279\u5b9a\u8868\u5217\u7684\u9ed8\u8ba4\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002 checkpoint_timeout\u3001max_wal_size\uff0cmin_wal_size\u3001checkpoint_completion_target \u4e86\u89e3\u8fd9\u4e24\u4e2a\u53c2\u6570\u4ee5\u524d\uff0c\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u4e0b\uff0c\u89e6\u53d1\u68c0\u67e5\u70b9\u7684\u51e0\u4e2a\u64cd\u4f5c\u3002 \u76f4\u63a5\u6267\u884ccheckpoint\u547d\u4ee4 \u6267\u884c\u9700\u8981\u68c0\u67e5\u70b9\u7684\u547d\u4ee4\uff08\u4f8b\u5982pg_start_backup,Create database,pg_ctl stop/start\u7b49\u7b49\uff09 \u81ea\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u4ee5\u6765\uff0c\u8fbe\u5230\u4e86\u5df2\u7ecf\u914d\u7f6e\u7684\u65f6\u95f4\u91cf\uff08checkpoint_timeout \uff09 \u81ea\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u4ee5\u6765\u751f\u6210\u7684WAL\u6570\u91cf\uff08max_wal_size\uff09 \u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u68c0\u67e5\u70b9\u5c06\u5728checkpoint_timeout=5min\u3002\u4e5f\u5c31\u662f\u6bcf5\u5206\u949f\u89e6\u53d1\u4e00\u6b21\u3002\u800cmax_wal_size\u8bbe\u7f6e\u662f\u81ea\u52a8\u68c0\u67e5\u70b9\u4e4b\u95f4\u589e\u957f\u7684\u6700\u5927\u9884\u5199\u65e5\u5fd7\u8bb0\u5f55\uff08WAL\uff09\u91cf\u3002\u9ed8\u8ba4\u662f1GB\uff0c\u5982\u679c\u8d85\u8fc7\u4e861GB\uff0c\u5219\u4f1a\u53d1\u751f\u68c0\u67e5\u70b9\u3002\u8fd9\u662f\u4e00\u4e2a\u8f6f\u9650\u5236\u3002\u5728\u4e00\u4e2a\u7279\u6b8a\u7684\u60c5\u51b5\u4e0b\uff0c\u6bd4\u5982\u7cfb\u7edf\u906d\u9047\u5230\u77ed\u65f6\u95f4\u7684\u9ad8\u8d1f\u8f7d\uff0c\u65e5\u5fd7\u4ea7\u751f\u51e0\u79d2\u79cd\u5c31\u53ef\u4ee5\u8fbe\u52301GB\uff0c\u8fd9\u4e2a\u901f\u5ea6\u5df2\u7ecf\u660e\u663e\u8d85\u8fc7\u4e86checkpoint_timeout \uff0cpg_wal\u76ee\u5f55\u7684\u5927\u5c0f\u4f1a\u6025\u5267\u589e\u52a0\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4ece\u65e5\u5fd7\u4e2d\u770b\u5230\u76f8\u5173\u7c7b\u4f3c\u7684\u8b66\u544a\u3002 LOG: checkpoints are occurring too frequently (9 seconds apart) HINT: Consider increasing the configuration parameter \"max_wal_size\". LOG: checkpoints are occurring too frequently (2 seconds apart) HINT: Consider increasing the configuration parameter \"max_wal_size\". \u6240\u4ee5\u8981\u5408\u7406\u914d\u7f6emax_wal_size\uff0c\u4ee5\u907f\u514d\u9891\u7e41\u7684\u8fdb\u884c\u68c0\u67e5\u70b9\u3002\u4e00\u822c\u63a8\u8350\u8bbe\u7f6e\u4e3a16GB\u4ee5\u4e0a\uff0c\u4e0d\u8fc7\u5177\u4f53\u8bbe\u7f6e\u591a\u5927\u8fd8\u9700\u8981\u548c\u5de5\u4f5c\u8d1f\u8377\u76f8\u5339\u914d\u3002 min_wal_size\u53c2\u6570\u662f\u53ea\u8981 WAL \u78c1\u76d8\u4f7f\u7528\u91cf\u4fdd\u6301\u5728\u8fd9\u4e2a\u8bbe\u7f6e\u4e4b\u4e0b\uff0c\u5728\u505a\u68c0\u67e5\u70b9\u65f6\uff0c\u65e7\u7684 WAL \u6587\u4ef6\u603b\u662f\u88ab\u56de\u6536\u4ee5\u4fbf\u672a\u6765\u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u88ab\u5220\u9664\u3002 \u800c\u68c0\u67e5\u70b9\u7684\u5199\u5165\u4e0d\u662f\u5168\u90e8\u7acb\u9a6c\u5b8c\u6210\u7684\uff0cPostgreSQL\u4f1a\u5c06\u4e00\u6b21\u68c0\u67e5\u70b9\u7684\u6240\u6709\u64cd\u4f5c\u5206\u6563\u5230\u4e00\u6bb5\u65f6\u95f4\u5185\u3002\u8fd9\u6bb5\u65f6\u95f4\u7531\u53c2\u6570checkpoint_completion_target\u63a7\u5236\uff0c\u5b83\u662f\u4e00\u4e2a\u5206\u6570\uff0c\u9ed8\u8ba4\u4e3a0.5\u3002\u4e5f\u5c31\u662f\u5728\u4e24\u6b21\u68c0\u67e5\u70b9\u4e4b\u95f4\u76840.5\u6bd4\u4f8b\u5b8c\u6210\u5199\u76d8\u64cd\u4f5c\u3002\u5982\u679c\u8bbe\u7f6e\u7684\u5f88\u5c0f\uff0c\u5219\u68c0\u67e5\u70b9\u8fdb\u7a0b\u5c31\u4f1a\u66f4\u52a0\u8fc5\u901f\u7684\u5199\u76d8\uff0c\u8bbe\u7f6e\u7684\u5f88\u5927\uff0c\u5219\u5c31\u4f1a\u6bd4\u8f83\u6162\u3002\u4e00\u822c\u63a8\u8350\u8bbe\u7f6e\u4e3a0.9\uff0c\u8ba9\u68c0\u67e5\u70b9\u7684\u5199\u5165\u5206\u6563\u4e00\u70b9\u3002\u4f46\u662f\u7f3a\u70b9\u5c31\u662f\u51fa\u73b0\u6545\u969c\u7684\u65f6\u5019\uff0c\u5f71\u54cd\u6062\u590d\u7684\u65f6\u95f4\u3002 \u53ef\u4ee5\u8f93\u5165\u53c2\u6570\u4f7f\u7528pgtune\u81ea\u52a8\u751f\u6210\u914d\u7f6e\u5efa\u8bae\uff1ahttps://pgtune.leopard.in.ua/#/ \u5916\u90e8\u8868 mysql/mariadb/tidb\u5916\u90e8\u8868 --\u4e3e\u4f8b\u4e2d\u672c\u5730\u6570\u636e\u5e93\u7528\u6237\u4e3auser --\u521b\u5efafdw\u63d2\u4ef6\uff08\u5982\u5bb9\u5668\u955c\u50cfpg13\u547d\u4ee4\u4e3aapt-get update && apt-get install -y postgresql-13-mysql-fdw) create extension mysql_fdw; --\u6ce8\u518c\u5916\u90e8\u670d\u52a1\u5668 create server outdb foreign data wrapper mysql_fdw options (host '123.123.123.123' ,port '3306'); --\u5728greenplum\u4e2d\uff0c\u5982\u679c\u4e0a\u9762\u547d\u4ee4\u7528pgadmin\u7528\u6237\u6267\u884c\u7684\u8bdd\uff0c\u9700\u8981\u5c06\u6240\u6709\u6743\u7ed9\u5230\u666e\u901a\u7528\u6237 ALTER SERVER \"outdb\" OWNER TO \"user\"; --\u521b\u5efa\u7528\u6237\u6620\u5c04 create user mapping for user server outdb options (username 'root',password 'password'); --\u521b\u5efa\u5916\u90e8\u8868 CREATE FOREIGN TABLE \"public\".\"out_yy_regions\" ( \"indexCode\" varchar(255), \"name\" varchar(255), \"parentIndexCode\" varchar(255), \"treeCode\" varchar(255), \"id\" int4 ) SERVER \"outdb\" OPTIONS (\"dbname\" 'mydb', \"table_name\" 'mytable'); oracle\u5916\u90e8\u8868 todo \u7269\u5316\u89c6\u56fe postgres\u4e2d\u7269\u5316\u89c6\u56fe\u53ef\u4ee5\u5c06\u9700\u8981\u4e00\u5b9a\u8ba1\u7b97\u91cf\u6216\u8005\u6570\u636e\u4f20\u8f93\uff08\u4f8b\u5982\u5916\u90e8\u8868\uff09\u8017\u65f6\u7684\u89c6\u56fe\u4eff\u771f\u6210\u4e3a\u4e00\u4e2a\u6570\u636e\u8868\uff0c\u518d\u8f85\u4ee5\u5b9a\u65f6\u5237\u65b0\u6216\u8005\u6309\u9700\u5237\u65b0\u7684\u673a\u5236\u6765\u4fbf\u6377\u7684\u4f7f\u7528\u8be5\u6570\u636e\uff1b \u521b\u5efa\u7269\u5316\u89c6\u56fe --\u5047\u8bbe\u5b58\u5728\u4e00\u4e2a\u5916\u90e8\u8868 out_tab1\u5176\u4e2d\u6709100\u4e07\u6570\u636e\uff0c\u5982\u679c\u4e0d\u505a\u7269\u5316\u89c6\u56fe\u7684\u8bdd\u6bcf\u6b21\u67e5\u8be2\u90fd\u4f1a\u53bb\u539f\u59cb\u6570\u636e\u5e93\u4e2d\u62ff\u8fd9100\u4e07\u7684\u6570\u636e\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u5bf9\u8017\u65f6\u654f\u611f\u7684\u64cd\u4f5c\u5341\u5206\u4e0d\u53cb\u597d\uff0c\u6b64\u65f6\u901a\u8fc7\u7269\u5316\u89c6\u56fe\u6765\u8fdb\u884c\u4f18\u5316\uff1b --\u521b\u5efa\u7a7a\u7684\u7269\u5316\u89c6\u56fe create MATERIALIZED view mv_out_tab1 as select * from out_tab1 with no data; --\u5982\u679c\u662fgreenplum\u8fd8\u9700\u8981\u589e\u52a0\u5206\u5e03\u952e\u7684\u58f0\u660e\uff0c\u4f8b\u5982\uff1acreate MATERIALIZED view mv_out_tab1 as select * from out_tab1 with no data Distributed by (id) --\u5237\u65b0\u6570\u636e refresh MATERIALIZED view mv_out_tab1; \u5e38\u7528\u547d\u4ee4 \u5907\u4efd\u6570\u636e\u5e93\u6216\u8005\u7ed3\u6784 -- \u5907\u4efd\u8868\u7ed3\u6784 pg_dump -h ${host} -p ${port} -d ${dbname} -U ${username} -s > /data/${dbname}.sql -- \u53ea\u5907\u4efd\u6570\u636e -a \uff0c\u53ea\u5907\u4efd\u7ed3\u6784 -s\uff0c\u8868\u7ed3\u6784\u548c\u6570\u636e \u4ec0\u4e48\u90fd\u4e0d\u52a0 -- \u8fd8\u539f\u5e93 psql -h ${host} -p ${port} -U ${username} -d ${dbname} < /data/${dbname}.sql -- \u5907\u4efd\u6307\u5b9a\u8868(\u5305\u542b\u6570\u636e) pg_dump -h ${host} -p ${port} -d ${dbname} -t ${tablename1} -t ${tablename2} -U ${username} > /data/${filename}.sql -- \u5bfc\u51fa\u5bfc\u5165\u6570\u636e\u5230txt copy ${tablename} to '/data/pgdata/csvbak/xxx.txt' copy ${tablename} from '/data/pgdata/csvbak/xxx.txt' \u5e38\u7528\u6280\u5de7 domain \u521b\u5efa\u7c7b\u578b\u522b\u540d create domain amount as decimal(33, 18); create domain price as decimal(33, 18); \u81ea\u5b9a\u4e49\u679a\u4e3e\u7c7b\u578b \u4f7f\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u4f20\u5b57\u7b26\u4e32\uff0c\u5b9e\u9645\u5b58\u50a8\u662f\u6574\u6570\u3002 create type \u8fd8\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u66f4\u590d\u6742\u7684\u7c7b\u578b\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u3002create type side as enum ('buy', 'sell'); Heap-Only-Tuple \u548c fillfactor \u8fd9\u4e2a\u548cPG\u7684MVCC\u5b9e\u73b0\u6709\u5173\u7cfb\uff0c\u7b80\u5355\u7684\u8bf4\uff0cPG\u7684\u8868\u6570\u636e\u662f\u5b58\u5728\u65e0\u5e8f\u7684\u5806\u4e0a\u7684\uff0c\u5305\u62ec\u4e3b\u952e\u7684\u6240\u6709\u7d22\u5f15\u90fd\u662f\u5355\u72ec\u7684\uff0c\u7d22\u5f15\u5f15\u7528\u6570\u636e\u884c\u5728\u5806\u4e0a\u7684\u4f4d\u7f6e\u3002 \u52a0\u4e0aMVCC\u7684\u5b9e\u73b0\uff0cUpdate\u5176\u5b9e\u662fInsert+Delete\uff0c\u65b0\u7684\u884c\u6570\u636e\u5728\u5806\u4e0a\u7684\u4f4d\u7f6e\u53d1\u751f\u6539\u53d8\uff0c\u4f7f\u5f97\u9700\u8981\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u3002\u4e3a\u4e86\u4f18\u5316\u8fd9\u79cd\u60c5\u51b5\uff0c \u5982\u679c\u5728\u8be5\u6761\u6570\u636e\u76f8\u540c\u7684Page\u4e0a\u9762\u6709\u7a7a\u95f2\u4f4d\u7f6e\uff0c\u65b0\u63d2\u5165\u6570\u636e\u4f18\u5148\u653e\u5728\u76f8\u540c\u9875\u4e0a\uff0c\u5e76\u548c\u65e7\u7248\u672c\u6570\u636e\u5efa\u7acb\u94fe\u8868\u3002\u5728\u67e5\u8be2\u6570\u636e\u7684\u65f6\u5019\uff0c\u6839\u636e\u8fd9\u4e2a\u94fe\u8868\u518d\u53bb\u5904\u7406\u4e8b\u52a1\u53ef\u89c1\u6027\u7b49\u5224\u65ad\u3002 \u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u53bb\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u4e86\u3002\u5982\u679cPage\u4e0a\u6ca1\u6709\u7a7a\u95f2\u4f4d\u7f6e\u5c31\u6ca1\u529e\u6cd5\u4e86\u3002\u6240\u4ee5 create table \u7684\u65f6\u5019\u53ef\u4ee5\u6307\u5b9a fillfactor \u9009\u9879\uff0c\u9884\u5148\u7559\u51fa\u4e00\u4e9b\u4f4d\u7f6e\u3002 \u9002\u5408\u6570\u636e\u91cf\u4e0d\u5927\u4e14\u66f4\u65b0\u9891\u7e41\u7684\u573a\u666f\u3002 \u7528snowflake\u7b97\u6cd5\u751f\u6210\u552f\u4e00ID\u5f88\u5b9e\u7528\uff0c\u4f46\u662f\u5728PG\u4e0a\u6709\u4e2a\u95ee\u9898\uff0cPG\u9075\u5faaSQL\u6807\u51c6\uff0c\u4e0d\u652f\u6301\u65e0\u7b26\u53f764\u4f4d\u6574\u6570\u3002snowflake\u7559\u4e8641bit\u7ed9\u6beb\u79d2\u7ea7\u65f6\u95f4\u6233\uff0c\u53bb\u4e00\u4f4d\u7ed9\u7b26\u53f7\u4f4d\uff0c\u5269\u4e0b40\u4f4d\u3002 \u7b97\u4e00\u4e0b\u53d1\u73b02004\u5e74\u5c31\u6ea2\u51fa\u4e86\uff0c\u5176\u5b9e\u5c31\u7b97\u65e0\u7b26\u53f764\u4f4d\u6574\u6570\uff0c2039\u5e74\u4e5f\u5c31\u6ea2\u51fa\u4e86\u3002\u89e3\u51b3\u65b9\u6848\uff0c\u65f6\u95f4\u6233\u7edf\u4e00\u51cf\u53bb\u4e00\u4e2a\u6700\u8fd1\u7684\u65f6\u95f4\u70b9\uff0c\u77ac\u95f4\u591a\u51fa50\u5e74\u3002 \u5728PG\u91cc\u9762\u7528\u8fd9\u79cdID\uff0c\u7ed3\u5408\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u8fde\u65f6\u95f4\u6233\u5b57\u6bb5\u90fd\u7701\u4e86(PG12\u8c8c\u4f3c\u8981\u652f\u6301\u865a\u62df\u5b57\u6bb5\u4e86)\u3002\u81ea\u52a8\u5206\u8868\u4e5f\u53ef\u4ee5\u6309\u7167ID\u8fdb\u884c\uff0c\u8fbe\u5230\u6309\u65f6\u95f4\u6233\u5206\u8868\u4e00\u6837\u7684\u6548\u679c\uff0c\u8fd8\u80fd\u4fdd\u7559\u4e3b\u952e\u529f\u80fd\uff0c\u4e00\u4e3e\u591a\u5f97\u3002 \u6279\u91cfinsert/update/upsert/delete/move #\u6570\u636e\u5e93\u91cc\u9762\uff0c\u6279\u91cf\u64cd\u4f5c\u7684\u541e\u5410\u91cf\u548c\u5355\u6761\u6267\u884c\u4e0d\u5728\u4e00\u4e2a\u6570\u91cf\u7ea7\u3002insert\u6279\u91cf\u5927\u5bb6\u90fd\u77e5\u9053\uff1a insert into table values (1,3,3), (2,3,3), (3,3,3)... #\u7528psycopg2\u7684\u670b\u53cb\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c cur.executemany \u51fd\u6570\u5e76\u4e0d\u662f\u771f\u6279\u91cf\u64cd\u4f5c\uff0c\u4ed6\u8fd8\u662f\u751f\u6210\u4e00\u5806\u72ec\u7acb\u7684insert\u6267\u884c\uff0c\u771f\u6b63\u7684\u6279\u91cf\u64cd\u4f5c\u8981\u8fd9\u4e48\u5199\uff1a #postgresql\u6279\u91cf\u64cd\u4f5c import time import psycopg2 import psycopg2.extras db=psycopg2.connect(\"dbname=postgres user=postgres password=pwd host=127.0.0.1\") cur=db.cursor() #insert_values lst=[] for i in range(100_0000): lst.append(['name%s' % i,'text%s' % i]) cur.execute('truncate table ctest') ta=time.time() psycopg2.extras.execute_values(cur,\"\"\" insert into ctest(uname,text) values %s\"\"\",lst) cur.execute(\"commit\") print('use time:%s' % (time.time()-ta)) # use time:15.339413166046143 cur.execute(\"select count(1) cnt from ctest\") data=cur.fetchone() print(data) db.close() #update \u5982\u4f55\u6279\u91cf\u5462\uff1a with tmp(id, name) as (values (1, 'a'), (2, 'b'), (3, 'c')) update table set name=tmp.name from tmp where table.id=tmp.id; upsert: insert into table values (1,3,3), (2,3,3), (3,3,3)... on conflict (a) do update set a=table.a+excluded.a delete: delete from table where id = ANY[%s] #move, \u6709\u65f6\u5019\u6211\u4eec\u60f3\u628a\u6570\u636e\u6279\u91cf\u4ece\u4e00\u4e2a\u8868\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u8868\uff1a with moved_rows as ( with tmp(id, a, b) as (values %s) delete from t_old_table a using tmp where tmp.id=a.id returning a.* ) insert into t_new_table select * from moved_rows mvcc snapshot\u3002\u95ee\u9898\uff1a\u5982\u4f55\u628a\u4e00\u4e2a\u5e76\u53d1\u8bbf\u95ee\u7684\u8868\u4e00\u81f4\u7684\u5206\u5272\u6210\u591a\u6bb5\uff0c\u6bd4\u5982\u6211\u4eec\u60f3\u8981\u5206\u6279\u6b21\u5bf9\u91cc\u9762\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u4f46\u4e0d\u5e0c\u671b\u6f0f\u6570\u636e\uff0c\u4e5f\u4e0d\u5e0c\u671b\u91cd\u590d\u5904\u7406\u3002 \u6ce8\u89e3 \u81ea\u589eID\uff1f\u5728\u5e76\u53d1\u8bbf\u95ee\u4e0b\uff0c\u81ea\u589eID\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u8fde\u7eed\u6ca1\u6709\u95f4\u65ad\u7684\uff0c\u6bd4\u5982\u4e2d\u95f4\u53ef\u80fd\u8fd8\u6709\u4e8b\u52a1\u6ca1\u6709\u63d0\u4ea4\u3002 \u89e3\u51b3\u65b9\u6848\u662f\uff0c\u5728\u8868\u91cc\u4fdd\u5b58 txid_current() \uff0c\u8981\u5206\u6bb5\u7684\u65f6\u5019\uff0c\u8bb0\u5f55\u4e0b txid_current_snapshot() \uff0csnapshot\u7531\u4e09\u4e2a\u4fe1\u606f\u7ec4\u6210\uff1axmin, xmax, xip\u3002 xmin\u662f\u5f53\u524d\u8fdb\u884c\u4e2d\u7684\u4e8b\u52a1ID\u4e2d\u6700\u5c0f\u7684\uff0c\u4e5f\u5c31\u662f\u6bd4xmin\u66f4\u5c0f\u7684\u4e8b\u52a1\u90fd\u5df2\u63d0\u4ea4\u6216\u8005\u64a4\u9500\uff0cxmax\u662f\u4e0b\u4e00\u4e2a\u5c06\u8981\u5206\u914d\u7684\u4e8b\u52a1ID\uff0c\u6bd4xmax\u66f4\u5927\u7684\u4e8b\u52a1\u8fd8\u6ca1\u51fa\u73b0\uff0cxip\u662f\u5f53\u524d\u8fdb\u884c\u4e2d\u7684\u4e8b\u52a1ID\u5217\u8868\u3002 \u90a3\u4e48\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u53d1\u751f\u5728\u8fd9\u4e2asnapshot\u4e4b\u524d\u5c31\u5f88\u660e\u786e\u4e86\uff0c txid < xmin or (txid < xmax and txid not in xip) \uff0c\u5bf9\u5e94\u7684\u51fd\u6570\u662f txid_visible_in_snapshot(txid, snapshot) \u3002 pipelinedb\uff0c\u6d41\u5f0f\u805a\u5408 create foreign table trade (time timestamp with time zone, price decimal, amount decimal) server pipelinedb; create view kline_1m as select date_trunc('minute', time) as time, keyed_min(time, price) as open, max(price) as high, min(price) as low, keyed_max(time, price) as close, sum(amount) as volume, sum(amount * price) as value, count(*) as count from trade group by 1; create unique index kline_1m_time_idx on kline_1m(time); \u7136\u540e\u53ea\u7ba1\u75af\u72c2\u5bf9 trade \u8868insert\uff0c kline_1m \u4f1a\u81ea\u52a8\u66f4\u65b0\u805a\u5408\u6570\u636e\uff0c\u800c\u4e14 trade \u4e0d\u4f1a\u4fdd\u7559\u6570\u636e\u3002 timescaledb\uff0c\u65f6\u5e8f\u6570\u636e\u5e93\uff0c\u6309\u7167\u65f6\u95f4\u6233\u5b57\u6bb5\u5168\u81ea\u52a8\u5206\u8868\u3002\u867d\u7136pg\u6709\u4e86\u58f0\u660e\u5f0f\u5206\u8868\uff0c\u4f46\u8fd8\u662f\u4e0d\u5982\u5168\u81ea\u52a8\u6765\u7684\u723d\u3002\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u8868\u6570\u636e\u91cf\u8fc7\u592a\u591a\u5f71\u54cd\u6027\u80fd\u4e86\u3002 large in\u4f18\u5316 Large In:\u67e5\u8be2\u6761\u4ef6\u4e2d\u6709\u4f8b\u5982 id in (1,2,3\u2026\u2026) \u5f88\u591a\u5f88\u591a\u503c\u7684list\u7684\u60c5\u51b5\uff0c\u5f53\u4f20\u5165\u503c\u8fbe\u5230\u4e0a\u4e07\u540e\u6548\u7387\u5f88\u4f4e\u3002 \u5e38\u7528\u65b9\u5f0f\uff1a in-list\uff1a where id in (1,2,3\u2026\u2026) \u5e38\u91cf\u5b50\u67e5\u8be2: location in (values ('\u6668\u5e02'),('\u78ca\u5e02'),('\u9759\u5e02')) limit 100 \u4e34\u65f6\u8868\u67e5\u8be2\uff08cte\uff09\uff1a with tmp_ids as ( select unnest('{2100698,2100699,2100700,2100701,2100702,2100703,2100704,2100705,2100706,2100707,2100708,2100709,2100710,2100711,2100712,2100713,2100714,2100715,2100716}'::bigint[]) id ) select * from czrkjbxx ck,tmp_ids tids where ck.pid =tids.id \u5b9e\u6d4b \uff1a1000\u4e2a\u503c\u5dee\u8ddd\u4e0d\u660e\u663e\uff0c\u5728\u8fbe\u523010000\u4e2a\u503c\u4e4b\u540e\uff0cIN-list\u9700\u898118\u79d2\u5de6\u53f3\uff0c\u5e38\u91cf\u5b50\u67e5\u8be2\u9700\u89814\u79d2\uff0c\u4e34\u65f6\u8868\u53ea\u9700\u8981347 ms\u3002\u4e34\u65f6\u8868\u7684\u6548\u7387\u662f\u6700\u9ad8\u7684\u3002 CTE\u8bed\u6cd5 --#\u540c\u884c\u4eba\u7c97\u7565\u7248 SELECT FLOOR ( EXTRACT ( epoch FROM pass_time ) ) :: int8 / 300 tick, pass_time, equipment_id FROM person_pass WHERE pass_time BETWEEN '2021-07-01 00:00:00' AND '2021-07-09 23:59:59' GROUP BY FLOOR ( EXTRACT ( epoch FROM pass_time ) ) :: int8 / 300, pass_time, equipment_id LIMIT 10000 --\u4ea4\u53e0 SELECT ta.NAME na, ta.idcard ia, tb.NAME nb, tb.idcard ib FROM ( SELECT * FROM person_pass WHERE equipment_id = '652823058706422' AND ( FLOOR ( EXTRACT ( epoch FROM pass_time ) ) :: int8 / 300 ) = 5418720 ) ta CROSS JOIN ( SELECT * FROM person_pass WHERE equipment_id = '652823058706422' AND ( FLOOR ( EXTRACT ( epoch FROM pass_time ) ) :: int8 / 300 ) = 5418720 ) tb WHERE ta.idcard != tb.idcard \u9501\u5904\u7406 --\u67e5\u8be2\u5f53\u524d\u8fde\u63a5\u4fe1\u606f select * from pg_stat_activity --\u67e5\u8be2\u9501\u4fe1\u606f select * from gp_toolkit.gp_locks_on_relation --\u67e5\u8be2\u6392\u4ed6\u9501 select * from gp_toolkit.gp_locks_on_relation where lormode not like '%Share%' --\u6839\u636epid\u53d6\u6d88\u67d0\u4e2a\u67e5\u8be2\uff08pid\u6765\u81ea\u4e8egp_locks_on_relation \u4e2d\u7684lorpid\u5b57\u6bb5\uff09 select pg_cancel_backend(lorpid) from gp_toolkit.gp_locks_on_relation --\u6839\u636epid\u5f3a\u5236\u7ed3\u675f\u67d0\u4e2a\u67e5\u8be2\uff08pid\u6765\u81ea\u4e8egp_locks_on_relation \u4e2d\u7684lorpid\u5b57\u6bb5\uff09 select pg_terminate_backend(lorpid) from gp_toolkit.gp_locks_on_relation --\u5f3a\u5236\u7ed3\u675f\u6240\u6709\u6392\u4ed6\u9501\u7684\u67e5\u8be2 select pg_terminate_backend(lorpid) from gp_toolkit.gp_locks_on_relation where lormode not like '%Share%' and lorpid<>pg_backend_pid() PG\u6570\u636e\u91cf\u9650\u5236 \u6700\u5927\u6570\u636e\u5e93\u5927\u5c0f\u65e0\u9650\u5236 \u5355\u4e2a\u8868\u6700\u5927\u5927\u5c0f 32 TB \uff08\u5bf9\u4e8eblock_size 8k\uff0c\u6df1\u5c42\u6b21\u539f\u56e0\u662f\u6bcf\u4e2ablock\u90fd\u6709\u4e2ablocknumber\uff0c\u800cblocknumber\u662f\u4e2auint32\u7c7b\u578b\uff09 \u6700\u5927\u884c\u5927\u5c0f 1.6 TB \u6700\u5927\u5b57\u6bb5\u5927\u5c0f 1 GB \u6bcf\u5f20\u8868\u7684\u6700\u5927\u884c\u6570\u65e0\u9650\u5236 \u6bcf\u4e2a\u8868\u7684\u6700\u5927\u5217\u6570 250 - 1600 \u53d6\u51b3\u4e8e\u5217\u7c7b\u578b \u6bcf\u5f20\u8868\u7684\u6700\u5927\u7d22\u5f15\u6570\u65e0\u9650\u5236 \u751f\u6210\u968f\u673a\u6570\u636e \u968f\u673a\u751f\u6210\u59d3\u540d select RndName() from xxx limit 100 create function RndName() returns varchar(32) as $$ select concat((array['\u8d75','\u94b1','\u5b59','\u674e','\u5468','\u5434','\u90d1','\u738b','\u51af','\u9648','\u891a','\u536b','\u848b','\u6c88','\u97e9','\u6768','\u6731','\u79e6','\u5c24','\u8bb8','\u4f55','\u5415','\u65bd','\u5f20','\u5b54','\u66f9','\u4e25','\u534e','\u91d1','\u9b4f','\u9676','\u59dc','\u621a','\u8c22','\u90b9','\u55bb','\u67cf','\u6c34','\u7aa6','\u7ae0','\u4e91','\u82cf','\u6f58','\u845b','\u595a','\u8303','\u5f6d','\u90ce','\u9c81','\u97e6','\u660c','\u9a6c','\u82d7','\u51e4','\u82b1','\u65b9','\u4fde','\u4efb','\u8881','\u67f3','\u9146','\u9c8d','\u53f2','\u5510','\u8d39','\u5ec9','\u5c91','\u859b','\u96f7','\u8d3a','\u502a','\u6c64','\u6ed5','\u6bb7','\u7f57','\u6bd5','\u90dd','\u90ac','\u5b89','\u5e38','\u4e50','\u4e8e','\u65f6','\u5085','\u76ae','\u535e','\u9f50','\u5eb7','\u4f0d','\u4f59','\u5143','\u535c','\u987e','\u5b5f','\u5e73','\u9ec4','\u548c','\u7a46','\u8427','\u5c39','\u59da','\u90b5','\u8212','\u6c6a','\u7941','\u6bdb','\u79b9','\u72c4','\u7c73','\u8d1d','\u660e','\u81e7','\u8ba1','\u4f0f','\u6210','\u6234','\u8c08','\u5b8b','\u8305','\u5e9e','\u718a','\u7eaa','\u5c48','\u9879','\u795d','\u8463','\u675c','\u962e','\u84dd','\u95f5','\u5e2d','\u5b63','\u9ebb','\u5f3a','\u8d3e','\u8def','\u5a04','\u5371','\u6c5f','\u7ae5','\u989c','\u90ed','\u6885','\u76db','\u6797','\u5201','\u949f','\u5f90','\u90b1','\u9a86','\u9ad8','\u590f','\u8521','\u7530','\u6a0a','\u80e1','\u51cc','\u970d','\u865e','\u4e07','\u652f','\u67ef','\u548e','\u7ba1','\u5362','\u83ab','\u7ecf','\u623f','\u88d8','\u7f2a','\u5e72','\u89e3','\u5e94','\u5b97','\u5ba3','\u4e01','\u8d32','\u9093','\u90c1','\u5355','\u676d','\u6d2a','\u5305','\u8bf8','\u5de6','\u77f3','\u5d14','\u5409','\u94ae','\u9f9a','\u7a0b','\u5d47','\u90a2','\u6ed1','\u88f4','\u9646','\u8363','\u7fc1','\u8340','\u7f8a','\u65bc','\u60e0','\u7504','\u52a0','\u5c01','\u82ae','\u7fbf','\u50a8','\u9773','\u6c72','\u90b4','\u7cdc','\u677e','\u4e95','\u6bb5','\u5bcc','\u5deb','\u4e4c','\u7126','\u5df4','\u5f13','\u7267','\u9697','\u5c71','\u8c37','\u8f66','\u4faf','\u5b93','\u84ec','\u5168','\u90d7','\u73ed','\u4ef0','\u79cb','\u4ef2','\u4f0a','\u5bab','\u5b81','\u4ec7','\u683e','\u66b4','\u7518','\u94ad','\u5389','\u620e','\u7956','\u6b66','\u7b26','\u5218','\u8a79','\u675f','\u9f99','\u53f6','\u5e78','\u53f8','\u97f6','\u90dc','\u9ece','\u84df','\u8584','\u5370','\u5bbf','\u767d','\u6000','\u84b2','\u53f0','\u4ece','\u9102','\u7d22','\u54b8','\u7c4d','\u8d56','\u5353','\u853a','\u5c60','\u8499','\u6c60','\u4e54','\u9634','\u80e5','\u80fd','\u82cd','\u53cc','\u95fb','\u8398','\u515a','\u7fdf','\u8c2d','\u8d21','\u52b3','\u9004','\u59ec','\u7533','\u6276','\u5835','\u5189','\u5bb0','\u90e6','\u96cd','\u74a9','\u6851','\u6842','\u6fee','\u725b','\u5bff','\u901a','\u8fb9','\u6248','\u71d5','\u5180','\u90cf','\u6d66','\u5c1a','\u519c','\u6e29','\u522b','\u5e84','\u664f','\u67f4','\u77bf','\u960e','\u5145','\u6155','\u8fde','\u8339','\u4e60','\u5ba6','\u827e','\u9c7c','\u5bb9','\u5411','\u53e4','\u6613','\u614e','\u6208','\u5ed6','\u5e9a','\u7ec8','\u66a8','\u5c45','\u8861','\u6b65','\u90fd','\u803f','\u6ee1','\u5f18','\u5321','\u56fd','\u6587','\u5bc7','\u5e7f','\u7984','\u9619','\u4e1c','\u6bb3','\u6c83','\u5229','\u851a','\u8d8a','\u5914','\u9686','\u5e08','\u5de9','\u538d','\u8042','\u6641','\u52fe','\u6556','\u878d','\u51b7','\u8a3e','\u8f9b','\u961a','\u90a3','\u7b80','\u9976','\u7a7a','\u66fe','\u6bcb','\u6c99','\u4e5c','\u517b','\u97a0','\u987b','\u4e30','\u5de2','\u5173','\u84af','\u76f8','\u67e5','\u540e','\u7ea2','\u6e38','\u7afa','\u6743','\u902f','\u76d6','\u76ca','\u6853','\u516c','\u664b','\u695a','\u6cd5','\u6c5d','\u9122','\u6d82','\u94a6','\u7f11','\u4ea2','\u51b5','\u6709','\u5546','\u725f','\u4f58','\u4f74','\u4f2f','\u8d4f','\u58a8','\u54c8','\u8c2f','\u7b2a','\u5e74','\u7231','\u9633','\u4f5f','\u7434','\u8a00','\u798f'])[trunc(random()*426)+1],(array['\u70d8','\u5300','\u5f70','\u98d8','\u5b9b','\u621a','\u8925','\u90a6','\u7164','\u7f14','\u614e','\u7a96','\u7206','\u7b14','\u67cf','\u61c2','\u5b59','\u5a03','\u6f58','\u6d1b','\u9601','\u6346','\u602a','\u6376','\u53d8','\u8f74','\u5c24','\u8c8c','\u6dee','\u54fa','\u4e8f','\u5250','\u6664','\u7597','\u6d45','\u75db','\u8ba2','\u5632','\u6325','\u8019','\u56f4','\u7eb8','\u94a2','\u4eca','\u6e21','\u5189','\u6124','\u7ee3','\u516c','\u8427','\u8c03','\u5c1d','\u8001','\u5145','\u6c5d','\u4f60','\u70ac','\u4e49','\u84ec','\u8beb','\u6410','\u6258','\u7d6e','\u8d26','\u67aa','\u51d1','\u56ca','\u9576','\u68c0','\u6ce2','\u627f','\u5546','\u515c','\u6bd5','\u8e1e','\u773c','\u8d29','\u97f5','\u4f19','\u90ae','\u631a','\u52b3','\u8d41','\u5f18','\u4e7e','\u752d','\u665a','\u6bb4','\u8717','\u901a','\u9887','\u629b','\u6a1f','\u663e','\u5267','\u552f','\u987d','\u4fa9','\u7238','\u77ac','\u9539','\u524d','\u545c','\u65bd','\u8e0a','\u9505','\u6e4d','\u864f','\u523d','\u6851','\u6d6e','\u7acb','\u564e','\u671d','\u5203','\u8bf7','\u5377','\u68d8','\u8fde','\u6770','\u6d3d','\u7edd','\u607c','\u6cfb','\u903b','\u5e01','\u6bd6','\u6c81','\u79f8','\u8fdb','\u641e','\u6a2a','\u8712','\u6577','\u9713','\u69a8','\u7ede','\u571f','\u9102','\u733e','\u54ee','\u7f1d','\u7f50','\u4e09','\u62ab','\u5206','\u6f4d','\u7729','\u7696','\u6469','\u8327','\u538b','\u6853','\u59da','\u568f','\u4fe9','\u56fa','\u8549','\u5b9c','\u987a','\u5ffd','\u8a8a','\u965b','\u539f','\u70fd','\u5d14','\u592e','\u8354','\u94f8','\u6572','\u997f','\u9a8b','\u9f99','\u7840','\u6e43','\u67ef','\u9065','\u6162','\u635f','\u6f06','\u6495','\u5751','\u829c','\u5f7b','\u55d3','\u5e99','\u606b','\u5f85','\u4e61','\u8fa8','\u5509','\u7ed1','\u5f84','\u9b44','\u78c5','\u8d77','\u5993','\u5362','\u6886','\u5e38','\u524a','\u52d8','\u5207','\u9ec4','\u6f3e','\u4e03','\u72e0','\u998f','\u5757','\u9610','\u5e76','\u54e5','\u4f69','\u9091','\u4ed1','\u9a73','\u819c','\u7766','\u7852','\u63a5','\u8bae','\u751c','\u5395','\u7891','\u6df1','\u9611','\u5c94','\u865a','\u8c6a','\u9a70','\u6148','\u83b2','\u9ad8','\u7109','\u8d61','\u5723','\u5df7','\u714c','\u548e','\u5d16','\u9ca4','\u851a','\u6f88','\u8be6','\u901e','\u9885','\u5b99','\u8bca','\u77e9','\u58d5','\u4fe1','\u7c27','\u7c98','\u7a3c','\u79e6','\u5bfc','\u5a07','\u9707','\u5e27','\u6ef4','\u9602','\u62e6','\u8bbe','\u91cd','\u59ae','\u65c1','\u8146','\u52c9','\u594e','\u5e74','\u5e2e','\u6994','\u8fdc','\u96ea','\u76df','\u866b','\u5fff','\u5fb7','\u6b65','\u9972','\u67dc','\u4ea1','\u655b','\u7f04','\u8fe2','\u6cea','\u795e','\u8a93','\u6bcf','\u86e4','\u5510','\u7fe0','\u7f05','\u5360','\u5b83','\u5272','\u97ad','\u996f','\u5319','\u8517','\u6f02','\u54c1','\u7a7f','\u5486','\u5960','\u4ea9','\u5a36','\u897f','\u672c','\u8bef','\u566c','\u767b','\u60e6','\u9541','\u864e','\u9b41','\u8086','\u6c60','\u72c4','\u8e44','\u4eba','\u75a5','\u7ed3','\u8ba3','\u7554','\u5ec9','\u91dc','\u64cd','\u5b75','\u8338','\u6101','\u5b9d','\u81fb','\u5ac1','\u4f3c','\u59e8','\u5885','\u8c7a','\u57a6','\u6687','\u7011','\u6da1','\u6a47','\u4e73','\u5e16','\u6ca7','\u58a9','\u658b','\u8f9b','\u914d','\u5f5d','\u8292','\u5185','\u69db','\u6028','\u62b1','\u5893','\u71c3','\u6d3e','\u7259','\u5411','\u631f','\u6d0b','\u9093','\u5420','\u8bfa','\u9605','\u4e50','\u9879','\u65ec','\u7f8c','\u4ee4','\u6210','\u65ad','\u4eea','\u606f','\u7525','\u85cf','\u62fc','\u60f3','\u7eb7','\u5211','\u575d','\u8179','\u57ce','\u8bc0','\u5468','\u5e1a','\u78b0','\u820c','\u964b','\u796d','\u6b8b','\u5364','\u78b3','\u7eda','\u8d56','\u9501','\u6127','\u5b69','\u7ec8','\u94dd','\u8fce','\u854a','\u6c16','\u7838','\u8eab','\u7a00','\u90dd','\u53eb','\u7830','\u57df','\u808c','\u6536','\u541b','\u5561','\u7f38','\u7a9f','\u63ea','\u7caa','\u5c0f','\u8bb2','\u54ed','\u86c0','\u8ddf','\u91cf','\u9017','\u85aa','\u80cc','\u6c11','\u5b7a','\u8425','\u7248','\u8682','\u6298','\u6467','\u9009','\u800c','\u8d2b','\u60f0','\u8537','\u8857','\u809a','\u7eaa','\u9648','\u6850','\u9157','\u6e34','\u8f9c','\u6ed4','\u604d','\u5427','\u5582','\u62bf','\u53bb','\u9898','\u5ca9','\u8e6d','\u8c24','\u75c9','\u61c8','\u6400','\u5b98','\u4f5b','\u6252','\u821c','\u6986','\u87ba','\u8349','\u602f','\u776c','\u6606','\u683d','\u7531','\u4e5e','\u4e94','\u785d','\u654c','\u7686','\u5bf8','\u634d','\u5b5f','\u56fe','\u6c64','\u7bf7','\u5f0a','\u5431','\u5f55','\u5777','\u4ed3','\u5239','\u8170','\u6402','\u6570','\u9519','\u5824','\u787c','\u635e','\u64ad','\u82df','\u6837','\u563b','\u6279','\u969c','\u9876','\u8bba','\u7a83','\u7cb3','\u4e0e','\u4e1b','\u5e06','\u53e5','\u88f3','\u7ffc','\u708a','\u8c26','\u72d7','\u7968','\u6307','\u8ba5','\u96c7','\u7a3d','\u58e4','\u4fa5','\u9888','\u5bb0','\u50e7','\u5440','\u73af','\u5fe0','\u5fd7','\u8f99','\u4eae','\u5eb7','\u9e4f','\u6015','\u7ef5','\u672a','\u8fd9','\u8c62','\u8bbc','\u6b7b','\u6027','\u9a8f','\u7eff','\u5e78','\u8bf8','\u52b2','\u66ff','\u532a','\u4e48','\u6050','\u5199','\u5361','\u6016','\u54c7','\u9774','\u7f72','\u892a','\u65a9','\u6d8e','\u61e6','\u6bb5','\u7435','\u9635','\u756a','\u6cb3','\u5ed6','\u5fc5','\u4f10','\u6362','\u96fe','\u886b','\u76d6','\u85c9','\u5ef7','\u538c','\u970d','\u888b','\u9999','\u77ed','\u51e1','\u53a9','\u73cd','\u6d46','\u79c6','\u9152','\u5b54','\u7586','\u6dc0','\u8d28','\u4e9b','\u7941','\u6743','\u80c0','\u95e8','\u75d2','\u7ec3','\u5b85','\u6296','\u76c5','\u5473','\u7ad6','\u84c4','\u6253','\u90ca','\u57e0','\u80e1','\u56f0','\u6eba','\u9975','\u9875','\u5f1b','\u8154','\u76db','\u4ebf','\u81e3','\u6280','\u9881','\u79b9','\u5c4b','\u806a','\u9ed4','\u8d4f','\u72f1','\u51b3','\u916c','\u8f95','\u6f8e','\u50a3','\u7f28','\u613f','\u5065','\u8bb0','\u8c01','\u4ec7','\u8d5b','\u7ffb','\u8180','\u6382','\u9510','\u60b2','\u5bab','\u59d0','\u8def','\u83b9','\u80c1','\u9a87','\u5371','\u9e45','\u60ca','\u7ae5','\u6c2e','\u62e8','\u80f0','\u68af','\u8c79','\u60e7','\u53e4','\u9b3c','\u952d','\u9664','\u94a0','\u5d4c','\u573e','\u7b2c','\u4fa8','\u5ff1','\u79d8','\u655d','\u7965','\u86c6','\u64bc','\u531d','\u7b8d','\u5947','\u52e4','\u86db','\u9a79','\u6405','\u5a9a','\u8638','\u80ef','\u5de5','\u77bb','\u8d4b','\u6218','\u6674','\u5174','\u70e4','\u4f0a','\u6566','\u7ebf','\u9a7e','\u7f0e','\u7387','\u5f79','\u5f8a','\u6587','\u98de','\u50bb','\u5f71','\u5c38','\u997a','\u886c','\u9a6c','\u5bcc','\u6b7c','\u563f','\u51b6','\u5bfb','\u7b56','\u4e3d','\u9e4a','\u65a1','\u51cc','\u5b66','\u5e45','\u5e3d','\u5200','\u8d35','\u65e6','\u7f6e','\u96a7','\u868a','\u77b3','\u78c1','\u5c06','\u8c0d','\u6c99','\u8f7f','\u6321','\u673a','\u9550','\u6444','\u6155','\u94fe','\u5ef6','\u5c4f','\u7cef','\u4e91','\u6ce1','\u9700','\u71d5','\u547d','\u7814','\u64b5','\u867e','\u7f94','\u5bb6','\u7ecf','\u82ef','\u9063','\u72e1','\u795f','\u6070','\u77e3','\u6025','\u4e25','\u6cc5','\u5f04','\u8457','\u6e23','\u5a29','\u63e1','\u582a','\u666f','\u6cbb','\u90c1','\u6266','\u82a5','\u4fef','\u53f2','\u66f0','\u5999','\u76d0','\u62c4','\u6da4','\u50b2','\u786b','\u5e4c','\u5c9b','\u4ed7','\u76d1','\u827a','\u8584','\u54b3','\u6064','\u5764','\u5438','\u9685','\u52d2','\u97e9','\u948e','\u76d8','\u8352','\u732e','\u51b5','\u52c7','\u5929','\u6c47','\u5728','\u5f62','\u7cb9','\u5df4','\u75e2','\u4ea5','\u71ce','\u8bb8','\u5ba0','\u75ca','\u636e','\u9e1f','\u6043','\u62cc','\u74e6','\u50a8','\u78a7','\u6500','\u966a','\u7329','\u62ec','\u94b5','\u5192','\u7559','\u5429','\u7f1a','\u5de9','\u94ae','\u5373','\u6eaa','\u516d','\u6c50','\u4fa0','\u8e4b','\u4ecd','\u5bde','\u789f','\u5490','\u846b','\u5220','\u9012','\u6ea2','\u626f','\u5305','\u6d12','\u7728','\u62db','\u5ddd','\u5168','\u5355','\u6151','\u5915','\u4f43','\u6954','\u8bbd','\u5228','\u7ef7','\u903c','\u5c3a','\u6e17','\u663c','\u9709','\u6276','\u9274','\u9644','\u9897','\u7275','\u8c31','\u8de8','\u96f7','\u6db8','\u8d60','\u89c1','\u5e93','\u4e22','\u73bb','\u5939','\u589f','\u8747','\u9aa1','\u5b9a','\u6f9c','\u7281','\u676f','\u8d76','\u59d4','\u8499','\u5566','\u9528','\u94b3','\u5374','\u5df1','\u535e','\u51e4','\u61d2','\u6297','\u9981','\u631e','\u5fe7','\u852c','\u88b1','\u5ce6','\u91c7','\u51c0','\u699c','\u8fa9','\u70e6','\u8302','\u9521','\u6109','\u8d2a','\u91c9','\u95fb','\u4f63','\u68fa','\u6b23','\u6d5a','\u5c3f','\u81b3','\u8017','\u6cb8','\u59bb','\u54ce','\u56e0','\u7cd6','\u8c61','\u75c8','\u919b','\u61ca','\u5413','\u575f','\u7aef','\u6e24','\u6e85','\u9524','\u818f','\u9a6d','\u900a','\u8eb2','\u4ec1','\u6df7','\u5609','\u63b8','\u7bd3','\u4e9a','\u5631','\u7687','\u69b7','\u67a3','\u519b','\u8138','\u76d7','\u4f73','\u6848','\u73ed','\u5c14','\u51a4','\u8110','\u80dc','\u618b','\u8084','\u8fb9','\u8c10','\u840d','\u5883','\u62cd','\u4e8e','\u5b88','\u622a','\u9e25','\u7236','\u70e9','\u809b','\u644a','\u6556','\u6805','\u97f3','\u72af','\u5492','\u4ece','\u75be','\u79c9','\u76fe','\u540a','\u7c4d','\u8ba9','\u916e','\u4e88','\u7f06','\u6170','\u6168','\u7b80','\u9ab8','\u6069','\u786c','\u56a3','\u8303','\u71e5','\u6073'])[floor(random()*998)+1],(array['\u70d8','\u5300','\u5f70','\u98d8','\u5b9b','\u621a','\u8925','\u90a6','\u7164','\u7f14','\u614e','\u7a96','\u7206','\u7b14','\u67cf','\u61c2','\u5b59','\u5a03','\u6f58','\u6d1b','\u9601','\u6346','\u602a','\u6376','\u53d8','\u8f74','\u5c24','\u8c8c','\u6dee','\u54fa','\u4e8f','\u5250','\u6664','\u7597','\u6d45','\u75db','\u8ba2','\u5632','\u6325','\u8019','\u56f4','\u7eb8','\u94a2','\u4eca','\u6e21','\u5189','\u6124','\u7ee3','\u516c','\u8427','\u8c03','\u5c1d','\u8001','\u5145','\u6c5d','\u4f60','\u70ac','\u4e49','\u84ec','\u8beb','\u6410','\u6258','\u7d6e','\u8d26','\u67aa','\u51d1','\u56ca','\u9576','\u68c0','\u6ce2','\u627f','\u5546','\u515c','\u6bd5','\u8e1e','\u773c','\u8d29','\u97f5','\u4f19','\u90ae','\u631a','\u52b3','\u8d41','\u5f18','\u4e7e','\u752d','\u665a','\u6bb4','\u8717','\u901a','\u9887','\u629b','\u6a1f','\u663e','\u5267','\u552f','\u987d','\u4fa9','\u7238','\u77ac','\u9539','\u524d','\u545c','\u65bd','\u8e0a','\u9505','\u6e4d','\u864f','\u523d','\u6851','\u6d6e','\u7acb','\u564e','\u671d','\u5203','\u8bf7','\u5377','\u68d8','\u8fde','\u6770','\u6d3d','\u7edd','\u607c','\u6cfb','\u903b','\u5e01','\u6bd6','\u6c81','\u79f8','\u8fdb','\u641e','\u6a2a','\u8712','\u6577','\u9713','\u69a8','\u7ede','\u571f','\u9102','\u733e','\u54ee','\u7f1d','\u7f50','\u4e09','\u62ab','\u5206','\u6f4d','\u7729','\u7696','\u6469','\u8327','\u538b','\u6853','\u59da','\u568f','\u4fe9','\u56fa','\u8549','\u5b9c','\u987a','\u5ffd','\u8a8a','\u965b','\u539f','\u70fd','\u5d14','\u592e','\u8354','\u94f8','\u6572','\u997f','\u9a8b','\u9f99','\u7840','\u6e43','\u67ef','\u9065','\u6162','\u635f','\u6f06','\u6495','\u5751','\u829c','\u5f7b','\u55d3','\u5e99','\u606b','\u5f85','\u4e61','\u8fa8','\u5509','\u7ed1','\u5f84','\u9b44','\u78c5','\u8d77','\u5993','\u5362','\u6886','\u5e38','\u524a','\u52d8','\u5207','\u9ec4','\u6f3e','\u4e03','\u72e0','\u998f','\u5757','\u9610','\u5e76','\u54e5','\u4f69','\u9091','\u4ed1','\u9a73','\u819c','\u7766','\u7852','\u63a5','\u8bae','\u751c','\u5395','\u7891','\u6df1','\u9611','\u5c94','\u865a','\u8c6a','\u9a70','\u6148','\u83b2','\u9ad8','\u7109','\u8d61','\u5723','\u5df7','\u714c','\u548e','\u5d16','\u9ca4','\u851a','\u6f88','\u8be6','\u901e','\u9885','\u5b99','\u8bca','\u77e9','\u58d5','\u4fe1','\u7c27','\u7c98','\u7a3c','\u79e6','\u5bfc','\u5a07','\u9707','\u5e27','\u6ef4','\u9602','\u62e6','\u8bbe','\u91cd','\u59ae','\u65c1','\u8146','\u52c9','\u594e','\u5e74','\u5e2e','\u6994','\u8fdc','\u96ea','\u76df','\u866b','\u5fff','\u5fb7','\u6b65','\u9972','\u67dc','\u4ea1','\u655b','\u7f04','\u8fe2','\u6cea','\u795e','\u8a93','\u6bcf','\u86e4','\u5510','\u7fe0','\u7f05','\u5360','\u5b83','\u5272','\u97ad','\u996f','\u5319','\u8517','\u6f02','\u54c1','\u7a7f','\u5486','\u5960','\u4ea9','\u5a36','\u897f','\u672c','\u8bef','\u566c','\u767b','\u60e6','\u9541','\u864e','\u9b41','\u8086','\u6c60','\u72c4','\u8e44','\u4eba','\u75a5','\u7ed3','\u8ba3','\u7554','\u5ec9','\u91dc','\u64cd','\u5b75','\u8338','\u6101','\u5b9d','\u81fb','\u5ac1','\u4f3c','\u59e8','\u5885','\u8c7a','\u57a6','\u6687','\u7011','\u6da1','\u6a47','\u4e73','\u5e16','\u6ca7','\u58a9','\u658b','\u8f9b','\u914d','\u5f5d','\u8292','\u5185','\u69db','\u6028','\u62b1','\u5893','\u71c3','\u6d3e','\u7259','\u5411','\u631f','\u6d0b','\u9093','\u5420','\u8bfa','\u9605','\u4e50','\u9879','\u65ec','\u7f8c','\u4ee4','\u6210','\u65ad','\u4eea','\u606f','\u7525','\u85cf','\u62fc','\u60f3','\u7eb7','\u5211','\u575d','\u8179','\u57ce','\u8bc0','\u5468','\u5e1a','\u78b0','\u820c','\u964b','\u796d','\u6b8b','\u5364','\u78b3','\u7eda','\u8d56','\u9501','\u6127','\u5b69','\u7ec8','\u94dd','\u8fce','\u854a','\u6c16','\u7838','\u8eab','\u7a00','\u90dd','\u53eb','\u7830','\u57df','\u808c','\u6536','\u541b','\u5561','\u7f38','\u7a9f','\u63ea','\u7caa','\u5c0f','\u8bb2','\u54ed','\u86c0','\u8ddf','\u91cf','\u9017','\u85aa','\u80cc','\u6c11','\u5b7a','\u8425','\u7248','\u8682','\u6298','\u6467','\u9009','\u800c','\u8d2b','\u60f0','\u8537','\u8857','\u809a','\u7eaa','\u9648','\u6850','\u9157','\u6e34','\u8f9c','\u6ed4','\u604d','\u5427','\u5582','\u62bf','\u53bb','\u9898','\u5ca9','\u8e6d','\u8c24','\u75c9','\u61c8','\u6400','\u5b98','\u4f5b','\u6252','\u821c','\u6986','\u87ba','\u8349','\u602f','\u776c','\u6606','\u683d','\u7531','\u4e5e','\u4e94','\u785d','\u654c','\u7686','\u5bf8','\u634d','\u5b5f','\u56fe','\u6c64','\u7bf7','\u5f0a','\u5431','\u5f55','\u5777','\u4ed3','\u5239','\u8170','\u6402','\u6570','\u9519','\u5824','\u787c','\u635e','\u64ad','\u82df','\u6837','\u563b','\u6279','\u969c','\u9876','\u8bba','\u7a83','\u7cb3','\u4e0e','\u4e1b','\u5e06','\u53e5','\u88f3','\u7ffc','\u708a','\u8c26','\u72d7','\u7968','\u6307','\u8ba5','\u96c7','\u7a3d','\u58e4','\u4fa5','\u9888','\u5bb0','\u50e7','\u5440','\u73af','\u5fe0','\u5fd7','\u8f99','\u4eae','\u5eb7','\u9e4f','\u6015','\u7ef5','\u672a','\u8fd9','\u8c62','\u8bbc','\u6b7b','\u6027','\u9a8f','\u7eff','\u5e78','\u8bf8','\u52b2','\u66ff','\u532a','\u4e48','\u6050','\u5199','\u5361','\u6016','\u54c7','\u9774','\u7f72','\u892a','\u65a9','\u6d8e','\u61e6','\u6bb5','\u7435','\u9635','\u756a','\u6cb3','\u5ed6','\u5fc5','\u4f10','\u6362','\u96fe','\u886b','\u76d6','\u85c9','\u5ef7','\u538c','\u970d','\u888b','\u9999','\u77ed','\u51e1','\u53a9','\u73cd','\u6d46','\u79c6','\u9152','\u5b54','\u7586','\u6dc0','\u8d28','\u4e9b','\u7941','\u6743','\u80c0','\u95e8','\u75d2','\u7ec3','\u5b85','\u6296','\u76c5','\u5473','\u7ad6','\u84c4','\u6253','\u90ca','\u57e0','\u80e1','\u56f0','\u6eba','\u9975','\u9875','\u5f1b','\u8154','\u76db','\u4ebf','\u81e3','\u6280','\u9881','\u79b9','\u5c4b','\u806a','\u9ed4','\u8d4f','\u72f1','\u51b3','\u916c','\u8f95','\u6f8e','\u50a3','\u7f28','\u613f','\u5065','\u8bb0','\u8c01','\u4ec7','\u8d5b','\u7ffb','\u8180','\u6382','\u9510','\u60b2','\u5bab','\u59d0','\u8def','\u83b9','\u80c1','\u9a87','\u5371','\u9e45','\u60ca','\u7ae5','\u6c2e','\u62e8','\u80f0','\u68af','\u8c79','\u60e7','\u53e4','\u9b3c','\u952d','\u9664','\u94a0','\u5d4c','\u573e','\u7b2c','\u4fa8','\u5ff1','\u79d8','\u655d','\u7965','\u86c6','\u64bc','\u531d','\u7b8d','\u5947','\u52e4','\u86db','\u9a79','\u6405','\u5a9a','\u8638','\u80ef','\u5de5','\u77bb','\u8d4b','\u6218','\u6674','\u5174','\u70e4','\u4f0a','\u6566','\u7ebf','\u9a7e','\u7f0e','\u7387','\u5f79','\u5f8a','\u6587','\u98de','\u50bb','\u5f71','\u5c38','\u997a','\u886c','\u9a6c','\u5bcc','\u6b7c','\u563f','\u51b6','\u5bfb','\u7b56','\u4e3d','\u9e4a','\u65a1','\u51cc','\u5b66','\u5e45','\u5e3d','\u5200','\u8d35','\u65e6','\u7f6e','\u96a7','\u868a','\u77b3','\u78c1','\u5c06','\u8c0d','\u6c99','\u8f7f','\u6321','\u673a','\u9550','\u6444','\u6155','\u94fe','\u5ef6','\u5c4f','\u7cef','\u4e91','\u6ce1','\u9700','\u71d5','\u547d','\u7814','\u64b5','\u867e','\u7f94','\u5bb6','\u7ecf','\u82ef','\u9063','\u72e1','\u795f','\u6070','\u77e3','\u6025','\u4e25','\u6cc5','\u5f04','\u8457','\u6e23','\u5a29','\u63e1','\u582a','\u666f','\u6cbb','\u90c1','\u6266','\u82a5','\u4fef','\u53f2','\u66f0','\u5999','\u76d0','\u62c4','\u6da4','\u50b2','\u786b','\u5e4c','\u5c9b','\u4ed7','\u76d1','\u827a','\u8584','\u54b3','\u6064','\u5764','\u5438','\u9685','\u52d2','\u97e9','\u948e','\u76d8','\u8352','\u732e','\u51b5','\u52c7','\u5929','\u6c47','\u5728','\u5f62','\u7cb9','\u5df4','\u75e2','\u4ea5','\u71ce','\u8bb8','\u5ba0','\u75ca','\u636e','\u9e1f','\u6043','\u62cc','\u74e6','\u50a8','\u78a7','\u6500','\u966a','\u7329','\u62ec','\u94b5','\u5192','\u7559','\u5429','\u7f1a','\u5de9','\u94ae','\u5373','\u6eaa','\u516d','\u6c50','\u4fa0','\u8e4b','\u4ecd','\u5bde','\u789f','\u5490','\u846b','\u5220','\u9012','\u6ea2','\u626f','\u5305','\u6d12','\u7728','\u62db','\u5ddd','\u5168','\u5355','\u6151','\u5915','\u4f43','\u6954','\u8bbd','\u5228','\u7ef7','\u903c','\u5c3a','\u6e17','\u663c','\u9709','\u6276','\u9274','\u9644','\u9897','\u7275','\u8c31','\u8de8','\u96f7','\u6db8','\u8d60','\u89c1','\u5e93','\u4e22','\u73bb','\u5939','\u589f','\u8747','\u9aa1','\u5b9a','\u6f9c','\u7281','\u676f','\u8d76','\u59d4','\u8499','\u5566','\u9528','\u94b3','\u5374','\u5df1','\u535e','\u51e4','\u61d2','\u6297','\u9981','\u631e','\u5fe7','\u852c','\u88b1','\u5ce6','\u91c7','\u51c0','\u699c','\u8fa9','\u70e6','\u8302','\u9521','\u6109','\u8d2a','\u91c9','\u95fb','\u4f63','\u68fa','\u6b23','\u6d5a','\u5c3f','\u81b3','\u8017','\u6cb8','\u59bb','\u54ce','\u56e0','\u7cd6','\u8c61','\u75c8','\u919b','\u61ca','\u5413','\u575f','\u7aef','\u6e24','\u6e85','\u9524','\u818f','\u9a6d','\u900a','\u8eb2','\u4ec1','\u6df7','\u5609','\u63b8','\u7bd3','\u4e9a','\u5631','\u7687','\u69b7','\u67a3','\u519b','\u8138','\u76d7','\u4f73','\u6848','\u73ed','\u5c14','\u51a4','\u8110','\u80dc','\u618b','\u8084','\u8fb9','\u8c10','\u840d','\u5883','\u62cd','\u4e8e','\u5b88','\u622a','\u9e25','\u7236','\u70e9','\u809b','\u644a','\u6556','\u6805','\u97f3','\u72af','\u5492','\u4ece','\u75be','\u79c9','\u76fe','\u540a','\u7c4d','\u8ba9','\u916e','\u4e88','\u7f06','\u6170','\u6168','\u7b80','\u9ab8','\u6069','\u786c','\u56a3','\u8303','\u71e5','\u6073'])[floor(random()*2000)+1]); $$ language sql \u968f\u673a\u751f\u6210\u8eab\u4efd\u8bc1\u53f7\u7801 select RndIdcard() create or replace function RndIdcard() returns varchar(18) as $$ select concat(floor(random()*(500000-777799)+999999),to_char(now()::timestamp - random() * interval '10 year','YYYYMMDD'),floor(random()*(10-99)+99),floor(random()*2),floor(random()*9)) $$ language sql \u968f\u673a\u751f\u6210\u624b\u673a\u53f7 create or replace function RndPhone() returns varchar(18) as $$ select to_char(floor(random()*(13000000000-13999999999)+13999999999),'00000000000') $$ language sql \u968f\u673a\u751f\u6210\u65e5\u671f\u65f6\u95f4 create or replace function RndDatetime() returns TIMESTAMP as $$ select now()::timestamp - random() * interval '3 month' $$ language sql \u968f\u673a\u751f\u6210\u8bbe\u5907id create or replace function RndDevid() returns varchar(32) as $$ select concat('DEV-',floor(random()*(300000-700000)+700000),floor(random()*(1000000-7000000)+7000000)) $$ language sql \u5efa\u7acb\u5217\u5b58\u8868 create table demo_person_pass (id serial8,name varchar(32),idcard varchar(32),phone varchar(16),equipment_id varchar(32),pass_time timestamptz) with(appendonly=true,orientation=column) distributed by (id) ; \u5199\u5165\u6d4b\u8bd5\u6570\u636e insert into demo_person_pass(name,idcard,phone,equipment_id,pass_time) SELECT RndName ( ) NAME, RndIdcard ( ) idcard, RndPhone ( ) phone, RndDevid() equipment_id, RndDatetime ( ) pass_time FROM user_log LIMIT 1000 \u521b\u5efa\u7528\u6237 create user zyzs with password 'pwd'; grant all privileges on database zyzsdag to zyzs; \\c dbname grant all privileges on all tables in schema public to zyzs;","title":"Postgresql\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_1","text":"","title":"\u5e38\u7528\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#max_connections","text":"\u5141\u8bb8\u7684\u6700\u5927\u5ba2\u6237\u7aef\u8fde\u63a5\u6570\u3002\u8fd9\u4e2a\u53c2\u6570\u8bbe\u7f6e\u5927\u5c0f\u548cwork_mem\u6709\u4e00\u4e9b\u5173\u7cfb\u3002\u914d\u7f6e\u7684\u8d8a\u9ad8\uff0c\u53ef\u80fd\u4f1a\u5360\u7528\u7cfb\u7edf\u66f4\u591a\u7684\u5185\u5b58\u3002\u901a\u5e38\u53ef\u4ee5\u8bbe\u7f6e\u6570\u767e\u4e2a\u8fde\u63a5\uff0c\u5982\u679c\u8981\u4f7f\u7528\u4e0a\u5343\u4e2a\u8fde\u63a5\uff0c\u5efa\u8bae\u914d\u7f6e\u8fde\u63a5\u6c60\u6765\u51cf\u5c11\u5f00\u9500\u3002","title":"max_connections"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#shared_buffers","text":"PostgreSQL\u4f7f\u7528\u81ea\u5df1\u7684\u7f13\u51b2\u533a\uff0c\u4e5f\u4f7f\u7528Linux\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2OS Cache\u3002\u8fd9\u5c31\u8bf4\u660e\u6570\u636e\u4e24\u6b21\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u9996\u5148\u662fPostgreSQL\u7f13\u51b2\u533a\uff0c\u7136\u540e\u662f\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7f13\u51b2\u533a\u3002\u4e0e\u5176\u4ed6\u6570\u636e\u5e93\u4e0d\u540c\uff0cPostgreSQL\u4e0d\u63d0\u4f9b\u76f4\u63a5IO\uff0c\u6240\u4ee5\u8fd9\u53c8\u88ab\u79f0\u4e3a\u53cc\u7f13\u51b2\u3002PostgreSQL\u7f13\u51b2\u533a\u79f0\u4e3ashared_buffer\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u7269\u7406\u5185\u5b58\u76841/4\u3002\u800c\u5b9e\u9645\u914d\u7f6e\u53d6\u51b3\u4e8e\u786c\u4ef6\u914d\u7f6e\u548c\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u5982\u679c\u4f60\u7684\u5185\u5b58\u5f88\u5927\uff0c\u800c\u4f60\u53c8\u60f3\u591a\u7f13\u51b2\u4e00\u4e9b\u6570\u636e\u5230\u5185\u5b58\u4e2d\uff0c\u53ef\u4ee5\u7ee7\u7eed\u8c03\u5927shared_buffer\u3002","title":"shared_buffers"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#effective_cache_size","text":"\u8fd9\u4e2a\u53c2\u6570\u4e3b\u8981\u7528\u4e8ePostgre\u67e5\u8be2\u4f18\u5316\u5668\u3002\u662f\u5355\u4e2a\u67e5\u8be2\u53ef\u7528\u7684\u78c1\u76d8\u9ad8\u901f\u7f13\u5b58\u7684\u6709\u6548\u5927\u5c0f\u7684\u4e00\u4e2a\u5047\u8bbe\uff0c\u662f\u4e00\u4e2a\u4f30\u7b97\u503c\uff0c\u5b83\u5e76\u4e0d\u5360\u636e\u7cfb\u7edf\u5185\u5b58\u3002\u7531\u4e8e\u4f18\u5316\u5668\u9700\u8981\u8fdb\u884c\u4f30\u7b97\u6210\u672c\uff0c\u8f83\u9ad8\u7684\u503c\u66f4\u6709\u53ef\u80fd\u4f7f\u7528\u7d22\u5f15\u626b\u63cf\uff0c\u8f83\u4f4e\u7684\u503c\u5219\u6709\u53ef\u80fd\u4f7f\u7528\u987a\u5e8f\u626b\u63cf\u3002\u4e00\u822c\u8fd9\u4e2a\u503c\u8bbe\u7f6e\u4e3a\u5185\u5b58\u76841/2\u662f\u6b63\u5e38\u4fdd\u5b88\u7684\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u4e3a\u5185\u5b58\u76843/4\u662f\u6bd4\u8f83\u63a8\u8350\u7684\u503c\u3002\u901a\u8fc7free\u547d\u4ee4\u67e5\u770b\u64cd\u4f5c\u7cfb\u7edf\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u60a8\u53ef\u80fd\u4f1a\u66f4\u597d\u7684\u4f30\u7b97\u8be5\u503c\u3002 [pg@e22 ~]$ free -g total used free shared buff/cache available Mem: 62 2 5 16 55 40 Swap: 7 0 7","title":"Effective_cache_size"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#work_mem","text":"\u8fd9\u4e2a\u53c2\u6570\u4e3b\u8981\u7528\u4e8e\u5199\u5165\u4e34\u65f6\u6587\u4ef6\u4e4b\u524d\u5185\u90e8\u6392\u5e8f\u64cd\u4f5c\u548c\u6563\u5217\u8868\u4f7f\u7528\u7684\u5185\u5b58\u91cf\uff0c\u589e\u52a0work_mem\u53c2\u6570\u5c06\u4f7fPostgreSQL\u53ef\u4ee5\u8fdb\u884c\u66f4\u5927\u7684\u5185\u5b58\u6392\u5e8f\u3002\u8fd9\u4e2a\u53c2\u6570\u548cmax_connections\u6709\u4e00\u4e9b\u5173\u7cfb\uff0c\u5047\u8bbe\u4f60\u8bbe\u7f6e\u4e3a30MB\uff0c\u521940\u4e2a\u7528\u6237\u540c\u65f6\u6267\u884c\u67e5\u8be2\u6392\u5e8f\uff0c\u5f88\u5feb\u5c31\u4f1a\u4f7f\u75281.2GB\u7684\u5b9e\u9645\u5185\u5b58\u3002\u540c\u65f6\u5bf9\u4e8e\u590d\u6742\u67e5\u8be2\uff0c\u53ef\u80fd\u4f1a\u8fd0\u884c\u591a\u4e2a\u6392\u5e8f\u548c\u6563\u5217\u64cd\u4f5c\uff0c\u4f8b\u5982\u6d89\u53ca\u52308\u5f20\u8868\u8fdb\u884c\u5408\u5e76\u6392\u5e8f\uff0c\u6b64\u65f6\u5c31\u9700\u89818\u500d\u7684work_mem\u3002 \u5982\u4e0b\u9762\u6848\u4f8b\u6240\u793a\uff0c\u8be5\u73af\u5883\u4f7f\u75284MB\u7684work_mem\uff0c\u5728\u6267\u884c\u6392\u5e8f\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u7684Sort Method\u662fexternal merge Disk\u3002 external merge Disk\u3002 kms=> explain (analyze,buffers) select * from KMS_BUSINESS_HALL_TOTAL order by buss_query_info; QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------- Gather Merge (cost=262167.99..567195.15 rows=2614336 width=52) (actual time=2782.203..5184.442 rows=3137204 loops=1) Workers Planned: 2 Workers Launched: 2 Buffers: shared hit=68 read=25939, temp read=28863 written=28947 -> Sort (cost=261167.97..264435.89 rows=1307168 width=52) (actual time=2760.566..3453.783 rows=1045735 loops=3) Sort Key: buss_query_info Sort Method: external merge Disk: 50568kB Worker 0: Sort Method: external merge Disk: 50840kB Worker 1: Sort Method: external merge Disk: 49944kB Buffers: shared hit=68 read=25939, temp read=28863 written=28947 -> Parallel Seq Scan on kms_business_hall_total (cost=0.00..39010.68 rows=1307168 width=52) (actual time=0.547..259.524 rows=1045735 loops=3) Buffers: shared read=25939 Planning Time: 0.540 ms Execution Time: 5461.516 ms (14 rows) \u5f53\u6211\u4eec\u628a\u53c2\u6570\u4fee\u6539\u6210512MB\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u770b\u5230Sort Method\u53d8\u6210\u4e86quicksort Memory\uff0c\u53d8\u6210\u4e86\u5185\u5b58\u6392\u5e8f\u3002 kms=> set work_mem to \"512MB\"; SET kms=> explain (analyze,buffers) select * from KMS_BUSINESS_HALL_TOTAL order by buss_query_info; QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------ Sort (cost=395831.79..403674.80 rows=3137204 width=52) (actual time=7870.826..8204.794 rows=3137204 loops=1) Sort Key: buss_query_info Sort Method: quicksort Memory: 359833kB Buffers: shared hit=25939 -> Seq Scan on kms_business_hall_total (cost=0.00..57311.04 rows=3137204 width=52) (actual time=0.019..373.067 rows=3137204 loops=1) Buffers: shared hit=25939 Planning Time: 0.081 ms Execution Time: 8419.994 ms (8 rows)","title":"work_mem"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#maintenance_work_mem","text":"\u6307\u5b9a\u7ef4\u62a4\u64cd\u4f5c\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u91cf\uff0c\u4f8b\u5982\uff08Vacuum\u3001Create Index\u548cAlter Table Add Foreign Key\uff09\uff0c\u9ed8\u8ba4\u503c\u662f64MB\u3002\u7531\u4e8e\u901a\u5e38\u6b63\u5e38\u8fd0\u884c\u7684\u6570\u636e\u5e93\u4e2d\u4e0d\u4f1a\u6709\u5927\u91cf\u5e76\u53d1\u7684\u6b64\u7c7b\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u7684\u8f83\u5927\u4e00\u4e9b\uff0c\u63d0\u9ad8\u6e05\u7406\u548c\u521b\u5efa\u7d22\u5f15\u5916\u952e\u7684\u901f\u5ea6\u3002 postgres=# set maintenance_work_mem to \"64MB\"; SET Time: 1.971 ms postgres=# create index idx1_test on test(id); CREATE INDEX Time: 7483.621 ms (00:07.484) postgres=# set maintenance_work_mem to \"2GB\"; SET Time: 0.543 ms postgres=# drop index idx1_test; DROP INDEX Time: 133.984 ms postgres=# create index idx1_test on test(id); CREATE INDEX Time: 5661.018 ms (00:05.661) \u53ef\u4ee5\u770b\u5230\u5728\u4f7f\u7528\u9ed8\u8ba4\u768464MB\u521b\u5efa\u7d22\u5f15\uff0c\u901f\u5ea6\u4e3a7.4\u79d2\uff0c\u800c\u8bbe\u7f6e\u4e3a2GB\u540e\uff0c\u521b\u5efa\u901f\u5ea6\u662f5.6\u79d2","title":"maintenance_work_mem"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#wal_sync_method","text":"\u6bcf\u6b21\u53d1\u751f\u4e8b\u52a1\u540e\uff0cPostgreSQL\u4f1a\u5f3a\u5236\u5c06\u63d0\u4ea4\u5199\u5230WAL\u65e5\u5fd7\u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u4f7f\u7528pg_test_fsync\u547d\u4ee4\u5728\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fdb\u884c\u6d4b\u8bd5\uff0cfdatasync\u662fLinux\u4e0a\u7684\u9ed8\u8ba4\u65b9\u6cd5\u3002\u5982\u4e0b\u6240\u793a\uff0c\u6211\u7684\u73af\u5883\u6d4b\u8bd5\u4e0b\u6765fdatasync\u8fd8\u662f\u901f\u5ea6\u53ef\u4ee5\u7684\u3002\u4e0d\u652f\u6301\u7684\u65b9\u6cd5\u50cffsync_writethrough\u76f4\u63a5\u663e\u793an/a\u3002 postgres=# show wal_sync_method ; wal_sync_method ----------------- fdatasync (1 row) [pg@e22 ~]$ pg_test_fsync -s 3 3 seconds per test O_DIRECT supported on this platform for open_datasync and open_sync. Compare file sync methods using one 8kB write: (in wal_sync_method preference order, except fdatasync is Linux's default) open_datasync 4782.871 ops/sec 209 usecs/op fdatasync 4935.556 ops/sec 203 usecs/op fsync 3781.254 ops/sec 264 usecs/op fsync_writethrough n/a open_sync 3850.219 ops/sec 260 usecs/op Compare file sync methods using two 8kB writes: (in wal_sync_method preference order, except fdatasync is Linux's default) open_datasync 2469.646 ops/sec 405 usecs/op fdatasync 4412.266 ops/sec 227 usecs/op fsync 3432.794 ops/sec 291 usecs/op fsync_writethrough n/a open_sync 1929.221 ops/sec 518 usecs/op Compare open_sync with different write sizes: (This is designed to compare the cost of writing 16kB in different write open_sync sizes.) 1 * 16kB open_sync write 3159.780 ops/sec 316 usecs/op 2 * 8kB open_sync writes 1944.723 ops/sec 514 usecs/op 4 * 4kB open_sync writes 993.173 ops/sec 1007 usecs/op 8 * 2kB open_sync writes 493.396 ops/sec 2027 usecs/op 16 * 1kB open_sync writes 249.762 ops/sec 4004 usecs/op Test if fsync on non-write file descriptor is honored: (If the times are similar, fsync() can sync data written on a different descriptor.) write, fsync, close 3719.973 ops/sec 269 usecs/op write, close, fsync 3651.820 ops/sec 274 usecs/op Non-sync'ed 8kB writes: write 400577.329 ops/sec 2 usecs/op","title":"wal_sync_method"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#wal_buffers","text":"\u4e8b\u52a1\u65e5\u5fd7\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0cPostgreSQL\u5c06WAL\u8bb0\u5f55\u5199\u5165\u7f13\u51b2\u533a\uff0c\u7136\u540e\u518d\u5c06\u7f13\u51b2\u533a\u5237\u65b0\u5230\u78c1\u76d8\u3002\u5728PostgreSQL 12\u7248\u4e2d\uff0c\u9ed8\u8ba4\u503c\u4e3a-1\uff0c\u4e5f\u5c31\u662f\u9009\u62e9\u7b49\u4e8eshared_buffers\u76841/32 \u3002\u5982\u679c\u81ea\u52a8\u7684\u9009\u62e9\u592a\u5927\u6216\u592a\u5c0f\u53ef\u4ee5\u624b\u5de5\u8bbe\u7f6e\u8be5\u503c\u3002\u4e00\u822c\u8003\u8651\u8bbe\u7f6e\u4e3a16MB\u3002","title":"wal_buffers"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#synchronous_commit","text":"\u5ba2\u6237\u7aef\u6267\u884c\u63d0\u4ea4\uff0c\u5e76\u4e14\u7b49\u5f85WAL\u5199\u5165\u78c1\u76d8\u4e4b\u540e\uff0c\u7136\u540e\u518d\u5c06\u6210\u529f\u72b6\u6001\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4e3aon\uff0cremote_apply\uff0cremote_write\uff0clocal\uff0coff\u7b49\u503c\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3aon\u3002\u5982\u679c\u8bbe\u7f6e\u4e3aoff\uff0c\u4f1a\u5173\u95edsync_commit\uff0c\u5ba2\u6237\u7aef\u63d0\u4ea4\u4e4b\u540e\u5c31\u7acb\u9a6c\u8fd4\u56de\uff0c\u4e0d\u7528\u7b49\u8bb0\u5f55\u5237\u65b0\u5230\u78c1\u76d8\u3002\u6b64\u65f6\u5982\u679cPostgreSQL\u5b9e\u4f8b\u5d29\u6e83\uff0c\u5219\u6700\u540e\u51e0\u4e2a\u5f02\u6b65\u63d0\u4ea4\u5c06\u4f1a\u4e22\u5931\u3002","title":"synchronous_commit"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#default_statistics_target","text":"PostgreSQL\u4f7f\u7528\u7edf\u8ba1\u4fe1\u606f\u6765\u751f\u6210\u6267\u884c\u8ba1\u5212\u3002\u7edf\u8ba1\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8Analyze\u547d\u4ee4\u6216\u8005\u662fautovacuum\u8fdb\u7a0b\u542f\u52a8\u7684\u81ea\u52a8\u5206\u6790\u6765\u6536\u96c6\uff0cdefault_statistics_target\u53c2\u6570\u6307\u5b9a\u5728\u6536\u96c6\u548c\u8bb0\u5f55\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u65f6\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002\u9ed8\u8ba4\u503c\u4e3a100\u5bf9\u4e8e\u5927\u591a\u6570\u5de5\u4f5c\u8d1f\u8f7d\u662f\u6bd4\u8f83\u5408\u7406\u7684\uff0c\u5bf9\u4e8e\u975e\u5e38\u7b80\u5355\u7684\u67e5\u8be2\uff0c\u8f83\u5c0f\u7684\u503c\u53ef\u80fd\u4f1a\u6709\u7528\uff0c\u800c\u5bf9\u4e8e\u590d\u6742\u7684\u67e5\u8be2\uff08\u5c24\u5176\u662f\u9488\u5bf9\u5927\u578b\u8868\u7684\u67e5\u8be2\uff09\uff0c\u8f83\u5927\u7684\u503c\u53ef\u80fd\u4f1a\u66f4\u597d\u3002\u4e3a\u4e86\u4e0d\u8981\u4e00\u5200\u5207\uff0c\u53ef\u4ee5\u4f7f\u7528ALTER TABLE .. ALTER COLUMN .. SET STATISTICS\u8986\u76d6\u7279\u5b9a\u8868\u5217\u7684\u9ed8\u8ba4\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002","title":"default_statistics_target"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#checkpoint_timeoutmax_wal_sizemin_wal_sizecheckpoint_completion_target","text":"\u4e86\u89e3\u8fd9\u4e24\u4e2a\u53c2\u6570\u4ee5\u524d\uff0c\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u4e0b\uff0c\u89e6\u53d1\u68c0\u67e5\u70b9\u7684\u51e0\u4e2a\u64cd\u4f5c\u3002 \u76f4\u63a5\u6267\u884ccheckpoint\u547d\u4ee4 \u6267\u884c\u9700\u8981\u68c0\u67e5\u70b9\u7684\u547d\u4ee4\uff08\u4f8b\u5982pg_start_backup,Create database,pg_ctl stop/start\u7b49\u7b49\uff09 \u81ea\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u4ee5\u6765\uff0c\u8fbe\u5230\u4e86\u5df2\u7ecf\u914d\u7f6e\u7684\u65f6\u95f4\u91cf\uff08checkpoint_timeout \uff09 \u81ea\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u4ee5\u6765\u751f\u6210\u7684WAL\u6570\u91cf\uff08max_wal_size\uff09 \u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u68c0\u67e5\u70b9\u5c06\u5728checkpoint_timeout=5min\u3002\u4e5f\u5c31\u662f\u6bcf5\u5206\u949f\u89e6\u53d1\u4e00\u6b21\u3002\u800cmax_wal_size\u8bbe\u7f6e\u662f\u81ea\u52a8\u68c0\u67e5\u70b9\u4e4b\u95f4\u589e\u957f\u7684\u6700\u5927\u9884\u5199\u65e5\u5fd7\u8bb0\u5f55\uff08WAL\uff09\u91cf\u3002\u9ed8\u8ba4\u662f1GB\uff0c\u5982\u679c\u8d85\u8fc7\u4e861GB\uff0c\u5219\u4f1a\u53d1\u751f\u68c0\u67e5\u70b9\u3002\u8fd9\u662f\u4e00\u4e2a\u8f6f\u9650\u5236\u3002\u5728\u4e00\u4e2a\u7279\u6b8a\u7684\u60c5\u51b5\u4e0b\uff0c\u6bd4\u5982\u7cfb\u7edf\u906d\u9047\u5230\u77ed\u65f6\u95f4\u7684\u9ad8\u8d1f\u8f7d\uff0c\u65e5\u5fd7\u4ea7\u751f\u51e0\u79d2\u79cd\u5c31\u53ef\u4ee5\u8fbe\u52301GB\uff0c\u8fd9\u4e2a\u901f\u5ea6\u5df2\u7ecf\u660e\u663e\u8d85\u8fc7\u4e86checkpoint_timeout \uff0cpg_wal\u76ee\u5f55\u7684\u5927\u5c0f\u4f1a\u6025\u5267\u589e\u52a0\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4ece\u65e5\u5fd7\u4e2d\u770b\u5230\u76f8\u5173\u7c7b\u4f3c\u7684\u8b66\u544a\u3002 LOG: checkpoints are occurring too frequently (9 seconds apart) HINT: Consider increasing the configuration parameter \"max_wal_size\". LOG: checkpoints are occurring too frequently (2 seconds apart) HINT: Consider increasing the configuration parameter \"max_wal_size\". \u6240\u4ee5\u8981\u5408\u7406\u914d\u7f6emax_wal_size\uff0c\u4ee5\u907f\u514d\u9891\u7e41\u7684\u8fdb\u884c\u68c0\u67e5\u70b9\u3002\u4e00\u822c\u63a8\u8350\u8bbe\u7f6e\u4e3a16GB\u4ee5\u4e0a\uff0c\u4e0d\u8fc7\u5177\u4f53\u8bbe\u7f6e\u591a\u5927\u8fd8\u9700\u8981\u548c\u5de5\u4f5c\u8d1f\u8377\u76f8\u5339\u914d\u3002 min_wal_size\u53c2\u6570\u662f\u53ea\u8981 WAL \u78c1\u76d8\u4f7f\u7528\u91cf\u4fdd\u6301\u5728\u8fd9\u4e2a\u8bbe\u7f6e\u4e4b\u4e0b\uff0c\u5728\u505a\u68c0\u67e5\u70b9\u65f6\uff0c\u65e7\u7684 WAL \u6587\u4ef6\u603b\u662f\u88ab\u56de\u6536\u4ee5\u4fbf\u672a\u6765\u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u88ab\u5220\u9664\u3002 \u800c\u68c0\u67e5\u70b9\u7684\u5199\u5165\u4e0d\u662f\u5168\u90e8\u7acb\u9a6c\u5b8c\u6210\u7684\uff0cPostgreSQL\u4f1a\u5c06\u4e00\u6b21\u68c0\u67e5\u70b9\u7684\u6240\u6709\u64cd\u4f5c\u5206\u6563\u5230\u4e00\u6bb5\u65f6\u95f4\u5185\u3002\u8fd9\u6bb5\u65f6\u95f4\u7531\u53c2\u6570checkpoint_completion_target\u63a7\u5236\uff0c\u5b83\u662f\u4e00\u4e2a\u5206\u6570\uff0c\u9ed8\u8ba4\u4e3a0.5\u3002\u4e5f\u5c31\u662f\u5728\u4e24\u6b21\u68c0\u67e5\u70b9\u4e4b\u95f4\u76840.5\u6bd4\u4f8b\u5b8c\u6210\u5199\u76d8\u64cd\u4f5c\u3002\u5982\u679c\u8bbe\u7f6e\u7684\u5f88\u5c0f\uff0c\u5219\u68c0\u67e5\u70b9\u8fdb\u7a0b\u5c31\u4f1a\u66f4\u52a0\u8fc5\u901f\u7684\u5199\u76d8\uff0c\u8bbe\u7f6e\u7684\u5f88\u5927\uff0c\u5219\u5c31\u4f1a\u6bd4\u8f83\u6162\u3002\u4e00\u822c\u63a8\u8350\u8bbe\u7f6e\u4e3a0.9\uff0c\u8ba9\u68c0\u67e5\u70b9\u7684\u5199\u5165\u5206\u6563\u4e00\u70b9\u3002\u4f46\u662f\u7f3a\u70b9\u5c31\u662f\u51fa\u73b0\u6545\u969c\u7684\u65f6\u5019\uff0c\u5f71\u54cd\u6062\u590d\u7684\u65f6\u95f4\u3002 \u53ef\u4ee5\u8f93\u5165\u53c2\u6570\u4f7f\u7528pgtune\u81ea\u52a8\u751f\u6210\u914d\u7f6e\u5efa\u8bae\uff1ahttps://pgtune.leopard.in.ua/#/","title":"checkpoint_timeout\u3001max_wal_size\uff0cmin_wal_size\u3001checkpoint_completion_target"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_2","text":"","title":"\u5916\u90e8\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#mysqlmariadbtidb","text":"--\u4e3e\u4f8b\u4e2d\u672c\u5730\u6570\u636e\u5e93\u7528\u6237\u4e3auser --\u521b\u5efafdw\u63d2\u4ef6\uff08\u5982\u5bb9\u5668\u955c\u50cfpg13\u547d\u4ee4\u4e3aapt-get update && apt-get install -y postgresql-13-mysql-fdw) create extension mysql_fdw; --\u6ce8\u518c\u5916\u90e8\u670d\u52a1\u5668 create server outdb foreign data wrapper mysql_fdw options (host '123.123.123.123' ,port '3306'); --\u5728greenplum\u4e2d\uff0c\u5982\u679c\u4e0a\u9762\u547d\u4ee4\u7528pgadmin\u7528\u6237\u6267\u884c\u7684\u8bdd\uff0c\u9700\u8981\u5c06\u6240\u6709\u6743\u7ed9\u5230\u666e\u901a\u7528\u6237 ALTER SERVER \"outdb\" OWNER TO \"user\"; --\u521b\u5efa\u7528\u6237\u6620\u5c04 create user mapping for user server outdb options (username 'root',password 'password'); --\u521b\u5efa\u5916\u90e8\u8868 CREATE FOREIGN TABLE \"public\".\"out_yy_regions\" ( \"indexCode\" varchar(255), \"name\" varchar(255), \"parentIndexCode\" varchar(255), \"treeCode\" varchar(255), \"id\" int4 ) SERVER \"outdb\" OPTIONS (\"dbname\" 'mydb', \"table_name\" 'mytable');","title":"mysql/mariadb/tidb\u5916\u90e8\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#oracle","text":"todo","title":"oracle\u5916\u90e8\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_3","text":"postgres\u4e2d\u7269\u5316\u89c6\u56fe\u53ef\u4ee5\u5c06\u9700\u8981\u4e00\u5b9a\u8ba1\u7b97\u91cf\u6216\u8005\u6570\u636e\u4f20\u8f93\uff08\u4f8b\u5982\u5916\u90e8\u8868\uff09\u8017\u65f6\u7684\u89c6\u56fe\u4eff\u771f\u6210\u4e3a\u4e00\u4e2a\u6570\u636e\u8868\uff0c\u518d\u8f85\u4ee5\u5b9a\u65f6\u5237\u65b0\u6216\u8005\u6309\u9700\u5237\u65b0\u7684\u673a\u5236\u6765\u4fbf\u6377\u7684\u4f7f\u7528\u8be5\u6570\u636e\uff1b","title":"\u7269\u5316\u89c6\u56fe"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_4","text":"--\u5047\u8bbe\u5b58\u5728\u4e00\u4e2a\u5916\u90e8\u8868 out_tab1\u5176\u4e2d\u6709100\u4e07\u6570\u636e\uff0c\u5982\u679c\u4e0d\u505a\u7269\u5316\u89c6\u56fe\u7684\u8bdd\u6bcf\u6b21\u67e5\u8be2\u90fd\u4f1a\u53bb\u539f\u59cb\u6570\u636e\u5e93\u4e2d\u62ff\u8fd9100\u4e07\u7684\u6570\u636e\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u5bf9\u8017\u65f6\u654f\u611f\u7684\u64cd\u4f5c\u5341\u5206\u4e0d\u53cb\u597d\uff0c\u6b64\u65f6\u901a\u8fc7\u7269\u5316\u89c6\u56fe\u6765\u8fdb\u884c\u4f18\u5316\uff1b --\u521b\u5efa\u7a7a\u7684\u7269\u5316\u89c6\u56fe create MATERIALIZED view mv_out_tab1 as select * from out_tab1 with no data; --\u5982\u679c\u662fgreenplum\u8fd8\u9700\u8981\u589e\u52a0\u5206\u5e03\u952e\u7684\u58f0\u660e\uff0c\u4f8b\u5982\uff1acreate MATERIALIZED view mv_out_tab1 as select * from out_tab1 with no data Distributed by (id) --\u5237\u65b0\u6570\u636e refresh MATERIALIZED view mv_out_tab1;","title":"\u521b\u5efa\u7269\u5316\u89c6\u56fe"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_5","text":"","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_6","text":"-- \u5907\u4efd\u8868\u7ed3\u6784 pg_dump -h ${host} -p ${port} -d ${dbname} -U ${username} -s > /data/${dbname}.sql -- \u53ea\u5907\u4efd\u6570\u636e -a \uff0c\u53ea\u5907\u4efd\u7ed3\u6784 -s\uff0c\u8868\u7ed3\u6784\u548c\u6570\u636e \u4ec0\u4e48\u90fd\u4e0d\u52a0 -- \u8fd8\u539f\u5e93 psql -h ${host} -p ${port} -U ${username} -d ${dbname} < /data/${dbname}.sql -- \u5907\u4efd\u6307\u5b9a\u8868(\u5305\u542b\u6570\u636e) pg_dump -h ${host} -p ${port} -d ${dbname} -t ${tablename1} -t ${tablename2} -U ${username} > /data/${filename}.sql -- \u5bfc\u51fa\u5bfc\u5165\u6570\u636e\u5230txt copy ${tablename} to '/data/pgdata/csvbak/xxx.txt' copy ${tablename} from '/data/pgdata/csvbak/xxx.txt'","title":"\u5907\u4efd\u6570\u636e\u5e93\u6216\u8005\u7ed3\u6784"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_7","text":"domain \u521b\u5efa\u7c7b\u578b\u522b\u540d create domain amount as decimal(33, 18); create domain price as decimal(33, 18); \u81ea\u5b9a\u4e49\u679a\u4e3e\u7c7b\u578b \u4f7f\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u4f20\u5b57\u7b26\u4e32\uff0c\u5b9e\u9645\u5b58\u50a8\u662f\u6574\u6570\u3002 create type \u8fd8\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u66f4\u590d\u6742\u7684\u7c7b\u578b\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u3002create type side as enum ('buy', 'sell'); Heap-Only-Tuple \u548c fillfactor \u8fd9\u4e2a\u548cPG\u7684MVCC\u5b9e\u73b0\u6709\u5173\u7cfb\uff0c\u7b80\u5355\u7684\u8bf4\uff0cPG\u7684\u8868\u6570\u636e\u662f\u5b58\u5728\u65e0\u5e8f\u7684\u5806\u4e0a\u7684\uff0c\u5305\u62ec\u4e3b\u952e\u7684\u6240\u6709\u7d22\u5f15\u90fd\u662f\u5355\u72ec\u7684\uff0c\u7d22\u5f15\u5f15\u7528\u6570\u636e\u884c\u5728\u5806\u4e0a\u7684\u4f4d\u7f6e\u3002 \u52a0\u4e0aMVCC\u7684\u5b9e\u73b0\uff0cUpdate\u5176\u5b9e\u662fInsert+Delete\uff0c\u65b0\u7684\u884c\u6570\u636e\u5728\u5806\u4e0a\u7684\u4f4d\u7f6e\u53d1\u751f\u6539\u53d8\uff0c\u4f7f\u5f97\u9700\u8981\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u3002\u4e3a\u4e86\u4f18\u5316\u8fd9\u79cd\u60c5\u51b5\uff0c \u5982\u679c\u5728\u8be5\u6761\u6570\u636e\u76f8\u540c\u7684Page\u4e0a\u9762\u6709\u7a7a\u95f2\u4f4d\u7f6e\uff0c\u65b0\u63d2\u5165\u6570\u636e\u4f18\u5148\u653e\u5728\u76f8\u540c\u9875\u4e0a\uff0c\u5e76\u548c\u65e7\u7248\u672c\u6570\u636e\u5efa\u7acb\u94fe\u8868\u3002\u5728\u67e5\u8be2\u6570\u636e\u7684\u65f6\u5019\uff0c\u6839\u636e\u8fd9\u4e2a\u94fe\u8868\u518d\u53bb\u5904\u7406\u4e8b\u52a1\u53ef\u89c1\u6027\u7b49\u5224\u65ad\u3002 \u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u53bb\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u4e86\u3002\u5982\u679cPage\u4e0a\u6ca1\u6709\u7a7a\u95f2\u4f4d\u7f6e\u5c31\u6ca1\u529e\u6cd5\u4e86\u3002\u6240\u4ee5 create table \u7684\u65f6\u5019\u53ef\u4ee5\u6307\u5b9a fillfactor \u9009\u9879\uff0c\u9884\u5148\u7559\u51fa\u4e00\u4e9b\u4f4d\u7f6e\u3002 \u9002\u5408\u6570\u636e\u91cf\u4e0d\u5927\u4e14\u66f4\u65b0\u9891\u7e41\u7684\u573a\u666f\u3002 \u7528snowflake\u7b97\u6cd5\u751f\u6210\u552f\u4e00ID\u5f88\u5b9e\u7528\uff0c\u4f46\u662f\u5728PG\u4e0a\u6709\u4e2a\u95ee\u9898\uff0cPG\u9075\u5faaSQL\u6807\u51c6\uff0c\u4e0d\u652f\u6301\u65e0\u7b26\u53f764\u4f4d\u6574\u6570\u3002snowflake\u7559\u4e8641bit\u7ed9\u6beb\u79d2\u7ea7\u65f6\u95f4\u6233\uff0c\u53bb\u4e00\u4f4d\u7ed9\u7b26\u53f7\u4f4d\uff0c\u5269\u4e0b40\u4f4d\u3002 \u7b97\u4e00\u4e0b\u53d1\u73b02004\u5e74\u5c31\u6ea2\u51fa\u4e86\uff0c\u5176\u5b9e\u5c31\u7b97\u65e0\u7b26\u53f764\u4f4d\u6574\u6570\uff0c2039\u5e74\u4e5f\u5c31\u6ea2\u51fa\u4e86\u3002\u89e3\u51b3\u65b9\u6848\uff0c\u65f6\u95f4\u6233\u7edf\u4e00\u51cf\u53bb\u4e00\u4e2a\u6700\u8fd1\u7684\u65f6\u95f4\u70b9\uff0c\u77ac\u95f4\u591a\u51fa50\u5e74\u3002 \u5728PG\u91cc\u9762\u7528\u8fd9\u79cdID\uff0c\u7ed3\u5408\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u8fde\u65f6\u95f4\u6233\u5b57\u6bb5\u90fd\u7701\u4e86(PG12\u8c8c\u4f3c\u8981\u652f\u6301\u865a\u62df\u5b57\u6bb5\u4e86)\u3002\u81ea\u52a8\u5206\u8868\u4e5f\u53ef\u4ee5\u6309\u7167ID\u8fdb\u884c\uff0c\u8fbe\u5230\u6309\u65f6\u95f4\u6233\u5206\u8868\u4e00\u6837\u7684\u6548\u679c\uff0c\u8fd8\u80fd\u4fdd\u7559\u4e3b\u952e\u529f\u80fd\uff0c\u4e00\u4e3e\u591a\u5f97\u3002 \u6279\u91cfinsert/update/upsert/delete/move #\u6570\u636e\u5e93\u91cc\u9762\uff0c\u6279\u91cf\u64cd\u4f5c\u7684\u541e\u5410\u91cf\u548c\u5355\u6761\u6267\u884c\u4e0d\u5728\u4e00\u4e2a\u6570\u91cf\u7ea7\u3002insert\u6279\u91cf\u5927\u5bb6\u90fd\u77e5\u9053\uff1a insert into table values (1,3,3), (2,3,3), (3,3,3)... #\u7528psycopg2\u7684\u670b\u53cb\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c cur.executemany \u51fd\u6570\u5e76\u4e0d\u662f\u771f\u6279\u91cf\u64cd\u4f5c\uff0c\u4ed6\u8fd8\u662f\u751f\u6210\u4e00\u5806\u72ec\u7acb\u7684insert\u6267\u884c\uff0c\u771f\u6b63\u7684\u6279\u91cf\u64cd\u4f5c\u8981\u8fd9\u4e48\u5199\uff1a #postgresql\u6279\u91cf\u64cd\u4f5c import time import psycopg2 import psycopg2.extras db=psycopg2.connect(\"dbname=postgres user=postgres password=pwd host=127.0.0.1\") cur=db.cursor() #insert_values lst=[] for i in range(100_0000): lst.append(['name%s' % i,'text%s' % i]) cur.execute('truncate table ctest') ta=time.time() psycopg2.extras.execute_values(cur,\"\"\" insert into ctest(uname,text) values %s\"\"\",lst) cur.execute(\"commit\") print('use time:%s' % (time.time()-ta)) # use time:15.339413166046143 cur.execute(\"select count(1) cnt from ctest\") data=cur.fetchone() print(data) db.close() #update \u5982\u4f55\u6279\u91cf\u5462\uff1a with tmp(id, name) as (values (1, 'a'), (2, 'b'), (3, 'c')) update table set name=tmp.name from tmp where table.id=tmp.id; upsert: insert into table values (1,3,3), (2,3,3), (3,3,3)... on conflict (a) do update set a=table.a+excluded.a delete: delete from table where id = ANY[%s] #move, \u6709\u65f6\u5019\u6211\u4eec\u60f3\u628a\u6570\u636e\u6279\u91cf\u4ece\u4e00\u4e2a\u8868\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u8868\uff1a with moved_rows as ( with tmp(id, a, b) as (values %s) delete from t_old_table a using tmp where tmp.id=a.id returning a.* ) insert into t_new_table select * from moved_rows mvcc snapshot\u3002\u95ee\u9898\uff1a\u5982\u4f55\u628a\u4e00\u4e2a\u5e76\u53d1\u8bbf\u95ee\u7684\u8868\u4e00\u81f4\u7684\u5206\u5272\u6210\u591a\u6bb5\uff0c\u6bd4\u5982\u6211\u4eec\u60f3\u8981\u5206\u6279\u6b21\u5bf9\u91cc\u9762\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u4f46\u4e0d\u5e0c\u671b\u6f0f\u6570\u636e\uff0c\u4e5f\u4e0d\u5e0c\u671b\u91cd\u590d\u5904\u7406\u3002 \u6ce8\u89e3 \u81ea\u589eID\uff1f\u5728\u5e76\u53d1\u8bbf\u95ee\u4e0b\uff0c\u81ea\u589eID\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u8fde\u7eed\u6ca1\u6709\u95f4\u65ad\u7684\uff0c\u6bd4\u5982\u4e2d\u95f4\u53ef\u80fd\u8fd8\u6709\u4e8b\u52a1\u6ca1\u6709\u63d0\u4ea4\u3002 \u89e3\u51b3\u65b9\u6848\u662f\uff0c\u5728\u8868\u91cc\u4fdd\u5b58 txid_current() \uff0c\u8981\u5206\u6bb5\u7684\u65f6\u5019\uff0c\u8bb0\u5f55\u4e0b txid_current_snapshot() \uff0csnapshot\u7531\u4e09\u4e2a\u4fe1\u606f\u7ec4\u6210\uff1axmin, xmax, xip\u3002 xmin\u662f\u5f53\u524d\u8fdb\u884c\u4e2d\u7684\u4e8b\u52a1ID\u4e2d\u6700\u5c0f\u7684\uff0c\u4e5f\u5c31\u662f\u6bd4xmin\u66f4\u5c0f\u7684\u4e8b\u52a1\u90fd\u5df2\u63d0\u4ea4\u6216\u8005\u64a4\u9500\uff0cxmax\u662f\u4e0b\u4e00\u4e2a\u5c06\u8981\u5206\u914d\u7684\u4e8b\u52a1ID\uff0c\u6bd4xmax\u66f4\u5927\u7684\u4e8b\u52a1\u8fd8\u6ca1\u51fa\u73b0\uff0cxip\u662f\u5f53\u524d\u8fdb\u884c\u4e2d\u7684\u4e8b\u52a1ID\u5217\u8868\u3002 \u90a3\u4e48\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u53d1\u751f\u5728\u8fd9\u4e2asnapshot\u4e4b\u524d\u5c31\u5f88\u660e\u786e\u4e86\uff0c txid < xmin or (txid < xmax and txid not in xip) \uff0c\u5bf9\u5e94\u7684\u51fd\u6570\u662f txid_visible_in_snapshot(txid, snapshot) \u3002 pipelinedb\uff0c\u6d41\u5f0f\u805a\u5408 create foreign table trade (time timestamp with time zone, price decimal, amount decimal) server pipelinedb; create view kline_1m as select date_trunc('minute', time) as time, keyed_min(time, price) as open, max(price) as high, min(price) as low, keyed_max(time, price) as close, sum(amount) as volume, sum(amount * price) as value, count(*) as count from trade group by 1; create unique index kline_1m_time_idx on kline_1m(time); \u7136\u540e\u53ea\u7ba1\u75af\u72c2\u5bf9 trade \u8868insert\uff0c kline_1m \u4f1a\u81ea\u52a8\u66f4\u65b0\u805a\u5408\u6570\u636e\uff0c\u800c\u4e14 trade \u4e0d\u4f1a\u4fdd\u7559\u6570\u636e\u3002 timescaledb\uff0c\u65f6\u5e8f\u6570\u636e\u5e93\uff0c\u6309\u7167\u65f6\u95f4\u6233\u5b57\u6bb5\u5168\u81ea\u52a8\u5206\u8868\u3002\u867d\u7136pg\u6709\u4e86\u58f0\u660e\u5f0f\u5206\u8868\uff0c\u4f46\u8fd8\u662f\u4e0d\u5982\u5168\u81ea\u52a8\u6765\u7684\u723d\u3002\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u8868\u6570\u636e\u91cf\u8fc7\u592a\u591a\u5f71\u54cd\u6027\u80fd\u4e86\u3002","title":"\u5e38\u7528\u6280\u5de7"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#large-in","text":"Large In:\u67e5\u8be2\u6761\u4ef6\u4e2d\u6709\u4f8b\u5982 id in (1,2,3\u2026\u2026) \u5f88\u591a\u5f88\u591a\u503c\u7684list\u7684\u60c5\u51b5\uff0c\u5f53\u4f20\u5165\u503c\u8fbe\u5230\u4e0a\u4e07\u540e\u6548\u7387\u5f88\u4f4e\u3002 \u5e38\u7528\u65b9\u5f0f\uff1a in-list\uff1a where id in (1,2,3\u2026\u2026) \u5e38\u91cf\u5b50\u67e5\u8be2: location in (values ('\u6668\u5e02'),('\u78ca\u5e02'),('\u9759\u5e02')) limit 100 \u4e34\u65f6\u8868\u67e5\u8be2\uff08cte\uff09\uff1a with tmp_ids as ( select unnest('{2100698,2100699,2100700,2100701,2100702,2100703,2100704,2100705,2100706,2100707,2100708,2100709,2100710,2100711,2100712,2100713,2100714,2100715,2100716}'::bigint[]) id ) select * from czrkjbxx ck,tmp_ids tids where ck.pid =tids.id \u5b9e\u6d4b \uff1a1000\u4e2a\u503c\u5dee\u8ddd\u4e0d\u660e\u663e\uff0c\u5728\u8fbe\u523010000\u4e2a\u503c\u4e4b\u540e\uff0cIN-list\u9700\u898118\u79d2\u5de6\u53f3\uff0c\u5e38\u91cf\u5b50\u67e5\u8be2\u9700\u89814\u79d2\uff0c\u4e34\u65f6\u8868\u53ea\u9700\u8981347 ms\u3002\u4e34\u65f6\u8868\u7684\u6548\u7387\u662f\u6700\u9ad8\u7684\u3002","title":"large in\u4f18\u5316"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#cte","text":"--#\u540c\u884c\u4eba\u7c97\u7565\u7248 SELECT FLOOR ( EXTRACT ( epoch FROM pass_time ) ) :: int8 / 300 tick, pass_time, equipment_id FROM person_pass WHERE pass_time BETWEEN '2021-07-01 00:00:00' AND '2021-07-09 23:59:59' GROUP BY FLOOR ( EXTRACT ( epoch FROM pass_time ) ) :: int8 / 300, pass_time, equipment_id LIMIT 10000 --\u4ea4\u53e0 SELECT ta.NAME na, ta.idcard ia, tb.NAME nb, tb.idcard ib FROM ( SELECT * FROM person_pass WHERE equipment_id = '652823058706422' AND ( FLOOR ( EXTRACT ( epoch FROM pass_time ) ) :: int8 / 300 ) = 5418720 ) ta CROSS JOIN ( SELECT * FROM person_pass WHERE equipment_id = '652823058706422' AND ( FLOOR ( EXTRACT ( epoch FROM pass_time ) ) :: int8 / 300 ) = 5418720 ) tb WHERE ta.idcard != tb.idcard","title":"CTE\u8bed\u6cd5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_8","text":"--\u67e5\u8be2\u5f53\u524d\u8fde\u63a5\u4fe1\u606f select * from pg_stat_activity --\u67e5\u8be2\u9501\u4fe1\u606f select * from gp_toolkit.gp_locks_on_relation --\u67e5\u8be2\u6392\u4ed6\u9501 select * from gp_toolkit.gp_locks_on_relation where lormode not like '%Share%' --\u6839\u636epid\u53d6\u6d88\u67d0\u4e2a\u67e5\u8be2\uff08pid\u6765\u81ea\u4e8egp_locks_on_relation \u4e2d\u7684lorpid\u5b57\u6bb5\uff09 select pg_cancel_backend(lorpid) from gp_toolkit.gp_locks_on_relation --\u6839\u636epid\u5f3a\u5236\u7ed3\u675f\u67d0\u4e2a\u67e5\u8be2\uff08pid\u6765\u81ea\u4e8egp_locks_on_relation \u4e2d\u7684lorpid\u5b57\u6bb5\uff09 select pg_terminate_backend(lorpid) from gp_toolkit.gp_locks_on_relation --\u5f3a\u5236\u7ed3\u675f\u6240\u6709\u6392\u4ed6\u9501\u7684\u67e5\u8be2 select pg_terminate_backend(lorpid) from gp_toolkit.gp_locks_on_relation where lormode not like '%Share%' and lorpid<>pg_backend_pid()","title":"\u9501\u5904\u7406"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#pg","text":"\u6700\u5927\u6570\u636e\u5e93\u5927\u5c0f\u65e0\u9650\u5236 \u5355\u4e2a\u8868\u6700\u5927\u5927\u5c0f 32 TB \uff08\u5bf9\u4e8eblock_size 8k\uff0c\u6df1\u5c42\u6b21\u539f\u56e0\u662f\u6bcf\u4e2ablock\u90fd\u6709\u4e2ablocknumber\uff0c\u800cblocknumber\u662f\u4e2auint32\u7c7b\u578b\uff09 \u6700\u5927\u884c\u5927\u5c0f 1.6 TB \u6700\u5927\u5b57\u6bb5\u5927\u5c0f 1 GB \u6bcf\u5f20\u8868\u7684\u6700\u5927\u884c\u6570\u65e0\u9650\u5236 \u6bcf\u4e2a\u8868\u7684\u6700\u5927\u5217\u6570 250 - 1600 \u53d6\u51b3\u4e8e\u5217\u7c7b\u578b \u6bcf\u5f20\u8868\u7684\u6700\u5927\u7d22\u5f15\u6570\u65e0\u9650\u5236","title":"PG\u6570\u636e\u91cf\u9650\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_9","text":"","title":"\u751f\u6210\u968f\u673a\u6570\u636e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_10","text":"select RndName() from xxx limit 100 create function RndName() returns varchar(32) as $$ select concat((array['\u8d75','\u94b1','\u5b59','\u674e','\u5468','\u5434','\u90d1','\u738b','\u51af','\u9648','\u891a','\u536b','\u848b','\u6c88','\u97e9','\u6768','\u6731','\u79e6','\u5c24','\u8bb8','\u4f55','\u5415','\u65bd','\u5f20','\u5b54','\u66f9','\u4e25','\u534e','\u91d1','\u9b4f','\u9676','\u59dc','\u621a','\u8c22','\u90b9','\u55bb','\u67cf','\u6c34','\u7aa6','\u7ae0','\u4e91','\u82cf','\u6f58','\u845b','\u595a','\u8303','\u5f6d','\u90ce','\u9c81','\u97e6','\u660c','\u9a6c','\u82d7','\u51e4','\u82b1','\u65b9','\u4fde','\u4efb','\u8881','\u67f3','\u9146','\u9c8d','\u53f2','\u5510','\u8d39','\u5ec9','\u5c91','\u859b','\u96f7','\u8d3a','\u502a','\u6c64','\u6ed5','\u6bb7','\u7f57','\u6bd5','\u90dd','\u90ac','\u5b89','\u5e38','\u4e50','\u4e8e','\u65f6','\u5085','\u76ae','\u535e','\u9f50','\u5eb7','\u4f0d','\u4f59','\u5143','\u535c','\u987e','\u5b5f','\u5e73','\u9ec4','\u548c','\u7a46','\u8427','\u5c39','\u59da','\u90b5','\u8212','\u6c6a','\u7941','\u6bdb','\u79b9','\u72c4','\u7c73','\u8d1d','\u660e','\u81e7','\u8ba1','\u4f0f','\u6210','\u6234','\u8c08','\u5b8b','\u8305','\u5e9e','\u718a','\u7eaa','\u5c48','\u9879','\u795d','\u8463','\u675c','\u962e','\u84dd','\u95f5','\u5e2d','\u5b63','\u9ebb','\u5f3a','\u8d3e','\u8def','\u5a04','\u5371','\u6c5f','\u7ae5','\u989c','\u90ed','\u6885','\u76db','\u6797','\u5201','\u949f','\u5f90','\u90b1','\u9a86','\u9ad8','\u590f','\u8521','\u7530','\u6a0a','\u80e1','\u51cc','\u970d','\u865e','\u4e07','\u652f','\u67ef','\u548e','\u7ba1','\u5362','\u83ab','\u7ecf','\u623f','\u88d8','\u7f2a','\u5e72','\u89e3','\u5e94','\u5b97','\u5ba3','\u4e01','\u8d32','\u9093','\u90c1','\u5355','\u676d','\u6d2a','\u5305','\u8bf8','\u5de6','\u77f3','\u5d14','\u5409','\u94ae','\u9f9a','\u7a0b','\u5d47','\u90a2','\u6ed1','\u88f4','\u9646','\u8363','\u7fc1','\u8340','\u7f8a','\u65bc','\u60e0','\u7504','\u52a0','\u5c01','\u82ae','\u7fbf','\u50a8','\u9773','\u6c72','\u90b4','\u7cdc','\u677e','\u4e95','\u6bb5','\u5bcc','\u5deb','\u4e4c','\u7126','\u5df4','\u5f13','\u7267','\u9697','\u5c71','\u8c37','\u8f66','\u4faf','\u5b93','\u84ec','\u5168','\u90d7','\u73ed','\u4ef0','\u79cb','\u4ef2','\u4f0a','\u5bab','\u5b81','\u4ec7','\u683e','\u66b4','\u7518','\u94ad','\u5389','\u620e','\u7956','\u6b66','\u7b26','\u5218','\u8a79','\u675f','\u9f99','\u53f6','\u5e78','\u53f8','\u97f6','\u90dc','\u9ece','\u84df','\u8584','\u5370','\u5bbf','\u767d','\u6000','\u84b2','\u53f0','\u4ece','\u9102','\u7d22','\u54b8','\u7c4d','\u8d56','\u5353','\u853a','\u5c60','\u8499','\u6c60','\u4e54','\u9634','\u80e5','\u80fd','\u82cd','\u53cc','\u95fb','\u8398','\u515a','\u7fdf','\u8c2d','\u8d21','\u52b3','\u9004','\u59ec','\u7533','\u6276','\u5835','\u5189','\u5bb0','\u90e6','\u96cd','\u74a9','\u6851','\u6842','\u6fee','\u725b','\u5bff','\u901a','\u8fb9','\u6248','\u71d5','\u5180','\u90cf','\u6d66','\u5c1a','\u519c','\u6e29','\u522b','\u5e84','\u664f','\u67f4','\u77bf','\u960e','\u5145','\u6155','\u8fde','\u8339','\u4e60','\u5ba6','\u827e','\u9c7c','\u5bb9','\u5411','\u53e4','\u6613','\u614e','\u6208','\u5ed6','\u5e9a','\u7ec8','\u66a8','\u5c45','\u8861','\u6b65','\u90fd','\u803f','\u6ee1','\u5f18','\u5321','\u56fd','\u6587','\u5bc7','\u5e7f','\u7984','\u9619','\u4e1c','\u6bb3','\u6c83','\u5229','\u851a','\u8d8a','\u5914','\u9686','\u5e08','\u5de9','\u538d','\u8042','\u6641','\u52fe','\u6556','\u878d','\u51b7','\u8a3e','\u8f9b','\u961a','\u90a3','\u7b80','\u9976','\u7a7a','\u66fe','\u6bcb','\u6c99','\u4e5c','\u517b','\u97a0','\u987b','\u4e30','\u5de2','\u5173','\u84af','\u76f8','\u67e5','\u540e','\u7ea2','\u6e38','\u7afa','\u6743','\u902f','\u76d6','\u76ca','\u6853','\u516c','\u664b','\u695a','\u6cd5','\u6c5d','\u9122','\u6d82','\u94a6','\u7f11','\u4ea2','\u51b5','\u6709','\u5546','\u725f','\u4f58','\u4f74','\u4f2f','\u8d4f','\u58a8','\u54c8','\u8c2f','\u7b2a','\u5e74','\u7231','\u9633','\u4f5f','\u7434','\u8a00','\u798f'])[trunc(random()*426)+1],(array['\u70d8','\u5300','\u5f70','\u98d8','\u5b9b','\u621a','\u8925','\u90a6','\u7164','\u7f14','\u614e','\u7a96','\u7206','\u7b14','\u67cf','\u61c2','\u5b59','\u5a03','\u6f58','\u6d1b','\u9601','\u6346','\u602a','\u6376','\u53d8','\u8f74','\u5c24','\u8c8c','\u6dee','\u54fa','\u4e8f','\u5250','\u6664','\u7597','\u6d45','\u75db','\u8ba2','\u5632','\u6325','\u8019','\u56f4','\u7eb8','\u94a2','\u4eca','\u6e21','\u5189','\u6124','\u7ee3','\u516c','\u8427','\u8c03','\u5c1d','\u8001','\u5145','\u6c5d','\u4f60','\u70ac','\u4e49','\u84ec','\u8beb','\u6410','\u6258','\u7d6e','\u8d26','\u67aa','\u51d1','\u56ca','\u9576','\u68c0','\u6ce2','\u627f','\u5546','\u515c','\u6bd5','\u8e1e','\u773c','\u8d29','\u97f5','\u4f19','\u90ae','\u631a','\u52b3','\u8d41','\u5f18','\u4e7e','\u752d','\u665a','\u6bb4','\u8717','\u901a','\u9887','\u629b','\u6a1f','\u663e','\u5267','\u552f','\u987d','\u4fa9','\u7238','\u77ac','\u9539','\u524d','\u545c','\u65bd','\u8e0a','\u9505','\u6e4d','\u864f','\u523d','\u6851','\u6d6e','\u7acb','\u564e','\u671d','\u5203','\u8bf7','\u5377','\u68d8','\u8fde','\u6770','\u6d3d','\u7edd','\u607c','\u6cfb','\u903b','\u5e01','\u6bd6','\u6c81','\u79f8','\u8fdb','\u641e','\u6a2a','\u8712','\u6577','\u9713','\u69a8','\u7ede','\u571f','\u9102','\u733e','\u54ee','\u7f1d','\u7f50','\u4e09','\u62ab','\u5206','\u6f4d','\u7729','\u7696','\u6469','\u8327','\u538b','\u6853','\u59da','\u568f','\u4fe9','\u56fa','\u8549','\u5b9c','\u987a','\u5ffd','\u8a8a','\u965b','\u539f','\u70fd','\u5d14','\u592e','\u8354','\u94f8','\u6572','\u997f','\u9a8b','\u9f99','\u7840','\u6e43','\u67ef','\u9065','\u6162','\u635f','\u6f06','\u6495','\u5751','\u829c','\u5f7b','\u55d3','\u5e99','\u606b','\u5f85','\u4e61','\u8fa8','\u5509','\u7ed1','\u5f84','\u9b44','\u78c5','\u8d77','\u5993','\u5362','\u6886','\u5e38','\u524a','\u52d8','\u5207','\u9ec4','\u6f3e','\u4e03','\u72e0','\u998f','\u5757','\u9610','\u5e76','\u54e5','\u4f69','\u9091','\u4ed1','\u9a73','\u819c','\u7766','\u7852','\u63a5','\u8bae','\u751c','\u5395','\u7891','\u6df1','\u9611','\u5c94','\u865a','\u8c6a','\u9a70','\u6148','\u83b2','\u9ad8','\u7109','\u8d61','\u5723','\u5df7','\u714c','\u548e','\u5d16','\u9ca4','\u851a','\u6f88','\u8be6','\u901e','\u9885','\u5b99','\u8bca','\u77e9','\u58d5','\u4fe1','\u7c27','\u7c98','\u7a3c','\u79e6','\u5bfc','\u5a07','\u9707','\u5e27','\u6ef4','\u9602','\u62e6','\u8bbe','\u91cd','\u59ae','\u65c1','\u8146','\u52c9','\u594e','\u5e74','\u5e2e','\u6994','\u8fdc','\u96ea','\u76df','\u866b','\u5fff','\u5fb7','\u6b65','\u9972','\u67dc','\u4ea1','\u655b','\u7f04','\u8fe2','\u6cea','\u795e','\u8a93','\u6bcf','\u86e4','\u5510','\u7fe0','\u7f05','\u5360','\u5b83','\u5272','\u97ad','\u996f','\u5319','\u8517','\u6f02','\u54c1','\u7a7f','\u5486','\u5960','\u4ea9','\u5a36','\u897f','\u672c','\u8bef','\u566c','\u767b','\u60e6','\u9541','\u864e','\u9b41','\u8086','\u6c60','\u72c4','\u8e44','\u4eba','\u75a5','\u7ed3','\u8ba3','\u7554','\u5ec9','\u91dc','\u64cd','\u5b75','\u8338','\u6101','\u5b9d','\u81fb','\u5ac1','\u4f3c','\u59e8','\u5885','\u8c7a','\u57a6','\u6687','\u7011','\u6da1','\u6a47','\u4e73','\u5e16','\u6ca7','\u58a9','\u658b','\u8f9b','\u914d','\u5f5d','\u8292','\u5185','\u69db','\u6028','\u62b1','\u5893','\u71c3','\u6d3e','\u7259','\u5411','\u631f','\u6d0b','\u9093','\u5420','\u8bfa','\u9605','\u4e50','\u9879','\u65ec','\u7f8c','\u4ee4','\u6210','\u65ad','\u4eea','\u606f','\u7525','\u85cf','\u62fc','\u60f3','\u7eb7','\u5211','\u575d','\u8179','\u57ce','\u8bc0','\u5468','\u5e1a','\u78b0','\u820c','\u964b','\u796d','\u6b8b','\u5364','\u78b3','\u7eda','\u8d56','\u9501','\u6127','\u5b69','\u7ec8','\u94dd','\u8fce','\u854a','\u6c16','\u7838','\u8eab','\u7a00','\u90dd','\u53eb','\u7830','\u57df','\u808c','\u6536','\u541b','\u5561','\u7f38','\u7a9f','\u63ea','\u7caa','\u5c0f','\u8bb2','\u54ed','\u86c0','\u8ddf','\u91cf','\u9017','\u85aa','\u80cc','\u6c11','\u5b7a','\u8425','\u7248','\u8682','\u6298','\u6467','\u9009','\u800c','\u8d2b','\u60f0','\u8537','\u8857','\u809a','\u7eaa','\u9648','\u6850','\u9157','\u6e34','\u8f9c','\u6ed4','\u604d','\u5427','\u5582','\u62bf','\u53bb','\u9898','\u5ca9','\u8e6d','\u8c24','\u75c9','\u61c8','\u6400','\u5b98','\u4f5b','\u6252','\u821c','\u6986','\u87ba','\u8349','\u602f','\u776c','\u6606','\u683d','\u7531','\u4e5e','\u4e94','\u785d','\u654c','\u7686','\u5bf8','\u634d','\u5b5f','\u56fe','\u6c64','\u7bf7','\u5f0a','\u5431','\u5f55','\u5777','\u4ed3','\u5239','\u8170','\u6402','\u6570','\u9519','\u5824','\u787c','\u635e','\u64ad','\u82df','\u6837','\u563b','\u6279','\u969c','\u9876','\u8bba','\u7a83','\u7cb3','\u4e0e','\u4e1b','\u5e06','\u53e5','\u88f3','\u7ffc','\u708a','\u8c26','\u72d7','\u7968','\u6307','\u8ba5','\u96c7','\u7a3d','\u58e4','\u4fa5','\u9888','\u5bb0','\u50e7','\u5440','\u73af','\u5fe0','\u5fd7','\u8f99','\u4eae','\u5eb7','\u9e4f','\u6015','\u7ef5','\u672a','\u8fd9','\u8c62','\u8bbc','\u6b7b','\u6027','\u9a8f','\u7eff','\u5e78','\u8bf8','\u52b2','\u66ff','\u532a','\u4e48','\u6050','\u5199','\u5361','\u6016','\u54c7','\u9774','\u7f72','\u892a','\u65a9','\u6d8e','\u61e6','\u6bb5','\u7435','\u9635','\u756a','\u6cb3','\u5ed6','\u5fc5','\u4f10','\u6362','\u96fe','\u886b','\u76d6','\u85c9','\u5ef7','\u538c','\u970d','\u888b','\u9999','\u77ed','\u51e1','\u53a9','\u73cd','\u6d46','\u79c6','\u9152','\u5b54','\u7586','\u6dc0','\u8d28','\u4e9b','\u7941','\u6743','\u80c0','\u95e8','\u75d2','\u7ec3','\u5b85','\u6296','\u76c5','\u5473','\u7ad6','\u84c4','\u6253','\u90ca','\u57e0','\u80e1','\u56f0','\u6eba','\u9975','\u9875','\u5f1b','\u8154','\u76db','\u4ebf','\u81e3','\u6280','\u9881','\u79b9','\u5c4b','\u806a','\u9ed4','\u8d4f','\u72f1','\u51b3','\u916c','\u8f95','\u6f8e','\u50a3','\u7f28','\u613f','\u5065','\u8bb0','\u8c01','\u4ec7','\u8d5b','\u7ffb','\u8180','\u6382','\u9510','\u60b2','\u5bab','\u59d0','\u8def','\u83b9','\u80c1','\u9a87','\u5371','\u9e45','\u60ca','\u7ae5','\u6c2e','\u62e8','\u80f0','\u68af','\u8c79','\u60e7','\u53e4','\u9b3c','\u952d','\u9664','\u94a0','\u5d4c','\u573e','\u7b2c','\u4fa8','\u5ff1','\u79d8','\u655d','\u7965','\u86c6','\u64bc','\u531d','\u7b8d','\u5947','\u52e4','\u86db','\u9a79','\u6405','\u5a9a','\u8638','\u80ef','\u5de5','\u77bb','\u8d4b','\u6218','\u6674','\u5174','\u70e4','\u4f0a','\u6566','\u7ebf','\u9a7e','\u7f0e','\u7387','\u5f79','\u5f8a','\u6587','\u98de','\u50bb','\u5f71','\u5c38','\u997a','\u886c','\u9a6c','\u5bcc','\u6b7c','\u563f','\u51b6','\u5bfb','\u7b56','\u4e3d','\u9e4a','\u65a1','\u51cc','\u5b66','\u5e45','\u5e3d','\u5200','\u8d35','\u65e6','\u7f6e','\u96a7','\u868a','\u77b3','\u78c1','\u5c06','\u8c0d','\u6c99','\u8f7f','\u6321','\u673a','\u9550','\u6444','\u6155','\u94fe','\u5ef6','\u5c4f','\u7cef','\u4e91','\u6ce1','\u9700','\u71d5','\u547d','\u7814','\u64b5','\u867e','\u7f94','\u5bb6','\u7ecf','\u82ef','\u9063','\u72e1','\u795f','\u6070','\u77e3','\u6025','\u4e25','\u6cc5','\u5f04','\u8457','\u6e23','\u5a29','\u63e1','\u582a','\u666f','\u6cbb','\u90c1','\u6266','\u82a5','\u4fef','\u53f2','\u66f0','\u5999','\u76d0','\u62c4','\u6da4','\u50b2','\u786b','\u5e4c','\u5c9b','\u4ed7','\u76d1','\u827a','\u8584','\u54b3','\u6064','\u5764','\u5438','\u9685','\u52d2','\u97e9','\u948e','\u76d8','\u8352','\u732e','\u51b5','\u52c7','\u5929','\u6c47','\u5728','\u5f62','\u7cb9','\u5df4','\u75e2','\u4ea5','\u71ce','\u8bb8','\u5ba0','\u75ca','\u636e','\u9e1f','\u6043','\u62cc','\u74e6','\u50a8','\u78a7','\u6500','\u966a','\u7329','\u62ec','\u94b5','\u5192','\u7559','\u5429','\u7f1a','\u5de9','\u94ae','\u5373','\u6eaa','\u516d','\u6c50','\u4fa0','\u8e4b','\u4ecd','\u5bde','\u789f','\u5490','\u846b','\u5220','\u9012','\u6ea2','\u626f','\u5305','\u6d12','\u7728','\u62db','\u5ddd','\u5168','\u5355','\u6151','\u5915','\u4f43','\u6954','\u8bbd','\u5228','\u7ef7','\u903c','\u5c3a','\u6e17','\u663c','\u9709','\u6276','\u9274','\u9644','\u9897','\u7275','\u8c31','\u8de8','\u96f7','\u6db8','\u8d60','\u89c1','\u5e93','\u4e22','\u73bb','\u5939','\u589f','\u8747','\u9aa1','\u5b9a','\u6f9c','\u7281','\u676f','\u8d76','\u59d4','\u8499','\u5566','\u9528','\u94b3','\u5374','\u5df1','\u535e','\u51e4','\u61d2','\u6297','\u9981','\u631e','\u5fe7','\u852c','\u88b1','\u5ce6','\u91c7','\u51c0','\u699c','\u8fa9','\u70e6','\u8302','\u9521','\u6109','\u8d2a','\u91c9','\u95fb','\u4f63','\u68fa','\u6b23','\u6d5a','\u5c3f','\u81b3','\u8017','\u6cb8','\u59bb','\u54ce','\u56e0','\u7cd6','\u8c61','\u75c8','\u919b','\u61ca','\u5413','\u575f','\u7aef','\u6e24','\u6e85','\u9524','\u818f','\u9a6d','\u900a','\u8eb2','\u4ec1','\u6df7','\u5609','\u63b8','\u7bd3','\u4e9a','\u5631','\u7687','\u69b7','\u67a3','\u519b','\u8138','\u76d7','\u4f73','\u6848','\u73ed','\u5c14','\u51a4','\u8110','\u80dc','\u618b','\u8084','\u8fb9','\u8c10','\u840d','\u5883','\u62cd','\u4e8e','\u5b88','\u622a','\u9e25','\u7236','\u70e9','\u809b','\u644a','\u6556','\u6805','\u97f3','\u72af','\u5492','\u4ece','\u75be','\u79c9','\u76fe','\u540a','\u7c4d','\u8ba9','\u916e','\u4e88','\u7f06','\u6170','\u6168','\u7b80','\u9ab8','\u6069','\u786c','\u56a3','\u8303','\u71e5','\u6073'])[floor(random()*998)+1],(array['\u70d8','\u5300','\u5f70','\u98d8','\u5b9b','\u621a','\u8925','\u90a6','\u7164','\u7f14','\u614e','\u7a96','\u7206','\u7b14','\u67cf','\u61c2','\u5b59','\u5a03','\u6f58','\u6d1b','\u9601','\u6346','\u602a','\u6376','\u53d8','\u8f74','\u5c24','\u8c8c','\u6dee','\u54fa','\u4e8f','\u5250','\u6664','\u7597','\u6d45','\u75db','\u8ba2','\u5632','\u6325','\u8019','\u56f4','\u7eb8','\u94a2','\u4eca','\u6e21','\u5189','\u6124','\u7ee3','\u516c','\u8427','\u8c03','\u5c1d','\u8001','\u5145','\u6c5d','\u4f60','\u70ac','\u4e49','\u84ec','\u8beb','\u6410','\u6258','\u7d6e','\u8d26','\u67aa','\u51d1','\u56ca','\u9576','\u68c0','\u6ce2','\u627f','\u5546','\u515c','\u6bd5','\u8e1e','\u773c','\u8d29','\u97f5','\u4f19','\u90ae','\u631a','\u52b3','\u8d41','\u5f18','\u4e7e','\u752d','\u665a','\u6bb4','\u8717','\u901a','\u9887','\u629b','\u6a1f','\u663e','\u5267','\u552f','\u987d','\u4fa9','\u7238','\u77ac','\u9539','\u524d','\u545c','\u65bd','\u8e0a','\u9505','\u6e4d','\u864f','\u523d','\u6851','\u6d6e','\u7acb','\u564e','\u671d','\u5203','\u8bf7','\u5377','\u68d8','\u8fde','\u6770','\u6d3d','\u7edd','\u607c','\u6cfb','\u903b','\u5e01','\u6bd6','\u6c81','\u79f8','\u8fdb','\u641e','\u6a2a','\u8712','\u6577','\u9713','\u69a8','\u7ede','\u571f','\u9102','\u733e','\u54ee','\u7f1d','\u7f50','\u4e09','\u62ab','\u5206','\u6f4d','\u7729','\u7696','\u6469','\u8327','\u538b','\u6853','\u59da','\u568f','\u4fe9','\u56fa','\u8549','\u5b9c','\u987a','\u5ffd','\u8a8a','\u965b','\u539f','\u70fd','\u5d14','\u592e','\u8354','\u94f8','\u6572','\u997f','\u9a8b','\u9f99','\u7840','\u6e43','\u67ef','\u9065','\u6162','\u635f','\u6f06','\u6495','\u5751','\u829c','\u5f7b','\u55d3','\u5e99','\u606b','\u5f85','\u4e61','\u8fa8','\u5509','\u7ed1','\u5f84','\u9b44','\u78c5','\u8d77','\u5993','\u5362','\u6886','\u5e38','\u524a','\u52d8','\u5207','\u9ec4','\u6f3e','\u4e03','\u72e0','\u998f','\u5757','\u9610','\u5e76','\u54e5','\u4f69','\u9091','\u4ed1','\u9a73','\u819c','\u7766','\u7852','\u63a5','\u8bae','\u751c','\u5395','\u7891','\u6df1','\u9611','\u5c94','\u865a','\u8c6a','\u9a70','\u6148','\u83b2','\u9ad8','\u7109','\u8d61','\u5723','\u5df7','\u714c','\u548e','\u5d16','\u9ca4','\u851a','\u6f88','\u8be6','\u901e','\u9885','\u5b99','\u8bca','\u77e9','\u58d5','\u4fe1','\u7c27','\u7c98','\u7a3c','\u79e6','\u5bfc','\u5a07','\u9707','\u5e27','\u6ef4','\u9602','\u62e6','\u8bbe','\u91cd','\u59ae','\u65c1','\u8146','\u52c9','\u594e','\u5e74','\u5e2e','\u6994','\u8fdc','\u96ea','\u76df','\u866b','\u5fff','\u5fb7','\u6b65','\u9972','\u67dc','\u4ea1','\u655b','\u7f04','\u8fe2','\u6cea','\u795e','\u8a93','\u6bcf','\u86e4','\u5510','\u7fe0','\u7f05','\u5360','\u5b83','\u5272','\u97ad','\u996f','\u5319','\u8517','\u6f02','\u54c1','\u7a7f','\u5486','\u5960','\u4ea9','\u5a36','\u897f','\u672c','\u8bef','\u566c','\u767b','\u60e6','\u9541','\u864e','\u9b41','\u8086','\u6c60','\u72c4','\u8e44','\u4eba','\u75a5','\u7ed3','\u8ba3','\u7554','\u5ec9','\u91dc','\u64cd','\u5b75','\u8338','\u6101','\u5b9d','\u81fb','\u5ac1','\u4f3c','\u59e8','\u5885','\u8c7a','\u57a6','\u6687','\u7011','\u6da1','\u6a47','\u4e73','\u5e16','\u6ca7','\u58a9','\u658b','\u8f9b','\u914d','\u5f5d','\u8292','\u5185','\u69db','\u6028','\u62b1','\u5893','\u71c3','\u6d3e','\u7259','\u5411','\u631f','\u6d0b','\u9093','\u5420','\u8bfa','\u9605','\u4e50','\u9879','\u65ec','\u7f8c','\u4ee4','\u6210','\u65ad','\u4eea','\u606f','\u7525','\u85cf','\u62fc','\u60f3','\u7eb7','\u5211','\u575d','\u8179','\u57ce','\u8bc0','\u5468','\u5e1a','\u78b0','\u820c','\u964b','\u796d','\u6b8b','\u5364','\u78b3','\u7eda','\u8d56','\u9501','\u6127','\u5b69','\u7ec8','\u94dd','\u8fce','\u854a','\u6c16','\u7838','\u8eab','\u7a00','\u90dd','\u53eb','\u7830','\u57df','\u808c','\u6536','\u541b','\u5561','\u7f38','\u7a9f','\u63ea','\u7caa','\u5c0f','\u8bb2','\u54ed','\u86c0','\u8ddf','\u91cf','\u9017','\u85aa','\u80cc','\u6c11','\u5b7a','\u8425','\u7248','\u8682','\u6298','\u6467','\u9009','\u800c','\u8d2b','\u60f0','\u8537','\u8857','\u809a','\u7eaa','\u9648','\u6850','\u9157','\u6e34','\u8f9c','\u6ed4','\u604d','\u5427','\u5582','\u62bf','\u53bb','\u9898','\u5ca9','\u8e6d','\u8c24','\u75c9','\u61c8','\u6400','\u5b98','\u4f5b','\u6252','\u821c','\u6986','\u87ba','\u8349','\u602f','\u776c','\u6606','\u683d','\u7531','\u4e5e','\u4e94','\u785d','\u654c','\u7686','\u5bf8','\u634d','\u5b5f','\u56fe','\u6c64','\u7bf7','\u5f0a','\u5431','\u5f55','\u5777','\u4ed3','\u5239','\u8170','\u6402','\u6570','\u9519','\u5824','\u787c','\u635e','\u64ad','\u82df','\u6837','\u563b','\u6279','\u969c','\u9876','\u8bba','\u7a83','\u7cb3','\u4e0e','\u4e1b','\u5e06','\u53e5','\u88f3','\u7ffc','\u708a','\u8c26','\u72d7','\u7968','\u6307','\u8ba5','\u96c7','\u7a3d','\u58e4','\u4fa5','\u9888','\u5bb0','\u50e7','\u5440','\u73af','\u5fe0','\u5fd7','\u8f99','\u4eae','\u5eb7','\u9e4f','\u6015','\u7ef5','\u672a','\u8fd9','\u8c62','\u8bbc','\u6b7b','\u6027','\u9a8f','\u7eff','\u5e78','\u8bf8','\u52b2','\u66ff','\u532a','\u4e48','\u6050','\u5199','\u5361','\u6016','\u54c7','\u9774','\u7f72','\u892a','\u65a9','\u6d8e','\u61e6','\u6bb5','\u7435','\u9635','\u756a','\u6cb3','\u5ed6','\u5fc5','\u4f10','\u6362','\u96fe','\u886b','\u76d6','\u85c9','\u5ef7','\u538c','\u970d','\u888b','\u9999','\u77ed','\u51e1','\u53a9','\u73cd','\u6d46','\u79c6','\u9152','\u5b54','\u7586','\u6dc0','\u8d28','\u4e9b','\u7941','\u6743','\u80c0','\u95e8','\u75d2','\u7ec3','\u5b85','\u6296','\u76c5','\u5473','\u7ad6','\u84c4','\u6253','\u90ca','\u57e0','\u80e1','\u56f0','\u6eba','\u9975','\u9875','\u5f1b','\u8154','\u76db','\u4ebf','\u81e3','\u6280','\u9881','\u79b9','\u5c4b','\u806a','\u9ed4','\u8d4f','\u72f1','\u51b3','\u916c','\u8f95','\u6f8e','\u50a3','\u7f28','\u613f','\u5065','\u8bb0','\u8c01','\u4ec7','\u8d5b','\u7ffb','\u8180','\u6382','\u9510','\u60b2','\u5bab','\u59d0','\u8def','\u83b9','\u80c1','\u9a87','\u5371','\u9e45','\u60ca','\u7ae5','\u6c2e','\u62e8','\u80f0','\u68af','\u8c79','\u60e7','\u53e4','\u9b3c','\u952d','\u9664','\u94a0','\u5d4c','\u573e','\u7b2c','\u4fa8','\u5ff1','\u79d8','\u655d','\u7965','\u86c6','\u64bc','\u531d','\u7b8d','\u5947','\u52e4','\u86db','\u9a79','\u6405','\u5a9a','\u8638','\u80ef','\u5de5','\u77bb','\u8d4b','\u6218','\u6674','\u5174','\u70e4','\u4f0a','\u6566','\u7ebf','\u9a7e','\u7f0e','\u7387','\u5f79','\u5f8a','\u6587','\u98de','\u50bb','\u5f71','\u5c38','\u997a','\u886c','\u9a6c','\u5bcc','\u6b7c','\u563f','\u51b6','\u5bfb','\u7b56','\u4e3d','\u9e4a','\u65a1','\u51cc','\u5b66','\u5e45','\u5e3d','\u5200','\u8d35','\u65e6','\u7f6e','\u96a7','\u868a','\u77b3','\u78c1','\u5c06','\u8c0d','\u6c99','\u8f7f','\u6321','\u673a','\u9550','\u6444','\u6155','\u94fe','\u5ef6','\u5c4f','\u7cef','\u4e91','\u6ce1','\u9700','\u71d5','\u547d','\u7814','\u64b5','\u867e','\u7f94','\u5bb6','\u7ecf','\u82ef','\u9063','\u72e1','\u795f','\u6070','\u77e3','\u6025','\u4e25','\u6cc5','\u5f04','\u8457','\u6e23','\u5a29','\u63e1','\u582a','\u666f','\u6cbb','\u90c1','\u6266','\u82a5','\u4fef','\u53f2','\u66f0','\u5999','\u76d0','\u62c4','\u6da4','\u50b2','\u786b','\u5e4c','\u5c9b','\u4ed7','\u76d1','\u827a','\u8584','\u54b3','\u6064','\u5764','\u5438','\u9685','\u52d2','\u97e9','\u948e','\u76d8','\u8352','\u732e','\u51b5','\u52c7','\u5929','\u6c47','\u5728','\u5f62','\u7cb9','\u5df4','\u75e2','\u4ea5','\u71ce','\u8bb8','\u5ba0','\u75ca','\u636e','\u9e1f','\u6043','\u62cc','\u74e6','\u50a8','\u78a7','\u6500','\u966a','\u7329','\u62ec','\u94b5','\u5192','\u7559','\u5429','\u7f1a','\u5de9','\u94ae','\u5373','\u6eaa','\u516d','\u6c50','\u4fa0','\u8e4b','\u4ecd','\u5bde','\u789f','\u5490','\u846b','\u5220','\u9012','\u6ea2','\u626f','\u5305','\u6d12','\u7728','\u62db','\u5ddd','\u5168','\u5355','\u6151','\u5915','\u4f43','\u6954','\u8bbd','\u5228','\u7ef7','\u903c','\u5c3a','\u6e17','\u663c','\u9709','\u6276','\u9274','\u9644','\u9897','\u7275','\u8c31','\u8de8','\u96f7','\u6db8','\u8d60','\u89c1','\u5e93','\u4e22','\u73bb','\u5939','\u589f','\u8747','\u9aa1','\u5b9a','\u6f9c','\u7281','\u676f','\u8d76','\u59d4','\u8499','\u5566','\u9528','\u94b3','\u5374','\u5df1','\u535e','\u51e4','\u61d2','\u6297','\u9981','\u631e','\u5fe7','\u852c','\u88b1','\u5ce6','\u91c7','\u51c0','\u699c','\u8fa9','\u70e6','\u8302','\u9521','\u6109','\u8d2a','\u91c9','\u95fb','\u4f63','\u68fa','\u6b23','\u6d5a','\u5c3f','\u81b3','\u8017','\u6cb8','\u59bb','\u54ce','\u56e0','\u7cd6','\u8c61','\u75c8','\u919b','\u61ca','\u5413','\u575f','\u7aef','\u6e24','\u6e85','\u9524','\u818f','\u9a6d','\u900a','\u8eb2','\u4ec1','\u6df7','\u5609','\u63b8','\u7bd3','\u4e9a','\u5631','\u7687','\u69b7','\u67a3','\u519b','\u8138','\u76d7','\u4f73','\u6848','\u73ed','\u5c14','\u51a4','\u8110','\u80dc','\u618b','\u8084','\u8fb9','\u8c10','\u840d','\u5883','\u62cd','\u4e8e','\u5b88','\u622a','\u9e25','\u7236','\u70e9','\u809b','\u644a','\u6556','\u6805','\u97f3','\u72af','\u5492','\u4ece','\u75be','\u79c9','\u76fe','\u540a','\u7c4d','\u8ba9','\u916e','\u4e88','\u7f06','\u6170','\u6168','\u7b80','\u9ab8','\u6069','\u786c','\u56a3','\u8303','\u71e5','\u6073'])[floor(random()*2000)+1]); $$ language sql","title":"\u968f\u673a\u751f\u6210\u59d3\u540d"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_11","text":"select RndIdcard() create or replace function RndIdcard() returns varchar(18) as $$ select concat(floor(random()*(500000-777799)+999999),to_char(now()::timestamp - random() * interval '10 year','YYYYMMDD'),floor(random()*(10-99)+99),floor(random()*2),floor(random()*9)) $$ language sql","title":"\u968f\u673a\u751f\u6210\u8eab\u4efd\u8bc1\u53f7\u7801"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_12","text":"create or replace function RndPhone() returns varchar(18) as $$ select to_char(floor(random()*(13000000000-13999999999)+13999999999),'00000000000') $$ language sql","title":"\u968f\u673a\u751f\u6210\u624b\u673a\u53f7"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_13","text":"create or replace function RndDatetime() returns TIMESTAMP as $$ select now()::timestamp - random() * interval '3 month' $$ language sql","title":"\u968f\u673a\u751f\u6210\u65e5\u671f\u65f6\u95f4"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#id","text":"create or replace function RndDevid() returns varchar(32) as $$ select concat('DEV-',floor(random()*(300000-700000)+700000),floor(random()*(1000000-7000000)+7000000)) $$ language sql","title":"\u968f\u673a\u751f\u6210\u8bbe\u5907id"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_14","text":"create table demo_person_pass (id serial8,name varchar(32),idcard varchar(32),phone varchar(16),equipment_id varchar(32),pass_time timestamptz) with(appendonly=true,orientation=column) distributed by (id) ;","title":"\u5efa\u7acb\u5217\u5b58\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_15","text":"insert into demo_person_pass(name,idcard,phone,equipment_id,pass_time) SELECT RndName ( ) NAME, RndIdcard ( ) idcard, RndPhone ( ) phone, RndDevid() equipment_id, RndDatetime ( ) pass_time FROM user_log LIMIT 1000","title":"\u5199\u5165\u6d4b\u8bd5\u6570\u636e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E7%9B%B8%E5%85%B3/#_16","text":"create user zyzs with password 'pwd'; grant all privileges on database zyzsdag to zyzs; \\c dbname grant all privileges on all tables in schema public to zyzs;","title":"\u521b\u5efa\u7528\u6237"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/","text":"pg\u96c6\u7fa4\u642d\u5efa \u521b\u5efa\u5bb9\u5668 docker run -d -p 5433:5432 --name pg1 --hostname pg1 --net local livingdocs/postgres:12.4 docker run -d -p 5434:5432 --name pg2 --hostname pg2 --net local livingdocs/postgres:12.4 standby -d \"host=pg1 port=5432 user=postgres target_session_attrs=read-write\" \u6d4b\u8bd5\u590d\u5236 docker exec pg1 psql -c \"CREATE TABLE hello (value text); INSERT INTO hello(value) VALUES('world');\" docker exec pg2 psql -c \"SELECT * FROM hello;\" \u89d2\u8272\u5347\u7ea7\uff08\u6545\u969c\u6062\u590d\uff09 docker rm pg1 -f docker exec pg2 psql -c \"CREATE TABLE hello1 (value text); INSERT INTO hello1(value) VALUES('world');\" \u62a5\u9519ERROR: cannot execute CREATE TABLE in a read-only transaction \u5347\u7ea7 docker exec pg2 touch /var/lib/postgresql/data/promote.signal \u6267\u884c\u540e\u7b49\u4e09\u79d2\u518d\u6267\u884cddl\u7b49\u8bed\u53e5\u5c31\u53ef\u4ee5\u6210\u529f\uff0c\u6b64\u65f6\u4ee5\u5347\u7ea7\u4e3a\u4e3b\u8282\u70b9 docker exec pg2 psql -c \"CREATE TABLE hello1 (value text); INSERT INTO hello1(value) VALUES('world');\" \u589e\u52a0\u4ece\u8282\u70b9 docker run -d -p 5433:5432 --name pg1 --hostname pg1 --net local livingdocs/postgres:12.4 standby -d \"host=pg2 port=5432 user=postgres target_session_attrs=read-write\" \u6d4b\u8bd5\u4ece\u8282\u70b9 docker exec pg1 psql -c \"SELECT * FROM hello;\"","title":"pg\u96c6\u7fa4\u642d\u5efa"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#pg","text":"","title":"pg\u96c6\u7fa4\u642d\u5efa"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#_1","text":"docker run -d -p 5433:5432 --name pg1 --hostname pg1 --net local livingdocs/postgres:12.4 docker run -d -p 5434:5432 --name pg2 --hostname pg2 --net local livingdocs/postgres:12.4 standby -d \"host=pg1 port=5432 user=postgres target_session_attrs=read-write\"","title":"\u521b\u5efa\u5bb9\u5668"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#_2","text":"docker exec pg1 psql -c \"CREATE TABLE hello (value text); INSERT INTO hello(value) VALUES('world');\" docker exec pg2 psql -c \"SELECT * FROM hello;\"","title":"\u6d4b\u8bd5\u590d\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#_3","text":"docker rm pg1 -f docker exec pg2 psql -c \"CREATE TABLE hello1 (value text); INSERT INTO hello1(value) VALUES('world');\"","title":"\u89d2\u8272\u5347\u7ea7\uff08\u6545\u969c\u6062\u590d\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#error-cannot-execute-create-table-in-a-read-only-transaction","text":"","title":"\u62a5\u9519ERROR:  cannot execute CREATE TABLE in a read-only transaction"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#_4","text":"docker exec pg2 touch /var/lib/postgresql/data/promote.signal","title":"\u5347\u7ea7"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#ddl","text":"docker exec pg2 psql -c \"CREATE TABLE hello1 (value text); INSERT INTO hello1(value) VALUES('world');\"","title":"\u6267\u884c\u540e\u7b49\u4e09\u79d2\u518d\u6267\u884cddl\u7b49\u8bed\u53e5\u5c31\u53ef\u4ee5\u6210\u529f\uff0c\u6b64\u65f6\u4ee5\u5347\u7ea7\u4e3a\u4e3b\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#_5","text":"docker run -d -p 5433:5432 --name pg1 --hostname pg1 --net local livingdocs/postgres:12.4 standby -d \"host=pg2 port=5432 user=postgres target_session_attrs=read-write\"","title":"\u589e\u52a0\u4ece\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Postgresql%E9%9B%86%E7%BE%A4/#_6","text":"docker exec pg1 psql -c \"SELECT * FROM hello;\"","title":"\u6d4b\u8bd5\u4ece\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/","text":"Redis\u76f8\u5173 \u60ef\u4f8b \u5728String\u3001Hashes\u3001Lists\u3001Sets\u3001Sorted Sets\u51e0\u4e2a\u5e38\u7528\u6570\u636e\u7c7b\u578b\u4e2d\u7ed3\u5408\u4e1a\u52a1\u9009\u62e9\u5408\u9002\u7684\u7c7b\u578b\u6765\u5b58\u50a8\u3002 \u5e38\u7528\u547d\u4ee4 #\u8fde\u63a5\u96c6\u7fa4\uff08\u589e\u52a0-c\u53c2\u6570\uff09 redis-cli -a password -c -h 127.0.0.1 \u7279\u6027 \u8fc7\u671f\u7b56\u7565 \u5b9a\u65f6\u5220\u9664 \u9ed8\u8ba4Redis\u6bcf100MS\u968f\u673a\u62bd\u53d6\u4e00\u90e8\u5206key\u5bf9\u5176\u8fdb\u884c\u68c0\u6d4b\u662f\u5426\u8fc7\u671f\u9700\u8981\u5220\u9664\u3002 \u4e0d\u5168\u90e8\u6267\u884c\u7684\u539f\u56e0\u5728\u4e8e\u6570\u636e\u8f83\u591a\u65f6\u5019\u5168\u90e8\u68c0\u6d4b\u4f1a\u8017\u8d39\u592a\u591aCPU\uff0c\u65e0\u6cd5\u4fdd\u8bc1\u6027\u80fd\u3002 \u60f0\u6027(LRU)\u5220\u9664 \u5728\u7528\u6237\u83b7\u53d6\u67d0\u4e2akey\u7684\u65f6\u5019\u4f1a\u68c0\u6d4b\u662f\u5426\u8fc7\u671f\uff0c\u5982\u679c\u8fc7\u671f\u4e86\u5220\u9664\u5e76\u8fd4\u56de\u7a7a\u3002 \u6570\u636e\u6b8b\u7559\u95ee\u9898 \u4e0a\u8ff0\u4e24\u79cd\u7b56\u7565\u65e0\u6cd5\u5bf9\u5168\u90e8\u6570\u636e\u8fdb\u884c\u8fc7\u671f\u5220\u9664\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u5b9e\u9645\u7684\u53ef\u7528\u5185\u5b58\u7a7a\u95f4\u6d6a\u8d39\uff0c\u6b64\u65f6\u5e94\u914d\u5408\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u914d\u7f6e\u3002 \u5185\u5b58\u6dd8\u6c70\u673a\u5236 noeviction: \u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u65b0\u5199\u5165\u64cd\u4f5c\u4f1a\u62a5\u9519\uff0c\u8fd9\u4e2a\u4e00\u822c\u6ca1\u4eba\u7528\u5427\uff0c\u5b9e\u5728\u662f\u592a\u6076\u5fc3\u4e86\u3002 allkeys-lru\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u952e\u7a7a\u95f4\u4e2d\uff0c\u79fb\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684 key\uff08\u8fd9\u4e2a\u662f\u6700\u5e38\u7528\u7684\uff09\u3002 allkeys-random\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u952e\u7a7a\u95f4\u4e2d\uff0c\u968f\u673a\u79fb\u9664\u67d0\u4e2a key\uff0c\u8fd9\u4e2a\u4e00\u822c\u6ca1\u4eba\u7528\u5427\uff0c\u4e3a\u5565\u8981\u968f\u673a\uff0c\u80af\u5b9a\u662f\u628a\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684 key \u7ed9\u5e72\u6389\u554a\u3002 volatile-lru\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u7a7a\u95f4\u4e2d\uff0c\u79fb\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684 key\uff08\u8fd9\u4e2a\u4e00\u822c\u4e0d\u592a\u5408\u9002\uff09\u3002 volatile-random\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u7a7a\u95f4\u4e2d\uff0c\u968f\u673a\u79fb\u9664\u67d0\u4e2a key\u3002 volatile-ttl\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u7a7a\u95f4\u4e2d\uff0c\u6709\u66f4\u65e9\u8fc7\u671f\u65f6\u95f4\u7684 key \u4f18\u5148\u79fb\u9664\u3002 \u6570\u636e\u7c7b\u578b\u53ca\u7279\u70b9 String string \u662f redis \u6700\u57fa\u672c\u7684\u7c7b\u578b\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u6210\u4e0e Memcached \u4e00\u6a21\u4e00\u6837\u7684\u7c7b\u578b\uff0c\u4e00\u4e2a key \u5bf9\u5e94\u4e00\u4e2a value\u3002 string \u7c7b\u578b\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\u3002\u610f\u601d\u662f redis \u7684 string \u53ef\u4ee5\u5305\u542b\u4efb\u4f55\u6570\u636e\u3002\u6bd4\u5982jpg\u56fe\u7247\u6216\u8005\u5e8f\u5217\u5316\u7684\u5bf9\u8c61\u3002 string \u7c7b\u578b\u662f Redis \u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0cstring \u7c7b\u578b\u7684\u503c\u6700\u5927\u80fd\u5b58\u50a8 512MB\u3002 \u5e38\u7528\u547d\u4ee4\uff1aset\u3001get\u3001decr\u3001incr\u3001mget\u7b49\u3002 \u6ce8\u610f\uff1a\u4e00\u4e2a\u952e\u6700\u5927\u80fd\u5b58\u50a8512MB\u3002 Hashes Redis hash \u662f\u4e00\u4e2a\u952e\u503c(key=>value)\u5bf9\u96c6\u5408\uff1b\u662f\u4e00\u4e2a string \u7c7b\u578b\u7684 field \u548c value \u7684\u6620\u5c04\u8868\uff0chash \u7279\u522b\u9002\u5408\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61\uff08\u5bf9\u8c61\u4e0d\u80fd\u5d4c\u5957\u5176\u4ed6\u5bf9\u8c61\uff09\u3002 \u6bcf\u4e2a hash \u53ef\u4ee5\u5b58\u50a8 232 -1 \u952e\u503c\u5bf9\uff0840\u591a\u4ebf\uff09\u3002 \u5e38\u7528\u547d\u4ee4\uff1ahget\u3001hset\u3001hgetall\u7b49\u3002 \u5e94\u7528\u573a\u666f\uff1a\u5b58\u50a8\u4e00\u4e9b\u7ed3\u6784\u5316\u7684\u6570\u636e\uff0c\u6bd4\u5982\u7528\u6237\u7684\u6635\u79f0\u3001\u5e74\u9f84\u3001\u6027\u522b\u3001\u79ef\u5206\u7b49\uff0c\u5b58\u50a8\u4e00\u4e2a\u7528\u6237\u4fe1\u606f\u5bf9\u8c61\u6570\u636e\u3002 hset person name bingo hset person age 20 hset person id 1 hget person name (person = { \"name\": \"bingo\", \"age\": 20, \"id\": 1 }) Lists Redis \u5217\u8868\u662f\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u5217\u8868\uff0c\u6309\u7167\u63d2\u5165\u987a\u5e8f\u6392\u5e8f\u3002\u4f60\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\u5230\u5217\u8868\u7684\u5934\u90e8\uff08\u5de6\u8fb9\uff09\u6216\u8005\u5c3e\u90e8\uff08\u53f3\u8fb9\uff09\u3002 list\u7c7b\u578b\u7ecf\u5e38\u4f1a\u88ab\u7528\u4e8e\u6d88\u606f\u961f\u5217\u7684\u670d\u52a1\uff0c\u4ee5\u5b8c\u6210\u591a\u7a0b\u5e8f\u4e4b\u95f4\u7684\u6d88\u606f\u4ea4\u6362\u3002 \u5e38\u7528\u547d\u4ee4\uff1alpush\u3001rpush\u3001lpop\u3001rpop\u3001lrange\u7b49\u3002 \u5217\u8868\u6700\u591a\u53ef\u5b58\u50a8 232 - 1 \u5143\u7d20 (4294967295, \u6bcf\u4e2a\u5217\u8868\u53ef\u5b58\u50a840\u591a\u4ebf)\u3002 \u5e94\u7528\u573a\u666f\uff1a \u6bd4\u5982\u53ef\u4ee5\u901a\u8fc7 list \u5b58\u50a8\u4e00\u4e9b\u5217\u8868\u578b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7c7b\u4f3c\u7c89\u4e1d\u5217\u8868\u3001\u6587\u7ae0\u7684\u8bc4\u8bba\u5217\u8868\u4e4b\u7c7b\u7684\u4e1c\u897f\u3002 \u6bd4\u5982\u53ef\u4ee5\u901a\u8fc7 lrange \u547d\u4ee4\uff0c\u8bfb\u53d6\u67d0\u4e2a\u95ed\u533a\u95f4\u5185\u7684\u5143\u7d20\uff0c\u53ef\u4ee5\u57fa\u4e8e list \u5b9e\u73b0\u5206\u9875\u67e5\u8be2\uff0c\u8fd9\u4e2a\u662f\u5f88\u68d2\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u57fa\u4e8e Redis \u5b9e\u73b0\u7b80\u5355\u7684\u9ad8\u6027\u80fd\u5206\u9875\uff0c\u53ef\u4ee5\u505a\u7c7b\u4f3c\u5fae\u535a\u90a3\u79cd\u4e0b\u62c9\u4e0d\u65ad\u5206\u9875\u7684\u4e1c\u897f\uff0c\u6027\u80fd\u9ad8\uff0c\u5c31\u4e00\u9875\u4e00\u9875\u8d70\u3002 # 0\u5f00\u59cb\u4f4d\u7f6e\uff0c-1\u7ed3\u675f\u4f4d\u7f6e\uff0c\u7ed3\u675f\u4f4d\u7f6e\u4e3a-1\u65f6\uff0c\u8868\u793a\u5217\u8868\u7684\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5373\u67e5\u770b\u6240\u6709\u3002 lrange mylist 0 -1 \u6bd4\u5982\u53ef\u4ee5\u641e\u4e2a\u7b80\u5355\u7684\u6d88\u606f\u961f\u5217\uff0c\u4ece list \u5934\u603c\u8fdb\u53bb\uff0c\u4ece list \u5c3e\u5df4\u90a3\u91cc\u5f04\u51fa\u6765\u3002 ``` lpush mylist 1 lpush mylist 2 lpush mylist 3 4 5 # 1 rpop mylist ``` Sets Redis\u7684Set\u662fstring\u7c7b\u578b\u7684\u65e0\u5e8f\u96c6\u5408(\u4f1a\u81ea\u52a8\u53bb\u91cd\u3002)\u3002\u548c\u5217\u8868\u4e00\u6837\uff0c\u5728\u6267\u884c\u63d2\u5165\u548c\u5220\u9664\u548c\u5224\u65ad\u662f\u5426\u5b58\u5728\u67d0\u5143\u7d20\u65f6\uff0c\u6548\u7387\u662f\u5f88\u9ad8\u7684\u3002\u96c6\u5408\u6700\u5927\u7684\u4f18\u52bf\u5728\u4e8e\u53ef\u4ee5\u8fdb\u884c\u4ea4\u96c6\u5e76\u96c6\u5dee\u96c6\u64cd\u4f5c\u3002Set\u53ef\u5305\u542b\u7684\u6700\u5927\u5143\u7d20\u6570\u91cf\u662f4294967295\u3002 \u96c6\u5408\u662f\u901a\u8fc7\u54c8\u5e0c\u8868\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u6dfb\u52a0\uff0c\u5220\u9664\uff0c\u67e5\u627e\u7684\u590d\u6742\u5ea6\u90fd\u662fO(1)\u3002 \u5e94\u7528\u573a\u666f\uff1a \u53ef\u4ee5\u73a9\u513f\u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u4ea4\u96c6\u5427\uff0c\u53ef\u4ee5\u628a\u4e24\u4e2a\u4eba\u7684\u7c89\u4e1d\u5217\u8868\u6574\u4e00\u4e2a\u4ea4\u96c6\uff0c\u770b\u770b\u4fe9\u4eba\u7684\u5171\u540c\u597d\u53cb\u662f\u8c01\uff0c\u628a\u4e24\u4e2a\u5927 V \u7684\u7c89\u4e1d\u90fd\u653e\u5728\u4e24\u4e2a set \u4e2d\uff0c\u5bf9\u4e24\u4e2a set \u505a\u4ea4\u96c6\uff1a #-------\u64cd\u4f5c\u4e00\u4e2aset------- # \u6dfb\u52a0\u5143\u7d20 sadd mySet 1 # \u67e5\u770b\u5168\u90e8\u5143\u7d20 smembers mySet # \u5224\u65ad\u662f\u5426\u5305\u542b\u67d0\u4e2a\u503c sismember mySet 3 # \u5220\u9664\u67d0\u4e2a/\u4e9b\u5143\u7d20 srem mySet 1 srem mySet 2 4 # \u67e5\u770b\u5143\u7d20\u4e2a\u6570 scard mySet # \u968f\u673a\u5220\u9664\u4e00\u4e2a\u5143\u7d20 spop mySet #-------\u64cd\u4f5c\u591a\u4e2aset------- # \u5c06\u4e00\u4e2aset\u7684\u5143\u7d20\u79fb\u52a8\u5230\u53e6\u5916\u4e00\u4e2aset smove yourSet mySet 2 # \u6c42\u4e24set\u7684\u4ea4\u96c6 sinter yourSet mySet # \u6c42\u4e24set\u7684\u5e76\u96c6 sunion yourSet mySet # \u6c42\u5728yourSet\u4e2d\u800c\u4e0d\u5728mySet\u4e2d\u7684\u5143\u7d20 sdiff yourSet mySet \u5229\u7528\u552f\u4e00\u6027\uff0c\u53ef\u4ee5\u7edf\u8ba1\u8bbf\u95ee\u7f51\u7ad9\u7684\u6240\u6709\u72ec\u7acbIP\u3002 \u597d\u53cb\u63a8\u8350\u7684\u65f6\u5019\u6839\u636etag\u6c42\u4ea4\u96c6\uff0c\u5927\u4e8e\u67d0\u4e2athreshold\uff08\u4e34\u754c\u503c\u7684\uff09\u5c31\u53ef\u4ee5\u63a8\u8350\u3002 \u5e38\u7528\u547d\u4ee4\uff1asadd\u3001spop\u3001smembers\u3001sunion\u7b49\u3002 \u96c6\u5408\u4e2d\u6700\u5927\u7684\u6210\u5458\u6570\u4e3a 232 - 1(4294967295, \u6bcf\u4e2a\u96c6\u5408\u53ef\u5b58\u50a840\u591a\u4ebf\u4e2a\u6210\u5458)\u3002 zsets\uff08Sorted Sets\uff09 Redis zset \u548c set \u4e00\u6837\u4e5f\u662fstring\u7c7b\u578b\u5143\u7d20\u7684\u96c6\u5408,\u4e14\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u6210\u5458\u3002 \u4e0d\u540c\u7684\u662f\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u5173\u8054\u4e00\u4e2adouble\u7c7b\u578b\u7684\u5206\u6570\u3002redis\u6b63\u662f\u901a\u8fc7\u5206\u6570\u6765\u4e3a\u96c6\u5408\u4e2d\u7684\u6210\u5458\u8fdb\u884c\u4ece\u5c0f\u5230\u5927\u7684\u6392\u5e8f\u3002 zset\u7684\u6210\u5458\u662f\u552f\u4e00\u7684,\u4f46\u5206\u6570(score)\u5374\u53ef\u4ee5\u91cd\u590d\u3002 sorted set\u662f\u63d2\u5165\u6709\u5e8f\u7684\uff0c\u5373\u81ea\u52a8\u6392\u5e8f\u3002 \u5e38\u7528\u547d\u4ee4\uff1azadd\u3001zrange\u3001zrem\u3001zcard\u7b49\u3002 \u5f53\u4f60\u9700\u8981\u4e00\u4e2a\u6709\u5e8f\u7684\u5e76\u4e14\u4e0d\u91cd\u590d\u7684\u96c6\u5408\u5217\u8868\u65f6\uff0c\u90a3\u4e48\u53ef\u4ee5\u9009\u62e9sorted set\u6570\u636e\u7ed3\u6784\u3002 \u5199\u5165\u6570\u636e\u65f6\u5019\u5e26\u4e00\u4e2a\u5206\u6570\u503c\uff0c\u5c06\u81ea\u52a8\u6309\u7167\u5206\u6570\u8fdb\u884c\u6392\u5e8f\u3002 zadd board 85 zhangsan zadd board 72 lisi zadd board 96 wangwu zadd board 63 zhaoliu # \u83b7\u53d6\u6392\u540d\u524d\u4e09\u7684\u7528\u6237\uff08\u9ed8\u8ba4\u662f\u5347\u5e8f\uff0c\u6240\u4ee5\u9700\u8981 rev \u6539\u4e3a\u964d\u5e8f\uff09 zrevrange board 0 3 # \u83b7\u53d6\u67d0\u7528\u6237\u7684\u6392\u540d zrank board zhaoliu \u5e94\u7528\u4e3e\u4f8b\uff1a \u4f8b\u5982\u5b58\u50a8\u5168\u73ed\u540c\u5b66\u7684\u6210\u7ee9\uff0c\u5176\u96c6\u5408value\u53ef\u4ee5\u662f\u540c\u5b66\u7684\u5b66\u53f7\uff0c\u800cscore\u5c31\u53ef\u4ee5\u662f\u6210\u7ee9\u3002 \u6392\u884c\u699c\u5e94\u7528\uff0c\u6839\u636e\u5f97\u5206\u5217\u51fatopN\u7684\u7528\u6237\u7b49\u3002 \u5206\u5e03\u5f0f\u9501\u5b9e\u73b0 <dependency> <groupId>org.redisson</groupId> <artifactId>redisson</artifactId> <version>3.16.3</version> </dependency> // 1. Create config object Config config = new Config(); config.useClusterServers() // use \"rediss://\" for SSL connection .addNodeAddress(\"redis://127.0.0.1:7181\"); // or read config from file config = Config.fromYAML(new File(\"config-file.yaml\")); // 2. Create Redisson instance // Sync and Async API RedissonClient redisson = Redisson.create(config); // Reactive API RedissonReactiveClient redissonReactive = redisson.reactive(); // RxJava3 API RedissonRxClient redissonRx = redisson.rxJava(); // 3. Get Redis based implementation of java.util.concurrent.ConcurrentMap RMap<MyKey, MyValue> map = redisson.getMap(\"myMap\"); RMapReactive<MyKey, MyValue> mapReactive = redissonReactive.getMap(\"myMap\"); RMapRx<MyKey, MyValue> mapRx = redissonRx.getMap(\"myMap\"); // 4. Get Redis based implementation of java.util.concurrent.locks.Lock RLock lock = redisson.getLock(\"myLock\"); RLockReactive lockReactive = redissonReactive.getLock(\"myLock\"); RLockRx lockRx = redissonRx.getLock(\"myLock\"); // 4. Get Redis based implementation of java.util.concurrent.ExecutorService RExecutorService executor = redisson.getExecutorService(\"myExecutorService\"); // over 50 Redis based Java objects and services ... \u8ba2\u9605\u53d1\u5e03\u6a21\u5f0f \u53ef\u4ee5\u901a\u8fc7\u8ba2\u9605\u53d1\u5e03\u6a21\u5f0f\u505a\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u5373\u65f6\u901a\u4fe1\u7ec4\u4ef6 #A\u76d1\u542cA\u9891\u9053 subscribe a #B\u7ed9A\u53d1\u6d88\u606f publish a helloworld #\u6b64\u65f6A\u53ef\u4ee5\u6536\u5230helloworld\u7684\u6d88\u606f \u53d8\u76f8\u5b9e\u73b0\u7ed9list\u5143\u7d20\u8bbe\u7f6e\u6709\u6548\u65f6\u95f4 \u7ed3\u5408\u6709\u5e8f\u96c6\u5408\uff0c\u52a0\u5165\u5230\u6709\u5e8f\u96c6\u5408\u7684\u6bcf\u4e2a\u9879\uff0c\u6211\u4eec\u90fd\u5c06\u5b83\u7684score\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u65f6\u95f4\u6233\uff0c\u8fd9\u4e2a\u65f6\u95f4\u6233\u4ee3\u8868\u5b83\u7684\u8fc7\u671f\u65f6\u95f4\u3002\u7136\u540e\uff0c\u6211\u4eec\u52a0\u5165\u4e00\u4e2a\u5b9a\u65f6\u4efb\u52a1\uff0c\u5b9a\u65f6\u79fb\u9664\u90a3\u4e9b\u8fc7\u671f\u7684\u6570\u636e\u5373\u53ef\u3002","title":"Redis\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#redis","text":"","title":"Redis\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#_1","text":"\u5728String\u3001Hashes\u3001Lists\u3001Sets\u3001Sorted Sets\u51e0\u4e2a\u5e38\u7528\u6570\u636e\u7c7b\u578b\u4e2d\u7ed3\u5408\u4e1a\u52a1\u9009\u62e9\u5408\u9002\u7684\u7c7b\u578b\u6765\u5b58\u50a8\u3002","title":"\u60ef\u4f8b"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#_2","text":"#\u8fde\u63a5\u96c6\u7fa4\uff08\u589e\u52a0-c\u53c2\u6570\uff09 redis-cli -a password -c -h 127.0.0.1","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#_3","text":"","title":"\u7279\u6027"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#_4","text":"\u5b9a\u65f6\u5220\u9664 \u9ed8\u8ba4Redis\u6bcf100MS\u968f\u673a\u62bd\u53d6\u4e00\u90e8\u5206key\u5bf9\u5176\u8fdb\u884c\u68c0\u6d4b\u662f\u5426\u8fc7\u671f\u9700\u8981\u5220\u9664\u3002 \u4e0d\u5168\u90e8\u6267\u884c\u7684\u539f\u56e0\u5728\u4e8e\u6570\u636e\u8f83\u591a\u65f6\u5019\u5168\u90e8\u68c0\u6d4b\u4f1a\u8017\u8d39\u592a\u591aCPU\uff0c\u65e0\u6cd5\u4fdd\u8bc1\u6027\u80fd\u3002 \u60f0\u6027(LRU)\u5220\u9664 \u5728\u7528\u6237\u83b7\u53d6\u67d0\u4e2akey\u7684\u65f6\u5019\u4f1a\u68c0\u6d4b\u662f\u5426\u8fc7\u671f\uff0c\u5982\u679c\u8fc7\u671f\u4e86\u5220\u9664\u5e76\u8fd4\u56de\u7a7a\u3002 \u6570\u636e\u6b8b\u7559\u95ee\u9898 \u4e0a\u8ff0\u4e24\u79cd\u7b56\u7565\u65e0\u6cd5\u5bf9\u5168\u90e8\u6570\u636e\u8fdb\u884c\u8fc7\u671f\u5220\u9664\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u5b9e\u9645\u7684\u53ef\u7528\u5185\u5b58\u7a7a\u95f4\u6d6a\u8d39\uff0c\u6b64\u65f6\u5e94\u914d\u5408\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u914d\u7f6e\u3002","title":"\u8fc7\u671f\u7b56\u7565"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#_5","text":"noeviction: \u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u65b0\u5199\u5165\u64cd\u4f5c\u4f1a\u62a5\u9519\uff0c\u8fd9\u4e2a\u4e00\u822c\u6ca1\u4eba\u7528\u5427\uff0c\u5b9e\u5728\u662f\u592a\u6076\u5fc3\u4e86\u3002 allkeys-lru\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u952e\u7a7a\u95f4\u4e2d\uff0c\u79fb\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684 key\uff08\u8fd9\u4e2a\u662f\u6700\u5e38\u7528\u7684\uff09\u3002 allkeys-random\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u952e\u7a7a\u95f4\u4e2d\uff0c\u968f\u673a\u79fb\u9664\u67d0\u4e2a key\uff0c\u8fd9\u4e2a\u4e00\u822c\u6ca1\u4eba\u7528\u5427\uff0c\u4e3a\u5565\u8981\u968f\u673a\uff0c\u80af\u5b9a\u662f\u628a\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684 key \u7ed9\u5e72\u6389\u554a\u3002 volatile-lru\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u7a7a\u95f4\u4e2d\uff0c\u79fb\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684 key\uff08\u8fd9\u4e2a\u4e00\u822c\u4e0d\u592a\u5408\u9002\uff09\u3002 volatile-random\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u7a7a\u95f4\u4e2d\uff0c\u968f\u673a\u79fb\u9664\u67d0\u4e2a key\u3002 volatile-ttl\uff1a\u5f53\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u5199\u5165\u6570\u636e\u65f6\uff0c\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u7a7a\u95f4\u4e2d\uff0c\u6709\u66f4\u65e9\u8fc7\u671f\u65f6\u95f4\u7684 key \u4f18\u5148\u79fb\u9664\u3002","title":"\u5185\u5b58\u6dd8\u6c70\u673a\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#_6","text":"","title":"\u6570\u636e\u7c7b\u578b\u53ca\u7279\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#string","text":"string \u662f redis \u6700\u57fa\u672c\u7684\u7c7b\u578b\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u6210\u4e0e Memcached \u4e00\u6a21\u4e00\u6837\u7684\u7c7b\u578b\uff0c\u4e00\u4e2a key \u5bf9\u5e94\u4e00\u4e2a value\u3002 string \u7c7b\u578b\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\u3002\u610f\u601d\u662f redis \u7684 string \u53ef\u4ee5\u5305\u542b\u4efb\u4f55\u6570\u636e\u3002\u6bd4\u5982jpg\u56fe\u7247\u6216\u8005\u5e8f\u5217\u5316\u7684\u5bf9\u8c61\u3002 string \u7c7b\u578b\u662f Redis \u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0cstring \u7c7b\u578b\u7684\u503c\u6700\u5927\u80fd\u5b58\u50a8 512MB\u3002 \u5e38\u7528\u547d\u4ee4\uff1aset\u3001get\u3001decr\u3001incr\u3001mget\u7b49\u3002 \u6ce8\u610f\uff1a\u4e00\u4e2a\u952e\u6700\u5927\u80fd\u5b58\u50a8512MB\u3002","title":"String"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#hashes","text":"Redis hash \u662f\u4e00\u4e2a\u952e\u503c(key=>value)\u5bf9\u96c6\u5408\uff1b\u662f\u4e00\u4e2a string \u7c7b\u578b\u7684 field \u548c value \u7684\u6620\u5c04\u8868\uff0chash \u7279\u522b\u9002\u5408\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61\uff08\u5bf9\u8c61\u4e0d\u80fd\u5d4c\u5957\u5176\u4ed6\u5bf9\u8c61\uff09\u3002 \u6bcf\u4e2a hash \u53ef\u4ee5\u5b58\u50a8 232 -1 \u952e\u503c\u5bf9\uff0840\u591a\u4ebf\uff09\u3002 \u5e38\u7528\u547d\u4ee4\uff1ahget\u3001hset\u3001hgetall\u7b49\u3002 \u5e94\u7528\u573a\u666f\uff1a\u5b58\u50a8\u4e00\u4e9b\u7ed3\u6784\u5316\u7684\u6570\u636e\uff0c\u6bd4\u5982\u7528\u6237\u7684\u6635\u79f0\u3001\u5e74\u9f84\u3001\u6027\u522b\u3001\u79ef\u5206\u7b49\uff0c\u5b58\u50a8\u4e00\u4e2a\u7528\u6237\u4fe1\u606f\u5bf9\u8c61\u6570\u636e\u3002 hset person name bingo hset person age 20 hset person id 1 hget person name (person = { \"name\": \"bingo\", \"age\": 20, \"id\": 1 })","title":"Hashes"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#lists","text":"Redis \u5217\u8868\u662f\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u5217\u8868\uff0c\u6309\u7167\u63d2\u5165\u987a\u5e8f\u6392\u5e8f\u3002\u4f60\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\u5230\u5217\u8868\u7684\u5934\u90e8\uff08\u5de6\u8fb9\uff09\u6216\u8005\u5c3e\u90e8\uff08\u53f3\u8fb9\uff09\u3002 list\u7c7b\u578b\u7ecf\u5e38\u4f1a\u88ab\u7528\u4e8e\u6d88\u606f\u961f\u5217\u7684\u670d\u52a1\uff0c\u4ee5\u5b8c\u6210\u591a\u7a0b\u5e8f\u4e4b\u95f4\u7684\u6d88\u606f\u4ea4\u6362\u3002 \u5e38\u7528\u547d\u4ee4\uff1alpush\u3001rpush\u3001lpop\u3001rpop\u3001lrange\u7b49\u3002 \u5217\u8868\u6700\u591a\u53ef\u5b58\u50a8 232 - 1 \u5143\u7d20 (4294967295, \u6bcf\u4e2a\u5217\u8868\u53ef\u5b58\u50a840\u591a\u4ebf)\u3002 \u5e94\u7528\u573a\u666f\uff1a \u6bd4\u5982\u53ef\u4ee5\u901a\u8fc7 list \u5b58\u50a8\u4e00\u4e9b\u5217\u8868\u578b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7c7b\u4f3c\u7c89\u4e1d\u5217\u8868\u3001\u6587\u7ae0\u7684\u8bc4\u8bba\u5217\u8868\u4e4b\u7c7b\u7684\u4e1c\u897f\u3002 \u6bd4\u5982\u53ef\u4ee5\u901a\u8fc7 lrange \u547d\u4ee4\uff0c\u8bfb\u53d6\u67d0\u4e2a\u95ed\u533a\u95f4\u5185\u7684\u5143\u7d20\uff0c\u53ef\u4ee5\u57fa\u4e8e list \u5b9e\u73b0\u5206\u9875\u67e5\u8be2\uff0c\u8fd9\u4e2a\u662f\u5f88\u68d2\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u57fa\u4e8e Redis \u5b9e\u73b0\u7b80\u5355\u7684\u9ad8\u6027\u80fd\u5206\u9875\uff0c\u53ef\u4ee5\u505a\u7c7b\u4f3c\u5fae\u535a\u90a3\u79cd\u4e0b\u62c9\u4e0d\u65ad\u5206\u9875\u7684\u4e1c\u897f\uff0c\u6027\u80fd\u9ad8\uff0c\u5c31\u4e00\u9875\u4e00\u9875\u8d70\u3002 # 0\u5f00\u59cb\u4f4d\u7f6e\uff0c-1\u7ed3\u675f\u4f4d\u7f6e\uff0c\u7ed3\u675f\u4f4d\u7f6e\u4e3a-1\u65f6\uff0c\u8868\u793a\u5217\u8868\u7684\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5373\u67e5\u770b\u6240\u6709\u3002 lrange mylist 0 -1 \u6bd4\u5982\u53ef\u4ee5\u641e\u4e2a\u7b80\u5355\u7684\u6d88\u606f\u961f\u5217\uff0c\u4ece list \u5934\u603c\u8fdb\u53bb\uff0c\u4ece list \u5c3e\u5df4\u90a3\u91cc\u5f04\u51fa\u6765\u3002 ``` lpush mylist 1 lpush mylist 2 lpush mylist 3 4 5 # 1 rpop mylist ```","title":"Lists"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#sets","text":"Redis\u7684Set\u662fstring\u7c7b\u578b\u7684\u65e0\u5e8f\u96c6\u5408(\u4f1a\u81ea\u52a8\u53bb\u91cd\u3002)\u3002\u548c\u5217\u8868\u4e00\u6837\uff0c\u5728\u6267\u884c\u63d2\u5165\u548c\u5220\u9664\u548c\u5224\u65ad\u662f\u5426\u5b58\u5728\u67d0\u5143\u7d20\u65f6\uff0c\u6548\u7387\u662f\u5f88\u9ad8\u7684\u3002\u96c6\u5408\u6700\u5927\u7684\u4f18\u52bf\u5728\u4e8e\u53ef\u4ee5\u8fdb\u884c\u4ea4\u96c6\u5e76\u96c6\u5dee\u96c6\u64cd\u4f5c\u3002Set\u53ef\u5305\u542b\u7684\u6700\u5927\u5143\u7d20\u6570\u91cf\u662f4294967295\u3002 \u96c6\u5408\u662f\u901a\u8fc7\u54c8\u5e0c\u8868\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u6dfb\u52a0\uff0c\u5220\u9664\uff0c\u67e5\u627e\u7684\u590d\u6742\u5ea6\u90fd\u662fO(1)\u3002 \u5e94\u7528\u573a\u666f\uff1a \u53ef\u4ee5\u73a9\u513f\u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u4ea4\u96c6\u5427\uff0c\u53ef\u4ee5\u628a\u4e24\u4e2a\u4eba\u7684\u7c89\u4e1d\u5217\u8868\u6574\u4e00\u4e2a\u4ea4\u96c6\uff0c\u770b\u770b\u4fe9\u4eba\u7684\u5171\u540c\u597d\u53cb\u662f\u8c01\uff0c\u628a\u4e24\u4e2a\u5927 V \u7684\u7c89\u4e1d\u90fd\u653e\u5728\u4e24\u4e2a set \u4e2d\uff0c\u5bf9\u4e24\u4e2a set \u505a\u4ea4\u96c6\uff1a #-------\u64cd\u4f5c\u4e00\u4e2aset------- # \u6dfb\u52a0\u5143\u7d20 sadd mySet 1 # \u67e5\u770b\u5168\u90e8\u5143\u7d20 smembers mySet # \u5224\u65ad\u662f\u5426\u5305\u542b\u67d0\u4e2a\u503c sismember mySet 3 # \u5220\u9664\u67d0\u4e2a/\u4e9b\u5143\u7d20 srem mySet 1 srem mySet 2 4 # \u67e5\u770b\u5143\u7d20\u4e2a\u6570 scard mySet # \u968f\u673a\u5220\u9664\u4e00\u4e2a\u5143\u7d20 spop mySet #-------\u64cd\u4f5c\u591a\u4e2aset------- # \u5c06\u4e00\u4e2aset\u7684\u5143\u7d20\u79fb\u52a8\u5230\u53e6\u5916\u4e00\u4e2aset smove yourSet mySet 2 # \u6c42\u4e24set\u7684\u4ea4\u96c6 sinter yourSet mySet # \u6c42\u4e24set\u7684\u5e76\u96c6 sunion yourSet mySet # \u6c42\u5728yourSet\u4e2d\u800c\u4e0d\u5728mySet\u4e2d\u7684\u5143\u7d20 sdiff yourSet mySet \u5229\u7528\u552f\u4e00\u6027\uff0c\u53ef\u4ee5\u7edf\u8ba1\u8bbf\u95ee\u7f51\u7ad9\u7684\u6240\u6709\u72ec\u7acbIP\u3002 \u597d\u53cb\u63a8\u8350\u7684\u65f6\u5019\u6839\u636etag\u6c42\u4ea4\u96c6\uff0c\u5927\u4e8e\u67d0\u4e2athreshold\uff08\u4e34\u754c\u503c\u7684\uff09\u5c31\u53ef\u4ee5\u63a8\u8350\u3002 \u5e38\u7528\u547d\u4ee4\uff1asadd\u3001spop\u3001smembers\u3001sunion\u7b49\u3002 \u96c6\u5408\u4e2d\u6700\u5927\u7684\u6210\u5458\u6570\u4e3a 232 - 1(4294967295, \u6bcf\u4e2a\u96c6\u5408\u53ef\u5b58\u50a840\u591a\u4ebf\u4e2a\u6210\u5458)\u3002","title":"Sets"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#zsetssorted-sets","text":"Redis zset \u548c set \u4e00\u6837\u4e5f\u662fstring\u7c7b\u578b\u5143\u7d20\u7684\u96c6\u5408,\u4e14\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u6210\u5458\u3002 \u4e0d\u540c\u7684\u662f\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u5173\u8054\u4e00\u4e2adouble\u7c7b\u578b\u7684\u5206\u6570\u3002redis\u6b63\u662f\u901a\u8fc7\u5206\u6570\u6765\u4e3a\u96c6\u5408\u4e2d\u7684\u6210\u5458\u8fdb\u884c\u4ece\u5c0f\u5230\u5927\u7684\u6392\u5e8f\u3002 zset\u7684\u6210\u5458\u662f\u552f\u4e00\u7684,\u4f46\u5206\u6570(score)\u5374\u53ef\u4ee5\u91cd\u590d\u3002 sorted set\u662f\u63d2\u5165\u6709\u5e8f\u7684\uff0c\u5373\u81ea\u52a8\u6392\u5e8f\u3002 \u5e38\u7528\u547d\u4ee4\uff1azadd\u3001zrange\u3001zrem\u3001zcard\u7b49\u3002 \u5f53\u4f60\u9700\u8981\u4e00\u4e2a\u6709\u5e8f\u7684\u5e76\u4e14\u4e0d\u91cd\u590d\u7684\u96c6\u5408\u5217\u8868\u65f6\uff0c\u90a3\u4e48\u53ef\u4ee5\u9009\u62e9sorted set\u6570\u636e\u7ed3\u6784\u3002 \u5199\u5165\u6570\u636e\u65f6\u5019\u5e26\u4e00\u4e2a\u5206\u6570\u503c\uff0c\u5c06\u81ea\u52a8\u6309\u7167\u5206\u6570\u8fdb\u884c\u6392\u5e8f\u3002 zadd board 85 zhangsan zadd board 72 lisi zadd board 96 wangwu zadd board 63 zhaoliu # \u83b7\u53d6\u6392\u540d\u524d\u4e09\u7684\u7528\u6237\uff08\u9ed8\u8ba4\u662f\u5347\u5e8f\uff0c\u6240\u4ee5\u9700\u8981 rev \u6539\u4e3a\u964d\u5e8f\uff09 zrevrange board 0 3 # \u83b7\u53d6\u67d0\u7528\u6237\u7684\u6392\u540d zrank board zhaoliu \u5e94\u7528\u4e3e\u4f8b\uff1a \u4f8b\u5982\u5b58\u50a8\u5168\u73ed\u540c\u5b66\u7684\u6210\u7ee9\uff0c\u5176\u96c6\u5408value\u53ef\u4ee5\u662f\u540c\u5b66\u7684\u5b66\u53f7\uff0c\u800cscore\u5c31\u53ef\u4ee5\u662f\u6210\u7ee9\u3002 \u6392\u884c\u699c\u5e94\u7528\uff0c\u6839\u636e\u5f97\u5206\u5217\u51fatopN\u7684\u7528\u6237\u7b49\u3002","title":"zsets\uff08Sorted Sets\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#_7","text":"<dependency> <groupId>org.redisson</groupId> <artifactId>redisson</artifactId> <version>3.16.3</version> </dependency> // 1. Create config object Config config = new Config(); config.useClusterServers() // use \"rediss://\" for SSL connection .addNodeAddress(\"redis://127.0.0.1:7181\"); // or read config from file config = Config.fromYAML(new File(\"config-file.yaml\")); // 2. Create Redisson instance // Sync and Async API RedissonClient redisson = Redisson.create(config); // Reactive API RedissonReactiveClient redissonReactive = redisson.reactive(); // RxJava3 API RedissonRxClient redissonRx = redisson.rxJava(); // 3. Get Redis based implementation of java.util.concurrent.ConcurrentMap RMap<MyKey, MyValue> map = redisson.getMap(\"myMap\"); RMapReactive<MyKey, MyValue> mapReactive = redissonReactive.getMap(\"myMap\"); RMapRx<MyKey, MyValue> mapRx = redissonRx.getMap(\"myMap\"); // 4. Get Redis based implementation of java.util.concurrent.locks.Lock RLock lock = redisson.getLock(\"myLock\"); RLockReactive lockReactive = redissonReactive.getLock(\"myLock\"); RLockRx lockRx = redissonRx.getLock(\"myLock\"); // 4. Get Redis based implementation of java.util.concurrent.ExecutorService RExecutorService executor = redisson.getExecutorService(\"myExecutorService\"); // over 50 Redis based Java objects and services ...","title":"\u5206\u5e03\u5f0f\u9501\u5b9e\u73b0"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#_8","text":"\u53ef\u4ee5\u901a\u8fc7\u8ba2\u9605\u53d1\u5e03\u6a21\u5f0f\u505a\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u5373\u65f6\u901a\u4fe1\u7ec4\u4ef6 #A\u76d1\u542cA\u9891\u9053 subscribe a #B\u7ed9A\u53d1\u6d88\u606f publish a helloworld #\u6b64\u65f6A\u53ef\u4ee5\u6536\u5230helloworld\u7684\u6d88\u606f","title":"\u8ba2\u9605\u53d1\u5e03\u6a21\u5f0f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3/#list","text":"\u7ed3\u5408\u6709\u5e8f\u96c6\u5408\uff0c\u52a0\u5165\u5230\u6709\u5e8f\u96c6\u5408\u7684\u6bcf\u4e2a\u9879\uff0c\u6211\u4eec\u90fd\u5c06\u5b83\u7684score\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u65f6\u95f4\u6233\uff0c\u8fd9\u4e2a\u65f6\u95f4\u6233\u4ee3\u8868\u5b83\u7684\u8fc7\u671f\u65f6\u95f4\u3002\u7136\u540e\uff0c\u6211\u4eec\u52a0\u5165\u4e00\u4e2a\u5b9a\u65f6\u4efb\u52a1\uff0c\u5b9a\u65f6\u79fb\u9664\u90a3\u4e9b\u8fc7\u671f\u7684\u6570\u636e\u5373\u53ef\u3002","title":"\u53d8\u76f8\u5b9e\u73b0\u7ed9list\u5143\u7d20\u8bbe\u7f6e\u6709\u6548\u65f6\u95f4"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/","text":"Redis\u96c6\u7fa4\u76f8\u5173 Redis\u5e38\u89c1\u95ee\u9898 \u7f13\u5b58\u96ea\u5d29 \u5bf9\u4e8e\u7cfb\u7edf A\uff0c\u5047\u8bbe\u6bcf\u5929\u9ad8\u5cf0\u671f\u6bcf\u79d2 5000 \u4e2a\u8bf7\u6c42\uff0c\u672c\u6765\u7f13\u5b58\u5728\u9ad8\u5cf0\u671f\u53ef\u4ee5\u625b\u4f4f\u6bcf\u79d2 4000 \u4e2a\u8bf7\u6c42\uff0c\u4f46\u662f\u7f13\u5b58\u673a\u5668\u610f\u5916\u53d1\u751f\u4e86\u5168\u76d8\u5b95\u673a\u3002\u7f13\u5b58\u6302\u4e86\uff0c\u6b64\u65f6 1 \u79d2 5000 \u4e2a\u8bf7\u6c42\u5168\u90e8\u843d\u6570\u636e\u5e93\uff0c\u6570\u636e\u5e93\u5fc5\u7136\u625b\u4e0d\u4f4f\uff0c\u5b83\u4f1a\u62a5\u4e00\u4e0b\u8b66\uff0c\u7136\u540e\u5c31\u6302\u4e86\u3002\u6b64\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u91c7\u7528\u4ec0\u4e48\u7279\u522b\u7684\u65b9\u6848\u6765\u5904\u7406\u8fd9\u4e2a\u6545\u969c\uff0cDBA \u5f88\u7740\u6025\uff0c\u91cd\u542f\u6570\u636e\u5e93\uff0c\u4f46\u662f\u6570\u636e\u5e93\u7acb\u9a6c\u53c8\u88ab\u65b0\u7684\u6d41\u91cf\u7ed9\u6253\u6b7b\u4e86\u3002\u8fd9\u5c31\u662f\u7f13\u5b58\u96ea\u5d29\u3002 \u89e3\u51b3\u529e\u6cd5 \u4e8b\u524d\uff1aRedis \u9ad8\u53ef\u7528\uff0c\u4e3b\u4ece+\u54e8\u5175\uff0cRedis cluster\uff0c\u907f\u514d\u5168\u76d8\u5d29\u6e83\u3002 \u4e8b\u4e2d\uff1a\u672c\u5730 ehcache \u7f13\u5b58 + hystrix \u9650\u6d41&\u964d\u7ea7\uff0c\u907f\u514d MySQL \u88ab\u6253\u6b7b\u3002 \u4e8b\u540e\uff1aRedis \u6301\u4e45\u5316\uff0c\u4e00\u65e6\u91cd\u542f\uff0c\u81ea\u52a8\u4ece\u78c1\u76d8\u4e0a\u52a0\u8f7d\u6570\u636e\uff0c\u5feb\u901f\u6062\u590d\u7f13\u5b58\u6570\u636e\u3002 \u7f13\u5b58\u7a7f\u900f \u5bf9\u4e8e\u7cfb\u7edf A\uff0c\u5047\u8bbe\u4e00\u79d2 5000 \u4e2a\u8bf7\u6c42\uff0c\u7ed3\u679c\u5176\u4e2d 4000 \u4e2a\u8bf7\u6c42\u662f\u9ed1\u5ba2\u53d1\u51fa\u7684\u6076\u610f\u653b\u51fb\u3002\u9ed1\u5ba2\u53d1\u51fa\u7684\u90a3 4000 \u4e2a\u653b\u51fb\uff0c\u7f13\u5b58\u4e2d\u67e5\u4e0d\u5230\uff0c\u6bcf\u6b21\u4f60\u53bb\u6570\u636e\u5e93\u91cc\u67e5\uff0c\u4e5f\u67e5\u4e0d\u5230\u3002\u4e3e\u4e2a\u6817\u5b50\u3002\u6570\u636e\u5e93 id \u662f\u4ece 1 \u5f00\u59cb\u7684\uff0c\u7ed3\u679c\u9ed1\u5ba2\u53d1\u8fc7\u6765\u7684\u8bf7\u6c42 id \u5168\u90e8\u90fd\u662f\u8d1f\u6570\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u7f13\u5b58\u4e2d\u4e0d\u4f1a\u6709\uff0c\u8bf7\u6c42\u6bcf\u6b21\u90fd\u201c \u89c6\u7f13\u5b58\u4e8e\u65e0\u7269 \u201d\uff0c\u76f4\u63a5\u67e5\u8be2\u6570\u636e\u5e93\u3002\u8fd9\u79cd\u6076\u610f\u653b\u51fb\u573a\u666f\u7684\u7f13\u5b58\u7a7f\u900f\u5c31\u4f1a\u76f4\u63a5\u628a\u6570\u636e\u5e93\u7ed9\u6253\u6b7b\u3002 \u89e3\u51b3\u529e\u6cd5 \u8bf7\u6c42\u6570\u636e\u7684 key \u4e0d\u5b58\u5728\u4e8e\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\uff0c\u53ef\u4ee5\u786e\u5b9a\u6570\u636e\u5c31\u4e00\u5b9a\u4e0d\u4f1a\u5b58\u5728\u4e8e\u6570\u636e\u5e93\u4e2d\uff0c\u7cfb\u7edf\u53ef\u4ee5\u7acb\u5373\u8fd4\u56de\u4e0d\u5b58\u5728\u3002 \u8bf7\u6c42\u6570\u636e\u7684 key \u5b58\u5728\u4e8e\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\uff0c\u5219\u7ee7\u7eed\u518d\u5411\u7f13\u5b58\u4e2d\u67e5\u8be2\u3002 \u7f13\u5b58\u51fb\u7a7f \u7f13\u5b58\u51fb\u7a7f\uff0c\u5c31\u662f\u8bf4\u67d0\u4e2a key \u975e\u5e38\u70ed\u70b9\uff0c\u8bbf\u95ee\u975e\u5e38\u9891\u7e41\uff0c\u5904\u4e8e\u96c6\u4e2d\u5f0f\u9ad8\u5e76\u53d1\u8bbf\u95ee\u7684\u60c5\u51b5\uff0c\u5f53\u8fd9\u4e2a key \u5728\u5931\u6548\u7684\u77ac\u95f4\uff0c\u5927\u91cf\u7684\u8bf7\u6c42\u5c31\u51fb\u7a7f\u4e86\u7f13\u5b58\uff0c\u76f4\u63a5\u8bf7\u6c42\u6570\u636e\u5e93\uff0c\u5c31\u50cf\u662f\u5728\u4e00\u9053\u5c4f\u969c\u4e0a\u51ff\u5f00\u4e86\u4e00\u4e2a\u6d1e\u3002 \u89e3\u51b3\u529e\u6cd5 \u82e5\u7f13\u5b58\u7684\u6570\u636e\u662f\u57fa\u672c\u4e0d\u4f1a\u53d1\u751f\u66f4\u65b0\u7684\uff0c\u5219\u53ef\u5c1d\u8bd5\u5c06\u8be5\u70ed\u70b9\u6570\u636e\u8bbe\u7f6e\u4e3a\u6c38\u4e0d\u8fc7\u671f\u3002 \u82e5\u7f13\u5b58\u7684\u6570\u636e\u66f4\u65b0\u4e0d\u9891\u7e41\uff0c\u4e14\u7f13\u5b58\u5237\u65b0\u7684\u6574\u4e2a\u6d41\u7a0b\u8017\u65f6\u8f83\u5c11\u7684\u60c5\u51b5\u4e0b\uff0c\u5219\u53ef\u4ee5\u91c7\u7528\u57fa\u4e8e Redis\u3001zookeeper \u7b49\u5206\u5e03\u5f0f\u4e2d\u95f4\u4ef6\u7684\u5206\u5e03\u5f0f\u4e92\u65a5\u9501\uff0c\u6216\u8005\u672c\u5730\u4e92\u65a5\u9501\u4ee5\u4fdd\u8bc1\u4ec5\u5c11\u91cf\u7684\u8bf7\u6c42\u80fd\u8bf7\u6c42\u6570\u636e\u5e93\u5e76\u91cd\u65b0\u6784\u5efa\u7f13\u5b58\uff0c\u5176\u4f59\u7ebf\u7a0b\u5219\u5728\u9501\u91ca\u653e\u540e\u80fd\u8bbf\u95ee\u5230\u65b0\u7f13\u5b58\u3002 \u82e5\u7f13\u5b58\u7684\u6570\u636e\u66f4\u65b0\u9891\u7e41\u6216\u8005\u5728\u7f13\u5b58\u5237\u65b0\u7684\u6d41\u7a0b\u8017\u65f6\u8f83\u957f\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5229\u7528\u5b9a\u65f6\u7ebf\u7a0b\u5728\u7f13\u5b58\u8fc7\u671f\u524d\u4e3b\u52a8\u5730\u91cd\u65b0\u6784\u5efa\u7f13\u5b58\u6216\u8005\u5ef6\u540e\u7f13\u5b58\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u4fdd\u8bc1\u6240\u6709\u7684\u8bf7\u6c42\u80fd\u4e00\u76f4\u8bbf\u95ee\u5230\u5bf9\u5e94\u7684\u7f13\u5b58\u3002 \u6ce8\u610f\u4e8b\u9879 \u751f\u4ea7\u73af\u5883\u4e2d\u7981\u6b62\u4f7f\u7528save\u547d\u4ee4\u624b\u5de5\u4fdd\u5b58\u6570\u636e\uff0c\u5982\u679c\u9700\u8981\u624b\u5de5\u4fdd\u5b58\u6570\u636e\u8bf7\u4f7f\u7528bgsave\u3002 \u751f\u4ea7\u73af\u5883\u4e2d\u5fc5\u987b\u8bbe\u7f6e\u8bbf\u95ee\u5bc6\u7801\u3002 \u5355\u8282\u70b9\u6027\u80fd\u8bf4\u660e \u5355\u673a\u7684 Redis\uff0c\u80fd\u591f\u627f\u8f7d\u7684 QPS \u5927\u6982\u5c31\u5728\u4e0a\u4e07\u5230\u51e0\u4e07\u4e0d\u7b49\u3002\u5bf9\u4e8e\u7f13\u5b58\u6765\u8bf4\uff0c\u4e00\u822c\u90fd\u662f\u7528\u6765\u652f\u6491\u8bfb\u9ad8\u5e76\u53d1\u7684\u3002\u56e0\u6b64\u67b6\u6784\u505a\u6210\u4e3b\u4ece(master-slave)\u67b6\u6784\uff0c\u4e00\u4e3b\u591a\u4ece\uff0c\u4e3b\u8d1f\u8d23\u5199\uff0c\u5e76\u4e14\u5c06\u6570\u636e\u590d\u5236\u5230\u5176\u5b83\u7684 slave \u8282\u70b9\uff0c\u4ece\u8282\u70b9\u8d1f\u8d23\u8bfb\u3002\u6240\u6709\u7684\u8bfb\u8bf7\u6c42\u5168\u90e8\u8d70\u4ece\u8282\u70b9\u3002\u8fd9\u6837\u4e5f\u53ef\u4ee5\u5f88\u8f7b\u677e\u5b9e\u73b0\u6c34\u5e73\u6269\u5bb9\uff0c\u652f\u6491\u8bfb\u9ad8\u5e76\u53d1\u3002 Redis replication -> \u4e3b\u4ece\u67b6\u6784 -> \u8bfb\u5199\u5206\u79bb -> \u6c34\u5e73\u6269\u5bb9\u652f\u6491\u8bfb\u9ad8\u5e76\u53d1\u3002 Redis\u4e3b\u4ece\u96c6\u7fa4\u4e3b\u8981\u673a\u5236 Redis \u91c7\u7528 \u5f02\u6b65\u65b9\u5f0f \u590d\u5236\u6570\u636e\u5230 slave \u8282\u70b9\uff0c\u4e0d\u8fc7 Redis2.8 \u5f00\u59cb\uff0cslave node \u4f1a\u5468\u671f\u6027\u5730\u786e\u8ba4\u81ea\u5df1\u6bcf\u6b21\u590d\u5236\u7684\u6570\u636e\u91cf\uff1b \u4e00\u4e2a master node \u662f\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a slave node \u7684\uff1b slave node \u4e5f\u53ef\u4ee5\u8fde\u63a5\u5176\u4ed6\u7684 slave node\uff1b slave node \u505a\u590d\u5236\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a block master node \u7684\u6b63\u5e38\u5de5\u4f5c\uff1b slave node \u5728\u505a\u590d\u5236\u7684\u65f6\u5019\uff0c\u4e5f\u4e0d\u4f1a block \u5bf9\u81ea\u5df1\u7684\u67e5\u8be2\u64cd\u4f5c\uff0c\u5b83\u4f1a\u7528\u65e7\u7684\u6570\u636e\u96c6\u6765\u63d0\u4f9b\u670d\u52a1\uff1b\u4f46\u662f\u590d\u5236\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u9700\u8981\u5220\u9664\u65e7\u6570\u636e\u96c6\uff0c\u52a0\u8f7d\u65b0\u6570\u636e\u96c6\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u4f1a\u6682\u505c\u5bf9\u5916\u670d\u52a1\u4e86\uff1b slave node \u4e3b\u8981\u7528\u6765\u8fdb\u884c\u6a2a\u5411\u6269\u5bb9\uff0c\u505a\u8bfb\u5199\u5206\u79bb\uff0c\u6269\u5bb9\u7684 slave node \u53ef\u4ee5\u63d0\u9ad8\u8bfb\u7684\u541e\u5410\u91cf\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u91c7\u7528\u4e86\u4e3b\u4ece\u67b6\u6784\uff0c\u90a3\u4e48\u5efa\u8bae\u5fc5\u987b\u5f00\u542f master node \u7684 \u6301\u4e45\u5316 \uff0c\u4e0d\u5efa\u8bae\u7528 slave node \u4f5c\u4e3a master node \u7684\u6570\u636e\u70ed\u5907\uff0c\u56e0\u4e3a\u90a3\u6837\u7684\u8bdd\uff0c\u5982\u679c\u4f60\u5173\u6389 master \u7684\u6301\u4e45\u5316\uff0c\u53ef\u80fd\u5728 master \u5b95\u673a\u91cd\u542f\u7684\u65f6\u5019\u6570\u636e\u662f\u7a7a\u7684\uff0c\u7136\u540e\u53ef\u80fd\u4e00\u7ecf\u8fc7\u590d\u5236\uff0c slave node \u7684\u6570\u636e\u4e5f\u4e22\u4e86\u3002 \u53e6\u5916\uff0cmaster \u7684\u5404\u79cd\u5907\u4efd\u65b9\u6848\uff0c\u4e5f\u9700\u8981\u505a\u3002\u4e07\u4e00\u672c\u5730\u7684\u6240\u6709\u6587\u4ef6\u4e22\u5931\u4e86\uff0c\u4ece\u5907\u4efd\u4e2d\u6311\u9009\u4e00\u4efd rdb \u53bb\u6062\u590d master\uff0c\u8fd9\u6837\u624d\u80fd \u786e\u4fdd\u542f\u52a8\u7684\u65f6\u5019\uff0c\u662f\u6709\u6570\u636e\u7684 \uff0c\u5373\u4f7f\u91c7\u7528\u4e86\u540e\u7eed\u8bb2\u89e3\u7684\u9ad8\u53ef\u7528\u673a\u5236\uff0cslave node \u53ef\u4ee5\u81ea\u52a8\u63a5\u7ba1 master node\uff0c\u4f46\u4e5f\u53ef\u80fd sentinel \u8fd8\u6ca1\u68c0\u6d4b\u5230 master failure\uff0cmaster node \u5c31\u81ea\u52a8\u91cd\u542f\u4e86\uff0c\u8fd8\u662f\u53ef\u80fd\u5bfc\u81f4\u4e0a\u9762\u6240\u6709\u7684 slave node \u6570\u636e\u88ab\u6e05\u7a7a\u3002 \u54e8\u5175\u96c6\u7fa4\u4e3b\u8981\u673a\u5236\uff08\u57fa\u672c\u5e9f\u5f03\uff0c\u76ee\u524d\u76f4\u63a5\u4f7f\u7528redis\u539f\u751f\u96c6\u7fa4\uff09 \u54e8\u5175\u8d1f\u8d23\uff1a\u96c6\u7fa4\u76d1\u63a7\u3001\u6d88\u606f\u901a\u77e5\u3001\u6545\u969c\u8f6c\u79fb\u3001\u914d\u7f6e\u4e2d\u5fc3\u529f\u80fd \u54e8\u5175\u81f3\u5c11\u9700\u8981 3 \u4e2a\u5b9e\u4f8b\uff0c\u6765\u4fdd\u8bc1\u81ea\u5df1\u7684\u5065\u58ee\u6027\u3002 \u54e8\u5175 + Redis \u4e3b\u4ece\u7684\u90e8\u7f72\u67b6\u6784\uff0c\u662f \u4e0d\u4fdd\u8bc1\u6570\u636e\u96f6\u4e22\u5931 \u7684\uff0c\u53ea\u80fd\u4fdd\u8bc1 Redis \u96c6\u7fa4\u7684\u9ad8\u53ef\u7528\u6027\u3002 \u4e3b\u5907\u5207\u6362\u7684\u8fc7\u7a0b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931 \u56e0\u4e3a master->slave \u7684\u590d\u5236\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u53ef\u80fd\u6709\u90e8\u5206\u6570\u636e\u8fd8\u6ca1\u590d\u5236\u5230 slave\uff0cmaster \u5c31\u5b95\u673a\u4e86\uff0c\u6b64\u65f6\u8fd9\u90e8\u5206\u6570\u636e\u5c31\u4e22\u5931\u4e86\u3002 \u8111\u88c2\u5bfc\u81f4\u7684\u6570\u636e\u4e22\u5931\uff0c\u67d0\u4e2a master \u6240\u5728\u673a\u5668\u7a81\u7136\u8131\u79bb\u4e86\u6b63\u5e38\u7684\u7f51\u7edc\uff0c\u8ddf\u5176\u4ed6 slave \u673a\u5668\u4e0d\u80fd\u8fde\u63a5\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a master \u8fd8\u8fd0\u884c\u7740\u3002\u6b64\u65f6\u54e8\u5175\u53ef\u80fd\u5c31\u4f1a\u8ba4\u4e3a master \u5b95\u673a\u4e86\uff0c\u7136\u540e\u5f00\u542f\u9009\u4e3e\uff0c\u5c06\u5176\u4ed6 slave \u5207\u6362\u6210\u4e86 master\u3002\u8fd9\u4e2a\u65f6\u5019\uff0c\u96c6\u7fa4\u91cc\u5c31\u4f1a\u6709\u4e24\u4e2a master \uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u8111\u88c2\u3002\u6b64\u65f6\u867d\u7136\u67d0\u4e2a slave \u88ab\u5207\u6362\u6210\u4e86 master\uff0c\u4f46\u662f\u53ef\u80fd client \u8fd8\u6ca1\u6765\u5f97\u53ca\u5207\u6362\u5230\u65b0\u7684 master\uff0c\u8fd8\u7ee7\u7eed\u5411\u65e7 master \u5199\u6570\u636e\u3002\u56e0\u6b64\u65e7 master \u518d\u6b21\u6062\u590d\u7684\u65f6\u5019\uff0c\u4f1a\u88ab\u4f5c\u4e3a\u4e00\u4e2a slave \u6302\u5230\u65b0\u7684 master \u4e0a\u53bb\uff0c\u81ea\u5df1\u7684\u6570\u636e\u4f1a\u6e05\u7a7a\uff0c\u91cd\u65b0\u4ece\u65b0\u7684 master \u590d\u5236\u6570\u636e\u3002\u800c\u65b0\u7684 master \u5e76\u6ca1\u6709\u540e\u6765 client \u5199\u5165\u7684\u6570\u636e\uff0c\u56e0\u6b64\uff0c\u8fd9\u90e8\u5206\u6570\u636e\u4e5f\u5c31\u4e22\u5931\u4e86\u3002 \u5bf9\u4e8e\u54e8\u5175 + Redis \u4e3b\u4ece\u8fd9\u79cd\u590d\u6742\u7684\u90e8\u7f72\u67b6\u6784\uff0c\u5c3d\u91cf\u5728\u6d4b\u8bd5\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\uff0c\u90fd\u8fdb\u884c\u5145\u8db3\u7684\u6d4b\u8bd5\u548c\u6f14\u7ec3\u3002 sdown \u548c odown \u8f6c\u6362\u673a\u5236 sdown \u662f\u4e3b\u89c2\u5b95\u673a\uff0c\u5c31\u4e00\u4e2a\u54e8\u5175\u5982\u679c\u81ea\u5df1\u89c9\u5f97\u4e00\u4e2a master \u5b95\u673a\u4e86\uff0c\u90a3\u4e48\u5c31\u662f\u4e3b\u89c2\u5b95\u673a odown \u662f\u5ba2\u89c2\u5b95\u673a\uff0c\u5982\u679c quorum \u6570\u91cf\u7684\u54e8\u5175\u90fd\u89c9\u5f97\u4e00\u4e2a master \u5b95\u673a\u4e86\uff0c\u90a3\u4e48\u5c31\u662f\u5ba2\u89c2\u5b95\u673a sdown \u8fbe\u6210\u7684\u6761\u4ef6\u5f88\u7b80\u5355\uff0c\u5982\u679c\u4e00\u4e2a\u54e8\u5175 ping \u4e00\u4e2a master\uff0c\u8d85\u8fc7\u4e86 is-master-down-after-milliseconds \u6307\u5b9a\u7684\u6beb\u79d2\u6570\u4e4b\u540e\uff0c\u5c31\u4e3b\u89c2\u8ba4\u4e3a master \u5b95\u673a\u4e86\uff1b\u5982\u679c\u4e00\u4e2a\u54e8\u5175\u5728\u6307\u5b9a\u65f6\u95f4\u5185\uff0c\u6536\u5230\u4e86 quorum \u6570\u91cf\u7684\u5176\u5b83\u54e8\u5175\u4e5f\u8ba4\u4e3a\u90a3\u4e2a master \u662f sdown \u7684\uff0c\u90a3\u4e48\u5c31\u8ba4\u4e3a\u662f odown \u4e86\u3002 \u54e8\u5175\u96c6\u7fa4\u7684\u81ea\u52a8\u53d1\u73b0\u673a\u5236 \u54e8\u5175\u4e92\u76f8\u4e4b\u95f4\u7684\u53d1\u73b0\uff0c\u662f\u901a\u8fc7 Redis \u7684 pub/sub \u7cfb\u7edf\u5b9e\u73b0\u7684\uff0c\u6bcf\u4e2a\u54e8\u5175\u90fd\u4f1a\u5f80 __sentinel__:hello \u8fd9\u4e2a channel \u91cc\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\uff0c\u8fd9\u65f6\u5019\u6240\u6709\u5176\u4ed6\u54e8\u5175\u90fd\u53ef\u4ee5\u6d88\u8d39\u5230\u8fd9\u4e2a\u6d88\u606f\uff0c\u5e76\u611f\u77e5\u5230\u5176\u4ed6\u7684\u54e8\u5175\u7684\u5b58\u5728\u3002 \u6bcf\u9694\u4e24\u79d2\u949f\uff0c\u6bcf\u4e2a\u54e8\u5175\u90fd\u4f1a\u5f80\u81ea\u5df1\u76d1\u63a7\u7684\u67d0\u4e2a master+slaves \u5bf9\u5e94\u7684 __sentinel__:hello channel \u91cc \u53d1\u9001\u4e00\u4e2a\u6d88\u606f \uff0c\u5185\u5bb9\u662f\u81ea\u5df1\u7684 host\u3001ip \u548c runid \u8fd8\u6709\u5bf9\u8fd9\u4e2a master \u7684\u76d1\u63a7\u914d\u7f6e\u3002 \u6bcf\u4e2a\u54e8\u5175\u4e5f\u4f1a\u53bb \u76d1\u542c \u81ea\u5df1\u76d1\u63a7\u7684\u6bcf\u4e2a master+slaves \u5bf9\u5e94\u7684 __sentinel__:hello channel\uff0c\u7136\u540e\u53bb\u611f\u77e5\u5230\u540c\u6837\u5728\u76d1\u542c\u8fd9\u4e2a master+slaves \u7684\u5176\u4ed6\u54e8\u5175\u7684\u5b58\u5728\u3002 \u6bcf\u4e2a\u54e8\u5175\u8fd8\u4f1a\u8ddf\u5176\u4ed6\u54e8\u5175\u4ea4\u6362\u5bf9 master \u7684\u76d1\u63a7\u914d\u7f6e\uff0c\u4e92\u76f8\u8fdb\u884c\u76d1\u63a7\u914d\u7f6e\u7684\u540c\u6b65\u3002 quorum \u548c majority \u6bcf\u6b21\u4e00\u4e2a\u54e8\u5175\u8981\u505a\u4e3b\u5907\u5207\u6362\uff0c\u9996\u5148\u9700\u8981 quorum \u6570\u91cf\u7684\u54e8\u5175\u8ba4\u4e3a odown\uff0c\u7136\u540e\u9009\u4e3e\u51fa\u4e00\u4e2a\u54e8\u5175\u6765\u505a\u5207\u6362\uff0c\u8fd9\u4e2a\u54e8\u5175\u8fd8\u9700\u8981\u5f97\u5230 majority \u54e8\u5175\u7684\u6388\u6743\uff0c\u624d\u80fd\u6b63\u5f0f\u6267\u884c\u5207\u6362\u3002 \u5982\u679c quorum < majority\uff0c\u6bd4\u5982 5 \u4e2a\u54e8\u5175\uff0cmajority \u5c31\u662f 3\uff0cquorum \u8bbe\u7f6e\u4e3a 2\uff0c\u90a3\u4e48\u5c31 3 \u4e2a\u54e8\u5175\u6388\u6743\u5c31\u53ef\u4ee5\u6267\u884c\u5207\u6362\u3002 \u4f46\u662f\u5982\u679c quorum >= majority\uff0c\u90a3\u4e48\u5fc5\u987b quorum \u6570\u91cf\u7684\u54e8\u5175\u90fd\u6388\u6743\uff0c\u6bd4\u5982 5 \u4e2a\u54e8\u5175\uff0cquorum \u662f 5\uff0c\u90a3\u4e48\u5fc5\u987b 5 \u4e2a\u54e8\u5175\u90fd\u540c\u610f\u6388\u6743\uff0c\u624d\u80fd\u6267\u884c\u5207\u6362\u3002 Redis \u6301\u4e45\u5316\u7684\u4e24\u79cd\u65b9\u5f0f RDB \u6301\u4e45\u5316\u673a\u5236\uff0c\u662f\u5bf9 Redis \u4e2d\u7684\u6570\u636e\u6267\u884c\u5468\u671f\u6027\u7684\u6301\u4e45\u5316\u3002 RDB \u4f1a\u751f\u6210\u591a\u4e2a\u6570\u636e\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6570\u636e\u6587\u4ef6\u90fd\u4ee3\u8868\u4e86\u67d0\u4e00\u4e2a\u65f6\u523b\u4e2d Redis \u7684\u6570\u636e\uff0c\u8fd9\u79cd\u591a\u4e2a\u6570\u636e\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u975e\u5e38\u9002\u5408\u505a\u51b7\u5907\uff0c\u53ef\u4ee5\u5c06\u8fd9\u79cd\u5b8c\u6574\u7684\u6570\u636e\u6587\u4ef6\u53d1\u9001\u5230\u4e00\u4e9b\u8fdc\u7a0b\u7684\u5b89\u5168\u5b58\u50a8\u4e0a\u53bb\uff0c\u6bd4\u5982\u8bf4 Amazon \u7684 S3 \u4e91\u670d\u52a1\u4e0a\u53bb\uff0c\u5728\u56fd\u5185\u53ef\u4ee5\u662f\u963f\u91cc\u4e91\u7684 ODPS \u5206\u5e03\u5f0f\u5b58\u50a8\u4e0a\uff0c\u4ee5\u9884\u5b9a\u597d\u7684\u5907\u4efd\u7b56\u7565\u6765\u5b9a\u671f\u5907\u4efd Redis \u4e2d\u7684\u6570\u636e\u3002 RDB \u5bf9 Redis \u5bf9\u5916\u63d0\u4f9b\u7684\u8bfb\u5199\u670d\u52a1\uff0c\u5f71\u54cd\u975e\u5e38\u5c0f\uff0c\u53ef\u4ee5\u8ba9 Redis \u4fdd\u6301\u9ad8\u6027\u80fd\uff0c\u56e0\u4e3a Redis \u4e3b\u8fdb\u7a0b\u53ea\u9700\u8981 fork \u4e00\u4e2a\u5b50\u8fdb\u7a0b\uff0c\u8ba9\u5b50\u8fdb\u7a0b\u6267\u884c\u78c1\u76d8 IO \u64cd\u4f5c\u6765\u8fdb\u884c RDB \u6301\u4e45\u5316\u5373\u53ef\u3002 \u76f8\u5bf9\u4e8e AOF \u6301\u4e45\u5316\u673a\u5236\u6765\u8bf4\uff0c\u76f4\u63a5\u57fa\u4e8e RDB \u6570\u636e\u6587\u4ef6\u6765\u91cd\u542f\u548c\u6062\u590d Redis \u8fdb\u7a0b\uff0c\u66f4\u52a0\u5feb\u901f\u3002 \u5982\u679c\u60f3\u8981\u5728 Redis \u6545\u969c\u65f6\uff0c\u5c3d\u53ef\u80fd\u5c11\u7684\u4e22\u5931\u6570\u636e\uff0c\u90a3\u4e48 RDB \u6ca1\u6709 AOF \u597d\u3002\u4e00\u822c\u6765\u8bf4\uff0cRDB \u6570\u636e\u5feb\u7167\u6587\u4ef6\uff0c\u90fd\u662f\u6bcf\u9694 5 \u5206\u949f\uff0c\u6216\u8005\u66f4\u957f\u65f6\u95f4\u751f\u6210\u4e00\u6b21\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u5f97\u63a5\u53d7\u4e00\u65e6 Redis \u8fdb\u7a0b\u5b95\u673a\uff0c\u90a3\u4e48\u4f1a\u4e22\u5931\u6700\u8fd1 5 \u5206\u949f\uff08\u751a\u81f3\u66f4\u957f\u65f6\u95f4\uff09\u7684\u6570\u636e\u3002 RDB \u6bcf\u6b21\u5728 fork \u5b50\u8fdb\u7a0b\u6765\u6267\u884c RDB \u5feb\u7167\u6570\u636e\u6587\u4ef6\u751f\u6210\u7684\u65f6\u5019\uff0c\u5982\u679c\u6570\u636e\u6587\u4ef6\u7279\u522b\u5927\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5bf9\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u670d\u52a1\u6682\u505c\u6570\u6beb\u79d2\uff0c\u6216\u8005\u751a\u81f3\u6570\u79d2\u3002 AOF \u673a\u5236\u5bf9\u6bcf\u6761\u5199\u5165\u547d\u4ee4\u4f5c\u4e3a\u65e5\u5fd7\uff0c\u4ee5 append-only \u7684\u6a21\u5f0f\u5199\u5165\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\u4e2d\uff0c\u5728 Redis \u91cd\u542f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u56de\u653e AOF \u65e5\u5fd7\u4e2d\u7684\u5199\u5165\u6307\u4ee4\u6765\u91cd\u65b0\u6784\u5efa\u6574\u4e2a\u6570\u636e\u96c6\u3002 AOF \u53ef\u4ee5\u66f4\u597d\u7684\u4fdd\u62a4\u6570\u636e\u4e0d\u4e22\u5931\uff0c\u4e00\u822c AOF \u4f1a\u6bcf\u9694 1 \u79d2\uff0c\u901a\u8fc7\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\u6267\u884c\u4e00\u6b21 fsync \u64cd\u4f5c\uff0c\u6700\u591a\u4e22\u5931 1 \u79d2\u949f\u7684\u6570\u636e\u3002 AOF \u65e5\u5fd7\u6587\u4ef6\u4ee5 append-only \u6a21\u5f0f\u5199\u5165\uff0c\u6240\u4ee5\u6ca1\u6709\u4efb\u4f55\u78c1\u76d8\u5bfb\u5740\u7684\u5f00\u9500\uff0c\u5199\u5165\u6027\u80fd\u975e\u5e38\u9ad8\uff0c\u800c\u4e14\u6587\u4ef6\u4e0d\u5bb9\u6613\u7834\u635f\uff0c\u5373\u4f7f\u6587\u4ef6\u5c3e\u90e8\u7834\u635f\uff0c\u4e5f\u5f88\u5bb9\u6613\u4fee\u590d\u3002 AOF \u65e5\u5fd7\u6587\u4ef6\u5373\u4f7f\u8fc7\u5927\u7684\u65f6\u5019\uff0c\u51fa\u73b0\u540e\u53f0\u91cd\u5199\u64cd\u4f5c\uff0c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5ba2\u6237\u7aef\u7684\u8bfb\u5199\u3002\u56e0\u4e3a\u5728 rewrite log \u7684\u65f6\u5019\uff0c\u4f1a\u5bf9\u5176\u4e2d\u7684\u6307\u4ee4\u8fdb\u884c\u538b\u7f29\uff0c\u521b\u5efa\u51fa\u4e00\u4efd\u9700\u8981\u6062\u590d\u6570\u636e\u7684\u6700\u5c0f\u65e5\u5fd7\u51fa\u6765\u3002\u5728\u521b\u5efa\u65b0\u65e5\u5fd7\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u8001\u7684\u65e5\u5fd7\u6587\u4ef6\u8fd8\u662f\u7167\u5e38\u5199\u5165\u3002\u5f53\u65b0\u7684 merge \u540e\u7684\u65e5\u5fd7\u6587\u4ef6 ready \u7684\u65f6\u5019\uff0c\u518d\u4ea4\u6362\u65b0\u8001\u65e5\u5fd7\u6587\u4ef6\u5373\u53ef\u3002 AOF \u65e5\u5fd7\u6587\u4ef6\u7684\u547d\u4ee4\u901a\u8fc7\u53ef\u8bfb\u8f83\u5f3a\u7684\u65b9\u5f0f\u8fdb\u884c\u8bb0\u5f55\uff0c\u8fd9\u4e2a\u7279\u6027\u975e\u5e38\u9002\u5408\u505a\u707e\u96be\u6027\u7684\u8bef\u5220\u9664\u7684\u7d27\u6025\u6062\u590d\u3002\u6bd4\u5982\u67d0\u4eba\u4e0d\u5c0f\u5fc3\u7528 flushall \u547d\u4ee4\u6e05\u7a7a\u4e86\u6240\u6709\u6570\u636e\uff0c\u53ea\u8981\u8fd9\u4e2a\u65f6\u5019\u540e\u53f0 rewrite \u8fd8\u6ca1\u6709\u53d1\u751f\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7acb\u5373\u62f7\u8d1d AOF \u6587\u4ef6\uff0c\u5c06\u6700\u540e\u4e00\u6761 flushall \u547d\u4ee4\u7ed9\u5220\u4e86\uff0c\u7136\u540e\u518d\u5c06\u8be5 AOF \u6587\u4ef6\u653e\u56de\u53bb\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u6062\u590d\u673a\u5236\uff0c\u81ea\u52a8\u6062\u590d\u6240\u6709\u6570\u636e\u3002 \u5bf9\u4e8e\u540c\u4e00\u4efd\u6570\u636e\u6765\u8bf4\uff0cAOF \u65e5\u5fd7\u6587\u4ef6\u901a\u5e38\u6bd4 RDB \u6570\u636e\u5feb\u7167\u6587\u4ef6\u66f4\u5927\u3002 AOF \u5f00\u542f\u540e\uff0c\u652f\u6301\u7684\u5199 QPS \u4f1a\u6bd4 RDB \u652f\u6301\u7684\u5199 QPS \u4f4e\uff0c\u56e0\u4e3a AOF \u4e00\u822c\u4f1a\u914d\u7f6e\u6210\u6bcf\u79d2 fsync \u4e00\u6b21\u65e5\u5fd7\u6587\u4ef6\uff0c\u5f53\u7136\uff0c\u6bcf\u79d2\u4e00\u6b21 fsync \uff0c\u6027\u80fd\u4e5f\u8fd8\u662f\u5f88\u9ad8\u7684\u3002\uff08\u5982\u679c\u5b9e\u65f6\u5199\u5165\uff0c\u90a3\u4e48 QPS \u4f1a\u5927\u964d\uff0cRedis \u6027\u80fd\u4f1a\u5927\u5927\u964d\u4f4e\uff09\u3002 \u4ee5\u524d AOF \u53d1\u751f\u8fc7 bug\uff0c\u5c31\u662f\u901a\u8fc7 AOF \u8bb0\u5f55\u7684\u65e5\u5fd7\uff0c\u8fdb\u884c\u6570\u636e\u6062\u590d\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u6062\u590d\u4e00\u6a21\u4e00\u6837\u7684\u6570\u636e\u51fa\u6765\u3002\u6240\u4ee5\u8bf4\uff0c\u7c7b\u4f3c AOF \u8fd9\u79cd\u8f83\u4e3a\u590d\u6742\u7684\u57fa\u4e8e\u547d\u4ee4\u65e5\u5fd7 merge \u56de\u653e\u7684\u65b9\u5f0f\uff0c\u6bd4\u57fa\u4e8e RDB \u6bcf\u6b21\u6301\u4e45\u5316\u4e00\u4efd\u5b8c\u6574\u7684\u6570\u636e\u5feb\u7167\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u66f4\u52a0\u8106\u5f31\u4e00\u4e9b\uff0c\u5bb9\u6613\u6709 bug\u3002\u4e0d\u8fc7 AOF \u5c31\u662f\u4e3a\u4e86\u907f\u514d rewrite \u8fc7\u7a0b\u5bfc\u81f4\u7684 bug\uff0c\u56e0\u6b64\u6bcf\u6b21 rewrite \u5e76\u4e0d\u662f\u57fa\u4e8e\u65e7\u7684\u6307\u4ee4\u65e5\u5fd7\u8fdb\u884c merge \u7684\uff0c\u800c\u662f\u57fa\u4e8e\u5f53\u65f6\u5185\u5b58\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u6307\u4ee4\u7684\u91cd\u65b0\u6784\u5efa\uff0c\u8fd9\u6837\u5065\u58ee\u6027\u4f1a\u597d\u5f88\u591a\u3002 RDB \u548c AOF \u5230\u5e95\u8be5\u5982\u4f55\u9009\u62e9 \u4e0d\u8981\u4ec5\u4ec5\u4f7f\u7528 RDB\uff0c\u56e0\u4e3a\u90a3\u6837\u4f1a\u5bfc\u81f4\u4f60\u4e22\u5931\u5f88\u591a\u6570\u636e\uff1b \u4e5f\u4e0d\u8981\u4ec5\u4ec5\u4f7f\u7528 AOF\uff0c\u56e0\u4e3a\u90a3\u6837\u6709\u4e24\u4e2a\u95ee\u9898\uff1a\u7b2c\u4e00\uff0c\u4f60\u901a\u8fc7 AOF \u505a\u51b7\u5907\uff0c\u6ca1\u6709 RDB \u505a\u51b7\u5907\u6765\u7684\u6062\u590d\u901f\u5ea6\u66f4\u5feb\uff1b\u7b2c\u4e8c\uff0cRDB \u6bcf\u6b21\u7b80\u5355\u7c97\u66b4\u751f\u6210\u6570\u636e\u5feb\u7167\uff0c\u66f4\u52a0\u5065\u58ee\uff0c\u53ef\u4ee5\u907f\u514d AOF \u8fd9\u79cd\u590d\u6742\u7684\u5907\u4efd\u548c\u6062\u590d\u673a\u5236\u7684 bug\uff1b Redis \u652f\u6301\u540c\u65f6\u5f00\u542f\u5f00\u542f\u4e24\u79cd\u6301\u4e45\u5316\u65b9\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u7efc\u5408\u4f7f\u7528 AOF \u548c RDB \u4e24\u79cd\u6301\u4e45\u5316\u673a\u5236\uff0c\u7528 AOF \u6765\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u5931\uff0c\u4f5c\u4e3a\u6570\u636e\u6062\u590d\u7684\u7b2c\u4e00\u9009\u62e9\uff1b\u7528 RDB \u6765\u505a\u4e0d\u540c\u7a0b\u5ea6\u7684\u51b7\u5907\uff0c\u5728 AOF \u6587\u4ef6\u90fd\u4e22\u5931\u6216\u635f\u574f\u4e0d\u53ef\u7528\u7684\u65f6\u5019\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 RDB \u6765\u8fdb\u884c\u5feb\u901f\u7684\u6570\u636e\u6062\u590d\u3002 \u5404\u79cd\u642d\u5efa \u5355\u8282\u70b9 \u914d\u7f6e\u6587\u4ef6single.conf #RDB\u6301\u4e45\u5316\u914d\u7f6e #\u5728300\u79d2(5\u5206\u949f)\u4e4b\u540e\uff0c\u5982\u679c\u81f3\u5c11\u670910\u4e2akey\u53d1\u751f\u53d8\u5316\uff0c\u5219dump\u5185\u5b58\u5feb\u7167\u3002 save 300 10 #\u538b\u7f29 rdbcompression yes #AOF\u6301\u4e45\u5316\u914d\u7f6e ## \u53ea\u6709\u5728\u201cyes\u201d\u4e0b\uff0caof\u91cd\u5199/\u6587\u4ef6\u540c\u6b65\u7b49\u7279\u6027\u624d\u4f1a\u751f\u6548 appendonly yes #\u6bcf\u79d2\u949f\u540c\u6b65\u4e00\u6b21\uff0c\u8be5\u7b56\u7565\u4e3aAOF\u7684\u7f3a\u7701\u7b56\u7565\u3002 appendfsync everysec ## \u6307\u5b9aaof\u6587\u4ef6\u540d\u79f0 appendfilename appendonly.aof #\u6570\u636e\u6587\u4ef6\u5939 dir /data #\u8bbe\u7f6e\u8bbf\u95ee\u5bc6\u7801 requirepass yourpassword #\u5141\u8bb8\u5916\u7f51\u8bbf\u95ee\uff08\u76d1\u542c0.0.0.0\uff09\uff0c\uff08\u5728\u6ca1\u6709\u8bbe\u7f6e\u5bc6\u7801\u4e14\u6ca1\u6709\u8bbe\u7f6ebind ip\u65f6\u5019\u9ed8\u8ba4\u5f00\u542f\u53ea\u76d1\u542c127.0.0.1\uff09 protected-mode no \u5bb9\u5668\u65b9\u5f0f\u542f\u52a8 mkdir data docker run -it --restart=always -p 6379:6379 --name redis -v `pwd`/data:/data -v `pwd`/single.conf:/etc/redis.conf redis redis-server /etc/redis.conf \u96c6\u7fa4\u65b9\u5f0f Redis\u7684\u96c6\u7fa4\u4e0d\u652f\u6301nat\u7c7b\u578b\u7684\u7f51\u7edc\uff0c\u6240\u4ee5\u4f7f\u7528\u5bb9\u5668\u642d\u5efa\u7684\u8bdd\u9700\u8981\u7528\u4e3b\u673a\u7f51\u7edc\u7684\u65b9\u5f0f\u63a5\u5165 --net host Redis\u955c\u50cf\u7248\u672c>5\u5efa\u8bae\u76f4\u63a5\u4f7f\u7528\u6700\u65b0\u7248\u672c\u955c\u50cf \u96c6\u7fa4\u4f9d\u8d56\u4e24\u4e2atcp\u7aef\u53e3\u9ed8\u8ba4\u4e3ax=6379 y=x+10000=16379 \u5982\u679c\u4f7f\u7528\u9632\u706b\u5899\u9700\u8981\u6ce8\u610f\u5f00\u542f\u8fd9\u4e24\u4e2a\u7aef\u53e3\u7684\u51fa\u5165\u6808\u89c4\u5219\u3002 \u914d\u7f6e\u6587\u4ef6cluster.conf #\u542f\u7528\u96c6\u7fa4\u6a21\u5f0f cluster-enabled yes #\u96c6\u7fa4\u81ea\u52a8\u914d\u7f6e\u6587\u4ef6\uff08\u975e\u7528\u6237\u81ea\u5b9a\u4e49\u800c\u662f\u96c6\u7fa4\u81ea\u5df1\u4f7f\u7528\u7684\uff09 cluster-config-file cluster.conf #\u96c6\u7fa4\u8282\u70b9\u6700\u5927\u8d85\u65f6\u65f6\u95f4\u5355\u4f4d\u4e3a\u6beb\u79d2\uff0c\u5982\u67d0\u4e2a\u8282\u70b910\u79d2\u6ca1\u54cd\u5e94\u5c06\u89c6\u4e3a\u6389\u7ebf cluster-node-timeout 10000 #\u526f\u672c\u8282\u70b9\u6709\u6548\u6027\u6821\u9a8c\u56e0\u5b50\uff08\u7ed3\u5408\u8282\u70b9\u8d85\u65f6\u65f6\u95f4\u4f7f\u7528\uff0c\u5f53\u8282\u70b9\u4e0e\u4e3b\u8282\u70b9\u4e0a\u6b21\u540c\u6b65\u65f6\u95f4>(\u8282\u70b9\u8d85\u65f6\u65f6\u95f4*\u6821\u9a8c\u56e0\u5b50)\u540e\u8ba4\u4e3a\u6b64\u5907\u4efd\u65e0\u6548\uff0c\u4e0d\u53c2\u4e0e\u4e3b\u8282\u70b9\u6545\u969c\u8f6c\u79fb cluster-slave-validity-factor 10 #\u4e3b\u8282\u70b9\u5c06\u4fdd\u6301\u8fde\u63a5\u7684\u6700\u5c0f\u526f\u672c\u6570 cluster-migration-barrier 3 #\u5982\u679c\u5c06\u5176\u8bbe\u7f6e\u4e3a yes\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4efb\u4f55\u8282\u70b9\u672a\u8986\u76d6\u4e00\u5b9a\u767e\u5206\u6bd4\u7684\u5bc6\u94a5\u7a7a\u95f4\uff0c\u5219\u96c6\u7fa4\u5c06\u505c\u6b62\u63a5\u53d7\u5199\u5165\u3002 #\u5982\u679c\u8be5\u9009\u9879\u8bbe\u7f6e\u4e3a no\uff0c\u5373\u4f7f\u53ea\u80fd\u5904\u7406\u6709\u5173\u5bc6\u94a5\u5b50\u96c6\u7684\u8bf7\u6c42\uff0c\u96c6\u7fa4\u4ecd\u5c06\u63d0\u4f9b\u67e5\u8be2\u670d\u52a1\u3002 cluster-require-full-coverage no #\u5982\u679c\u8bbe\u7f6e\u4e3a no\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53\u96c6\u7fa4\u88ab\u6807\u8bb0\u4e3a\u5931\u8d25\u65f6\uff0cRedis \u96c6\u7fa4\u4e2d\u7684\u8282\u70b9\u5c06\u505c\u6b62\u670d\u52a1\u6240\u6709\u6d41\u91cf\uff0c\u6216\u8005\u5f53\u8282\u70b9\u65e0\u6cd5\u8bbf\u95ee\u65f6\u8fbe\u5230\u6cd5\u5b9a\u4eba\u6570\u6216\u672a\u8fbe\u5230\u5b8c\u5168\u8986\u76d6\u65f6\u3002\u8fd9\u53ef\u4ee5\u9632\u6b62\u4ece\u4e0d\u77e5\u9053\u96c6\u7fa4\u4e2d\u7684\u53d8\u5316\u7684\u8282\u70b9\u8bfb\u53d6\u53ef\u80fd\u4e0d\u4e00\u81f4\u7684\u6570\u636e\u3002\u53ef\u4ee5\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a yes \u4ee5\u5141\u8bb8\u5728\u5931\u8d25\u72b6\u6001\u671f\u95f4\u4ece\u8282\u70b9\u8bfb\u53d6\uff0c\u8fd9\u5bf9\u4e8e\u5e0c\u671b\u4f18\u5148\u8003\u8651\u8bfb\u53d6\u53ef\u7528\u6027\u4f46\u4ecd\u5e0c\u671b\u9632\u6b62\u4e0d\u4e00\u81f4\u5199\u5165\u7684\u5e94\u7528\u7a0b\u5e8f\u975e\u5e38\u6709\u7528\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u4e8e\u4f7f\u7528\u53ea\u6709\u4e00\u4e2a\u6216\u4e24\u4e2a\u5206\u7247\u7684 Redis Cluster \u65f6\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u8282\u70b9\u5728\u4e3b\u8282\u70b9\u53d1\u751f\u6545\u969c\u4f46\u65e0\u6cd5\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u65f6\u7ee7\u7eed\u63d0\u4f9b\u5199\u5165\u670d\u52a1\u3002 cluster-allow-reads-when-down yes requirepass yourpassword #\u4ece\u8282\u70b9\u8fde\u63a5\u4e3b\u8282\u70b9\u7684\u5bc6\u7801 masterauth yourpassword #\u4fdd\u5b58\u7684\u95f4\u9694\u65f6\u95f4\u548c\u81f3\u5c11\u53d8\u52a8key\u6570 save 600 10 #\u6328\u4e2a\u542f\u52a8\u6bcf\u4e2a\u8282\u70b9\uff08\u9700\u8981\u63d0\u524d\u5c06\u914d\u7f6e\u6587\u4ef6\u4ee5\u53ca\u5b58\u50a8\u8def\u5f84\u521b\u5efa\u597d\uff09\uff0c\u6211\u4eec\u5efa\u7acb6\u4e2a\u8282\u70b9\uff0c\u5176\u4e2d3\u4e2a\u505a\u4e3a\u4e3b\u8282\u70b9\uff08\u5b58\u6570\u636e\uff09\uff0c\u4e09\u4e2a\u4f5c\u4e3a\u4ece\u8282\u70b9\uff0c\u6570\u636e\u57283\u4e2a\u4e3b\u8282\u70b9\u4e4b\u95f4\u5747\u5206\uff08\u4fbf\u4e8e\uff09 docker run -itd --name redis1 --restart=always --net host -v `pwd`/data:/data -v `pwd`/cluster.conf:/etc/redis.conf -p 6379:6379 redis redis-server /etc/redis.conf #\u521b\u5efa\u5176\u4ed6\u8282\u70b9\u2026\u2026 #\u8fdb\u5165\u8282\u70b9\u51c6\u5907\u5efa\u7acb\u96c6\u7fa4\u8fde\u63a5 docker exec -it redis1 bash #\u96c6\u7fa4\u8fde\u63a5\u4e0d\u652f\u6301\u4e3b\u673a\u540d\uff0c\u53ea\u80fd\u4f7f\u7528ip\uff0c\u6240\u4ee5\u6bcf\u4e2a\u8282\u70b9\u7684ip\u5730\u5740\u9700\u8981\u56fa\u5b9a redis-cli -a yourpassword --cluster create 172.21.0.2:6379 172.21.0.3:6379 172.21.0.4:6379 172.21.0.5:6379 172.21.0.6:6379 172.21.0.7:6379 --cluster-replicas 1 #\u8f93\u5165yes\u8fdb\u884c\u786e\u8ba4 #\u8f93\u51fa [OK] All nodes agree about slots configuration. >>> Check for open slots... >>> Check slots coverage... [OK] All 16384 slots covered. #\u5176\u4ed6\u5e38\u7528\u96c6\u7fa4\u547d\u4ee4 #fix\u547d\u4ee4\u6765\u4fee\u590d\u96c6\u7fa4\uff0c\u4ee5\u4fbf\u6839\u636e\u6bcf\u4e2a\u8282\u70b9\u662f\u5426\u5177\u6709\u6743\u5a01\u6027\u7684\u54c8\u5e0c\u69fd\u6765\u8fc1\u79fb\u5bc6\u94a5\u3002 redis-cli -a yourpassword --cluster fix 172.21.0.2:6379 #check\u68c0\u67e5\u96c6\u7fa4\u72b6\u6001 redis-cli -a yourpassword --cluster check 172.21.0.2:6379 #\u6dfb\u52a0\u4e3b\u8282\u70b9add-node\u540e\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u65b0\u8282\u70b9\u7684ip\u548c\u7aef\u53e3\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u73b0\u6709\u96c6\u7fa4\u4e2d\u7684\u4efb\u610f\u4e00\u4e2aip\u548c\u7aef\u53e3 redis-cli -a yourpassword --cluster add-node 172.21.0.8:6379 172.21.0.2:6379 #\u6dfb\u52a0\u4ece\u8282\u70b9\uff08\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0--cluster-master-id \u5bf9\u5e94\u7684\u4e3b\u8282\u70b9id\uff09\u6765\u6307\u5b9a\u5176\u6210\u4e3a\u7279\u5b9a\u8282\u70b9\u7684\u526f\u672c\uff0c\u5177\u4f53\u8282\u70b9id\u53ef\u4ee5\u5728\u8282\u70b9\u914d\u7f6e\u6587\u4ef6\uff08\u81ea\u52a8\uff09\u4e2d\u83b7\u53d6\u5230 redis-cli -a yourpassword --cluster add-node 172.21.0.9:6379 172.21.0.2:6379 --cluster-slave #\u5220\u9664\u8282\u70b9del-node\u540e\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u96c6\u7fa4\u4e2d\u4efb\u610f\u4e00\u4e2a\u8282\u70b9ip\u548c\u7aef\u53e3\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u8981\u5220\u9664\u7684\u8282\u70b9id redis-cli -a yourpassword --cluster del-node 127.0.0.1:7000 `<node-id>` \u5e38\u7528\u914d\u7f6e #\u96c6\u7fa4\u4f7f\u7528 \u5f00\u59cb #\u65e0\u78c1\u76d8\u5316\u590d\u5236master \u5728\u5185\u5b58\u4e2d\u76f4\u63a5\u521b\u5efa RDB \uff0c\u7136\u540e\u53d1\u9001\u7ed9 slave\uff0c\u4e0d\u4f1a\u5728\u81ea\u5df1\u672c\u5730\u843d\u5730\u78c1\u76d8 repl-diskless-sync yes # \u7b49\u5f85 5s \u540e\u518d\u5f00\u59cb\u590d\u5236\uff0c\u56e0\u4e3a\u8981\u7b49\u66f4\u591a slave \u91cd\u65b0\u8fde\u63a5\u8fc7\u6765 repl-diskless-sync-delay 5 #\u8981\u6c42\u81f3\u5c11\u6709 1 \u4e2a slave\u5b8c\u6210\u5199\u5165 min-slaves-to-write 1 #\u6570\u636e\u590d\u5236\u548c\u540c\u6b65\u7684\u5ef6\u8fdf\u4e0d\u80fd\u8d85\u8fc7 10 \u79d2\uff0c\u5982\u679c\u8bf4\u4e00\u65e6\u6240\u6709\u7684 slave\uff0c\u6570\u636e\u590d\u5236\u548c\u540c\u6b65\u7684\u5ef6\u8fdf\u90fd\u8d85\u8fc7\u4e86 10 \u79d2\u949f\uff0c\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\uff0cmaster \u5c31\u4e0d\u4f1a\u518d\u63a5\u6536\u4efb\u4f55\u8bf7\u6c42\u4e86\u3002 min-slaves-max-lag 10 #\u96c6\u7fa4\u4f7f\u7528 \u7ed3\u675f #\u65e5\u5fd7\u914d\u7f6e loglevel warning","title":"Redis\u96c6\u7fa4\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#redis","text":"","title":"Redis\u96c6\u7fa4\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#redis_1","text":"","title":"Redis\u5e38\u89c1\u95ee\u9898"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_1","text":"\u5bf9\u4e8e\u7cfb\u7edf A\uff0c\u5047\u8bbe\u6bcf\u5929\u9ad8\u5cf0\u671f\u6bcf\u79d2 5000 \u4e2a\u8bf7\u6c42\uff0c\u672c\u6765\u7f13\u5b58\u5728\u9ad8\u5cf0\u671f\u53ef\u4ee5\u625b\u4f4f\u6bcf\u79d2 4000 \u4e2a\u8bf7\u6c42\uff0c\u4f46\u662f\u7f13\u5b58\u673a\u5668\u610f\u5916\u53d1\u751f\u4e86\u5168\u76d8\u5b95\u673a\u3002\u7f13\u5b58\u6302\u4e86\uff0c\u6b64\u65f6 1 \u79d2 5000 \u4e2a\u8bf7\u6c42\u5168\u90e8\u843d\u6570\u636e\u5e93\uff0c\u6570\u636e\u5e93\u5fc5\u7136\u625b\u4e0d\u4f4f\uff0c\u5b83\u4f1a\u62a5\u4e00\u4e0b\u8b66\uff0c\u7136\u540e\u5c31\u6302\u4e86\u3002\u6b64\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u91c7\u7528\u4ec0\u4e48\u7279\u522b\u7684\u65b9\u6848\u6765\u5904\u7406\u8fd9\u4e2a\u6545\u969c\uff0cDBA \u5f88\u7740\u6025\uff0c\u91cd\u542f\u6570\u636e\u5e93\uff0c\u4f46\u662f\u6570\u636e\u5e93\u7acb\u9a6c\u53c8\u88ab\u65b0\u7684\u6d41\u91cf\u7ed9\u6253\u6b7b\u4e86\u3002\u8fd9\u5c31\u662f\u7f13\u5b58\u96ea\u5d29\u3002","title":"\u7f13\u5b58\u96ea\u5d29"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_2","text":"\u4e8b\u524d\uff1aRedis \u9ad8\u53ef\u7528\uff0c\u4e3b\u4ece+\u54e8\u5175\uff0cRedis cluster\uff0c\u907f\u514d\u5168\u76d8\u5d29\u6e83\u3002 \u4e8b\u4e2d\uff1a\u672c\u5730 ehcache \u7f13\u5b58 + hystrix \u9650\u6d41&\u964d\u7ea7\uff0c\u907f\u514d MySQL \u88ab\u6253\u6b7b\u3002 \u4e8b\u540e\uff1aRedis \u6301\u4e45\u5316\uff0c\u4e00\u65e6\u91cd\u542f\uff0c\u81ea\u52a8\u4ece\u78c1\u76d8\u4e0a\u52a0\u8f7d\u6570\u636e\uff0c\u5feb\u901f\u6062\u590d\u7f13\u5b58\u6570\u636e\u3002","title":"\u89e3\u51b3\u529e\u6cd5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_3","text":"\u5bf9\u4e8e\u7cfb\u7edf A\uff0c\u5047\u8bbe\u4e00\u79d2 5000 \u4e2a\u8bf7\u6c42\uff0c\u7ed3\u679c\u5176\u4e2d 4000 \u4e2a\u8bf7\u6c42\u662f\u9ed1\u5ba2\u53d1\u51fa\u7684\u6076\u610f\u653b\u51fb\u3002\u9ed1\u5ba2\u53d1\u51fa\u7684\u90a3 4000 \u4e2a\u653b\u51fb\uff0c\u7f13\u5b58\u4e2d\u67e5\u4e0d\u5230\uff0c\u6bcf\u6b21\u4f60\u53bb\u6570\u636e\u5e93\u91cc\u67e5\uff0c\u4e5f\u67e5\u4e0d\u5230\u3002\u4e3e\u4e2a\u6817\u5b50\u3002\u6570\u636e\u5e93 id \u662f\u4ece 1 \u5f00\u59cb\u7684\uff0c\u7ed3\u679c\u9ed1\u5ba2\u53d1\u8fc7\u6765\u7684\u8bf7\u6c42 id \u5168\u90e8\u90fd\u662f\u8d1f\u6570\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u7f13\u5b58\u4e2d\u4e0d\u4f1a\u6709\uff0c\u8bf7\u6c42\u6bcf\u6b21\u90fd\u201c \u89c6\u7f13\u5b58\u4e8e\u65e0\u7269 \u201d\uff0c\u76f4\u63a5\u67e5\u8be2\u6570\u636e\u5e93\u3002\u8fd9\u79cd\u6076\u610f\u653b\u51fb\u573a\u666f\u7684\u7f13\u5b58\u7a7f\u900f\u5c31\u4f1a\u76f4\u63a5\u628a\u6570\u636e\u5e93\u7ed9\u6253\u6b7b\u3002","title":"\u7f13\u5b58\u7a7f\u900f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_4","text":"\u8bf7\u6c42\u6570\u636e\u7684 key \u4e0d\u5b58\u5728\u4e8e\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\uff0c\u53ef\u4ee5\u786e\u5b9a\u6570\u636e\u5c31\u4e00\u5b9a\u4e0d\u4f1a\u5b58\u5728\u4e8e\u6570\u636e\u5e93\u4e2d\uff0c\u7cfb\u7edf\u53ef\u4ee5\u7acb\u5373\u8fd4\u56de\u4e0d\u5b58\u5728\u3002 \u8bf7\u6c42\u6570\u636e\u7684 key \u5b58\u5728\u4e8e\u5e03\u9686\u8fc7\u6ee4\u5668\u4e2d\uff0c\u5219\u7ee7\u7eed\u518d\u5411\u7f13\u5b58\u4e2d\u67e5\u8be2\u3002","title":"\u89e3\u51b3\u529e\u6cd5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_5","text":"\u7f13\u5b58\u51fb\u7a7f\uff0c\u5c31\u662f\u8bf4\u67d0\u4e2a key \u975e\u5e38\u70ed\u70b9\uff0c\u8bbf\u95ee\u975e\u5e38\u9891\u7e41\uff0c\u5904\u4e8e\u96c6\u4e2d\u5f0f\u9ad8\u5e76\u53d1\u8bbf\u95ee\u7684\u60c5\u51b5\uff0c\u5f53\u8fd9\u4e2a key \u5728\u5931\u6548\u7684\u77ac\u95f4\uff0c\u5927\u91cf\u7684\u8bf7\u6c42\u5c31\u51fb\u7a7f\u4e86\u7f13\u5b58\uff0c\u76f4\u63a5\u8bf7\u6c42\u6570\u636e\u5e93\uff0c\u5c31\u50cf\u662f\u5728\u4e00\u9053\u5c4f\u969c\u4e0a\u51ff\u5f00\u4e86\u4e00\u4e2a\u6d1e\u3002","title":"\u7f13\u5b58\u51fb\u7a7f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_6","text":"\u82e5\u7f13\u5b58\u7684\u6570\u636e\u662f\u57fa\u672c\u4e0d\u4f1a\u53d1\u751f\u66f4\u65b0\u7684\uff0c\u5219\u53ef\u5c1d\u8bd5\u5c06\u8be5\u70ed\u70b9\u6570\u636e\u8bbe\u7f6e\u4e3a\u6c38\u4e0d\u8fc7\u671f\u3002 \u82e5\u7f13\u5b58\u7684\u6570\u636e\u66f4\u65b0\u4e0d\u9891\u7e41\uff0c\u4e14\u7f13\u5b58\u5237\u65b0\u7684\u6574\u4e2a\u6d41\u7a0b\u8017\u65f6\u8f83\u5c11\u7684\u60c5\u51b5\u4e0b\uff0c\u5219\u53ef\u4ee5\u91c7\u7528\u57fa\u4e8e Redis\u3001zookeeper \u7b49\u5206\u5e03\u5f0f\u4e2d\u95f4\u4ef6\u7684\u5206\u5e03\u5f0f\u4e92\u65a5\u9501\uff0c\u6216\u8005\u672c\u5730\u4e92\u65a5\u9501\u4ee5\u4fdd\u8bc1\u4ec5\u5c11\u91cf\u7684\u8bf7\u6c42\u80fd\u8bf7\u6c42\u6570\u636e\u5e93\u5e76\u91cd\u65b0\u6784\u5efa\u7f13\u5b58\uff0c\u5176\u4f59\u7ebf\u7a0b\u5219\u5728\u9501\u91ca\u653e\u540e\u80fd\u8bbf\u95ee\u5230\u65b0\u7f13\u5b58\u3002 \u82e5\u7f13\u5b58\u7684\u6570\u636e\u66f4\u65b0\u9891\u7e41\u6216\u8005\u5728\u7f13\u5b58\u5237\u65b0\u7684\u6d41\u7a0b\u8017\u65f6\u8f83\u957f\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5229\u7528\u5b9a\u65f6\u7ebf\u7a0b\u5728\u7f13\u5b58\u8fc7\u671f\u524d\u4e3b\u52a8\u5730\u91cd\u65b0\u6784\u5efa\u7f13\u5b58\u6216\u8005\u5ef6\u540e\u7f13\u5b58\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u4fdd\u8bc1\u6240\u6709\u7684\u8bf7\u6c42\u80fd\u4e00\u76f4\u8bbf\u95ee\u5230\u5bf9\u5e94\u7684\u7f13\u5b58\u3002","title":"\u89e3\u51b3\u529e\u6cd5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_7","text":"\u751f\u4ea7\u73af\u5883\u4e2d\u7981\u6b62\u4f7f\u7528save\u547d\u4ee4\u624b\u5de5\u4fdd\u5b58\u6570\u636e\uff0c\u5982\u679c\u9700\u8981\u624b\u5de5\u4fdd\u5b58\u6570\u636e\u8bf7\u4f7f\u7528bgsave\u3002 \u751f\u4ea7\u73af\u5883\u4e2d\u5fc5\u987b\u8bbe\u7f6e\u8bbf\u95ee\u5bc6\u7801\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_8","text":"\u5355\u673a\u7684 Redis\uff0c\u80fd\u591f\u627f\u8f7d\u7684 QPS \u5927\u6982\u5c31\u5728\u4e0a\u4e07\u5230\u51e0\u4e07\u4e0d\u7b49\u3002\u5bf9\u4e8e\u7f13\u5b58\u6765\u8bf4\uff0c\u4e00\u822c\u90fd\u662f\u7528\u6765\u652f\u6491\u8bfb\u9ad8\u5e76\u53d1\u7684\u3002\u56e0\u6b64\u67b6\u6784\u505a\u6210\u4e3b\u4ece(master-slave)\u67b6\u6784\uff0c\u4e00\u4e3b\u591a\u4ece\uff0c\u4e3b\u8d1f\u8d23\u5199\uff0c\u5e76\u4e14\u5c06\u6570\u636e\u590d\u5236\u5230\u5176\u5b83\u7684 slave \u8282\u70b9\uff0c\u4ece\u8282\u70b9\u8d1f\u8d23\u8bfb\u3002\u6240\u6709\u7684\u8bfb\u8bf7\u6c42\u5168\u90e8\u8d70\u4ece\u8282\u70b9\u3002\u8fd9\u6837\u4e5f\u53ef\u4ee5\u5f88\u8f7b\u677e\u5b9e\u73b0\u6c34\u5e73\u6269\u5bb9\uff0c\u652f\u6491\u8bfb\u9ad8\u5e76\u53d1\u3002 Redis replication -> \u4e3b\u4ece\u67b6\u6784 -> \u8bfb\u5199\u5206\u79bb -> \u6c34\u5e73\u6269\u5bb9\u652f\u6491\u8bfb\u9ad8\u5e76\u53d1\u3002","title":"\u5355\u8282\u70b9\u6027\u80fd\u8bf4\u660e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#redis_2","text":"Redis \u91c7\u7528 \u5f02\u6b65\u65b9\u5f0f \u590d\u5236\u6570\u636e\u5230 slave \u8282\u70b9\uff0c\u4e0d\u8fc7 Redis2.8 \u5f00\u59cb\uff0cslave node \u4f1a\u5468\u671f\u6027\u5730\u786e\u8ba4\u81ea\u5df1\u6bcf\u6b21\u590d\u5236\u7684\u6570\u636e\u91cf\uff1b \u4e00\u4e2a master node \u662f\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a slave node \u7684\uff1b slave node \u4e5f\u53ef\u4ee5\u8fde\u63a5\u5176\u4ed6\u7684 slave node\uff1b slave node \u505a\u590d\u5236\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a block master node \u7684\u6b63\u5e38\u5de5\u4f5c\uff1b slave node \u5728\u505a\u590d\u5236\u7684\u65f6\u5019\uff0c\u4e5f\u4e0d\u4f1a block \u5bf9\u81ea\u5df1\u7684\u67e5\u8be2\u64cd\u4f5c\uff0c\u5b83\u4f1a\u7528\u65e7\u7684\u6570\u636e\u96c6\u6765\u63d0\u4f9b\u670d\u52a1\uff1b\u4f46\u662f\u590d\u5236\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u9700\u8981\u5220\u9664\u65e7\u6570\u636e\u96c6\uff0c\u52a0\u8f7d\u65b0\u6570\u636e\u96c6\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u4f1a\u6682\u505c\u5bf9\u5916\u670d\u52a1\u4e86\uff1b slave node \u4e3b\u8981\u7528\u6765\u8fdb\u884c\u6a2a\u5411\u6269\u5bb9\uff0c\u505a\u8bfb\u5199\u5206\u79bb\uff0c\u6269\u5bb9\u7684 slave node \u53ef\u4ee5\u63d0\u9ad8\u8bfb\u7684\u541e\u5410\u91cf\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u91c7\u7528\u4e86\u4e3b\u4ece\u67b6\u6784\uff0c\u90a3\u4e48\u5efa\u8bae\u5fc5\u987b\u5f00\u542f master node \u7684 \u6301\u4e45\u5316 \uff0c\u4e0d\u5efa\u8bae\u7528 slave node \u4f5c\u4e3a master node \u7684\u6570\u636e\u70ed\u5907\uff0c\u56e0\u4e3a\u90a3\u6837\u7684\u8bdd\uff0c\u5982\u679c\u4f60\u5173\u6389 master \u7684\u6301\u4e45\u5316\uff0c\u53ef\u80fd\u5728 master \u5b95\u673a\u91cd\u542f\u7684\u65f6\u5019\u6570\u636e\u662f\u7a7a\u7684\uff0c\u7136\u540e\u53ef\u80fd\u4e00\u7ecf\u8fc7\u590d\u5236\uff0c slave node \u7684\u6570\u636e\u4e5f\u4e22\u4e86\u3002 \u53e6\u5916\uff0cmaster \u7684\u5404\u79cd\u5907\u4efd\u65b9\u6848\uff0c\u4e5f\u9700\u8981\u505a\u3002\u4e07\u4e00\u672c\u5730\u7684\u6240\u6709\u6587\u4ef6\u4e22\u5931\u4e86\uff0c\u4ece\u5907\u4efd\u4e2d\u6311\u9009\u4e00\u4efd rdb \u53bb\u6062\u590d master\uff0c\u8fd9\u6837\u624d\u80fd \u786e\u4fdd\u542f\u52a8\u7684\u65f6\u5019\uff0c\u662f\u6709\u6570\u636e\u7684 \uff0c\u5373\u4f7f\u91c7\u7528\u4e86\u540e\u7eed\u8bb2\u89e3\u7684\u9ad8\u53ef\u7528\u673a\u5236\uff0cslave node \u53ef\u4ee5\u81ea\u52a8\u63a5\u7ba1 master node\uff0c\u4f46\u4e5f\u53ef\u80fd sentinel \u8fd8\u6ca1\u68c0\u6d4b\u5230 master failure\uff0cmaster node \u5c31\u81ea\u52a8\u91cd\u542f\u4e86\uff0c\u8fd8\u662f\u53ef\u80fd\u5bfc\u81f4\u4e0a\u9762\u6240\u6709\u7684 slave node \u6570\u636e\u88ab\u6e05\u7a7a\u3002","title":"Redis\u4e3b\u4ece\u96c6\u7fa4\u4e3b\u8981\u673a\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#redis_3","text":"\u54e8\u5175\u8d1f\u8d23\uff1a\u96c6\u7fa4\u76d1\u63a7\u3001\u6d88\u606f\u901a\u77e5\u3001\u6545\u969c\u8f6c\u79fb\u3001\u914d\u7f6e\u4e2d\u5fc3\u529f\u80fd \u54e8\u5175\u81f3\u5c11\u9700\u8981 3 \u4e2a\u5b9e\u4f8b\uff0c\u6765\u4fdd\u8bc1\u81ea\u5df1\u7684\u5065\u58ee\u6027\u3002 \u54e8\u5175 + Redis \u4e3b\u4ece\u7684\u90e8\u7f72\u67b6\u6784\uff0c\u662f \u4e0d\u4fdd\u8bc1\u6570\u636e\u96f6\u4e22\u5931 \u7684\uff0c\u53ea\u80fd\u4fdd\u8bc1 Redis \u96c6\u7fa4\u7684\u9ad8\u53ef\u7528\u6027\u3002 \u4e3b\u5907\u5207\u6362\u7684\u8fc7\u7a0b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931 \u56e0\u4e3a master->slave \u7684\u590d\u5236\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u53ef\u80fd\u6709\u90e8\u5206\u6570\u636e\u8fd8\u6ca1\u590d\u5236\u5230 slave\uff0cmaster \u5c31\u5b95\u673a\u4e86\uff0c\u6b64\u65f6\u8fd9\u90e8\u5206\u6570\u636e\u5c31\u4e22\u5931\u4e86\u3002 \u8111\u88c2\u5bfc\u81f4\u7684\u6570\u636e\u4e22\u5931\uff0c\u67d0\u4e2a master \u6240\u5728\u673a\u5668\u7a81\u7136\u8131\u79bb\u4e86\u6b63\u5e38\u7684\u7f51\u7edc\uff0c\u8ddf\u5176\u4ed6 slave \u673a\u5668\u4e0d\u80fd\u8fde\u63a5\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a master \u8fd8\u8fd0\u884c\u7740\u3002\u6b64\u65f6\u54e8\u5175\u53ef\u80fd\u5c31\u4f1a\u8ba4\u4e3a master \u5b95\u673a\u4e86\uff0c\u7136\u540e\u5f00\u542f\u9009\u4e3e\uff0c\u5c06\u5176\u4ed6 slave \u5207\u6362\u6210\u4e86 master\u3002\u8fd9\u4e2a\u65f6\u5019\uff0c\u96c6\u7fa4\u91cc\u5c31\u4f1a\u6709\u4e24\u4e2a master \uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u8111\u88c2\u3002\u6b64\u65f6\u867d\u7136\u67d0\u4e2a slave \u88ab\u5207\u6362\u6210\u4e86 master\uff0c\u4f46\u662f\u53ef\u80fd client \u8fd8\u6ca1\u6765\u5f97\u53ca\u5207\u6362\u5230\u65b0\u7684 master\uff0c\u8fd8\u7ee7\u7eed\u5411\u65e7 master \u5199\u6570\u636e\u3002\u56e0\u6b64\u65e7 master \u518d\u6b21\u6062\u590d\u7684\u65f6\u5019\uff0c\u4f1a\u88ab\u4f5c\u4e3a\u4e00\u4e2a slave \u6302\u5230\u65b0\u7684 master \u4e0a\u53bb\uff0c\u81ea\u5df1\u7684\u6570\u636e\u4f1a\u6e05\u7a7a\uff0c\u91cd\u65b0\u4ece\u65b0\u7684 master \u590d\u5236\u6570\u636e\u3002\u800c\u65b0\u7684 master \u5e76\u6ca1\u6709\u540e\u6765 client \u5199\u5165\u7684\u6570\u636e\uff0c\u56e0\u6b64\uff0c\u8fd9\u90e8\u5206\u6570\u636e\u4e5f\u5c31\u4e22\u5931\u4e86\u3002 \u5bf9\u4e8e\u54e8\u5175 + Redis \u4e3b\u4ece\u8fd9\u79cd\u590d\u6742\u7684\u90e8\u7f72\u67b6\u6784\uff0c\u5c3d\u91cf\u5728\u6d4b\u8bd5\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\uff0c\u90fd\u8fdb\u884c\u5145\u8db3\u7684\u6d4b\u8bd5\u548c\u6f14\u7ec3\u3002","title":"\u54e8\u5175\u96c6\u7fa4\u4e3b\u8981\u673a\u5236\uff08\u57fa\u672c\u5e9f\u5f03\uff0c\u76ee\u524d\u76f4\u63a5\u4f7f\u7528redis\u539f\u751f\u96c6\u7fa4\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#sdown-odown","text":"sdown \u662f\u4e3b\u89c2\u5b95\u673a\uff0c\u5c31\u4e00\u4e2a\u54e8\u5175\u5982\u679c\u81ea\u5df1\u89c9\u5f97\u4e00\u4e2a master \u5b95\u673a\u4e86\uff0c\u90a3\u4e48\u5c31\u662f\u4e3b\u89c2\u5b95\u673a odown \u662f\u5ba2\u89c2\u5b95\u673a\uff0c\u5982\u679c quorum \u6570\u91cf\u7684\u54e8\u5175\u90fd\u89c9\u5f97\u4e00\u4e2a master \u5b95\u673a\u4e86\uff0c\u90a3\u4e48\u5c31\u662f\u5ba2\u89c2\u5b95\u673a sdown \u8fbe\u6210\u7684\u6761\u4ef6\u5f88\u7b80\u5355\uff0c\u5982\u679c\u4e00\u4e2a\u54e8\u5175 ping \u4e00\u4e2a master\uff0c\u8d85\u8fc7\u4e86 is-master-down-after-milliseconds \u6307\u5b9a\u7684\u6beb\u79d2\u6570\u4e4b\u540e\uff0c\u5c31\u4e3b\u89c2\u8ba4\u4e3a master \u5b95\u673a\u4e86\uff1b\u5982\u679c\u4e00\u4e2a\u54e8\u5175\u5728\u6307\u5b9a\u65f6\u95f4\u5185\uff0c\u6536\u5230\u4e86 quorum \u6570\u91cf\u7684\u5176\u5b83\u54e8\u5175\u4e5f\u8ba4\u4e3a\u90a3\u4e2a master \u662f sdown \u7684\uff0c\u90a3\u4e48\u5c31\u8ba4\u4e3a\u662f odown \u4e86\u3002","title":"sdown \u548c odown \u8f6c\u6362\u673a\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_9","text":"\u54e8\u5175\u4e92\u76f8\u4e4b\u95f4\u7684\u53d1\u73b0\uff0c\u662f\u901a\u8fc7 Redis \u7684 pub/sub \u7cfb\u7edf\u5b9e\u73b0\u7684\uff0c\u6bcf\u4e2a\u54e8\u5175\u90fd\u4f1a\u5f80 __sentinel__:hello \u8fd9\u4e2a channel \u91cc\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\uff0c\u8fd9\u65f6\u5019\u6240\u6709\u5176\u4ed6\u54e8\u5175\u90fd\u53ef\u4ee5\u6d88\u8d39\u5230\u8fd9\u4e2a\u6d88\u606f\uff0c\u5e76\u611f\u77e5\u5230\u5176\u4ed6\u7684\u54e8\u5175\u7684\u5b58\u5728\u3002 \u6bcf\u9694\u4e24\u79d2\u949f\uff0c\u6bcf\u4e2a\u54e8\u5175\u90fd\u4f1a\u5f80\u81ea\u5df1\u76d1\u63a7\u7684\u67d0\u4e2a master+slaves \u5bf9\u5e94\u7684 __sentinel__:hello channel \u91cc \u53d1\u9001\u4e00\u4e2a\u6d88\u606f \uff0c\u5185\u5bb9\u662f\u81ea\u5df1\u7684 host\u3001ip \u548c runid \u8fd8\u6709\u5bf9\u8fd9\u4e2a master \u7684\u76d1\u63a7\u914d\u7f6e\u3002 \u6bcf\u4e2a\u54e8\u5175\u4e5f\u4f1a\u53bb \u76d1\u542c \u81ea\u5df1\u76d1\u63a7\u7684\u6bcf\u4e2a master+slaves \u5bf9\u5e94\u7684 __sentinel__:hello channel\uff0c\u7136\u540e\u53bb\u611f\u77e5\u5230\u540c\u6837\u5728\u76d1\u542c\u8fd9\u4e2a master+slaves \u7684\u5176\u4ed6\u54e8\u5175\u7684\u5b58\u5728\u3002 \u6bcf\u4e2a\u54e8\u5175\u8fd8\u4f1a\u8ddf\u5176\u4ed6\u54e8\u5175\u4ea4\u6362\u5bf9 master \u7684\u76d1\u63a7\u914d\u7f6e\uff0c\u4e92\u76f8\u8fdb\u884c\u76d1\u63a7\u914d\u7f6e\u7684\u540c\u6b65\u3002","title":"\u54e8\u5175\u96c6\u7fa4\u7684\u81ea\u52a8\u53d1\u73b0\u673a\u5236"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#quorum-majority","text":"\u6bcf\u6b21\u4e00\u4e2a\u54e8\u5175\u8981\u505a\u4e3b\u5907\u5207\u6362\uff0c\u9996\u5148\u9700\u8981 quorum \u6570\u91cf\u7684\u54e8\u5175\u8ba4\u4e3a odown\uff0c\u7136\u540e\u9009\u4e3e\u51fa\u4e00\u4e2a\u54e8\u5175\u6765\u505a\u5207\u6362\uff0c\u8fd9\u4e2a\u54e8\u5175\u8fd8\u9700\u8981\u5f97\u5230 majority \u54e8\u5175\u7684\u6388\u6743\uff0c\u624d\u80fd\u6b63\u5f0f\u6267\u884c\u5207\u6362\u3002 \u5982\u679c quorum < majority\uff0c\u6bd4\u5982 5 \u4e2a\u54e8\u5175\uff0cmajority \u5c31\u662f 3\uff0cquorum \u8bbe\u7f6e\u4e3a 2\uff0c\u90a3\u4e48\u5c31 3 \u4e2a\u54e8\u5175\u6388\u6743\u5c31\u53ef\u4ee5\u6267\u884c\u5207\u6362\u3002 \u4f46\u662f\u5982\u679c quorum >= majority\uff0c\u90a3\u4e48\u5fc5\u987b quorum \u6570\u91cf\u7684\u54e8\u5175\u90fd\u6388\u6743\uff0c\u6bd4\u5982 5 \u4e2a\u54e8\u5175\uff0cquorum \u662f 5\uff0c\u90a3\u4e48\u5fc5\u987b 5 \u4e2a\u54e8\u5175\u90fd\u540c\u610f\u6388\u6743\uff0c\u624d\u80fd\u6267\u884c\u5207\u6362\u3002","title":"quorum \u548c majority"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#redis_4","text":"RDB \u6301\u4e45\u5316\u673a\u5236\uff0c\u662f\u5bf9 Redis \u4e2d\u7684\u6570\u636e\u6267\u884c\u5468\u671f\u6027\u7684\u6301\u4e45\u5316\u3002 RDB \u4f1a\u751f\u6210\u591a\u4e2a\u6570\u636e\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6570\u636e\u6587\u4ef6\u90fd\u4ee3\u8868\u4e86\u67d0\u4e00\u4e2a\u65f6\u523b\u4e2d Redis \u7684\u6570\u636e\uff0c\u8fd9\u79cd\u591a\u4e2a\u6570\u636e\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u975e\u5e38\u9002\u5408\u505a\u51b7\u5907\uff0c\u53ef\u4ee5\u5c06\u8fd9\u79cd\u5b8c\u6574\u7684\u6570\u636e\u6587\u4ef6\u53d1\u9001\u5230\u4e00\u4e9b\u8fdc\u7a0b\u7684\u5b89\u5168\u5b58\u50a8\u4e0a\u53bb\uff0c\u6bd4\u5982\u8bf4 Amazon \u7684 S3 \u4e91\u670d\u52a1\u4e0a\u53bb\uff0c\u5728\u56fd\u5185\u53ef\u4ee5\u662f\u963f\u91cc\u4e91\u7684 ODPS \u5206\u5e03\u5f0f\u5b58\u50a8\u4e0a\uff0c\u4ee5\u9884\u5b9a\u597d\u7684\u5907\u4efd\u7b56\u7565\u6765\u5b9a\u671f\u5907\u4efd Redis \u4e2d\u7684\u6570\u636e\u3002 RDB \u5bf9 Redis \u5bf9\u5916\u63d0\u4f9b\u7684\u8bfb\u5199\u670d\u52a1\uff0c\u5f71\u54cd\u975e\u5e38\u5c0f\uff0c\u53ef\u4ee5\u8ba9 Redis \u4fdd\u6301\u9ad8\u6027\u80fd\uff0c\u56e0\u4e3a Redis \u4e3b\u8fdb\u7a0b\u53ea\u9700\u8981 fork \u4e00\u4e2a\u5b50\u8fdb\u7a0b\uff0c\u8ba9\u5b50\u8fdb\u7a0b\u6267\u884c\u78c1\u76d8 IO \u64cd\u4f5c\u6765\u8fdb\u884c RDB \u6301\u4e45\u5316\u5373\u53ef\u3002 \u76f8\u5bf9\u4e8e AOF \u6301\u4e45\u5316\u673a\u5236\u6765\u8bf4\uff0c\u76f4\u63a5\u57fa\u4e8e RDB \u6570\u636e\u6587\u4ef6\u6765\u91cd\u542f\u548c\u6062\u590d Redis \u8fdb\u7a0b\uff0c\u66f4\u52a0\u5feb\u901f\u3002 \u5982\u679c\u60f3\u8981\u5728 Redis \u6545\u969c\u65f6\uff0c\u5c3d\u53ef\u80fd\u5c11\u7684\u4e22\u5931\u6570\u636e\uff0c\u90a3\u4e48 RDB \u6ca1\u6709 AOF \u597d\u3002\u4e00\u822c\u6765\u8bf4\uff0cRDB \u6570\u636e\u5feb\u7167\u6587\u4ef6\uff0c\u90fd\u662f\u6bcf\u9694 5 \u5206\u949f\uff0c\u6216\u8005\u66f4\u957f\u65f6\u95f4\u751f\u6210\u4e00\u6b21\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u5f97\u63a5\u53d7\u4e00\u65e6 Redis \u8fdb\u7a0b\u5b95\u673a\uff0c\u90a3\u4e48\u4f1a\u4e22\u5931\u6700\u8fd1 5 \u5206\u949f\uff08\u751a\u81f3\u66f4\u957f\u65f6\u95f4\uff09\u7684\u6570\u636e\u3002 RDB \u6bcf\u6b21\u5728 fork \u5b50\u8fdb\u7a0b\u6765\u6267\u884c RDB \u5feb\u7167\u6570\u636e\u6587\u4ef6\u751f\u6210\u7684\u65f6\u5019\uff0c\u5982\u679c\u6570\u636e\u6587\u4ef6\u7279\u522b\u5927\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5bf9\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u670d\u52a1\u6682\u505c\u6570\u6beb\u79d2\uff0c\u6216\u8005\u751a\u81f3\u6570\u79d2\u3002 AOF \u673a\u5236\u5bf9\u6bcf\u6761\u5199\u5165\u547d\u4ee4\u4f5c\u4e3a\u65e5\u5fd7\uff0c\u4ee5 append-only \u7684\u6a21\u5f0f\u5199\u5165\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\u4e2d\uff0c\u5728 Redis \u91cd\u542f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u56de\u653e AOF \u65e5\u5fd7\u4e2d\u7684\u5199\u5165\u6307\u4ee4\u6765\u91cd\u65b0\u6784\u5efa\u6574\u4e2a\u6570\u636e\u96c6\u3002 AOF \u53ef\u4ee5\u66f4\u597d\u7684\u4fdd\u62a4\u6570\u636e\u4e0d\u4e22\u5931\uff0c\u4e00\u822c AOF \u4f1a\u6bcf\u9694 1 \u79d2\uff0c\u901a\u8fc7\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\u6267\u884c\u4e00\u6b21 fsync \u64cd\u4f5c\uff0c\u6700\u591a\u4e22\u5931 1 \u79d2\u949f\u7684\u6570\u636e\u3002 AOF \u65e5\u5fd7\u6587\u4ef6\u4ee5 append-only \u6a21\u5f0f\u5199\u5165\uff0c\u6240\u4ee5\u6ca1\u6709\u4efb\u4f55\u78c1\u76d8\u5bfb\u5740\u7684\u5f00\u9500\uff0c\u5199\u5165\u6027\u80fd\u975e\u5e38\u9ad8\uff0c\u800c\u4e14\u6587\u4ef6\u4e0d\u5bb9\u6613\u7834\u635f\uff0c\u5373\u4f7f\u6587\u4ef6\u5c3e\u90e8\u7834\u635f\uff0c\u4e5f\u5f88\u5bb9\u6613\u4fee\u590d\u3002 AOF \u65e5\u5fd7\u6587\u4ef6\u5373\u4f7f\u8fc7\u5927\u7684\u65f6\u5019\uff0c\u51fa\u73b0\u540e\u53f0\u91cd\u5199\u64cd\u4f5c\uff0c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5ba2\u6237\u7aef\u7684\u8bfb\u5199\u3002\u56e0\u4e3a\u5728 rewrite log \u7684\u65f6\u5019\uff0c\u4f1a\u5bf9\u5176\u4e2d\u7684\u6307\u4ee4\u8fdb\u884c\u538b\u7f29\uff0c\u521b\u5efa\u51fa\u4e00\u4efd\u9700\u8981\u6062\u590d\u6570\u636e\u7684\u6700\u5c0f\u65e5\u5fd7\u51fa\u6765\u3002\u5728\u521b\u5efa\u65b0\u65e5\u5fd7\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u8001\u7684\u65e5\u5fd7\u6587\u4ef6\u8fd8\u662f\u7167\u5e38\u5199\u5165\u3002\u5f53\u65b0\u7684 merge \u540e\u7684\u65e5\u5fd7\u6587\u4ef6 ready \u7684\u65f6\u5019\uff0c\u518d\u4ea4\u6362\u65b0\u8001\u65e5\u5fd7\u6587\u4ef6\u5373\u53ef\u3002 AOF \u65e5\u5fd7\u6587\u4ef6\u7684\u547d\u4ee4\u901a\u8fc7\u53ef\u8bfb\u8f83\u5f3a\u7684\u65b9\u5f0f\u8fdb\u884c\u8bb0\u5f55\uff0c\u8fd9\u4e2a\u7279\u6027\u975e\u5e38\u9002\u5408\u505a\u707e\u96be\u6027\u7684\u8bef\u5220\u9664\u7684\u7d27\u6025\u6062\u590d\u3002\u6bd4\u5982\u67d0\u4eba\u4e0d\u5c0f\u5fc3\u7528 flushall \u547d\u4ee4\u6e05\u7a7a\u4e86\u6240\u6709\u6570\u636e\uff0c\u53ea\u8981\u8fd9\u4e2a\u65f6\u5019\u540e\u53f0 rewrite \u8fd8\u6ca1\u6709\u53d1\u751f\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7acb\u5373\u62f7\u8d1d AOF \u6587\u4ef6\uff0c\u5c06\u6700\u540e\u4e00\u6761 flushall \u547d\u4ee4\u7ed9\u5220\u4e86\uff0c\u7136\u540e\u518d\u5c06\u8be5 AOF \u6587\u4ef6\u653e\u56de\u53bb\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u6062\u590d\u673a\u5236\uff0c\u81ea\u52a8\u6062\u590d\u6240\u6709\u6570\u636e\u3002 \u5bf9\u4e8e\u540c\u4e00\u4efd\u6570\u636e\u6765\u8bf4\uff0cAOF \u65e5\u5fd7\u6587\u4ef6\u901a\u5e38\u6bd4 RDB \u6570\u636e\u5feb\u7167\u6587\u4ef6\u66f4\u5927\u3002 AOF \u5f00\u542f\u540e\uff0c\u652f\u6301\u7684\u5199 QPS \u4f1a\u6bd4 RDB \u652f\u6301\u7684\u5199 QPS \u4f4e\uff0c\u56e0\u4e3a AOF \u4e00\u822c\u4f1a\u914d\u7f6e\u6210\u6bcf\u79d2 fsync \u4e00\u6b21\u65e5\u5fd7\u6587\u4ef6\uff0c\u5f53\u7136\uff0c\u6bcf\u79d2\u4e00\u6b21 fsync \uff0c\u6027\u80fd\u4e5f\u8fd8\u662f\u5f88\u9ad8\u7684\u3002\uff08\u5982\u679c\u5b9e\u65f6\u5199\u5165\uff0c\u90a3\u4e48 QPS \u4f1a\u5927\u964d\uff0cRedis \u6027\u80fd\u4f1a\u5927\u5927\u964d\u4f4e\uff09\u3002 \u4ee5\u524d AOF \u53d1\u751f\u8fc7 bug\uff0c\u5c31\u662f\u901a\u8fc7 AOF \u8bb0\u5f55\u7684\u65e5\u5fd7\uff0c\u8fdb\u884c\u6570\u636e\u6062\u590d\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u6062\u590d\u4e00\u6a21\u4e00\u6837\u7684\u6570\u636e\u51fa\u6765\u3002\u6240\u4ee5\u8bf4\uff0c\u7c7b\u4f3c AOF \u8fd9\u79cd\u8f83\u4e3a\u590d\u6742\u7684\u57fa\u4e8e\u547d\u4ee4\u65e5\u5fd7 merge \u56de\u653e\u7684\u65b9\u5f0f\uff0c\u6bd4\u57fa\u4e8e RDB \u6bcf\u6b21\u6301\u4e45\u5316\u4e00\u4efd\u5b8c\u6574\u7684\u6570\u636e\u5feb\u7167\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u66f4\u52a0\u8106\u5f31\u4e00\u4e9b\uff0c\u5bb9\u6613\u6709 bug\u3002\u4e0d\u8fc7 AOF \u5c31\u662f\u4e3a\u4e86\u907f\u514d rewrite \u8fc7\u7a0b\u5bfc\u81f4\u7684 bug\uff0c\u56e0\u6b64\u6bcf\u6b21 rewrite \u5e76\u4e0d\u662f\u57fa\u4e8e\u65e7\u7684\u6307\u4ee4\u65e5\u5fd7\u8fdb\u884c merge \u7684\uff0c\u800c\u662f\u57fa\u4e8e\u5f53\u65f6\u5185\u5b58\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u6307\u4ee4\u7684\u91cd\u65b0\u6784\u5efa\uff0c\u8fd9\u6837\u5065\u58ee\u6027\u4f1a\u597d\u5f88\u591a\u3002 RDB \u548c AOF \u5230\u5e95\u8be5\u5982\u4f55\u9009\u62e9 \u4e0d\u8981\u4ec5\u4ec5\u4f7f\u7528 RDB\uff0c\u56e0\u4e3a\u90a3\u6837\u4f1a\u5bfc\u81f4\u4f60\u4e22\u5931\u5f88\u591a\u6570\u636e\uff1b \u4e5f\u4e0d\u8981\u4ec5\u4ec5\u4f7f\u7528 AOF\uff0c\u56e0\u4e3a\u90a3\u6837\u6709\u4e24\u4e2a\u95ee\u9898\uff1a\u7b2c\u4e00\uff0c\u4f60\u901a\u8fc7 AOF \u505a\u51b7\u5907\uff0c\u6ca1\u6709 RDB \u505a\u51b7\u5907\u6765\u7684\u6062\u590d\u901f\u5ea6\u66f4\u5feb\uff1b\u7b2c\u4e8c\uff0cRDB \u6bcf\u6b21\u7b80\u5355\u7c97\u66b4\u751f\u6210\u6570\u636e\u5feb\u7167\uff0c\u66f4\u52a0\u5065\u58ee\uff0c\u53ef\u4ee5\u907f\u514d AOF \u8fd9\u79cd\u590d\u6742\u7684\u5907\u4efd\u548c\u6062\u590d\u673a\u5236\u7684 bug\uff1b Redis \u652f\u6301\u540c\u65f6\u5f00\u542f\u5f00\u542f\u4e24\u79cd\u6301\u4e45\u5316\u65b9\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u7efc\u5408\u4f7f\u7528 AOF \u548c RDB \u4e24\u79cd\u6301\u4e45\u5316\u673a\u5236\uff0c\u7528 AOF \u6765\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u5931\uff0c\u4f5c\u4e3a\u6570\u636e\u6062\u590d\u7684\u7b2c\u4e00\u9009\u62e9\uff1b\u7528 RDB \u6765\u505a\u4e0d\u540c\u7a0b\u5ea6\u7684\u51b7\u5907\uff0c\u5728 AOF \u6587\u4ef6\u90fd\u4e22\u5931\u6216\u635f\u574f\u4e0d\u53ef\u7528\u7684\u65f6\u5019\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 RDB \u6765\u8fdb\u884c\u5feb\u901f\u7684\u6570\u636e\u6062\u590d\u3002","title":"Redis \u6301\u4e45\u5316\u7684\u4e24\u79cd\u65b9\u5f0f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_10","text":"","title":"\u5404\u79cd\u642d\u5efa"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_11","text":"\u914d\u7f6e\u6587\u4ef6single.conf #RDB\u6301\u4e45\u5316\u914d\u7f6e #\u5728300\u79d2(5\u5206\u949f)\u4e4b\u540e\uff0c\u5982\u679c\u81f3\u5c11\u670910\u4e2akey\u53d1\u751f\u53d8\u5316\uff0c\u5219dump\u5185\u5b58\u5feb\u7167\u3002 save 300 10 #\u538b\u7f29 rdbcompression yes #AOF\u6301\u4e45\u5316\u914d\u7f6e ## \u53ea\u6709\u5728\u201cyes\u201d\u4e0b\uff0caof\u91cd\u5199/\u6587\u4ef6\u540c\u6b65\u7b49\u7279\u6027\u624d\u4f1a\u751f\u6548 appendonly yes #\u6bcf\u79d2\u949f\u540c\u6b65\u4e00\u6b21\uff0c\u8be5\u7b56\u7565\u4e3aAOF\u7684\u7f3a\u7701\u7b56\u7565\u3002 appendfsync everysec ## \u6307\u5b9aaof\u6587\u4ef6\u540d\u79f0 appendfilename appendonly.aof #\u6570\u636e\u6587\u4ef6\u5939 dir /data #\u8bbe\u7f6e\u8bbf\u95ee\u5bc6\u7801 requirepass yourpassword #\u5141\u8bb8\u5916\u7f51\u8bbf\u95ee\uff08\u76d1\u542c0.0.0.0\uff09\uff0c\uff08\u5728\u6ca1\u6709\u8bbe\u7f6e\u5bc6\u7801\u4e14\u6ca1\u6709\u8bbe\u7f6ebind ip\u65f6\u5019\u9ed8\u8ba4\u5f00\u542f\u53ea\u76d1\u542c127.0.0.1\uff09 protected-mode no \u5bb9\u5668\u65b9\u5f0f\u542f\u52a8 mkdir data docker run -it --restart=always -p 6379:6379 --name redis -v `pwd`/data:/data -v `pwd`/single.conf:/etc/redis.conf redis redis-server /etc/redis.conf","title":"\u5355\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_12","text":"Redis\u7684\u96c6\u7fa4\u4e0d\u652f\u6301nat\u7c7b\u578b\u7684\u7f51\u7edc\uff0c\u6240\u4ee5\u4f7f\u7528\u5bb9\u5668\u642d\u5efa\u7684\u8bdd\u9700\u8981\u7528\u4e3b\u673a\u7f51\u7edc\u7684\u65b9\u5f0f\u63a5\u5165 --net host Redis\u955c\u50cf\u7248\u672c>5\u5efa\u8bae\u76f4\u63a5\u4f7f\u7528\u6700\u65b0\u7248\u672c\u955c\u50cf \u96c6\u7fa4\u4f9d\u8d56\u4e24\u4e2atcp\u7aef\u53e3\u9ed8\u8ba4\u4e3ax=6379 y=x+10000=16379 \u5982\u679c\u4f7f\u7528\u9632\u706b\u5899\u9700\u8981\u6ce8\u610f\u5f00\u542f\u8fd9\u4e24\u4e2a\u7aef\u53e3\u7684\u51fa\u5165\u6808\u89c4\u5219\u3002 \u914d\u7f6e\u6587\u4ef6cluster.conf #\u542f\u7528\u96c6\u7fa4\u6a21\u5f0f cluster-enabled yes #\u96c6\u7fa4\u81ea\u52a8\u914d\u7f6e\u6587\u4ef6\uff08\u975e\u7528\u6237\u81ea\u5b9a\u4e49\u800c\u662f\u96c6\u7fa4\u81ea\u5df1\u4f7f\u7528\u7684\uff09 cluster-config-file cluster.conf #\u96c6\u7fa4\u8282\u70b9\u6700\u5927\u8d85\u65f6\u65f6\u95f4\u5355\u4f4d\u4e3a\u6beb\u79d2\uff0c\u5982\u67d0\u4e2a\u8282\u70b910\u79d2\u6ca1\u54cd\u5e94\u5c06\u89c6\u4e3a\u6389\u7ebf cluster-node-timeout 10000 #\u526f\u672c\u8282\u70b9\u6709\u6548\u6027\u6821\u9a8c\u56e0\u5b50\uff08\u7ed3\u5408\u8282\u70b9\u8d85\u65f6\u65f6\u95f4\u4f7f\u7528\uff0c\u5f53\u8282\u70b9\u4e0e\u4e3b\u8282\u70b9\u4e0a\u6b21\u540c\u6b65\u65f6\u95f4>(\u8282\u70b9\u8d85\u65f6\u65f6\u95f4*\u6821\u9a8c\u56e0\u5b50)\u540e\u8ba4\u4e3a\u6b64\u5907\u4efd\u65e0\u6548\uff0c\u4e0d\u53c2\u4e0e\u4e3b\u8282\u70b9\u6545\u969c\u8f6c\u79fb cluster-slave-validity-factor 10 #\u4e3b\u8282\u70b9\u5c06\u4fdd\u6301\u8fde\u63a5\u7684\u6700\u5c0f\u526f\u672c\u6570 cluster-migration-barrier 3 #\u5982\u679c\u5c06\u5176\u8bbe\u7f6e\u4e3a yes\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4efb\u4f55\u8282\u70b9\u672a\u8986\u76d6\u4e00\u5b9a\u767e\u5206\u6bd4\u7684\u5bc6\u94a5\u7a7a\u95f4\uff0c\u5219\u96c6\u7fa4\u5c06\u505c\u6b62\u63a5\u53d7\u5199\u5165\u3002 #\u5982\u679c\u8be5\u9009\u9879\u8bbe\u7f6e\u4e3a no\uff0c\u5373\u4f7f\u53ea\u80fd\u5904\u7406\u6709\u5173\u5bc6\u94a5\u5b50\u96c6\u7684\u8bf7\u6c42\uff0c\u96c6\u7fa4\u4ecd\u5c06\u63d0\u4f9b\u67e5\u8be2\u670d\u52a1\u3002 cluster-require-full-coverage no #\u5982\u679c\u8bbe\u7f6e\u4e3a no\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53\u96c6\u7fa4\u88ab\u6807\u8bb0\u4e3a\u5931\u8d25\u65f6\uff0cRedis \u96c6\u7fa4\u4e2d\u7684\u8282\u70b9\u5c06\u505c\u6b62\u670d\u52a1\u6240\u6709\u6d41\u91cf\uff0c\u6216\u8005\u5f53\u8282\u70b9\u65e0\u6cd5\u8bbf\u95ee\u65f6\u8fbe\u5230\u6cd5\u5b9a\u4eba\u6570\u6216\u672a\u8fbe\u5230\u5b8c\u5168\u8986\u76d6\u65f6\u3002\u8fd9\u53ef\u4ee5\u9632\u6b62\u4ece\u4e0d\u77e5\u9053\u96c6\u7fa4\u4e2d\u7684\u53d8\u5316\u7684\u8282\u70b9\u8bfb\u53d6\u53ef\u80fd\u4e0d\u4e00\u81f4\u7684\u6570\u636e\u3002\u53ef\u4ee5\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a yes \u4ee5\u5141\u8bb8\u5728\u5931\u8d25\u72b6\u6001\u671f\u95f4\u4ece\u8282\u70b9\u8bfb\u53d6\uff0c\u8fd9\u5bf9\u4e8e\u5e0c\u671b\u4f18\u5148\u8003\u8651\u8bfb\u53d6\u53ef\u7528\u6027\u4f46\u4ecd\u5e0c\u671b\u9632\u6b62\u4e0d\u4e00\u81f4\u5199\u5165\u7684\u5e94\u7528\u7a0b\u5e8f\u975e\u5e38\u6709\u7528\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u4e8e\u4f7f\u7528\u53ea\u6709\u4e00\u4e2a\u6216\u4e24\u4e2a\u5206\u7247\u7684 Redis Cluster \u65f6\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u8282\u70b9\u5728\u4e3b\u8282\u70b9\u53d1\u751f\u6545\u969c\u4f46\u65e0\u6cd5\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u65f6\u7ee7\u7eed\u63d0\u4f9b\u5199\u5165\u670d\u52a1\u3002 cluster-allow-reads-when-down yes requirepass yourpassword #\u4ece\u8282\u70b9\u8fde\u63a5\u4e3b\u8282\u70b9\u7684\u5bc6\u7801 masterauth yourpassword #\u4fdd\u5b58\u7684\u95f4\u9694\u65f6\u95f4\u548c\u81f3\u5c11\u53d8\u52a8key\u6570 save 600 10 #\u6328\u4e2a\u542f\u52a8\u6bcf\u4e2a\u8282\u70b9\uff08\u9700\u8981\u63d0\u524d\u5c06\u914d\u7f6e\u6587\u4ef6\u4ee5\u53ca\u5b58\u50a8\u8def\u5f84\u521b\u5efa\u597d\uff09\uff0c\u6211\u4eec\u5efa\u7acb6\u4e2a\u8282\u70b9\uff0c\u5176\u4e2d3\u4e2a\u505a\u4e3a\u4e3b\u8282\u70b9\uff08\u5b58\u6570\u636e\uff09\uff0c\u4e09\u4e2a\u4f5c\u4e3a\u4ece\u8282\u70b9\uff0c\u6570\u636e\u57283\u4e2a\u4e3b\u8282\u70b9\u4e4b\u95f4\u5747\u5206\uff08\u4fbf\u4e8e\uff09 docker run -itd --name redis1 --restart=always --net host -v `pwd`/data:/data -v `pwd`/cluster.conf:/etc/redis.conf -p 6379:6379 redis redis-server /etc/redis.conf #\u521b\u5efa\u5176\u4ed6\u8282\u70b9\u2026\u2026 #\u8fdb\u5165\u8282\u70b9\u51c6\u5907\u5efa\u7acb\u96c6\u7fa4\u8fde\u63a5 docker exec -it redis1 bash #\u96c6\u7fa4\u8fde\u63a5\u4e0d\u652f\u6301\u4e3b\u673a\u540d\uff0c\u53ea\u80fd\u4f7f\u7528ip\uff0c\u6240\u4ee5\u6bcf\u4e2a\u8282\u70b9\u7684ip\u5730\u5740\u9700\u8981\u56fa\u5b9a redis-cli -a yourpassword --cluster create 172.21.0.2:6379 172.21.0.3:6379 172.21.0.4:6379 172.21.0.5:6379 172.21.0.6:6379 172.21.0.7:6379 --cluster-replicas 1 #\u8f93\u5165yes\u8fdb\u884c\u786e\u8ba4 #\u8f93\u51fa [OK] All nodes agree about slots configuration. >>> Check for open slots... >>> Check slots coverage... [OK] All 16384 slots covered. #\u5176\u4ed6\u5e38\u7528\u96c6\u7fa4\u547d\u4ee4 #fix\u547d\u4ee4\u6765\u4fee\u590d\u96c6\u7fa4\uff0c\u4ee5\u4fbf\u6839\u636e\u6bcf\u4e2a\u8282\u70b9\u662f\u5426\u5177\u6709\u6743\u5a01\u6027\u7684\u54c8\u5e0c\u69fd\u6765\u8fc1\u79fb\u5bc6\u94a5\u3002 redis-cli -a yourpassword --cluster fix 172.21.0.2:6379 #check\u68c0\u67e5\u96c6\u7fa4\u72b6\u6001 redis-cli -a yourpassword --cluster check 172.21.0.2:6379 #\u6dfb\u52a0\u4e3b\u8282\u70b9add-node\u540e\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u65b0\u8282\u70b9\u7684ip\u548c\u7aef\u53e3\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u73b0\u6709\u96c6\u7fa4\u4e2d\u7684\u4efb\u610f\u4e00\u4e2aip\u548c\u7aef\u53e3 redis-cli -a yourpassword --cluster add-node 172.21.0.8:6379 172.21.0.2:6379 #\u6dfb\u52a0\u4ece\u8282\u70b9\uff08\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0--cluster-master-id \u5bf9\u5e94\u7684\u4e3b\u8282\u70b9id\uff09\u6765\u6307\u5b9a\u5176\u6210\u4e3a\u7279\u5b9a\u8282\u70b9\u7684\u526f\u672c\uff0c\u5177\u4f53\u8282\u70b9id\u53ef\u4ee5\u5728\u8282\u70b9\u914d\u7f6e\u6587\u4ef6\uff08\u81ea\u52a8\uff09\u4e2d\u83b7\u53d6\u5230 redis-cli -a yourpassword --cluster add-node 172.21.0.9:6379 172.21.0.2:6379 --cluster-slave #\u5220\u9664\u8282\u70b9del-node\u540e\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u96c6\u7fa4\u4e2d\u4efb\u610f\u4e00\u4e2a\u8282\u70b9ip\u548c\u7aef\u53e3\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u8981\u5220\u9664\u7684\u8282\u70b9id redis-cli -a yourpassword --cluster del-node 127.0.0.1:7000 `<node-id>`","title":"\u96c6\u7fa4\u65b9\u5f0f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3/#_13","text":"#\u96c6\u7fa4\u4f7f\u7528 \u5f00\u59cb #\u65e0\u78c1\u76d8\u5316\u590d\u5236master \u5728\u5185\u5b58\u4e2d\u76f4\u63a5\u521b\u5efa RDB \uff0c\u7136\u540e\u53d1\u9001\u7ed9 slave\uff0c\u4e0d\u4f1a\u5728\u81ea\u5df1\u672c\u5730\u843d\u5730\u78c1\u76d8 repl-diskless-sync yes # \u7b49\u5f85 5s \u540e\u518d\u5f00\u59cb\u590d\u5236\uff0c\u56e0\u4e3a\u8981\u7b49\u66f4\u591a slave \u91cd\u65b0\u8fde\u63a5\u8fc7\u6765 repl-diskless-sync-delay 5 #\u8981\u6c42\u81f3\u5c11\u6709 1 \u4e2a slave\u5b8c\u6210\u5199\u5165 min-slaves-to-write 1 #\u6570\u636e\u590d\u5236\u548c\u540c\u6b65\u7684\u5ef6\u8fdf\u4e0d\u80fd\u8d85\u8fc7 10 \u79d2\uff0c\u5982\u679c\u8bf4\u4e00\u65e6\u6240\u6709\u7684 slave\uff0c\u6570\u636e\u590d\u5236\u548c\u540c\u6b65\u7684\u5ef6\u8fdf\u90fd\u8d85\u8fc7\u4e86 10 \u79d2\u949f\uff0c\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\uff0cmaster \u5c31\u4e0d\u4f1a\u518d\u63a5\u6536\u4efb\u4f55\u8bf7\u6c42\u4e86\u3002 min-slaves-max-lag 10 #\u96c6\u7fa4\u4f7f\u7528 \u7ed3\u675f #\u65e5\u5fd7\u914d\u7f6e loglevel warning","title":"\u5e38\u7528\u914d\u7f6e"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/gp_mdb%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B%E8%AE%A1%E5%88%92/","text":"gp\u4e0emdb\u786c\u4ef6\u9009\u578b\u8ba1\u5212 \u91cd\u70b9 \u78c1\u76d8\u6027\u80fd\u6700\u91cd\u8981\uff0c\u5176\u4ed6\u8d44\u6e90\uff08cpu\u4e3b\u9891\u6838\u5fc3\u3001\u7f51\u7edc\u5e26\u5bbd\uff09\u56f4\u7ed5\u78c1\u76d8\u6027\u80fd\u6765\u51b3\u7b56\uff0c\u6838\u5fc3\u8981\u6c42\u662f\uff1aio\u8d44\u6e90\u5fc5\u987b\u7edd\u5bf9\u5bcc\u4f59\uff0ccpu\u6c38\u8fdc\u5145\u5206\u5229\u7528\uff0c\u5185\u5b58\u548c\u7f51\u7edc\u4e5f\u5fc5\u987b\u6709\u5bcc\u4f59\u3002 \u622a\u6b62gp6\u7248\u672c cpu\u4e3b\u9891\u8981\u6c42\u4e0d\u7528\u7279\u522b\u9ad8\uff0c\u6838\u5fc3\u6570\u8d8a\u591a\u8d8a\u597d\u3002 \u751f\u4ea7\u73af\u5883\u5efa\u8bae256G\u4ee5\u4e0a\uff0c\u4e00\u4e2aprimary\u6700\u5c11\u4e0d\u4f4e\u4e8e30GB\u5185\u5b58\u3002 \u5185\u8054\u7f51\u7edc\u5fc5\u987b\u4e07\u5146\u5e26\u5bbd\u8d77\u6b65\uff0c\u4e3a\u4e86\u7f51\u7edc\u7684\u9ad8\u53ef\u7528\u5efa\u8bae\u4f7f\u7528\u4e24\u4e2a\u4e07\u5146\u53e3\uff0c\u5bf9\u4e8e\u8d85\u5927\u89c4\u6a21\u7684\u96c6\u7fa4\u5e94\u8be5\u8003\u8651\u5bf9master\u914d\u7f6e\u66f4\u591a\u7684\u7f51\u53e3\u505a\u94fe\u8def\u805a\u5408\uff0c\u4f8b\u5982100\u53f0\u4ee5\u4e0a\u7684\u96c6\u7fa4\u9700\u89814\u4e2a\u4e07\u5146\u53e3\u505a\u94fe\u8def\u805a\u5408\u3002 raid\u5361\u6027\u80fd\u4f8b\u598224\u5757\u673a\u68b0\u76d8\u8d77\u7801\u9700\u8981\u914d\u7f6e2GB\u4ee5\u4e0acache\u7684\u53cc\u901a\u9053raid\u5361\uff0c\u5426\u5219\u5c06\u4f1a\u5927\u5e45\u5ea6\u7684\u5f71\u54cd\u6027\u80fd\u53d1\u6325\u3002 \u5bb9\u91cf\u8bc4\u4f30\u65b9\u9762\uff0c\u7b80\u4fbf\u8ba1\u7b97 \u6570\u636e\u5e93\u53ef\u7528\u7a7a\u95f4=\u88f8\u5bb9\u91cf*0.6 \u518d\u6839\u636e\u662f\u5426\u914d\u7f6emirror\u6765\u786e\u5b9a\u662f\u5426\u9700\u8981\u518d * 0.5 \u673a\u623f\u89c4\u5212\uff1a\u5efa\u8bae\u8bb2master\u548cstandby\u653e\u5728\u4e0d\u540c\u673a\u67dc\uff0c\u8ba1\u7b97\u8282\u70b9\u5206\u7ec4\u653e\u5728\u4e0d\u540c\u673a\u67dc\uff0c\u5982\u679c\u6709\u6761\u4ef6\u53ef\u4ee5\u5c06\u6709\u955c\u50cf\u5173\u7cfb\u7684\u673a\u67dc\u5206\u5f00\u4f9b\u7535\uff0c\u53ef\u4ee5\u786e\u4fdd\u5355\u4e2a\u673a\u67dc\u51fa\u73b0\u65ad\u7535\u7684\u60c5\u51b5\u4f9d\u7136\u63d0\u4f9b\u670d\u52a1\u3002 \u6587\u4ef6\u7cfb\u7edf\u8981\u6c42\uff1a\u5bf9\u4e8e\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u6216\u8005\u5171\u4eab\u5b58\u50a8\uff0c\u4e5f\u5fc5\u987b\u6302\u8f7d\u4e3a\u672c\u5730XFS\u6587\u4ef6\u7cfb\u7edf\u3002\u975e\u672c\u5730\u78c1\u76d8\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u867d\u7136\u652f\u6301\uff0c\u4f46\u4e0d\u63a8\u8350\uff0c\u5bf9\u4e8eGP\u6765\u8bf4\uff0c\u90fd\u662f\u672c\u5730\u76ee\u5f55\uff0c\u4e0d\u4f1a\u533a\u5206\u5bf9\u5f85\u4e0d\u540c\u7684\u5b58\u50a8\u3002\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u6216\u8005\u5171\u4eab\u5b58\u50a8\uff0c\u867d\u7136\u53ef\u4ee5\u8fd0\u884c\uff0c\u4f46\u6027\u80fd\u548c\u53ef\u9760\u6027\u65e0\u6cd5\u4fdd\u8bc1\u3002 \u5efa\u8baeswap\u7a7a\u95f4\u4e3a\u5185\u5b58\u7684\u4e00\u534a\u3002 xfs\u6302\u8f7d\u53c2\u6570\uff1a rw,nodev,noatime,nobarrier,inode64","title":"gp\u4e0emdb\u786c\u4ef6\u9009\u578b\u8ba1\u5212"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/gp_mdb%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B%E8%AE%A1%E5%88%92/#gpmdb","text":"","title":"gp\u4e0emdb\u786c\u4ef6\u9009\u578b\u8ba1\u5212"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/gp_mdb%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B%E8%AE%A1%E5%88%92/#_1","text":"\u78c1\u76d8\u6027\u80fd\u6700\u91cd\u8981\uff0c\u5176\u4ed6\u8d44\u6e90\uff08cpu\u4e3b\u9891\u6838\u5fc3\u3001\u7f51\u7edc\u5e26\u5bbd\uff09\u56f4\u7ed5\u78c1\u76d8\u6027\u80fd\u6765\u51b3\u7b56\uff0c\u6838\u5fc3\u8981\u6c42\u662f\uff1aio\u8d44\u6e90\u5fc5\u987b\u7edd\u5bf9\u5bcc\u4f59\uff0ccpu\u6c38\u8fdc\u5145\u5206\u5229\u7528\uff0c\u5185\u5b58\u548c\u7f51\u7edc\u4e5f\u5fc5\u987b\u6709\u5bcc\u4f59\u3002 \u622a\u6b62gp6\u7248\u672c cpu\u4e3b\u9891\u8981\u6c42\u4e0d\u7528\u7279\u522b\u9ad8\uff0c\u6838\u5fc3\u6570\u8d8a\u591a\u8d8a\u597d\u3002 \u751f\u4ea7\u73af\u5883\u5efa\u8bae256G\u4ee5\u4e0a\uff0c\u4e00\u4e2aprimary\u6700\u5c11\u4e0d\u4f4e\u4e8e30GB\u5185\u5b58\u3002 \u5185\u8054\u7f51\u7edc\u5fc5\u987b\u4e07\u5146\u5e26\u5bbd\u8d77\u6b65\uff0c\u4e3a\u4e86\u7f51\u7edc\u7684\u9ad8\u53ef\u7528\u5efa\u8bae\u4f7f\u7528\u4e24\u4e2a\u4e07\u5146\u53e3\uff0c\u5bf9\u4e8e\u8d85\u5927\u89c4\u6a21\u7684\u96c6\u7fa4\u5e94\u8be5\u8003\u8651\u5bf9master\u914d\u7f6e\u66f4\u591a\u7684\u7f51\u53e3\u505a\u94fe\u8def\u805a\u5408\uff0c\u4f8b\u5982100\u53f0\u4ee5\u4e0a\u7684\u96c6\u7fa4\u9700\u89814\u4e2a\u4e07\u5146\u53e3\u505a\u94fe\u8def\u805a\u5408\u3002 raid\u5361\u6027\u80fd\u4f8b\u598224\u5757\u673a\u68b0\u76d8\u8d77\u7801\u9700\u8981\u914d\u7f6e2GB\u4ee5\u4e0acache\u7684\u53cc\u901a\u9053raid\u5361\uff0c\u5426\u5219\u5c06\u4f1a\u5927\u5e45\u5ea6\u7684\u5f71\u54cd\u6027\u80fd\u53d1\u6325\u3002 \u5bb9\u91cf\u8bc4\u4f30\u65b9\u9762\uff0c\u7b80\u4fbf\u8ba1\u7b97 \u6570\u636e\u5e93\u53ef\u7528\u7a7a\u95f4=\u88f8\u5bb9\u91cf*0.6 \u518d\u6839\u636e\u662f\u5426\u914d\u7f6emirror\u6765\u786e\u5b9a\u662f\u5426\u9700\u8981\u518d * 0.5 \u673a\u623f\u89c4\u5212\uff1a\u5efa\u8bae\u8bb2master\u548cstandby\u653e\u5728\u4e0d\u540c\u673a\u67dc\uff0c\u8ba1\u7b97\u8282\u70b9\u5206\u7ec4\u653e\u5728\u4e0d\u540c\u673a\u67dc\uff0c\u5982\u679c\u6709\u6761\u4ef6\u53ef\u4ee5\u5c06\u6709\u955c\u50cf\u5173\u7cfb\u7684\u673a\u67dc\u5206\u5f00\u4f9b\u7535\uff0c\u53ef\u4ee5\u786e\u4fdd\u5355\u4e2a\u673a\u67dc\u51fa\u73b0\u65ad\u7535\u7684\u60c5\u51b5\u4f9d\u7136\u63d0\u4f9b\u670d\u52a1\u3002 \u6587\u4ef6\u7cfb\u7edf\u8981\u6c42\uff1a\u5bf9\u4e8e\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u6216\u8005\u5171\u4eab\u5b58\u50a8\uff0c\u4e5f\u5fc5\u987b\u6302\u8f7d\u4e3a\u672c\u5730XFS\u6587\u4ef6\u7cfb\u7edf\u3002\u975e\u672c\u5730\u78c1\u76d8\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u867d\u7136\u652f\u6301\uff0c\u4f46\u4e0d\u63a8\u8350\uff0c\u5bf9\u4e8eGP\u6765\u8bf4\uff0c\u90fd\u662f\u672c\u5730\u76ee\u5f55\uff0c\u4e0d\u4f1a\u533a\u5206\u5bf9\u5f85\u4e0d\u540c\u7684\u5b58\u50a8\u3002\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u6216\u8005\u5171\u4eab\u5b58\u50a8\uff0c\u867d\u7136\u53ef\u4ee5\u8fd0\u884c\uff0c\u4f46\u6027\u80fd\u548c\u53ef\u9760\u6027\u65e0\u6cd5\u4fdd\u8bc1\u3002 \u5efa\u8baeswap\u7a7a\u95f4\u4e3a\u5185\u5b58\u7684\u4e00\u534a\u3002 xfs\u6302\u8f7d\u53c2\u6570\uff1a rw,nodev,noatime,nobarrier,inode64","title":"\u91cd\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/mysql_mariadb/","text":"mysql/mariadb \u6ce8\u610f\u4e8b\u9879 mariadb/mysql \u751f\u4ea7\u5e93\u4e00\u5b9a\u8981\u8bbe\u7f6einnodb\u5f15\u64ce\u7684\u5185\u5b58\uff0c\u9ed8\u8ba4\u503c\u5f88\u5c0f\u5f71\u54cd\u6548\u7387\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u662f\u5426\u9ad8\u5199\u5165\u6216\u9ad8\u8bfb\u53d6\u8c03\u6574\u5199\u76d8\u65f6\u95f4","title":"mysql/mariadb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/mysql_mariadb/#mysqlmariadb","text":"","title":"mysql/mariadb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/mysql_mariadb/#_1","text":"mariadb/mysql \u751f\u4ea7\u5e93\u4e00\u5b9a\u8981\u8bbe\u7f6einnodb\u5f15\u64ce\u7684\u5185\u5b58\uff0c\u9ed8\u8ba4\u503c\u5f88\u5c0f\u5f71\u54cd\u6548\u7387\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u662f\u5426\u9ad8\u5199\u5165\u6216\u9ad8\u8bfb\u53d6\u8c03\u6574\u5199\u76d8\u65f6\u95f4","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E5%88%A0%E9%99%A4%E5%A4%A7%E8%A1%A8/","text":"mysql\u5220\u9664\u5927\u8868 mysql\u67d0\u4e2a\u8868\u4e2d\u6570\u636e\u91cf\u592a\u5927\u4f1a\u5bfc\u81f4ddl\u8bed\u53e5\u6267\u884c\u4e0d\u52a8\u7684\u95ee\u9898\uff08\u4f8b\u5982\u5355\u8868\u8fc7\u4ebf\uff09\uff0c\u901a\u8fc7linux\u7684\u6587\u4ef6\u786c\u94fe\u63a5\u5f15\u7528\u6570\u5bf9\u5220\u9664\u7684\u7279\u6027\u6765\u5feb\u901f\u5220\u9664\u8868\uff1b\uff08\u5177\u4f53\u539f\u7406\u4e3a\u5f53\u4e00\u4e2a\u6587\u4ef6\u7684\u786c\u5f15\u7528\u6570\u6ca1\u6709\u5f52\u96f6\u65f6\u5019\uff0c\u7cfb\u7edf\u4e0d\u4f1a\u771f\u6b63\u7684\u53bb\u5220\u9664\u6587\u4ef6\uff0c\u76f8\u5f53\u4e8e\u903b\u8f91\u5220\u9664\uff0c\u8fd9\u6837\u5bf9mysql\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u6765\u8bf4\u5220\u9664\u6587\u4ef6\u5c06\u975e\u5e38\u5feb\uff0c\u7b49\u6570\u636e\u5e93\u5c42\u9762\u6587\u4ef6\u64cd\u4f5c\u5b8c\u6210\u4e86\uff0c\u6211\u4eec\u518d\u4ece\u7cfb\u7edf\u5c42\u9762\u53bb\u5904\u7406\u8fd9\u4e2a\u786c\u94fe\u63a5\u7684\u6587\u4ef6\u5373\u53ef\u3002\uff09 #sql create table t1_new like t1; rename table t1 to t1_deleted,t1_new to t1; #bash\u547d\u4ee4 #\u8fdb\u5230mysql\u6570\u636e\u6587\u4ef6\u5939 cd /data/mysql_data/sbtest/ #\u5efa\u7acb\u786c\u94fe\u63a5 ln t1_deleted.ibd t1_deleted.ibd.hdlk #sql drop table t1_deleted; #bash\u547d\u4ee4 \u5feb\u901f\u6e05\u7a7a\u6587\u4ef6 truncate -s 1 t1_deleted.ibd.hdlk rm -f t1_deleted.ibd.hdlk \u81f3\u6b64\u4efb\u52a1\u5b8c\u6210","title":"mysql\u5220\u9664\u5927\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E5%88%A0%E9%99%A4%E5%A4%A7%E8%A1%A8/#mysql","text":"mysql\u67d0\u4e2a\u8868\u4e2d\u6570\u636e\u91cf\u592a\u5927\u4f1a\u5bfc\u81f4ddl\u8bed\u53e5\u6267\u884c\u4e0d\u52a8\u7684\u95ee\u9898\uff08\u4f8b\u5982\u5355\u8868\u8fc7\u4ebf\uff09\uff0c\u901a\u8fc7linux\u7684\u6587\u4ef6\u786c\u94fe\u63a5\u5f15\u7528\u6570\u5bf9\u5220\u9664\u7684\u7279\u6027\u6765\u5feb\u901f\u5220\u9664\u8868\uff1b\uff08\u5177\u4f53\u539f\u7406\u4e3a\u5f53\u4e00\u4e2a\u6587\u4ef6\u7684\u786c\u5f15\u7528\u6570\u6ca1\u6709\u5f52\u96f6\u65f6\u5019\uff0c\u7cfb\u7edf\u4e0d\u4f1a\u771f\u6b63\u7684\u53bb\u5220\u9664\u6587\u4ef6\uff0c\u76f8\u5f53\u4e8e\u903b\u8f91\u5220\u9664\uff0c\u8fd9\u6837\u5bf9mysql\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u6765\u8bf4\u5220\u9664\u6587\u4ef6\u5c06\u975e\u5e38\u5feb\uff0c\u7b49\u6570\u636e\u5e93\u5c42\u9762\u6587\u4ef6\u64cd\u4f5c\u5b8c\u6210\u4e86\uff0c\u6211\u4eec\u518d\u4ece\u7cfb\u7edf\u5c42\u9762\u53bb\u5904\u7406\u8fd9\u4e2a\u786c\u94fe\u63a5\u7684\u6587\u4ef6\u5373\u53ef\u3002\uff09 #sql create table t1_new like t1; rename table t1 to t1_deleted,t1_new to t1; #bash\u547d\u4ee4 #\u8fdb\u5230mysql\u6570\u636e\u6587\u4ef6\u5939 cd /data/mysql_data/sbtest/ #\u5efa\u7acb\u786c\u94fe\u63a5 ln t1_deleted.ibd t1_deleted.ibd.hdlk #sql drop table t1_deleted; #bash\u547d\u4ee4 \u5feb\u901f\u6e05\u7a7a\u6587\u4ef6 truncate -s 1 t1_deleted.ibd.hdlk rm -f t1_deleted.ibd.hdlk \u81f3\u6b64\u4efb\u52a1\u5b8c\u6210","title":"mysql\u5220\u9664\u5927\u8868"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E6%88%96mariadb/","text":"mariadb/mysql \u751f\u4ea7\u5e93\u4e00\u5b9a\u8981\u8bbe\u7f6einnodb\u5f15\u64ce\u7684\u5185\u5b58\uff0c\u9ed8\u8ba4\u503c\u5f88\u5c0f\u5f71\u54cd\u6548\u7387\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u662f\u5426\u9ad8\u5199\u5165\u6216\u9ad8\u8bfb\u53d6\u8c03\u6574\u5199\u76d8\u65f6\u95f4 \u5982\u679c\u8981\u521b\u5efa\u7684\u8868\u7ed3\u6784\u884c\u957f\u5ea6\u5927\u4e8e8126\u4f1a\u62a5\u9519\u9700\u8981\u8bbe\u7f6e: innodb_file_per_table innodb_file_format = Barracuda innodb_strict_mode=0","title":"Mysql\u6216mariadb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/","text":"Neo4j\u76f8\u5173 \u5173\u7cfb\u56fe\u8c31\u6280\u672f\u6f14\u8fdb \u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6241\u5e73\u5316\u5b58\u50a8+sql\u67e5\u8be2 \u4f18\u70b9\uff1a\u5b9e\u73b0\u7b80\u5355\u3001\u65e0\u989d\u5916\u5b66\u4e60\u6210\u672c\u3002 \u7f3a\u70b9\uff1a\u591a\u7ea7\u5173\u8054\u6570\u636e\u67e5\u8be2\u9ebb\u70e6\uff0c\u4e14\u53d7\u9650\u4e8e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8bbe\u8ba1\u539f\u7406\uff0c\u5bf9\u56fe\u6570\u636e\u6ca1\u6709\u4e13\u95e8\u7684\u4f18\u5316\uff0c\u5728\u67e5\u8be2\u591a\u7ea7\u5927\u91cf\u6570\u636e\u65f6\u6027\u80fd\u4e0d\u4f73\u3002 \u4e13\u7528\u7684\u56fe\u6570\u636e\u5e93\u4f8b\u5982neo4j \u4f18\u70b9\uff1a\u9488\u5bf9\u56fe\u8ba1\u7b97\u4e0e\u5b58\u50a8\u505a\u4e13\u95e8\u8bbe\u8ba1\u63d0\u9ad8\u5176\u6027\u80fd\uff0ccypher\u4e13\u7528\u67e5\u8be2\u8bed\u8a00\u8f83sql\u80fd\u66f4\u6e05\u695a\u7684\u8868\u8fbe\u56fe\u4e4b\u95f4\u7684\u5173\u7cfb\u3002 \u7f3a\u70b9\uff1a\u9700\u8981\u5b66\u4e60cypher\u67e5\u8be2\u8bed\u8a00\uff0c\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u4e5f\u4e0e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7565\u6709\u4e0d\u540c\u3002 \u5173\u7cfb\u56fe\u5b58\u50a8\u67e5\u8be2\u8ba1\u7b97\u89e3\u51b3\u65b9\u6848 \u901a\u8fc7Neo4j\u5b9e\u73b0\u4eba\u5458\u7684\u6279\u91cf\u521b\u5efa\uff0c\u66f4\u65b0\uff08\u521b\u5efa\u540e\u5408\u5e76\uff09\uff0c\u5220\u9664\uff0c\u591a\u7ea7\u5173\u7cfb\u67e5\u8be2\u7b49 \u793e\u533a\u7248\u642d\u5efa #\u4e3a\u4e86\u4fdd\u8bc1\u6027\u80fd\u4ee5\u53ca\u5927\u6570\u636e\u91cf\u64cd\u4f5c\u65f6\u5019\u4e0d\u5185\u5b58\u6ea2\u51fa\uff0c\u5728\u786e\u4fdd\u540c\u673a\u5668\u5176\u4ed6\u7ec4\u4ef6\u9700\u6c42\u7684\u60c5\u51b5\u4e0b\uff0c\u5c3d\u53ef\u80fd\u7ed9\u66f4\u591a\u7684\u53ef\u7528\u5185\u5b58 docker run -itd --name neo4j --restart=always -p 7474:7474 -p 7687:7687 -e=NEO4J_dbms_memory_pagecache_size=8G -e=NEO4J_dbms_memory_heap_initial__size=4G -e=NEO4J_dbms_memory_heap_max__size=32G -v /data/neo4j:/data neo4j:4.2.7 #\u4e0b\u8f7dapoc\u63d2\u4ef6\u4ee5\u63d0\u4f9b\u589e\u5f3a\u529f\u80fd\u652f\u6301\uff08\u6bd4\u5982\u5408\u5e76\u8282\u70b9\uff09\uff0c\u5730\u5740\uff1ahttps://github.com/neo4j-contrib/neo4j-apoc-procedures/releases \u7248\u672c\u53f7\u5982\u679c\u6ca1\u6709\u5b8c\u5168\u76f8\u540c\u7684\u9009\u62e9\u63a5\u8fd1\u7684\u4e5f\u53ef\u4ee5 cd /data/neo4j wget https://github.com/neo4j-contrib/neo4j-apoc-procedures/releases/download/4.2.0.4/apoc-4.2.0.4-all.jar #\u590d\u5236apoc*.jar\u5230\u5bb9\u5668\u4e2dneo4j\u76ee\u5f55\u7684plugins\u6587\u4ef6\u5939\u4e2d docker exec -it neo4j bash cp data/apoc-*.jar ./plugins/ #\u4fee\u6539conf/neo4j.conf\u914d\u7f6e\u6587\u4ef6\uff0c\u589e\u52a0\u5982\u4e0b\u4e24\u884c dbms.security.procedures.unrestricted=algo.* dbms.security.procedures.unrestricted=apoc.* #\u4fdd\u5b58\u540e\u91cd\u542f\u5bb9\u5668 docker restart neo4j \u4f7f\u7528 \u7d22\u5f15\u5efa\u7acb\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\uff0c\u4e00\u4e2a\u7d22\u5f15\u53ef\u4ee5\u5f88\u5927\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u5927\u89c4\u6a21\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6\u3002\uff08\u5728\u5bf9\u8282\u70b9\u6309\u7167name\u5c5e\u6027\u5efa\u7acb\u4e86\u7d22\u5f15\u4e4b\u540e\uff0c\u622a\u6b62\u6211\u5199\u8fd9\u7bc7blog\u7684\u65f6\u5019\uff0c\u6570\u636e\u91cf\u4e3a\u8282\u70b9600w+,\u5173\u7cfb1100w+\uff0c\u67e5\u8be2\u4e00\u4e2a\u8282\u70b9\u4ee5\u53ca\u76f8\u5173\u8054\u7684\u8282\u70b9\u5173\u7cfb\u6d88\u8017\u7684\u65f6\u95f4\u548c\u6570\u636e\u91cf\u5f88\u5c0f\u7684\u65f6\u5019\u51e0\u4e4e\u6ca1\u6709\u4ec0\u4e48\u5dee\u522b\uff0c\u57fa\u672c\u4e0a\u90fd\u7a33\u5b9a\u572816~20ms\u5de6\u53f3\u3002\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/a2497a33390f \uff09 \u4ee5\u4e0b\u6d89\u53ca\u6027\u80fd\u7684\u6d4b\u8bd5\u76f8\u5173\u7684\u673a\u5668\u914d\u7f6e\u5982\u4e0b:32G\u5185\u5b58 8\u6838\u5904\u7406\u5668 \u673a\u68b0\u786c\u76d8 \u6279\u91cf\u64cd\u4f5c\u6700\u4f73\u5b9e\u8df5 \u6279\u91cf\u521b\u5efa\u8282\u70b9\u91c7\u7528(\u7eaf\u65b0\u589e)\uff1a\u6279\u91cf\u521b\u5efa\u8282\u70b9\uff08\u6863\u6848\u8868\u8bfb\u53d6\uff09-\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u8282\u70b9\u91c7\u7528(\u65b0\u589e\u4ee5\u53ca\u5305\u542b\u66f4\u65b0)\uff1a\u901a\u8fc7\u8bc1\u4ef6\u53f7\u5408\u5e76\u65b9\u5f0f\u521b\u5efa-\u589e\u91cf\u66f4\u65b0\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u5173\u7cfb\u91c7\u7528\uff1a\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u5173\u7cfb\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f-\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u5173\u7cfb\uff08\u590d\u6742\u7c7b\u578b\uff09\u91c7\u7528\uff1a\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u65b9\u5f0f\u521b\u5efa\u4eba\u8f66\u5173\u7cfb \u6279\u91cf\u5408\u5e76\u5b9e\u4f53\u8282\u70b9\u91c7\u7528\uff1a\u6839\u636e\u8bc1\u4ef6\u53f7\u7801\u5408\u5e76\u8282\u70b9-cypher\u65b9\u5f0f(\u4f9d\u8d56apoc\u63d2\u4ef6) \u6279\u91cf\u5408\u5e76\u91cd\u590d\u5173\u7cfb\uff08\u4e3b\u8981\u7531\u5408\u5e76\u8282\u70b9\u4ea7\u751f\uff09\uff1a\u5408\u5e76\u91cd\u590d\u5173\u7cfb-cypher\u65b9\u5f0f\uff08\u4f9d\u8d56apoc\u63d2\u4ef6\uff09 \u6279\u91cf\u521b\u5efa\u8282\u70b9 #python dependson:pip install py2neo from py2neo import Graph from py2neo.bulk import create_nodes g = Graph(connectionInfoParam...) keys = [\"name\", \"age\"] data = [ [\"Alice\", 33], [\"Bob\", 44], [\"Carol\", 55], ] create_nodes(g.auto(), data, labels={\"Person\"}, keys=keys) g.nodes.match(\"Person\").count() \u6279\u91cf\u521b\u5efa\u8282\u70b9\uff08\u6863\u6848\u8868\u8bfb\u53d6\uff09-\u7eaf\u65b0\u589e\u63a8\u8350 \u5199\u51651\u4e07\u6761\u8017\u65f67\u79d2\uff0c\u5199\u5165\u64cd\u4f5c\u65f6\uff0c\u6d4b\u8bd5\u673a\u5668python\u548cjava\u8fdb\u7a0b\u7684cpu\u5360\u7528\u8f83\u9ad8\uff0c\u5185\u5b58\u5408\u8ba1\u5360\u75287GB\uff0c\u78c1\u76d8\u8bfb\u51991-3MB/S\uff0c\u521d\u6b65\u63a8\u6d4b\u9700\u8981\u63d0\u5347\u5199\u5165\u6027\u80fd\u7684\u8bdd\u9700\u8981\u5728cpu\u65b9\u9762\u6269\u5bb9\u3002 \u7ed3\u5408\u8f66\u8f86\u6863\u6848\u6570\u636e\u6d4b\u8bd5\u7ed3\u679c\uff1a21\u4e2a\u5b57\u6bb51\u4e07\u6761\u6570\u636e\u5199\u51654.5\u79d2 \uff08\u4eba\u7684\u6863\u684846\u4e2a\u5b57\u6bb57\u79d2\uff09\uff0c\u5c06\u5168\u91cf\u5b57\u6bb5\u653e\u5230\u6570\u636e\u4ed3\u5e93\u4e2d\uff0c\u56fe\u6570\u636e\u5e93\u4e2d\u53ea\u5b58\u5fc5\u8981\u7684\u67e5\u8be2\u4ee5\u53ca\u76f4\u63a5\u663e\u793a\u5b57\u6bb5\u53ef\u4ee5\u6709\u6548\u63d0\u5347\u5199\u5165\u901f\u5ea6\u3002 #py2neo \u7684bulk\u63a5\u53e3\u65b9\u5f0f from py2neo import Graph import psycopg2 from py2neo.bulk import create_nodes,merge_nodes from itertools import islice import time #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password hostipaddress port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=[] #\u8fde\u63a5neo4j graph = Graph(\"bolt://ipaddress:7687\", auth=(\"neo4j\", \"neo4jpassword\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=10000 if batch_size>limit: batch_size=limit try: cur.execute(sqls) print('query:%s' % sqls) data=cur.fetchmany(batch_size) ta0=time.time() cnt=0 while data: cnt=cnt+1 print('load data size:%s' % len(data)) for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes.append(p) if len(nodes)>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() create_nodes(graph.auto(),nodes,labels={'Person'}) nodes.clear() print(\"\u63d0\u4ea4 %s \u6b21\uff0c\u8017\u65f6:%s\u79d2\" % (cnt,round(time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if len(nodes)>0: create_nodes(graph.auto(),nodes,labels={'Person'}) nodes.clear() data=cur.fetchmany(batch_size) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\u79d2\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta0))) cur.close() db.close() \u901a\u8fc7\u8bc1\u4ef6\u53f7\u5408\u5e76\u65b9\u5f0f\u521b\u5efa-\u589e\u91cf\u66f4\u65b0\u63a8\u8350 1\u4e07\u6761\u8017\u65f6283\u79d2 from py2neo import Graph import psycopg2 from py2neo.bulk import create_nodes,merge_nodes from itertools import islice import time #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=[] #\u8fde\u63a5neo4j graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=10000 if batch_size>limit: batch_size=limit try: cur.execute(sqls) print('query:%s' % sqls) data=cur.fetchmany(batch_size) ta0=time.time() cnt=0 while data: cnt=cnt+1 print('load data size:%s' % len(data)) for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes.append(p) if len(nodes)>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() merge_nodes(graph.auto(),nodes,('Person','gmsfhm'),labels={'Person'}) nodes.clear() print(\"\u63d0\u4ea4 %s \u6b21\uff0c\u8017\u65f6:%s\u79d2\" % (cnt,round(time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if len(nodes)>0: merge_nodes(graph.auto(),nodes,('Person','gmsfhm'),labels={'Person'}) nodes.clear() data=cur.fetchmany(batch_size) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\u79d2\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta0))) cur.close() db.close() \u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u521b\u5efa\u8282\u70b9 \u5199\u51651000\u6761\u8017\u65f6217\u79d2\uff0c\u4e0d\u63a8\u8350 #\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u521b\u5efa from py2neo import Graph import psycopg2 from itertools import islice import time import simplejson def custJson(d): s=\"{\" if len(d)>0: for k in d: if d[k]: s=s+k+':\"'+d[k]+'\",' else: s=s+k+':\"\",' if len(s)>2: return s[0:-1]+'}' else: return '{}' else: return '{}' #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=1_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=\"[\" #\u8fde\u63a5neo4j graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=1000 cnt=0 try: cur.execute(sqls) data=cur.fetchall() for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes=nodes+custJson(p)+',' cnt=cnt+1 # print(nodes) if cnt>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() graph.run('call apoc.create.nodes([\"Person\"],%s)' % (nodes[0:-1]+']')) nodes='[' cnt=0 print('\u8017\u65f6:%s' % ((time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if cnt>0: graph.run('call apoc.create.nodes([\"Person\"],%s)' % (nodes[0:-1]+']')) nodes='[' cnt=0 # merge_nodes(graph.auto(),) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta))) cur.close() db.close() \u901a\u8fc7\u5b50\u56fe\u65b9\u5f0f\u6279\u91cf\u521b\u5efa\u8282\u70b9 \u8017\u65f6\u548cpy2neo\u7684\u6279\u91cf\u63a5\u53e3create_nodes\u57fa\u672c\u4e00\u6837 #\u901a\u8fc7subgraph\u52a0\u4e8b\u52a1\u6279\u91cf\u521b\u5efa\u8282\u70b9 from py2neo import Graph,Node,Subgraph import psycopg2 from itertools import islice import time import simplejson def custJson(d): s=\"{\" if len(d)>0: for k in d: if d[k]: s=s+k+':\"'+d[k]+'\",' else: s=s+k+':\"\",' if len(s)>2: return s[0:-1]+'}' else: return '{}' else: return '{}' #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=\"[\" #\u8fde\u63a5neo4j graph = Graph(\"bolt://ipaddress:7687\", auth=(\"neo4j\", \"password\")) tx = graph.begin() nodes=[] cur.execute(sqls) data=cur.fetchall() ta=time.time() for line in data: oneNode = Node() for ki in range(len(keyss)): k=keyss[ki] oneNode[k]=line[ki] nodes.append(oneNode) nodes=Subgraph(nodes) tx.create(nodes) tx.commit() print('\u8017\u65f6:%s' % ((time.time()-ta))) \u6839\u636e\u8bc1\u4ef6\u53f7\u7801\u5408\u5e76\u8282\u70b9-cypher\u65b9\u5f0f(\u4f9d\u8d56apoc\u63d2\u4ef6) 2\u4e07\u6761\u6570\u636e\uff0c\u5b9e\u9645\u67091\u4e07\u6761\u4e0d\u91cd\u590d\u6570\u636e\uff0c\u6267\u884c\u8017\u65f62\u79d2\uff0c\u63a8\u8350 190\u4e07\u6570\u636e\u5b9e\u9645\u4e0d\u91cd\u590d\u7684100\u4e07\uff0c\u6267\u884c\u65f6\u95f44\u79d2 --cypher \u8bed\u6cd5\u5b9e\u73b0 match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 call apoc.refactor.mergeNodes(nodelist,{properties:\"combine\",mergeRels:true}) yield node return node \u5408\u5e76\u91cd\u590d\u5173\u7cfb-cypher\u65b9\u5f0f\uff08\u4f9d\u8d56apoc\u63d2\u4ef6\uff09 MATCH (a:Person)-[r:rel]-(b:Person) WITH a, b, collect(r) as rels CALL apoc.refactor.mergeRelationships(rels) YIELD rel RETURN count(rel) --\u5982\u679c\u6709\u592a\u591a\u91cd\u590d\u6570\u636e\u6700\u597d\u6bcf\u6b21\u53ea\u5904\u7406\u4e00\u90e8\u5206\uff0c\u907f\u514d\u5168\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u9020\u6210\u5185\u5b58\u6ea2\u51fa\uff0c\u5982\u4e0b match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 call apoc.refactor.mergeNodes(nodelist) yield node return node limit 10000 --\u67e5\u8be2\u6709\u591a\u5c11\u7ec4\u91cd\u590d\u6570\u636e match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 return count(nodelist) \u6839\u636e\u8bc1\u4ef6\u53f7\u5408\u5e76\u8282\u70b9-python\u65b9\u5f0f 2\u4e07\u6761\u6570\u636e\uff0c\u5b9e\u9645\u67091\u4e07\u6761\u4e0d\u91cd\u590d\u6570\u636e\uff0c\u6267\u884c\u8017\u65f6365\u79d2\uff0c\u4e0d\u63a8\u8350 #\u5408\u5e76 from py2neo import Graph import time from py2neo.bulk import create_nodes,merge_nodes graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) print(\"count:\"+str(graph.nodes.match('Person').count())) nodes=graph.nodes.match('Person') # mdata=[] # for n in nodes: # mdata.append({'gmsfhm':n['gmsfhm']}) # print(mdata[0]) ta=time.time() merge_nodes(tx=graph.auto(),data=nodes,merge_key=('Person','gmsfhm')) print(\"using time:\"+str(round(time.time()-ta))) print(\"count:\"+str(graph.nodes.match('Person').count())) \u7d22\u5f15\uff08cql\uff09 CREATE INDEX ON:Person(hh) --\u521b\u5efa\u591a\u5b57\u6bb5\u7684\u8bdd\u4f7f\u7528\u65f6\u5019\u5fc5\u987b\u4e5f\u4f20\u591a\u5b57\u6bb5 CREATE INDEX ON:Person(gmsfhm) --\u67e5\u770b\u7d22\u5f15 :schema --\u5220\u9664\u7d22\u5f15 DROP INDEX ON :Person(gmsfhm,hh) \u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u5173\u7cfb\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f-\u63a8\u8350 \u8017\u65f60.04\u79d2\uff0c\u5b9e\u6d4b\u91cd\u590d\u6267\u884c\u4e0d\u4f1a\u5bfc\u81f4\u5efa\u7acb\u591a\u4e2a\u91cd\u590d\u5173\u7cfb #\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb-\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f(\u63a8\u8350) from py2neo import Graph,Relationship,Subgraph import time from py2neo.matching import * graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) nodeM=NodeMatcher(graph) #\u627e\u4e00\u5bb6\u4eba hh='361024002267449' nodes=nodeM.match('Person',hh=hh).all() hz=nodeM.match('Person',hh=hh,yhzgxdm='02').first() print(hz) if hz: print('\u5bb6\u4eba\u6570\u91cf:%s' % len(nodes)) ta=time.time() mData=[] tx = graph.begin() for n in nodes: if n['yhzgxdm']!='02': mData.append(Relationship(hz,'rel',n,relation=n['yhzgxmc'])) if len(mData)>0: A=Subgraph(relationships=mData) graph.create(A) tx.commit() print('over time:%s' % ((time.time()-ta))) else: print('\u6ca1\u6709\u6237\u4e3b\u7684\u975e\u6cd5\u6570\u636e') \u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb(\u4e0d\u63a8\u8350\uff0c\u4ec5\u4f9b\u53c2\u8003) \u8017\u65f6183\u79d2(\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u4fdd\u7559\u4e0b\u6765\u4f5c\u4e3a\u5176\u4ed6\u53ef\u80fd\u573a\u666f\u7684\u5e94\u7528) #\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb from py2neo import Graph import time from py2neo.bulk import create_nodes,merge_nodes,create_relationships from py2neo.matching import * graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) nodeM=NodeMatcher(graph) #\u627e\u4e00\u5bb6\u4eba hh='110101007156971' nodes=nodeM.match('Person',hh=hh).all() print('\u5bb6\u4eba\u6570\u91cf:%s' % len(nodes)) rels=\"38,68,10,45,51,63,52,99\".split(',') relsmc=\"\u513f\u5ab3,\u914d\u5076\u7684\u66fe\u7956\u7236\u6bcd,\u914d\u5076,(\u5916)\u5b59\u5ab3\u5987,\u7236\u4eb2,\u5916\u7956\u7236,\u6bcd\u4eb2,\u8fc1\u51fa\u6216\u6b7b\u4ea1\".split(',') ta=time.time() mData=[] for rel in range(len(rels)): relItem=rels[rel] relmcItem=relsmc[rel] print('relItem:%s mc:%s' % (relItem,relmcItem)) query=\"MATCH (p:Person{hh:'%s',yhzgxdm:'02'}),(p2:Person{hh:'%s',yhzgxdm:'%s'}) where p2['gmsfhm'] is not null MERGE (p)-[:rel{relation:'%s'}]->(p2)\" % (hh,hh,relItem,relmcItem) print(\"query:%s\" % query) graph.run(query) print('over use time:%s r:%s' % (round(time.time()-ta),r)) \u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u65b9\u5f0f\u521b\u5efa\u4eba\u8f66\u5173\u7cfb \u6b64\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u540c\u65f6\u64cd\u4f5c\u6570\u636e\u8fc7\u591a\u5e26\u6765\u7684\u5185\u5b58\u6ea2\u51fa\u7b49\u95ee\u9898\u3002 call apoc.periodic.iterate(\"match(v:Vehicle) return v\",\"match(p:Person{gmsfhm:v.sfzmhm}) merge (p)-[:car {relation:'\u8f66\u4e3b'}]->(v) return v\",{batchSize:10000,parallel:true}) \u6839\u636e\u6307\u5b9a\u6761\u4ef6\u67e5\u8be2N\u5c42\u5173\u7cfb\u4eba\u4ee5\u53ca\u5173\u7cfb\u6570\u636e-cypher\u65b9\u5f0f --\u67e5\u8be2idcard\u4e3a'idcard'\u7684\u4eba\u4e3a\u4e3b\u4f53\uff0c\u5e76\u8fd4\u56de\u51763\u5c42\u5173\u7cfb\u4eba\u4ee5\u53ca\u5173\u7cfb\u6570\u636e match data=(na:Person{idcard:'idcard'})-[*1..3]-(nb:Person) return data \u907f\u514d\u5185\u5b58\u6ea2\u51fa\u7684\u6e05\u7406\u6570\u636e\uff08\u5371\u9669\uff01\uff01\uff01\uff09 call apoc.periodic.iterate(\"match(p:Person) return p\",\"delete p return p\",{batchSize:10000, parallel:true}) cypher\u5c06Label\u6807\u7b7e\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6 match data=(na:Person)-[*1..3]-(nb) where any(label in labels(nb) WHERE label in ['Qb', 'Person']) and na.gmsfhm='123456' return data limit 100 cypher\u5c06\u591a\u5173\u7cfb\u3001\u591a\u6807\u7b7e\u548c\u53ef\u53d8\u6b65\u957f\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6 --\u67e5\u8be2idcard\u4e3a'123456'\u7684\u4eba\u4e3a\u4e3b\u4f53\uff0c\u5173\u7cfb\u4e3arel1\u548crel2 \u8282\u70b9\u6807\u7b7e\u4e3alabel1\u548clabel2 \u4e141-3\u5c42\u7684\u5173\u7cfb\u6570\u636e match data=(na:Person)-[:rel1|rel2*1..3]-(nb) where na.gmsfhm in ['123456']and any(label in labels(nb) WHERE label in ['label1','label2']) return data","title":"Neo4j\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#neo4j","text":"","title":"Neo4j\u76f8\u5173"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_1","text":"\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6241\u5e73\u5316\u5b58\u50a8+sql\u67e5\u8be2 \u4f18\u70b9\uff1a\u5b9e\u73b0\u7b80\u5355\u3001\u65e0\u989d\u5916\u5b66\u4e60\u6210\u672c\u3002 \u7f3a\u70b9\uff1a\u591a\u7ea7\u5173\u8054\u6570\u636e\u67e5\u8be2\u9ebb\u70e6\uff0c\u4e14\u53d7\u9650\u4e8e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8bbe\u8ba1\u539f\u7406\uff0c\u5bf9\u56fe\u6570\u636e\u6ca1\u6709\u4e13\u95e8\u7684\u4f18\u5316\uff0c\u5728\u67e5\u8be2\u591a\u7ea7\u5927\u91cf\u6570\u636e\u65f6\u6027\u80fd\u4e0d\u4f73\u3002 \u4e13\u7528\u7684\u56fe\u6570\u636e\u5e93\u4f8b\u5982neo4j \u4f18\u70b9\uff1a\u9488\u5bf9\u56fe\u8ba1\u7b97\u4e0e\u5b58\u50a8\u505a\u4e13\u95e8\u8bbe\u8ba1\u63d0\u9ad8\u5176\u6027\u80fd\uff0ccypher\u4e13\u7528\u67e5\u8be2\u8bed\u8a00\u8f83sql\u80fd\u66f4\u6e05\u695a\u7684\u8868\u8fbe\u56fe\u4e4b\u95f4\u7684\u5173\u7cfb\u3002 \u7f3a\u70b9\uff1a\u9700\u8981\u5b66\u4e60cypher\u67e5\u8be2\u8bed\u8a00\uff0c\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u4e5f\u4e0e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7565\u6709\u4e0d\u540c\u3002","title":"\u5173\u7cfb\u56fe\u8c31\u6280\u672f\u6f14\u8fdb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_2","text":"\u901a\u8fc7Neo4j\u5b9e\u73b0\u4eba\u5458\u7684\u6279\u91cf\u521b\u5efa\uff0c\u66f4\u65b0\uff08\u521b\u5efa\u540e\u5408\u5e76\uff09\uff0c\u5220\u9664\uff0c\u591a\u7ea7\u5173\u7cfb\u67e5\u8be2\u7b49","title":"\u5173\u7cfb\u56fe\u5b58\u50a8\u67e5\u8be2\u8ba1\u7b97\u89e3\u51b3\u65b9\u6848"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_3","text":"#\u4e3a\u4e86\u4fdd\u8bc1\u6027\u80fd\u4ee5\u53ca\u5927\u6570\u636e\u91cf\u64cd\u4f5c\u65f6\u5019\u4e0d\u5185\u5b58\u6ea2\u51fa\uff0c\u5728\u786e\u4fdd\u540c\u673a\u5668\u5176\u4ed6\u7ec4\u4ef6\u9700\u6c42\u7684\u60c5\u51b5\u4e0b\uff0c\u5c3d\u53ef\u80fd\u7ed9\u66f4\u591a\u7684\u53ef\u7528\u5185\u5b58 docker run -itd --name neo4j --restart=always -p 7474:7474 -p 7687:7687 -e=NEO4J_dbms_memory_pagecache_size=8G -e=NEO4J_dbms_memory_heap_initial__size=4G -e=NEO4J_dbms_memory_heap_max__size=32G -v /data/neo4j:/data neo4j:4.2.7 #\u4e0b\u8f7dapoc\u63d2\u4ef6\u4ee5\u63d0\u4f9b\u589e\u5f3a\u529f\u80fd\u652f\u6301\uff08\u6bd4\u5982\u5408\u5e76\u8282\u70b9\uff09\uff0c\u5730\u5740\uff1ahttps://github.com/neo4j-contrib/neo4j-apoc-procedures/releases \u7248\u672c\u53f7\u5982\u679c\u6ca1\u6709\u5b8c\u5168\u76f8\u540c\u7684\u9009\u62e9\u63a5\u8fd1\u7684\u4e5f\u53ef\u4ee5 cd /data/neo4j wget https://github.com/neo4j-contrib/neo4j-apoc-procedures/releases/download/4.2.0.4/apoc-4.2.0.4-all.jar #\u590d\u5236apoc*.jar\u5230\u5bb9\u5668\u4e2dneo4j\u76ee\u5f55\u7684plugins\u6587\u4ef6\u5939\u4e2d docker exec -it neo4j bash cp data/apoc-*.jar ./plugins/ #\u4fee\u6539conf/neo4j.conf\u914d\u7f6e\u6587\u4ef6\uff0c\u589e\u52a0\u5982\u4e0b\u4e24\u884c dbms.security.procedures.unrestricted=algo.* dbms.security.procedures.unrestricted=apoc.* #\u4fdd\u5b58\u540e\u91cd\u542f\u5bb9\u5668 docker restart neo4j","title":"\u793e\u533a\u7248\u642d\u5efa"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_4","text":"\u7d22\u5f15\u5efa\u7acb\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\uff0c\u4e00\u4e2a\u7d22\u5f15\u53ef\u4ee5\u5f88\u5927\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u5927\u89c4\u6a21\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6\u3002\uff08\u5728\u5bf9\u8282\u70b9\u6309\u7167name\u5c5e\u6027\u5efa\u7acb\u4e86\u7d22\u5f15\u4e4b\u540e\uff0c\u622a\u6b62\u6211\u5199\u8fd9\u7bc7blog\u7684\u65f6\u5019\uff0c\u6570\u636e\u91cf\u4e3a\u8282\u70b9600w+,\u5173\u7cfb1100w+\uff0c\u67e5\u8be2\u4e00\u4e2a\u8282\u70b9\u4ee5\u53ca\u76f8\u5173\u8054\u7684\u8282\u70b9\u5173\u7cfb\u6d88\u8017\u7684\u65f6\u95f4\u548c\u6570\u636e\u91cf\u5f88\u5c0f\u7684\u65f6\u5019\u51e0\u4e4e\u6ca1\u6709\u4ec0\u4e48\u5dee\u522b\uff0c\u57fa\u672c\u4e0a\u90fd\u7a33\u5b9a\u572816~20ms\u5de6\u53f3\u3002\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/a2497a33390f \uff09 \u4ee5\u4e0b\u6d89\u53ca\u6027\u80fd\u7684\u6d4b\u8bd5\u76f8\u5173\u7684\u673a\u5668\u914d\u7f6e\u5982\u4e0b:32G\u5185\u5b58 8\u6838\u5904\u7406\u5668 \u673a\u68b0\u786c\u76d8","title":"\u4f7f\u7528"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_5","text":"\u6279\u91cf\u521b\u5efa\u8282\u70b9\u91c7\u7528(\u7eaf\u65b0\u589e)\uff1a\u6279\u91cf\u521b\u5efa\u8282\u70b9\uff08\u6863\u6848\u8868\u8bfb\u53d6\uff09-\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u8282\u70b9\u91c7\u7528(\u65b0\u589e\u4ee5\u53ca\u5305\u542b\u66f4\u65b0)\uff1a\u901a\u8fc7\u8bc1\u4ef6\u53f7\u5408\u5e76\u65b9\u5f0f\u521b\u5efa-\u589e\u91cf\u66f4\u65b0\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u5173\u7cfb\u91c7\u7528\uff1a\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u5173\u7cfb\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f-\u63a8\u8350 \u6279\u91cf\u521b\u5efa\u5173\u7cfb\uff08\u590d\u6742\u7c7b\u578b\uff09\u91c7\u7528\uff1a\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u65b9\u5f0f\u521b\u5efa\u4eba\u8f66\u5173\u7cfb \u6279\u91cf\u5408\u5e76\u5b9e\u4f53\u8282\u70b9\u91c7\u7528\uff1a\u6839\u636e\u8bc1\u4ef6\u53f7\u7801\u5408\u5e76\u8282\u70b9-cypher\u65b9\u5f0f(\u4f9d\u8d56apoc\u63d2\u4ef6) \u6279\u91cf\u5408\u5e76\u91cd\u590d\u5173\u7cfb\uff08\u4e3b\u8981\u7531\u5408\u5e76\u8282\u70b9\u4ea7\u751f\uff09\uff1a\u5408\u5e76\u91cd\u590d\u5173\u7cfb-cypher\u65b9\u5f0f\uff08\u4f9d\u8d56apoc\u63d2\u4ef6\uff09","title":"\u6279\u91cf\u64cd\u4f5c\u6700\u4f73\u5b9e\u8df5"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_6","text":"#python dependson:pip install py2neo from py2neo import Graph from py2neo.bulk import create_nodes g = Graph(connectionInfoParam...) keys = [\"name\", \"age\"] data = [ [\"Alice\", 33], [\"Bob\", 44], [\"Carol\", 55], ] create_nodes(g.auto(), data, labels={\"Person\"}, keys=keys) g.nodes.match(\"Person\").count()","title":"\u6279\u91cf\u521b\u5efa\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#-","text":"\u5199\u51651\u4e07\u6761\u8017\u65f67\u79d2\uff0c\u5199\u5165\u64cd\u4f5c\u65f6\uff0c\u6d4b\u8bd5\u673a\u5668python\u548cjava\u8fdb\u7a0b\u7684cpu\u5360\u7528\u8f83\u9ad8\uff0c\u5185\u5b58\u5408\u8ba1\u5360\u75287GB\uff0c\u78c1\u76d8\u8bfb\u51991-3MB/S\uff0c\u521d\u6b65\u63a8\u6d4b\u9700\u8981\u63d0\u5347\u5199\u5165\u6027\u80fd\u7684\u8bdd\u9700\u8981\u5728cpu\u65b9\u9762\u6269\u5bb9\u3002 \u7ed3\u5408\u8f66\u8f86\u6863\u6848\u6570\u636e\u6d4b\u8bd5\u7ed3\u679c\uff1a21\u4e2a\u5b57\u6bb51\u4e07\u6761\u6570\u636e\u5199\u51654.5\u79d2 \uff08\u4eba\u7684\u6863\u684846\u4e2a\u5b57\u6bb57\u79d2\uff09\uff0c\u5c06\u5168\u91cf\u5b57\u6bb5\u653e\u5230\u6570\u636e\u4ed3\u5e93\u4e2d\uff0c\u56fe\u6570\u636e\u5e93\u4e2d\u53ea\u5b58\u5fc5\u8981\u7684\u67e5\u8be2\u4ee5\u53ca\u76f4\u63a5\u663e\u793a\u5b57\u6bb5\u53ef\u4ee5\u6709\u6548\u63d0\u5347\u5199\u5165\u901f\u5ea6\u3002 #py2neo \u7684bulk\u63a5\u53e3\u65b9\u5f0f from py2neo import Graph import psycopg2 from py2neo.bulk import create_nodes,merge_nodes from itertools import islice import time #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password hostipaddress port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=[] #\u8fde\u63a5neo4j graph = Graph(\"bolt://ipaddress:7687\", auth=(\"neo4j\", \"neo4jpassword\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=10000 if batch_size>limit: batch_size=limit try: cur.execute(sqls) print('query:%s' % sqls) data=cur.fetchmany(batch_size) ta0=time.time() cnt=0 while data: cnt=cnt+1 print('load data size:%s' % len(data)) for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes.append(p) if len(nodes)>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() create_nodes(graph.auto(),nodes,labels={'Person'}) nodes.clear() print(\"\u63d0\u4ea4 %s \u6b21\uff0c\u8017\u65f6:%s\u79d2\" % (cnt,round(time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if len(nodes)>0: create_nodes(graph.auto(),nodes,labels={'Person'}) nodes.clear() data=cur.fetchmany(batch_size) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\u79d2\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta0))) cur.close() db.close()","title":"\u6279\u91cf\u521b\u5efa\u8282\u70b9\uff08\u6863\u6848\u8868\u8bfb\u53d6\uff09-\u7eaf\u65b0\u589e\u63a8\u8350"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#-_1","text":"1\u4e07\u6761\u8017\u65f6283\u79d2 from py2neo import Graph import psycopg2 from py2neo.bulk import create_nodes,merge_nodes from itertools import islice import time #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxdm,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=[] #\u8fde\u63a5neo4j graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=10000 if batch_size>limit: batch_size=limit try: cur.execute(sqls) print('query:%s' % sqls) data=cur.fetchmany(batch_size) ta0=time.time() cnt=0 while data: cnt=cnt+1 print('load data size:%s' % len(data)) for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes.append(p) if len(nodes)>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() merge_nodes(graph.auto(),nodes,('Person','gmsfhm'),labels={'Person'}) nodes.clear() print(\"\u63d0\u4ea4 %s \u6b21\uff0c\u8017\u65f6:%s\u79d2\" % (cnt,round(time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if len(nodes)>0: merge_nodes(graph.auto(),nodes,('Person','gmsfhm'),labels={'Person'}) nodes.clear() data=cur.fetchmany(batch_size) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\u79d2\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta0))) cur.close() db.close()","title":"\u901a\u8fc7\u8bc1\u4ef6\u53f7\u5408\u5e76\u65b9\u5f0f\u521b\u5efa-\u589e\u91cf\u66f4\u65b0\u63a8\u8350"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#apoc","text":"\u5199\u51651000\u6761\u8017\u65f6217\u79d2\uff0c\u4e0d\u63a8\u8350 #\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u521b\u5efa from py2neo import Graph import psycopg2 from itertools import islice import time import simplejson def custJson(d): s=\"{\" if len(d)>0: for k in d: if d[k]: s=s+k+':\"'+d[k]+'\",' else: s=s+k+':\"\",' if len(s)>2: return s[0:-1]+'}' else: return '{}' else: return '{}' #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=1_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=\"[\" #\u8fde\u63a5neo4j graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) #\u591a\u5c11\u6761\u6570\u636e\u4fdd\u5b58\u4e00\u6b21 batch_size=1000 cnt=0 try: cur.execute(sqls) data=cur.fetchall() for d in data: p={'xm':''} for i in range(len(keyss)): p[keyss[i]]=d[i] nodes=nodes+custJson(p)+',' cnt=cnt+1 # print(nodes) if cnt>=batch_size: #\u542f\u52a8\u8282\u70b9\u521b\u5efa ta=time.time() graph.run('call apoc.create.nodes([\"Person\"],%s)' % (nodes[0:-1]+']')) nodes='[' cnt=0 print('\u8017\u65f6:%s' % ((time.time()-ta))) #\u542f\u52a8\u4e00\u4e2a\u81ea\u52a8\u63d0\u4ea4\u7684\u4e8b\u52a1 if cnt>0: graph.run('call apoc.create.nodes([\"Person\"],%s)' % (nodes[0:-1]+']')) nodes='[' cnt=0 # merge_nodes(graph.auto(),) except(IOError): print('\u53d1\u751f\u9519\u8bef') print(\"neo4j\u4e2d\u6709%s\u6761\u6570\u636e,\u603b\u8017\u65f6:%s\" % (str(graph.nodes.match('Person').count()),round(time.time()-ta))) cur.close() db.close()","title":"\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u521b\u5efa\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_7","text":"\u8017\u65f6\u548cpy2neo\u7684\u6279\u91cf\u63a5\u53e3create_nodes\u57fa\u672c\u4e00\u6837 #\u901a\u8fc7subgraph\u52a0\u4e8b\u52a1\u6279\u91cf\u521b\u5efa\u8282\u70b9 from py2neo import Graph,Node,Subgraph import psycopg2 from itertools import islice import time import simplejson def custJson(d): s=\"{\" if len(d)>0: for k in d: if d[k]: s=s+k+':\"'+d[k]+'\",' else: s=s+k+':\"\",' if len(s)>2: return s[0:-1]+'}' else: return '{}' else: return '{}' #\u8bfb\u53d6\u4eba\u5458\u6863\u6848\u6570\u636e db=psycopg2.connect(\"dbname=demo user=postgres password=password host=ip port=5432\") cur=db.cursor() keys=\"gmsfhm,xm,xbmc,mzmc,xxmc,jggjmc,jgssxmc,csdjgmc,csdssxmc,csdxz,hjdpcsmc,hjdxz,xzz,lxdh,zzmmmc,zw,zy,byzkmc,whcdmc,hyzkmc,zjxymc,hklxmc,hkxzmc,hh,yhzgxmc,fqgmsfhm,fqxm,mqgmsfhm,mqxm,pogmsfhm,poxm,idcard_url,province,city,country\" keyss=keys.split(',') limit=10_000 #\u56fa\u5b9a\u8bfb\u53d6N\u6761\u6570\u636e\u7528\u6765\u6d4b\u8bd5\u5408\u5e76\u8282\u70b9 # sqls=\"select \"+keys+\" from czrkjbxx order by hh limit \"+str(limit) #\u968f\u673a\u8bfb\u53d6N\u6761\u6570\u636e sqls=\"select \"+keys+\" from czrkjbxx order by hh asc offset floor(random()*1000) limit \"+str(limit) nodes=\"[\" #\u8fde\u63a5neo4j graph = Graph(\"bolt://ipaddress:7687\", auth=(\"neo4j\", \"password\")) tx = graph.begin() nodes=[] cur.execute(sqls) data=cur.fetchall() ta=time.time() for line in data: oneNode = Node() for ki in range(len(keyss)): k=keyss[ki] oneNode[k]=line[ki] nodes.append(oneNode) nodes=Subgraph(nodes) tx.create(nodes) tx.commit() print('\u8017\u65f6:%s' % ((time.time()-ta)))","title":"\u901a\u8fc7\u5b50\u56fe\u65b9\u5f0f\u6279\u91cf\u521b\u5efa\u8282\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#-cypherapoc","text":"2\u4e07\u6761\u6570\u636e\uff0c\u5b9e\u9645\u67091\u4e07\u6761\u4e0d\u91cd\u590d\u6570\u636e\uff0c\u6267\u884c\u8017\u65f62\u79d2\uff0c\u63a8\u8350 190\u4e07\u6570\u636e\u5b9e\u9645\u4e0d\u91cd\u590d\u7684100\u4e07\uff0c\u6267\u884c\u65f6\u95f44\u79d2 --cypher \u8bed\u6cd5\u5b9e\u73b0 match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 call apoc.refactor.mergeNodes(nodelist,{properties:\"combine\",mergeRels:true}) yield node return node","title":"\u6839\u636e\u8bc1\u4ef6\u53f7\u7801\u5408\u5e76\u8282\u70b9-cypher\u65b9\u5f0f(\u4f9d\u8d56apoc\u63d2\u4ef6)"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#-cypherapoc_1","text":"MATCH (a:Person)-[r:rel]-(b:Person) WITH a, b, collect(r) as rels CALL apoc.refactor.mergeRelationships(rels) YIELD rel RETURN count(rel) --\u5982\u679c\u6709\u592a\u591a\u91cd\u590d\u6570\u636e\u6700\u597d\u6bcf\u6b21\u53ea\u5904\u7406\u4e00\u90e8\u5206\uff0c\u907f\u514d\u5168\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u9020\u6210\u5185\u5b58\u6ea2\u51fa\uff0c\u5982\u4e0b match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 call apoc.refactor.mergeNodes(nodelist) yield node return node limit 10000 --\u67e5\u8be2\u6709\u591a\u5c11\u7ec4\u91cd\u590d\u6570\u636e match(p:Person) with p.gmsfhm as sfz,collect(p) as nodelist,count(*) as cnt where cnt>1 return count(nodelist)","title":"\u5408\u5e76\u91cd\u590d\u5173\u7cfb-cypher\u65b9\u5f0f\uff08\u4f9d\u8d56apoc\u63d2\u4ef6\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#-python","text":"2\u4e07\u6761\u6570\u636e\uff0c\u5b9e\u9645\u67091\u4e07\u6761\u4e0d\u91cd\u590d\u6570\u636e\uff0c\u6267\u884c\u8017\u65f6365\u79d2\uff0c\u4e0d\u63a8\u8350 #\u5408\u5e76 from py2neo import Graph import time from py2neo.bulk import create_nodes,merge_nodes graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) print(\"count:\"+str(graph.nodes.match('Person').count())) nodes=graph.nodes.match('Person') # mdata=[] # for n in nodes: # mdata.append({'gmsfhm':n['gmsfhm']}) # print(mdata[0]) ta=time.time() merge_nodes(tx=graph.auto(),data=nodes,merge_key=('Person','gmsfhm')) print(\"using time:\"+str(round(time.time()-ta))) print(\"count:\"+str(graph.nodes.match('Person').count()))","title":"\u6839\u636e\u8bc1\u4ef6\u53f7\u5408\u5e76\u8282\u70b9-python\u65b9\u5f0f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#cql","text":"CREATE INDEX ON:Person(hh) --\u521b\u5efa\u591a\u5b57\u6bb5\u7684\u8bdd\u4f7f\u7528\u65f6\u5019\u5fc5\u987b\u4e5f\u4f20\u591a\u5b57\u6bb5 CREATE INDEX ON:Person(gmsfhm) --\u67e5\u770b\u7d22\u5f15 :schema --\u5220\u9664\u7d22\u5f15 DROP INDEX ON :Person(gmsfhm,hh)","title":"\u7d22\u5f15\uff08cql\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#-_2","text":"\u8017\u65f60.04\u79d2\uff0c\u5b9e\u6d4b\u91cd\u590d\u6267\u884c\u4e0d\u4f1a\u5bfc\u81f4\u5efa\u7acb\u591a\u4e2a\u91cd\u590d\u5173\u7cfb #\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb-\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f(\u63a8\u8350) from py2neo import Graph,Relationship,Subgraph import time from py2neo.matching import * graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) nodeM=NodeMatcher(graph) #\u627e\u4e00\u5bb6\u4eba hh='361024002267449' nodes=nodeM.match('Person',hh=hh).all() hz=nodeM.match('Person',hh=hh,yhzgxdm='02').first() print(hz) if hz: print('\u5bb6\u4eba\u6570\u91cf:%s' % len(nodes)) ta=time.time() mData=[] tx = graph.begin() for n in nodes: if n['yhzgxdm']!='02': mData.append(Relationship(hz,'rel',n,relation=n['yhzgxmc'])) if len(mData)>0: A=Subgraph(relationships=mData) graph.create(A) tx.commit() print('over time:%s' % ((time.time()-ta))) else: print('\u6ca1\u6709\u6237\u4e3b\u7684\u975e\u6cd5\u6570\u636e')","title":"\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u5173\u7cfb\u5b50\u56fe\u4e8b\u52a1\u65b9\u5f0f-\u63a8\u8350"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_8","text":"\u8017\u65f6183\u79d2(\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u4fdd\u7559\u4e0b\u6765\u4f5c\u4e3a\u5176\u4ed6\u53ef\u80fd\u573a\u666f\u7684\u5e94\u7528) #\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb from py2neo import Graph import time from py2neo.bulk import create_nodes,merge_nodes,create_relationships from py2neo.matching import * graph = Graph(\"bolt://ip:7687\", auth=(\"neo4j\", \"password\")) nodeM=NodeMatcher(graph) #\u627e\u4e00\u5bb6\u4eba hh='110101007156971' nodes=nodeM.match('Person',hh=hh).all() print('\u5bb6\u4eba\u6570\u91cf:%s' % len(nodes)) rels=\"38,68,10,45,51,63,52,99\".split(',') relsmc=\"\u513f\u5ab3,\u914d\u5076\u7684\u66fe\u7956\u7236\u6bcd,\u914d\u5076,(\u5916)\u5b59\u5ab3\u5987,\u7236\u4eb2,\u5916\u7956\u7236,\u6bcd\u4eb2,\u8fc1\u51fa\u6216\u6b7b\u4ea1\".split(',') ta=time.time() mData=[] for rel in range(len(rels)): relItem=rels[rel] relmcItem=relsmc[rel] print('relItem:%s mc:%s' % (relItem,relmcItem)) query=\"MATCH (p:Person{hh:'%s',yhzgxdm:'02'}),(p2:Person{hh:'%s',yhzgxdm:'%s'}) where p2['gmsfhm'] is not null MERGE (p)-[:rel{relation:'%s'}]->(p2)\" % (hh,hh,relItem,relmcItem) print(\"query:%s\" % query) graph.run(query) print('over use time:%s r:%s' % (round(time.time()-ta),r))","title":"\u6839\u636e\u6237\u53f7\u521b\u5efa\u4e00\u5bb6\u4eba\u7684\u5173\u7cfb(\u4e0d\u63a8\u8350\uff0c\u4ec5\u4f9b\u53c2\u8003)"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#apoc_1","text":"\u6b64\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u540c\u65f6\u64cd\u4f5c\u6570\u636e\u8fc7\u591a\u5e26\u6765\u7684\u5185\u5b58\u6ea2\u51fa\u7b49\u95ee\u9898\u3002 call apoc.periodic.iterate(\"match(v:Vehicle) return v\",\"match(p:Person{gmsfhm:v.sfzmhm}) merge (p)-[:car {relation:'\u8f66\u4e3b'}]->(v) return v\",{batchSize:10000,parallel:true})","title":"\u901a\u8fc7apoc\u63d2\u4ef6\u6279\u91cf\u65b9\u5f0f\u521b\u5efa\u4eba\u8f66\u5173\u7cfb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#n-cypher","text":"--\u67e5\u8be2idcard\u4e3a'idcard'\u7684\u4eba\u4e3a\u4e3b\u4f53\uff0c\u5e76\u8fd4\u56de\u51763\u5c42\u5173\u7cfb\u4eba\u4ee5\u53ca\u5173\u7cfb\u6570\u636e match data=(na:Person{idcard:'idcard'})-[*1..3]-(nb:Person) return data","title":"\u6839\u636e\u6307\u5b9a\u6761\u4ef6\u67e5\u8be2N\u5c42\u5173\u7cfb\u4eba\u4ee5\u53ca\u5173\u7cfb\u6570\u636e-cypher\u65b9\u5f0f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#_9","text":"call apoc.periodic.iterate(\"match(p:Person) return p\",\"delete p return p\",{batchSize:10000, parallel:true})","title":"\u907f\u514d\u5185\u5b58\u6ea2\u51fa\u7684\u6e05\u7406\u6570\u636e\uff08\u5371\u9669\uff01\uff01\uff01\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#cypherlabel","text":"match data=(na:Person)-[*1..3]-(nb) where any(label in labels(nb) WHERE label in ['Qb', 'Person']) and na.gmsfhm='123456' return data limit 100","title":"cypher\u5c06Label\u6807\u7b7e\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j/#cypher","text":"--\u67e5\u8be2idcard\u4e3a'123456'\u7684\u4eba\u4e3a\u4e3b\u4f53\uff0c\u5173\u7cfb\u4e3arel1\u548crel2 \u8282\u70b9\u6807\u7b7e\u4e3alabel1\u548clabel2 \u4e141-3\u5c42\u7684\u5173\u7cfb\u6570\u636e match data=(na:Person)-[:rel1|rel2*1..3]-(nb) where na.gmsfhm in ['123456']and any(label in labels(nb) WHERE label in ['label1','label2']) return data","title":"cypher\u5c06\u591a\u5173\u7cfb\u3001\u591a\u6807\u7b7e\u548c\u53ef\u53d8\u6b65\u957f\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/","text":"pipelinedb\u6d41\u5f0f\u6570\u636e\u5e93\u4ecb\u7ecd PipelineDB\u662f\u4e00\u4e2a\u7528\u4e8e\u5728\u65f6\u5e8f\u6570\u636e\u4e0a\u6301\u7eed\u6267\u884cSQL\u67e5\u8be2\u7684\u9ad8\u6027\u80fdPostgreSQL\u63d2\u4ef6\u3002SQL\u67e5\u8be2\u7684\u8f93\u51fa\u88ab\u6301\u4e45\u5316\u5230\u666e\u901a\u7684\u8868\u4e2d\uff0c\u53ef\u4ee5\u50cf\u5176\u5b83\u7684\u8868\u6216\u89c6\u56fe\u4e00\u6837\u8fdb\u884c\u67e5\u8be2\u3002\u53ef\u4ee5\u8ba4\u4e3a\u6301\u7eed\u67e5\u8be2\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u9ad8\u541e\u5410\u91cf\u5e76\u4e14\u5feb\u901f\u66f4\u65b0\u7684\u7269\u5316\u89c6\u56fe\u3002PipelineDB\u53ef\u4ee5\u5728\u67d0\u4e9b\u4efb\u52a1\u573a\u666f\u4e0b\u8868\u73b0\u5f97\u5341\u5206\u4f18\u79c0\uff0c\u82e5\u8d85\u51fa\u8fd9\u4e2a\u8303\u7574\uff0c\u53ef\u80fd\u5c31\u4f1a\u540c\u5176\u5b83\u6570\u636e\u5904\u7406\u7cfb\u7edf\u4e00\u6837\u9762\u4e34\u4e00\u4e9b\u95ee\u9898\u3002 pipelinedb\u8fd0\u884c\u539f\u7406 \u6bd4\u5982\u8bf4\u6211\u4eec\u7528\u8fd9\u4e2apipelinedb\u662f\u8981\u505a\u4e00\u4ef6\u4e8b\uff1a\u6211\u4eec\u8981\u591a\u7ef4\u5ea6\u5b9e\u65f6\u7edf\u8ba1\u4e00\u4e2a\u5927\u6570\u636e\u96c6\uff0c\u4f20\u7edf\u65b9\u6cd5\u662f\u628a\u6570\u636e\u5b58\u5230\u8868\u4e2d\uff0c\u67e5\u8868\u7edf\u8ba1\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u592a\u6162\u4e86\uff0c\u4e8e\u662f\u4f60\u5c31\u9700\u8981\u7528\u5230pipelinedb\u4e86\uff0c\u5b83\u7701\u53bb\u4e86\u4f60\u628a\u6570\u636e\u5b58\u5165\u8868\u4e2d\u7684\u8fd9\u4e2a\u6b65\u9aa4\uff0c\u901a\u8fc7\u4e00\u4e2a\u7c7b\u4f3c\u7ba1\u9053\u7684\u4e1c\u897f\u628a\u6570\u636e\u4ea4\u7ed9\u5185\u5b58\u6765\u76f4\u63a5\u8ba1\u7b97\uff0c\u53ea\u4fdd\u5b58\u7edf\u8ba1\u7ed3\u679c\uff0c\u8fc7\u7a0b\u975e\u5e38\u5feb\uff0c\u4e0e\u5404\u79cd\u7edf\u8ba1\u9700\u6c42\u662f\u7edd\u914d\u3002 \u5b98\u65b9\u6587\u6863\uff1ahttps://pipelinedb-doc-cn.readthedocs.io/zh_CN/latest/introduction.html PipelineDB\u7684\u957f\u5904 PipelineDB\u88ab\u8bbe\u8ba1\u7528\u6765\u5728\u7cbe\u7b80\u540e\u7684\u6d41\u5f0f\u6570\u636e\u96c6\u4e0a\u8fdb\u884cSQL\u67e5\u8be2\u3002\u6bd4\u5982\uff1a\u6982\u8981\u548c\u805a\u5408\uff1b\u57fa\u4e8e\u6ed1\u52a8\u65f6\u95f4\u7a97\u53e3\u7684\u6027\u80fd\u8ba1\u7b97\uff1b\u6587\u672c\u7d22\u5f15\u548c\u8fc7\u6ee4\uff1b\u7a7a\u95f4\u4fe1\u606f\u8fc7\u6ee4\u7b49\u3002\u901a\u8fc7\u51cf\u5c11\u6d41\u6570\u636e\u7684\u8f93\u5165\uff0cPipelineDB\u53ef\u4ee5\u663e\u8457\u5730\u51cf\u5c11\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e2d\u7684\u6570\u636e\u91cf\uff0c\u56e0\u4e3a\u4e4b\u540e\u805a\u5408\u540e\u7684\u7ed3\u679c\u88ab\u5b58\u50a8\u4e0b\u6765\u3002\u539f\u59cb\u6570\u636e\uff08foreign table\uff09\u4e00\u65e6\u88ab\u9700\u8981\u5b83\u7684\u6301\u7eed\u67e5\u8be2\u8bfb\u53d6\u540e\u5c31\u4f1a\u88ab\u9500\u6bc1\u3002 \u5927\u591a\u6570\u5199\u5165\u5230PipelineDB\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u89c6\u4e3a \u865a\u62df\u6570\u636e\u3002\u6570\u636e\u865a\u62df\u5316\u662fPipelineDB\u8bbe\u8ba1\u7684\u7cbe\u9ad3\uff0c\u51ed\u7740\u8fd9\u79cd\u8bbe\u8ba1\uff0cPipelineDB\u53ef\u4ee5\u53ea\u5360\u7528\u8f83\u5c0f\u7684\u786c\u4ef6\u8d44\u6e90\u5b9e\u73b0\u9ad8\u6548\u7684\u5927\u6570\u636e\u91cf\u5904\u7406\u3002 PipelineDB\u7684\u76ee\u6807\u662f\u6d88\u9664\u8bb8\u591a\u6570\u636e\u4f20\u8f93\u4e2d\u7684ETL\u8fc7\u7a0b\u3002\u539f\u59cb\u6570\u636e\u6d41\u5f0f\u5199\u5165PipelineDB\uff0c\u88ab\u5df2\u58f0\u660e\u7684\u6d41\u5f0f\u67e5\u8be2\u5b9e\u65f6\u5730\u8f6c\u6362\u548c\u63d0\u53d6\uff0c\u8fd9\u4f7f\u5f97\u5b83\u5728\u5c06\u6210\u578b\u7684\u8f93\u51fa\u52a0\u8f7d\u5230\u6570\u636e\u5e93\u524d\u4e0d\u5fc5\u5468\u671f\u6027\u5730\u5904\u7406\u9897\u7c92\u6570\u636e\uff0c\u524d\u63d0\u662f\u8fd9\u4e9b\u5904\u7406\u8fc7\u7a0b\u53ef\u4ee5\u901a\u8fc7SQL\u5b9a\u4e49\u3002 \u5728PipelineDB\u7684\u8bbe\u8ba1\u7406\u5ff5\u4e2d\uff0c\u5b9e\u7528\u6027\u662f\u7b2c\u4e00\u8981\u7d20\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5c06\u5176\u5305\u88c5\u4e3aPostgreSQL\u63d2\u4ef6\u7684\u539f\u56e0\u3002\u6240\u6709\u6570\u636e\u5b58\u50a8\u548c\u5904\u7406\u90fd\u4ea4\u7531PostgreSQL\uff1a\u4e00\u4e2a\u6781\u5176\u7a33\u5b9a\u3001\u6210\u719f\u4ee5\u53ca\u8fd0\u7528\u5e7f\u6cdb\u7684\u6570\u636e\u5e93\u3002\u6b64\u5916\uff0cPipelineDB\u517c\u5bb9\u6d3b\u8dc3\u7684PostgreSQL\u751f\u6001\u4e2d\u7684\u6240\u6709\u5de5\u5177\u3002\u6211\u4eec\u6ca1\u6709\u4e3aPipelineDB\u8bbe\u8ba1\u7279\u6709\u7684\u8bed\u6cd5\u751a\u81f3\u662f\u5ba2\u6237\u7aef\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u5f88\u597d\u5730\u517c\u5bb9\u4efb\u4f55\u57fa\u4e8ePostgreSQL\u5f00\u53d1\u7684\u5e93\u3002 PipelineDB\u7684\u77ed\u677f \u9274\u4e8e\u6d41\u67e5\u8be2\u9700\u8981\u4e00\u4e9b \u5148\u9a8c\u77e5\u8bc6\uff0cPipelineDB\u4e0d\u662f\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\u636e\u4ed3\u5e93\u3002\u6d41\u5f0f\u67e5\u8be2\u7684\u8f93\u51fa\u53ef\u80fd\u5728\u7279\u5b9a\u65b9\u5f0f\u4e0b\u88ab\u8bbf\u95ee\uff0c\u6240\u6709\u5199\u5165\u5230PipelineDB\u4e2d\u7684\u539f\u59cb\u6570\u636e\u90fd\u4e0d\u4f1a\u88ab\u6301\u4e45\u5316\u56e0\u4e3a\u5b83\u4eec\u90fd\u4f1a\u5728\u8bfb\u53d6\u540e\u88ab\u9500\u6bc1\u3002\u6b64\u5916\uff0c\u5982\u679c\u6d41\u5f0f\u8ba1\u7b97\u4e0d\u80fd\u4ee5SQL\u7684\u5f62\u5f0f\u8868\u8fbe\uff0cPipelineDB\u53ef\u80fd\u5e76\u4e0d\u662f\u4e00\u4e2a\u5408\u9002\u7684\u9009\u62e9\uff01 \u529f\u80fd \u6d41\uff08foreign table\uff09 \u6d41\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u5c06\u65f6\u5e8f\u6570\u636e\u5199\u5165 \u6d41\u89c6\u56fe \u7684\u62bd\u8c61\u7ba1\u9053\u3002\u6d41\u91cc\u9762\u7684\u4e00\u884c\u6570\u636e\uff08\u6216\u8005\u7b80\u5355\u79f0\u4f5c event\uff09\uff0c\u4e0e\u6570\u636e\u8868\u4e2d\u7684\u884c\u6570\u636e\u662f\u5f88\u76f8\u4f3c\u7684\uff0c\u5e76\u4e14\u4e8c\u8005\u7684\u5199\u5165\u4e5f\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u7136\u800c\uff0c\u6d41\u548c\u6570\u636e\u8868\u7684\u8bed\u4e49\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u3002 \u6362\u8a00\u4e4b\uff0cevent \u53ea\u4f1a\u5728\u88ab\u6240\u6709\u7684 \u6d41\u89c6\u56fe \u6d88\u8d39\u5b8c\u4e4b\u524d\u201c\u5b58\u5728\u201d\u4e8e\u6d41\u4e2d\u3002\u5373\u4f7f\u8fd9\u6837\uff0c\u7528\u6237\u4ecd\u7136\u4e0d\u80fd\u76f4\u63a5\u4ece\u6d41\u4e2d SELECT \u6570\u636e\u3002\u6d41\u552f\u4e00\u7684\u4f5c\u7528\u5c31\u662f\u5145\u5f53 \u6d41\u89c6\u56fe \u7684\u8f93\u5165\u3002 \u6d41\u89c6\u56fe \u6d41\u89c6\u56fe\uff08continuous view\uff09\u662fPipelineDB\u7684\u57fa\u7840\u6982\u5ff5\u62bd\u8c61\u3002\u6d41\u89c6\u56fe\u8ddf\u666e\u901a\u7684\u6570\u636e\u5e93\u89c6\u56fe\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5b83\u662f\u5c06\u6d41\u548c\u8868\u4e2d\u7684\u6570\u636e\u7ec4\u5408\u540e\u4f5c\u4e3a\u8f93\u5165\u5e76\u8fdb\u884c\u5b9e\u65f6\u589e\u91cf\u66f4\u65b0\u3002 \u6d41\u6570\u636e\u4e00\u65e6\u88ab\u6d41\u89c6\u56fe\u8bfb\u53d6\u540e\u5c31\u4f1a\u88ab\u9500\u6bc1\uff0c\u6d41\u6570\u636e\u4e0d\u4f1a\u5b58\u50a8\u5728\u4efb\u4f55\u5730\u65b9\u3002\u53ea\u6709\u8bf8\u5982 SELECT * FROM that_view \u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u624d\u4f1a\u88ab\u6301\u4e45\u5316\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6d41\u89c6\u56fe\u53ef\u4ee5\u88ab\u89c6\u4e3a\u9ad8\u541e\u5410\u91cf\u3001\u5b9e\u65f6\u7684\u7269\u5316\u89c6\u56fe\u3002 \u6d41\u8f6c\u6362 \u6d41\u8f6c\u6362\u53ef\u4ee5\u5728\u4e0d\u5b58\u50a8\u65f6\u5e8f\u7684\u60c5\u51b5\u4e0b\u5bf9\u5176\u8fdb\u884c\u5b9e\u65f6\u8f6c\u6362\u3002\u7531\u4e8e\u6570\u636e\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u6240\u4ee5\u6d41\u8f6c\u6362\u4e0d\u652f\u6301\u805a\u5408\u64cd\u4f5c\u3002\u8f6c\u6362\u540e\u7684\u6570\u636e\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u6d41\u7684\u8f93\u5165\uff0c\u4e5f\u53ef\u4ee5\u5199\u5165\u5230\u5916\u90e8\u6570\u636e\u5b58\u50a8\u4e2d\u3002 \u6d41\u805a\u5408 PipelineDB\u6700\u6838\u5fc3\u7684\u8ffd\u6c42\u4e4b\u4e00\u5c31\u662f \u4fc3\u8fdb\u9ad8\u6027\u80fd\u7684\u8fde\u7eed\u805a\u5408\uff0c\u6240\u4ee5\u805a\u5408\u51fd\u6570\u6beb\u65e0\u7591\u95ee\u662fPipelineDB\u7684\u6838\u5fc3\u529f\u80fd\u3002\u8fde\u7eed\u805a\u5408\u5728\u5927\u591a\u6570\u901a\u7528\u573a\u666f\u662f\u975e\u5e38\u6709\u7528\u7684\uff0c\u5b83\u4f7f\u5f97PipelineDB\u4e2d\u6301\u4e45\u5316\u7684\u6570\u636e\u59cb\u7ec8\u4e0e\u5199\u5165\u7684\u6570\u636e\u4fdd\u6301\u540c\u6b65\u3002\u5b83\u53ef\u4ee5\u901a\u8fc7\u4e00\u5b9a\u7684\u786c\u4ef6\u5b9e\u73b0\u7a33\u5b9a\u548c\u9ad8\u541e\u5ea6\u91cf\u7684\u670d\u52a1\u3002 \u8fde\u7eed\u805a\u5408\u662f\u968f\u7740\u6d41\u89c6\u56fe\u65b0 event \u7684\u751f\u6210\u5b9e\u65f6 \u589e\u91cf\u66f4\u65b0\u7684\u3002\u5bf9\u4e8e\u5982 count \u548c sum \u4e4b\u7c7b\u7684\u7b80\u5355\u805a\u5408\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u7406\u89e3\u7ed3\u679c\u662f\u5982\u4f55\u589e\u91cf\u66f4\u65b0\u7684\u2013\u5c06\u65b0\u503c\u7d2f\u52a0\u5230\u5df2\u6709\u7ed3\u679c\u4e0a\u800c\u5df2\u3002 \u4f46\u5bf9\u66f4\u52a0\u590d\u6742\u7684\u805a\u5408\u800c\u8a00\uff0c\u5982 avg, stddev, percentile_cont \u7b49\uff0c\u9700\u8981\u66f4\u4f18\u5316\u7684\u67b6\u6784\u6765\u652f\u6301\u9ad8\u6548\u7684\u589e\u91cf\u66f4\u65b0\uff0cPipelineDB\u5728\u5185\u90e8\u81ea\u52a8\u5b9e\u73b0\u4e86\u8fd9\u4e9b\u590d\u6742\u7684\u903b\u8f91\u3002 \u6d41\u5173\u8054 \u6d41\u89c6\u56fe \u7684\u5e76\u975e\u53ea\u9760select \u6d41\uff08foreign table\uff09 \u4ea7\u751f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c06\u8f93\u5165\u7684\u65f6\u5e8f\u6570\u636e\u548c\u9759\u6001\u7684PipelineDB\u6570\u636e\u8868\u7ec4\u5408\u540e\u5f97\u5230\uff0c\u8fd9\u53ef\u4ee5\u7528\u79f0\u4f5c\u6d41-\u8868\u5173\u8054\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002 \u6d41-\u8868\u5173\u8054 \u6d41-\u8868\u5173\u8054\u5728 event\u5230\u8fbe\u65f6 \u5c06\u5176\u4e0e\u8868\u4e2d\u5339\u914d\u7684\u884c\u6570\u636e\u7ec4\u5408\u3002\u6362\u8a00\u4e4b\uff0c\u5982\u679c\u5728\u8868\u6570\u636e\u5728 event \u88ab\u8bfb\u53d6\u540e\u624d\u88ab\u63d2\u5165\uff0c\u5373\u4f7f\u662f\u5339\u914d\u7684\uff0c\u4e5f\u4e0d\u4f1a\u5bf9\u6d41\u89c6\u56fe\u4ea7\u751f\u5f71\u54cd\u3002\u65b0\u6570\u636e\u53ea\u4f1a\u5728 event\u88ab\u8bfb\u53d6\u65f6 \u4ea7\u751f\u3002\u5373\u4f7f\u6d41-\u8868\u5173\u8054\u4e2d\u7684\u8868\u88ab\u6e05\u7a7a\u4e86\uff0c\u6d41\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u53d8\u5316\u3002 \u6d41-\u6d41\u5173\u8054 \u76ee\u524d\u4e0d\u652f\u6301\u6d41\u4e4b\u95f4\u7684\u5173\u8054\uff0c\u8fd9\u4e2a\u529f\u80fd\u53ef\u80fd\u4f1a\u51fa\u73b0\u5728\u5c06\u6765\u7684\u7248\u672c\u4e2d\u3002 \u8bd1\u8005\u6ce8\uff1a 2019\u5e745\u67081\u65e5\uff0cPipelineDB\u516c\u53f8\u5ba3\u5e03\u52a0\u5165Confluent\uff08Kafka\u7684\u516c\u53f8\uff09\uff0c\u5b98\u65b9\u7248\u5c06\u4f1a\u505c\u7559\u57281.0.0\uff0c\u8be6\u60c5\u89c1 \u5b98\u65b9\u62a5\u9053(https://www.pipelinedb.com/blog/pipelinedb-is-joining-confluent)\u3002 pipelinedb\u4f5c\u8005\u7ed9\u51fa\u5efa\u8bae\uff1a1\u3001\u4f7f\u7528confluent\u7684ksql\uff08\u5546\u4e1a\u8f6f\u4ef6\uff09\u4ee3\u66ffpipelinedb 2\u3001\u5982\u679c\u8fd8\u662f\u949f\u7231pg\u7cfb\u5217\uff0ctimescaledb \u6269\u5c55\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9 \u6ed1\u52a8\u7a97\u53e3 \u7531\u4e8e \u6d41\u89c6\u56fe \u662f\u5b9e\u65f6\u589e\u91cf\u66f4\u65b0\u7684\uff0cPipelineDB\u53ef\u4ee5\u5728\u66f4\u65b0\u6d41\u89c6\u56fe\u7ed3\u679c\u96c6\u65f6\u8003\u8651\u5f53\u524d\u65f6\u95f4\u3002WHERE \u5b50\u53e5\u4e2d\u5305\u542b\u4e0e \u5f53\u524d\u65f6\u95f4 \u76f8\u5173\u4fe1\u606f\u7684\u67e5\u8be2\u88ab\u79f0\u4f5c \u6ed1\u52a8\u7a97\u53e3\u67e5\u8be2\u3002\u6ed1\u52a8\u7684 WHERE \u5b50\u53e5\u8fc7\u6ee4\u6216\u63a5\u6536\u5230\u7684 event \u96c6\u5408\u662f\u968f\u65f6\u95f4\u6301\u7eed\u53d8\u5316\u7684\u3002 \u5185\u7f6e\u51fd\u6570 \u6211\u4eec\u52aa\u529b\u4fdd\u8bc1PipelineDB\u540cPostgreSQL\u768410.1+\u548c11.0+\u7248\u672c\u4fdd\u6301\u5b8c\u5168\u517c\u5bb9\u3002\u56e0\u6b64\uff0c\u6240\u6709 PostgreSQL\u5185\u7f6e\u51fd\u6570 \u90fd\u53ef\u4ee5\u76f4\u63a5\u5728PipelineDB\u4e2d\u4f7f\u7528\u3002 PipelineDB\u7279\u6709\u51fd\u6570 \u5177\u4f53\u67e5\u770b\uff1ahttps://pipelinedb-doc-cn.readthedocs.io/zh_CN/latest/builtin.html#id4","title":"pipelinedb\u6d41\u5f0f\u6570\u636e\u5e93\u4ecb\u7ecd"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#pipelinedb","text":"PipelineDB\u662f\u4e00\u4e2a\u7528\u4e8e\u5728\u65f6\u5e8f\u6570\u636e\u4e0a\u6301\u7eed\u6267\u884cSQL\u67e5\u8be2\u7684\u9ad8\u6027\u80fdPostgreSQL\u63d2\u4ef6\u3002SQL\u67e5\u8be2\u7684\u8f93\u51fa\u88ab\u6301\u4e45\u5316\u5230\u666e\u901a\u7684\u8868\u4e2d\uff0c\u53ef\u4ee5\u50cf\u5176\u5b83\u7684\u8868\u6216\u89c6\u56fe\u4e00\u6837\u8fdb\u884c\u67e5\u8be2\u3002\u53ef\u4ee5\u8ba4\u4e3a\u6301\u7eed\u67e5\u8be2\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u9ad8\u541e\u5410\u91cf\u5e76\u4e14\u5feb\u901f\u66f4\u65b0\u7684\u7269\u5316\u89c6\u56fe\u3002PipelineDB\u53ef\u4ee5\u5728\u67d0\u4e9b\u4efb\u52a1\u573a\u666f\u4e0b\u8868\u73b0\u5f97\u5341\u5206\u4f18\u79c0\uff0c\u82e5\u8d85\u51fa\u8fd9\u4e2a\u8303\u7574\uff0c\u53ef\u80fd\u5c31\u4f1a\u540c\u5176\u5b83\u6570\u636e\u5904\u7406\u7cfb\u7edf\u4e00\u6837\u9762\u4e34\u4e00\u4e9b\u95ee\u9898\u3002 pipelinedb\u8fd0\u884c\u539f\u7406 \u6bd4\u5982\u8bf4\u6211\u4eec\u7528\u8fd9\u4e2apipelinedb\u662f\u8981\u505a\u4e00\u4ef6\u4e8b\uff1a\u6211\u4eec\u8981\u591a\u7ef4\u5ea6\u5b9e\u65f6\u7edf\u8ba1\u4e00\u4e2a\u5927\u6570\u636e\u96c6\uff0c\u4f20\u7edf\u65b9\u6cd5\u662f\u628a\u6570\u636e\u5b58\u5230\u8868\u4e2d\uff0c\u67e5\u8868\u7edf\u8ba1\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u592a\u6162\u4e86\uff0c\u4e8e\u662f\u4f60\u5c31\u9700\u8981\u7528\u5230pipelinedb\u4e86\uff0c\u5b83\u7701\u53bb\u4e86\u4f60\u628a\u6570\u636e\u5b58\u5165\u8868\u4e2d\u7684\u8fd9\u4e2a\u6b65\u9aa4\uff0c\u901a\u8fc7\u4e00\u4e2a\u7c7b\u4f3c\u7ba1\u9053\u7684\u4e1c\u897f\u628a\u6570\u636e\u4ea4\u7ed9\u5185\u5b58\u6765\u76f4\u63a5\u8ba1\u7b97\uff0c\u53ea\u4fdd\u5b58\u7edf\u8ba1\u7ed3\u679c\uff0c\u8fc7\u7a0b\u975e\u5e38\u5feb\uff0c\u4e0e\u5404\u79cd\u7edf\u8ba1\u9700\u6c42\u662f\u7edd\u914d\u3002 \u5b98\u65b9\u6587\u6863\uff1ahttps://pipelinedb-doc-cn.readthedocs.io/zh_CN/latest/introduction.html","title":"pipelinedb\u6d41\u5f0f\u6570\u636e\u5e93\u4ecb\u7ecd"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#pipelinedb_1","text":"PipelineDB\u88ab\u8bbe\u8ba1\u7528\u6765\u5728\u7cbe\u7b80\u540e\u7684\u6d41\u5f0f\u6570\u636e\u96c6\u4e0a\u8fdb\u884cSQL\u67e5\u8be2\u3002\u6bd4\u5982\uff1a\u6982\u8981\u548c\u805a\u5408\uff1b\u57fa\u4e8e\u6ed1\u52a8\u65f6\u95f4\u7a97\u53e3\u7684\u6027\u80fd\u8ba1\u7b97\uff1b\u6587\u672c\u7d22\u5f15\u548c\u8fc7\u6ee4\uff1b\u7a7a\u95f4\u4fe1\u606f\u8fc7\u6ee4\u7b49\u3002\u901a\u8fc7\u51cf\u5c11\u6d41\u6570\u636e\u7684\u8f93\u5165\uff0cPipelineDB\u53ef\u4ee5\u663e\u8457\u5730\u51cf\u5c11\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e2d\u7684\u6570\u636e\u91cf\uff0c\u56e0\u4e3a\u4e4b\u540e\u805a\u5408\u540e\u7684\u7ed3\u679c\u88ab\u5b58\u50a8\u4e0b\u6765\u3002\u539f\u59cb\u6570\u636e\uff08foreign table\uff09\u4e00\u65e6\u88ab\u9700\u8981\u5b83\u7684\u6301\u7eed\u67e5\u8be2\u8bfb\u53d6\u540e\u5c31\u4f1a\u88ab\u9500\u6bc1\u3002 \u5927\u591a\u6570\u5199\u5165\u5230PipelineDB\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u89c6\u4e3a \u865a\u62df\u6570\u636e\u3002\u6570\u636e\u865a\u62df\u5316\u662fPipelineDB\u8bbe\u8ba1\u7684\u7cbe\u9ad3\uff0c\u51ed\u7740\u8fd9\u79cd\u8bbe\u8ba1\uff0cPipelineDB\u53ef\u4ee5\u53ea\u5360\u7528\u8f83\u5c0f\u7684\u786c\u4ef6\u8d44\u6e90\u5b9e\u73b0\u9ad8\u6548\u7684\u5927\u6570\u636e\u91cf\u5904\u7406\u3002 PipelineDB\u7684\u76ee\u6807\u662f\u6d88\u9664\u8bb8\u591a\u6570\u636e\u4f20\u8f93\u4e2d\u7684ETL\u8fc7\u7a0b\u3002\u539f\u59cb\u6570\u636e\u6d41\u5f0f\u5199\u5165PipelineDB\uff0c\u88ab\u5df2\u58f0\u660e\u7684\u6d41\u5f0f\u67e5\u8be2\u5b9e\u65f6\u5730\u8f6c\u6362\u548c\u63d0\u53d6\uff0c\u8fd9\u4f7f\u5f97\u5b83\u5728\u5c06\u6210\u578b\u7684\u8f93\u51fa\u52a0\u8f7d\u5230\u6570\u636e\u5e93\u524d\u4e0d\u5fc5\u5468\u671f\u6027\u5730\u5904\u7406\u9897\u7c92\u6570\u636e\uff0c\u524d\u63d0\u662f\u8fd9\u4e9b\u5904\u7406\u8fc7\u7a0b\u53ef\u4ee5\u901a\u8fc7SQL\u5b9a\u4e49\u3002 \u5728PipelineDB\u7684\u8bbe\u8ba1\u7406\u5ff5\u4e2d\uff0c\u5b9e\u7528\u6027\u662f\u7b2c\u4e00\u8981\u7d20\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5c06\u5176\u5305\u88c5\u4e3aPostgreSQL\u63d2\u4ef6\u7684\u539f\u56e0\u3002\u6240\u6709\u6570\u636e\u5b58\u50a8\u548c\u5904\u7406\u90fd\u4ea4\u7531PostgreSQL\uff1a\u4e00\u4e2a\u6781\u5176\u7a33\u5b9a\u3001\u6210\u719f\u4ee5\u53ca\u8fd0\u7528\u5e7f\u6cdb\u7684\u6570\u636e\u5e93\u3002\u6b64\u5916\uff0cPipelineDB\u517c\u5bb9\u6d3b\u8dc3\u7684PostgreSQL\u751f\u6001\u4e2d\u7684\u6240\u6709\u5de5\u5177\u3002\u6211\u4eec\u6ca1\u6709\u4e3aPipelineDB\u8bbe\u8ba1\u7279\u6709\u7684\u8bed\u6cd5\u751a\u81f3\u662f\u5ba2\u6237\u7aef\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u5f88\u597d\u5730\u517c\u5bb9\u4efb\u4f55\u57fa\u4e8ePostgreSQL\u5f00\u53d1\u7684\u5e93\u3002","title":"PipelineDB\u7684\u957f\u5904"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#pipelinedb_2","text":"\u9274\u4e8e\u6d41\u67e5\u8be2\u9700\u8981\u4e00\u4e9b \u5148\u9a8c\u77e5\u8bc6\uff0cPipelineDB\u4e0d\u662f\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\u636e\u4ed3\u5e93\u3002\u6d41\u5f0f\u67e5\u8be2\u7684\u8f93\u51fa\u53ef\u80fd\u5728\u7279\u5b9a\u65b9\u5f0f\u4e0b\u88ab\u8bbf\u95ee\uff0c\u6240\u6709\u5199\u5165\u5230PipelineDB\u4e2d\u7684\u539f\u59cb\u6570\u636e\u90fd\u4e0d\u4f1a\u88ab\u6301\u4e45\u5316\u56e0\u4e3a\u5b83\u4eec\u90fd\u4f1a\u5728\u8bfb\u53d6\u540e\u88ab\u9500\u6bc1\u3002\u6b64\u5916\uff0c\u5982\u679c\u6d41\u5f0f\u8ba1\u7b97\u4e0d\u80fd\u4ee5SQL\u7684\u5f62\u5f0f\u8868\u8fbe\uff0cPipelineDB\u53ef\u80fd\u5e76\u4e0d\u662f\u4e00\u4e2a\u5408\u9002\u7684\u9009\u62e9\uff01","title":"PipelineDB\u7684\u77ed\u677f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#_1","text":"","title":"\u529f\u80fd"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#foreign-table","text":"\u6d41\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u5c06\u65f6\u5e8f\u6570\u636e\u5199\u5165 \u6d41\u89c6\u56fe \u7684\u62bd\u8c61\u7ba1\u9053\u3002\u6d41\u91cc\u9762\u7684\u4e00\u884c\u6570\u636e\uff08\u6216\u8005\u7b80\u5355\u79f0\u4f5c event\uff09\uff0c\u4e0e\u6570\u636e\u8868\u4e2d\u7684\u884c\u6570\u636e\u662f\u5f88\u76f8\u4f3c\u7684\uff0c\u5e76\u4e14\u4e8c\u8005\u7684\u5199\u5165\u4e5f\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u7136\u800c\uff0c\u6d41\u548c\u6570\u636e\u8868\u7684\u8bed\u4e49\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u3002 \u6362\u8a00\u4e4b\uff0cevent \u53ea\u4f1a\u5728\u88ab\u6240\u6709\u7684 \u6d41\u89c6\u56fe \u6d88\u8d39\u5b8c\u4e4b\u524d\u201c\u5b58\u5728\u201d\u4e8e\u6d41\u4e2d\u3002\u5373\u4f7f\u8fd9\u6837\uff0c\u7528\u6237\u4ecd\u7136\u4e0d\u80fd\u76f4\u63a5\u4ece\u6d41\u4e2d SELECT \u6570\u636e\u3002\u6d41\u552f\u4e00\u7684\u4f5c\u7528\u5c31\u662f\u5145\u5f53 \u6d41\u89c6\u56fe \u7684\u8f93\u5165\u3002","title":"\u6d41\uff08foreign table\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#_2","text":"\u6d41\u89c6\u56fe\uff08continuous view\uff09\u662fPipelineDB\u7684\u57fa\u7840\u6982\u5ff5\u62bd\u8c61\u3002\u6d41\u89c6\u56fe\u8ddf\u666e\u901a\u7684\u6570\u636e\u5e93\u89c6\u56fe\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5b83\u662f\u5c06\u6d41\u548c\u8868\u4e2d\u7684\u6570\u636e\u7ec4\u5408\u540e\u4f5c\u4e3a\u8f93\u5165\u5e76\u8fdb\u884c\u5b9e\u65f6\u589e\u91cf\u66f4\u65b0\u3002 \u6d41\u6570\u636e\u4e00\u65e6\u88ab\u6d41\u89c6\u56fe\u8bfb\u53d6\u540e\u5c31\u4f1a\u88ab\u9500\u6bc1\uff0c\u6d41\u6570\u636e\u4e0d\u4f1a\u5b58\u50a8\u5728\u4efb\u4f55\u5730\u65b9\u3002\u53ea\u6709\u8bf8\u5982 SELECT * FROM that_view \u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u624d\u4f1a\u88ab\u6301\u4e45\u5316\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6d41\u89c6\u56fe\u53ef\u4ee5\u88ab\u89c6\u4e3a\u9ad8\u541e\u5410\u91cf\u3001\u5b9e\u65f6\u7684\u7269\u5316\u89c6\u56fe\u3002","title":"\u6d41\u89c6\u56fe"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#_3","text":"\u6d41\u8f6c\u6362\u53ef\u4ee5\u5728\u4e0d\u5b58\u50a8\u65f6\u5e8f\u7684\u60c5\u51b5\u4e0b\u5bf9\u5176\u8fdb\u884c\u5b9e\u65f6\u8f6c\u6362\u3002\u7531\u4e8e\u6570\u636e\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u6240\u4ee5\u6d41\u8f6c\u6362\u4e0d\u652f\u6301\u805a\u5408\u64cd\u4f5c\u3002\u8f6c\u6362\u540e\u7684\u6570\u636e\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u6d41\u7684\u8f93\u5165\uff0c\u4e5f\u53ef\u4ee5\u5199\u5165\u5230\u5916\u90e8\u6570\u636e\u5b58\u50a8\u4e2d\u3002","title":"\u6d41\u8f6c\u6362"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#_4","text":"PipelineDB\u6700\u6838\u5fc3\u7684\u8ffd\u6c42\u4e4b\u4e00\u5c31\u662f \u4fc3\u8fdb\u9ad8\u6027\u80fd\u7684\u8fde\u7eed\u805a\u5408\uff0c\u6240\u4ee5\u805a\u5408\u51fd\u6570\u6beb\u65e0\u7591\u95ee\u662fPipelineDB\u7684\u6838\u5fc3\u529f\u80fd\u3002\u8fde\u7eed\u805a\u5408\u5728\u5927\u591a\u6570\u901a\u7528\u573a\u666f\u662f\u975e\u5e38\u6709\u7528\u7684\uff0c\u5b83\u4f7f\u5f97PipelineDB\u4e2d\u6301\u4e45\u5316\u7684\u6570\u636e\u59cb\u7ec8\u4e0e\u5199\u5165\u7684\u6570\u636e\u4fdd\u6301\u540c\u6b65\u3002\u5b83\u53ef\u4ee5\u901a\u8fc7\u4e00\u5b9a\u7684\u786c\u4ef6\u5b9e\u73b0\u7a33\u5b9a\u548c\u9ad8\u541e\u5ea6\u91cf\u7684\u670d\u52a1\u3002 \u8fde\u7eed\u805a\u5408\u662f\u968f\u7740\u6d41\u89c6\u56fe\u65b0 event \u7684\u751f\u6210\u5b9e\u65f6 \u589e\u91cf\u66f4\u65b0\u7684\u3002\u5bf9\u4e8e\u5982 count \u548c sum \u4e4b\u7c7b\u7684\u7b80\u5355\u805a\u5408\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u7406\u89e3\u7ed3\u679c\u662f\u5982\u4f55\u589e\u91cf\u66f4\u65b0\u7684\u2013\u5c06\u65b0\u503c\u7d2f\u52a0\u5230\u5df2\u6709\u7ed3\u679c\u4e0a\u800c\u5df2\u3002 \u4f46\u5bf9\u66f4\u52a0\u590d\u6742\u7684\u805a\u5408\u800c\u8a00\uff0c\u5982 avg, stddev, percentile_cont \u7b49\uff0c\u9700\u8981\u66f4\u4f18\u5316\u7684\u67b6\u6784\u6765\u652f\u6301\u9ad8\u6548\u7684\u589e\u91cf\u66f4\u65b0\uff0cPipelineDB\u5728\u5185\u90e8\u81ea\u52a8\u5b9e\u73b0\u4e86\u8fd9\u4e9b\u590d\u6742\u7684\u903b\u8f91\u3002","title":"\u6d41\u805a\u5408"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#_5","text":"\u6d41\u89c6\u56fe \u7684\u5e76\u975e\u53ea\u9760select \u6d41\uff08foreign table\uff09 \u4ea7\u751f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c06\u8f93\u5165\u7684\u65f6\u5e8f\u6570\u636e\u548c\u9759\u6001\u7684PipelineDB\u6570\u636e\u8868\u7ec4\u5408\u540e\u5f97\u5230\uff0c\u8fd9\u53ef\u4ee5\u7528\u79f0\u4f5c\u6d41-\u8868\u5173\u8054\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002 \u6d41-\u8868\u5173\u8054 \u6d41-\u8868\u5173\u8054\u5728 event\u5230\u8fbe\u65f6 \u5c06\u5176\u4e0e\u8868\u4e2d\u5339\u914d\u7684\u884c\u6570\u636e\u7ec4\u5408\u3002\u6362\u8a00\u4e4b\uff0c\u5982\u679c\u5728\u8868\u6570\u636e\u5728 event \u88ab\u8bfb\u53d6\u540e\u624d\u88ab\u63d2\u5165\uff0c\u5373\u4f7f\u662f\u5339\u914d\u7684\uff0c\u4e5f\u4e0d\u4f1a\u5bf9\u6d41\u89c6\u56fe\u4ea7\u751f\u5f71\u54cd\u3002\u65b0\u6570\u636e\u53ea\u4f1a\u5728 event\u88ab\u8bfb\u53d6\u65f6 \u4ea7\u751f\u3002\u5373\u4f7f\u6d41-\u8868\u5173\u8054\u4e2d\u7684\u8868\u88ab\u6e05\u7a7a\u4e86\uff0c\u6d41\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u53d8\u5316\u3002 \u6d41-\u6d41\u5173\u8054 \u76ee\u524d\u4e0d\u652f\u6301\u6d41\u4e4b\u95f4\u7684\u5173\u8054\uff0c\u8fd9\u4e2a\u529f\u80fd\u53ef\u80fd\u4f1a\u51fa\u73b0\u5728\u5c06\u6765\u7684\u7248\u672c\u4e2d\u3002 \u8bd1\u8005\u6ce8\uff1a 2019\u5e745\u67081\u65e5\uff0cPipelineDB\u516c\u53f8\u5ba3\u5e03\u52a0\u5165Confluent\uff08Kafka\u7684\u516c\u53f8\uff09\uff0c\u5b98\u65b9\u7248\u5c06\u4f1a\u505c\u7559\u57281.0.0\uff0c\u8be6\u60c5\u89c1 \u5b98\u65b9\u62a5\u9053(https://www.pipelinedb.com/blog/pipelinedb-is-joining-confluent)\u3002 pipelinedb\u4f5c\u8005\u7ed9\u51fa\u5efa\u8bae\uff1a1\u3001\u4f7f\u7528confluent\u7684ksql\uff08\u5546\u4e1a\u8f6f\u4ef6\uff09\u4ee3\u66ffpipelinedb 2\u3001\u5982\u679c\u8fd8\u662f\u949f\u7231pg\u7cfb\u5217\uff0ctimescaledb \u6269\u5c55\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9","title":"\u6d41\u5173\u8054"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#_6","text":"\u7531\u4e8e \u6d41\u89c6\u56fe \u662f\u5b9e\u65f6\u589e\u91cf\u66f4\u65b0\u7684\uff0cPipelineDB\u53ef\u4ee5\u5728\u66f4\u65b0\u6d41\u89c6\u56fe\u7ed3\u679c\u96c6\u65f6\u8003\u8651\u5f53\u524d\u65f6\u95f4\u3002WHERE \u5b50\u53e5\u4e2d\u5305\u542b\u4e0e \u5f53\u524d\u65f6\u95f4 \u76f8\u5173\u4fe1\u606f\u7684\u67e5\u8be2\u88ab\u79f0\u4f5c \u6ed1\u52a8\u7a97\u53e3\u67e5\u8be2\u3002\u6ed1\u52a8\u7684 WHERE \u5b50\u53e5\u8fc7\u6ee4\u6216\u63a5\u6536\u5230\u7684 event \u96c6\u5408\u662f\u968f\u65f6\u95f4\u6301\u7eed\u53d8\u5316\u7684\u3002","title":"\u6ed1\u52a8\u7a97\u53e3"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#_7","text":"\u6211\u4eec\u52aa\u529b\u4fdd\u8bc1PipelineDB\u540cPostgreSQL\u768410.1+\u548c11.0+\u7248\u672c\u4fdd\u6301\u5b8c\u5168\u517c\u5bb9\u3002\u56e0\u6b64\uff0c\u6240\u6709 PostgreSQL\u5185\u7f6e\u51fd\u6570 \u90fd\u53ef\u4ee5\u76f4\u63a5\u5728PipelineDB\u4e2d\u4f7f\u7528\u3002","title":"\u5185\u7f6e\u51fd\u6570"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb/#pipelinedb_3","text":"\u5177\u4f53\u67e5\u770b\uff1ahttps://pipelinedb-doc-cn.readthedocs.io/zh_CN/latest/builtin.html#id4","title":"PipelineDB\u7279\u6709\u51fd\u6570"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/","text":"PipelineDB\u662f\u4e00\u4e2a\u7528\u4e8e\u5728\u65f6\u5e8f\u6570\u636e\u4e0a\u6301\u7eed\u6267\u884cSQL\u67e5\u8be2\u7684\u9ad8\u6027\u80fdPostgreSQL\u63d2\u4ef6\u3002SQL\u67e5\u8be2\u7684\u8f93\u51fa\u88ab\u6301\u4e45\u5316\u5230\u666e\u901a\u7684\u8868\u4e2d\uff0c\u53ef\u4ee5\u50cf\u5176\u5b83\u7684\u8868\u6216\u89c6\u56fe\u4e00\u6837\u8fdb\u884c\u67e5\u8be2\u3002\u53ef\u4ee5\u8ba4\u4e3a\u6301\u7eed\u67e5\u8be2\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u9ad8\u541e\u5410\u91cf\u5e76\u4e14\u5feb\u901f\u66f4\u65b0\u7684\u7269\u5316\u89c6\u56fe\u3002PipelineDB\u53ef\u4ee5\u5728\u67d0\u4e9b\u4efb\u52a1\u573a\u666f\u4e0b\u8868\u73b0\u5f97\u5341\u5206\u4f18\u79c0\uff0c\u82e5\u8d85\u51fa\u8fd9\u4e2a\u8303\u7574\uff0c\u53ef\u80fd\u5c31\u4f1a\u540c\u5176\u5b83\u6570\u636e\u5904\u7406\u7cfb\u7edf\u4e00\u6837\u9762\u4e34\u4e00\u4e9b\u95ee\u9898\u3002 pipelinedb\u8fd0\u884c\u539f\u7406 \u6bd4\u5982\u8bf4\u6211\u4eec\u7528\u8fd9\u4e2apipelinedb\u662f\u8981\u505a\u4e00\u4ef6\u4e8b\uff1a\u6211\u4eec\u8981\u591a\u7ef4\u5ea6\u5b9e\u65f6\u7edf\u8ba1\u4e00\u4e2a\u5927\u6570\u636e\u96c6\uff0c\u4f20\u7edf\u65b9\u6cd5\u662f\u628a\u6570\u636e\u5b58\u5230\u8868\u4e2d\uff0c\u67e5\u8868\u7edf\u8ba1\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u592a\u6162\u4e86\uff0c\u4e8e\u662f\u4f60\u5c31\u9700\u8981\u7528\u5230pipelinedb\u4e86\uff0c\u5b83\u7701\u53bb\u4e86\u4f60\u628a\u6570\u636e\u5b58\u5165\u8868\u4e2d\u7684\u8fd9\u4e2a\u6b65\u9aa4\uff0c\u901a\u8fc7\u4e00\u4e2a\u7c7b\u4f3c\u7ba1\u9053\u7684\u4e1c\u897f\u628a\u6570\u636e\u4ea4\u7ed9\u5185\u5b58\u6765\u76f4\u63a5\u8ba1\u7b97\uff0c\u53ea\u4fdd\u5b58\u7edf\u8ba1\u7ed3\u679c\uff0c\u8fc7\u7a0b\u975e\u5e38\u5feb\uff0c\u4e0e\u5404\u79cd\u7edf\u8ba1\u9700\u6c42\u662f\u7edd\u914d\u3002 \u5b98\u65b9\u6587\u6863\uff1ahttps://pipelinedb-doc-cn.readthedocs.io/zh_CN/latest/introduction.html PipelineDB\u7684\u957f\u5904 PipelineDB\u88ab\u8bbe\u8ba1\u7528\u6765\u5728\u7cbe\u7b80\u540e\u7684\u6d41\u5f0f\u6570\u636e\u96c6\u4e0a\u8fdb\u884cSQL\u67e5\u8be2\u3002\u6bd4\u5982\uff1a\u6982\u8981\u548c\u805a\u5408\uff1b\u57fa\u4e8e\u6ed1\u52a8\u65f6\u95f4\u7a97\u53e3\u7684\u6027\u80fd\u8ba1\u7b97\uff1b\u6587\u672c\u7d22\u5f15\u548c\u8fc7\u6ee4\uff1b\u7a7a\u95f4\u4fe1\u606f\u8fc7\u6ee4\u7b49\u3002\u901a\u8fc7\u51cf\u5c11\u6d41\u6570\u636e\u7684\u8f93\u5165\uff0cPipelineDB\u53ef\u4ee5\u663e\u8457\u5730\u51cf\u5c11\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e2d\u7684\u6570\u636e\u91cf\uff0c\u56e0\u4e3a\u4e4b\u540e\u805a\u5408\u540e\u7684\u7ed3\u679c\u88ab\u5b58\u50a8\u4e0b\u6765\u3002\u539f\u59cb\u6570\u636e\uff08foreign table\uff09\u4e00\u65e6\u88ab\u9700\u8981\u5b83\u7684\u6301\u7eed\u67e5\u8be2\u8bfb\u53d6\u540e\u5c31\u4f1a\u88ab\u9500\u6bc1\u3002 \u5927\u591a\u6570\u5199\u5165\u5230PipelineDB\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u89c6\u4e3a \u865a\u62df\u6570\u636e\u3002\u6570\u636e\u865a\u62df\u5316\u662fPipelineDB\u8bbe\u8ba1\u7684\u7cbe\u9ad3\uff0c\u51ed\u7740\u8fd9\u79cd\u8bbe\u8ba1\uff0cPipelineDB\u53ef\u4ee5\u53ea\u5360\u7528\u8f83\u5c0f\u7684\u786c\u4ef6\u8d44\u6e90\u5b9e\u73b0\u9ad8\u6548\u7684\u5927\u6570\u636e\u91cf\u5904\u7406\u3002 PipelineDB\u7684\u76ee\u6807\u662f\u6d88\u9664\u8bb8\u591a\u6570\u636e\u4f20\u8f93\u4e2d\u7684ETL\u8fc7\u7a0b\u3002\u539f\u59cb\u6570\u636e\u6d41\u5f0f\u5199\u5165PipelineDB\uff0c\u88ab\u5df2\u58f0\u660e\u7684\u6d41\u5f0f\u67e5\u8be2\u5b9e\u65f6\u5730\u8f6c\u6362\u548c\u63d0\u53d6\uff0c\u8fd9\u4f7f\u5f97\u5b83\u5728\u5c06\u6210\u578b\u7684\u8f93\u51fa\u52a0\u8f7d\u5230\u6570\u636e\u5e93\u524d\u4e0d\u5fc5\u5468\u671f\u6027\u5730\u5904\u7406\u9897\u7c92\u6570\u636e\uff0c\u524d\u63d0\u662f\u8fd9\u4e9b\u5904\u7406\u8fc7\u7a0b\u53ef\u4ee5\u901a\u8fc7SQL\u5b9a\u4e49\u3002 \u5728PipelineDB\u7684\u8bbe\u8ba1\u7406\u5ff5\u4e2d\uff0c\u5b9e\u7528\u6027\u662f\u7b2c\u4e00\u8981\u7d20\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5c06\u5176\u5305\u88c5\u4e3aPostgreSQL\u63d2\u4ef6\u7684\u539f\u56e0\u3002\u6240\u6709\u6570\u636e\u5b58\u50a8\u548c\u5904\u7406\u90fd\u4ea4\u7531PostgreSQL\uff1a\u4e00\u4e2a\u6781\u5176\u7a33\u5b9a\u3001\u6210\u719f\u4ee5\u53ca\u8fd0\u7528\u5e7f\u6cdb\u7684\u6570\u636e\u5e93\u3002\u6b64\u5916\uff0cPipelineDB\u517c\u5bb9\u6d3b\u8dc3\u7684PostgreSQL\u751f\u6001\u4e2d\u7684\u6240\u6709\u5de5\u5177\u3002\u6211\u4eec\u6ca1\u6709\u4e3aPipelineDB\u8bbe\u8ba1\u7279\u6709\u7684\u8bed\u6cd5\u751a\u81f3\u662f\u5ba2\u6237\u7aef\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u5f88\u597d\u5730\u517c\u5bb9\u4efb\u4f55\u57fa\u4e8ePostgreSQL\u5f00\u53d1\u7684\u5e93\u3002 PipelineDB\u7684\u77ed\u677f \u9274\u4e8e\u6d41\u67e5\u8be2\u9700\u8981\u4e00\u4e9b \u5148\u9a8c\u77e5\u8bc6\uff0cPipelineDB\u4e0d\u662f\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\u636e\u4ed3\u5e93\u3002\u6d41\u5f0f\u67e5\u8be2\u7684\u8f93\u51fa\u53ef\u80fd\u5728\u7279\u5b9a\u65b9\u5f0f\u4e0b\u88ab\u8bbf\u95ee\uff0c\u6240\u6709\u5199\u5165\u5230PipelineDB\u4e2d\u7684\u539f\u59cb\u6570\u636e\u90fd\u4e0d\u4f1a\u88ab\u6301\u4e45\u5316\u56e0\u4e3a\u5b83\u4eec\u90fd\u4f1a\u5728\u8bfb\u53d6\u540e\u88ab\u9500\u6bc1\u3002\u6b64\u5916\uff0c\u5982\u679c\u6d41\u5f0f\u8ba1\u7b97\u4e0d\u80fd\u4ee5SQL\u7684\u5f62\u5f0f\u8868\u8fbe\uff0cPipelineDB\u53ef\u80fd\u5e76\u4e0d\u662f\u4e00\u4e2a\u5408\u9002\u7684\u9009\u62e9\uff01 \u529f\u80fd \u6d41\uff08foreign table\uff09 \u6d41\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u5c06\u65f6\u5e8f\u6570\u636e\u5199\u5165 \u6d41\u89c6\u56fe \u7684\u62bd\u8c61\u7ba1\u9053\u3002\u6d41\u91cc\u9762\u7684\u4e00\u884c\u6570\u636e\uff08\u6216\u8005\u7b80\u5355\u79f0\u4f5c event\uff09\uff0c\u4e0e\u6570\u636e\u8868\u4e2d\u7684\u884c\u6570\u636e\u662f\u5f88\u76f8\u4f3c\u7684\uff0c\u5e76\u4e14\u4e8c\u8005\u7684\u5199\u5165\u4e5f\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u7136\u800c\uff0c\u6d41\u548c\u6570\u636e\u8868\u7684\u8bed\u4e49\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u3002 \u6362\u8a00\u4e4b\uff0cevent \u53ea\u4f1a\u5728\u88ab\u6240\u6709\u7684 \u6d41\u89c6\u56fe \u6d88\u8d39\u5b8c\u4e4b\u524d\u201c\u5b58\u5728\u201d\u4e8e\u6d41\u4e2d\u3002\u5373\u4f7f\u8fd9\u6837\uff0c\u7528\u6237\u4ecd\u7136\u4e0d\u80fd\u76f4\u63a5\u4ece\u6d41\u4e2d SELECT \u6570\u636e\u3002\u6d41\u552f\u4e00\u7684\u4f5c\u7528\u5c31\u662f\u5145\u5f53 \u6d41\u89c6\u56fe \u7684\u8f93\u5165\u3002 \u6d41\u89c6\u56fe \u6d41\u89c6\u56fe\uff08continuous view\uff09\u662fPipelineDB\u7684\u57fa\u7840\u6982\u5ff5\u62bd\u8c61\u3002\u6d41\u89c6\u56fe\u8ddf\u666e\u901a\u7684\u6570\u636e\u5e93\u89c6\u56fe\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5b83\u662f\u5c06\u6d41\u548c\u8868\u4e2d\u7684\u6570\u636e\u7ec4\u5408\u540e\u4f5c\u4e3a\u8f93\u5165\u5e76\u8fdb\u884c\u5b9e\u65f6\u589e\u91cf\u66f4\u65b0\u3002 \u6d41\u6570\u636e\u4e00\u65e6\u88ab\u6d41\u89c6\u56fe\u8bfb\u53d6\u540e\u5c31\u4f1a\u88ab\u9500\u6bc1\uff0c\u6d41\u6570\u636e\u4e0d\u4f1a\u5b58\u50a8\u5728\u4efb\u4f55\u5730\u65b9\u3002\u53ea\u6709\u8bf8\u5982 SELECT * FROM that_view \u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u624d\u4f1a\u88ab\u6301\u4e45\u5316\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6d41\u89c6\u56fe\u53ef\u4ee5\u88ab\u89c6\u4e3a\u9ad8\u541e\u5410\u91cf\u3001\u5b9e\u65f6\u7684\u7269\u5316\u89c6\u56fe\u3002 \u6d41\u8f6c\u6362 \u6d41\u8f6c\u6362\u53ef\u4ee5\u5728\u4e0d\u5b58\u50a8\u65f6\u5e8f\u7684\u60c5\u51b5\u4e0b\u5bf9\u5176\u8fdb\u884c\u5b9e\u65f6\u8f6c\u6362\u3002\u7531\u4e8e\u6570\u636e\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u6240\u4ee5\u6d41\u8f6c\u6362\u4e0d\u652f\u6301\u805a\u5408\u64cd\u4f5c\u3002\u8f6c\u6362\u540e\u7684\u6570\u636e\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u6d41\u7684\u8f93\u5165\uff0c\u4e5f\u53ef\u4ee5\u5199\u5165\u5230\u5916\u90e8\u6570\u636e\u5b58\u50a8\u4e2d\u3002 \u6d41\u805a\u5408 PipelineDB\u6700\u6838\u5fc3\u7684\u8ffd\u6c42\u4e4b\u4e00\u5c31\u662f \u4fc3\u8fdb\u9ad8\u6027\u80fd\u7684\u8fde\u7eed\u805a\u5408\uff0c\u6240\u4ee5\u805a\u5408\u51fd\u6570\u6beb\u65e0\u7591\u95ee\u662fPipelineDB\u7684\u6838\u5fc3\u529f\u80fd\u3002\u8fde\u7eed\u805a\u5408\u5728\u5927\u591a\u6570\u901a\u7528\u573a\u666f\u662f\u975e\u5e38\u6709\u7528\u7684\uff0c\u5b83\u4f7f\u5f97PipelineDB\u4e2d\u6301\u4e45\u5316\u7684\u6570\u636e\u59cb\u7ec8\u4e0e\u5199\u5165\u7684\u6570\u636e\u4fdd\u6301\u540c\u6b65\u3002\u5b83\u53ef\u4ee5\u901a\u8fc7\u4e00\u5b9a\u7684\u786c\u4ef6\u5b9e\u73b0\u7a33\u5b9a\u548c\u9ad8\u541e\u5ea6\u91cf\u7684\u670d\u52a1\u3002 \u8fde\u7eed\u805a\u5408\u662f\u968f\u7740\u6d41\u89c6\u56fe\u65b0 event \u7684\u751f\u6210\u5b9e\u65f6 \u589e\u91cf\u66f4\u65b0\u7684\u3002\u5bf9\u4e8e\u5982 count \u548c sum \u4e4b\u7c7b\u7684\u7b80\u5355\u805a\u5408\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u7406\u89e3\u7ed3\u679c\u662f\u5982\u4f55\u589e\u91cf\u66f4\u65b0\u7684\u2013\u5c06\u65b0\u503c\u7d2f\u52a0\u5230\u5df2\u6709\u7ed3\u679c\u4e0a\u800c\u5df2\u3002 \u4f46\u5bf9\u66f4\u52a0\u590d\u6742\u7684\u805a\u5408\u800c\u8a00\uff0c\u5982 avg, stddev, percentile_cont \u7b49\uff0c\u9700\u8981\u66f4\u4f18\u5316\u7684\u67b6\u6784\u6765\u652f\u6301\u9ad8\u6548\u7684\u589e\u91cf\u66f4\u65b0\uff0cPipelineDB\u5728\u5185\u90e8\u81ea\u52a8\u5b9e\u73b0\u4e86\u8fd9\u4e9b\u590d\u6742\u7684\u903b\u8f91\u3002 \u6d41\u5173\u8054 \u6d41\u89c6\u56fe \u7684\u5e76\u975e\u53ea\u9760select \u6d41\uff08foreign table\uff09 \u4ea7\u751f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c06\u8f93\u5165\u7684\u65f6\u5e8f\u6570\u636e\u548c\u9759\u6001\u7684PipelineDB\u6570\u636e\u8868\u7ec4\u5408\u540e\u5f97\u5230\uff0c\u8fd9\u53ef\u4ee5\u7528\u79f0\u4f5c\u6d41-\u8868\u5173\u8054\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002 \u6d41-\u8868\u5173\u8054 \u6d41-\u8868\u5173\u8054\u5728 event\u5230\u8fbe\u65f6 \u5c06\u5176\u4e0e\u8868\u4e2d\u5339\u914d\u7684\u884c\u6570\u636e\u7ec4\u5408\u3002\u6362\u8a00\u4e4b\uff0c\u5982\u679c\u5728\u8868\u6570\u636e\u5728 event \u88ab\u8bfb\u53d6\u540e\u624d\u88ab\u63d2\u5165\uff0c\u5373\u4f7f\u662f\u5339\u914d\u7684\uff0c\u4e5f\u4e0d\u4f1a\u5bf9\u6d41\u89c6\u56fe\u4ea7\u751f\u5f71\u54cd\u3002\u65b0\u6570\u636e\u53ea\u4f1a\u5728 event\u88ab\u8bfb\u53d6\u65f6 \u4ea7\u751f\u3002\u5373\u4f7f\u6d41-\u8868\u5173\u8054\u4e2d\u7684\u8868\u88ab\u6e05\u7a7a\u4e86\uff0c\u6d41\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u53d8\u5316\u3002 \u6d41-\u6d41\u5173\u8054 \u76ee\u524d\u4e0d\u652f\u6301\u6d41\u4e4b\u95f4\u7684\u5173\u8054\uff0c\u8fd9\u4e2a\u529f\u80fd\u53ef\u80fd\u4f1a\u51fa\u73b0\u5728\u5c06\u6765\u7684\u7248\u672c\u4e2d\u3002 \u8bd1\u8005\u6ce8\uff1a 2019\u5e745\u67081\u65e5\uff0cPipelineDB\u516c\u53f8\u5ba3\u5e03\u52a0\u5165Confluent\uff08Kafka\u7684\u516c\u53f8\uff09\uff0c\u5b98\u65b9\u7248\u5c06\u4f1a\u505c\u7559\u57281.0.0\uff0c\u8be6\u60c5\u89c1 \u5b98\u65b9\u62a5\u9053(https://www.pipelinedb.com/blog/pipelinedb-is-joining-confluent)\u3002 pipelinedb\u4f5c\u8005\u7ed9\u51fa\u5efa\u8bae\uff1a1\u3001\u4f7f\u7528confluent\u7684ksql\uff08\u5546\u4e1a\u8f6f\u4ef6\uff09\u4ee3\u66ffpipelinedb 2\u3001\u5982\u679c\u8fd8\u662f\u949f\u7231pg\u7cfb\u5217\uff0ctimescaledb \u6269\u5c55\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9 \u6ed1\u52a8\u7a97\u53e3 \u7531\u4e8e \u6d41\u89c6\u56fe \u662f\u5b9e\u65f6\u589e\u91cf\u66f4\u65b0\u7684\uff0cPipelineDB\u53ef\u4ee5\u5728\u66f4\u65b0\u6d41\u89c6\u56fe\u7ed3\u679c\u96c6\u65f6\u8003\u8651\u5f53\u524d\u65f6\u95f4\u3002WHERE \u5b50\u53e5\u4e2d\u5305\u542b\u4e0e \u5f53\u524d\u65f6\u95f4 \u76f8\u5173\u4fe1\u606f\u7684\u67e5\u8be2\u88ab\u79f0\u4f5c \u6ed1\u52a8\u7a97\u53e3\u67e5\u8be2\u3002\u6ed1\u52a8\u7684 WHERE \u5b50\u53e5\u8fc7\u6ee4\u6216\u63a5\u6536\u5230\u7684 event \u96c6\u5408\u662f\u968f\u65f6\u95f4\u6301\u7eed\u53d8\u5316\u7684\u3002 \u5185\u7f6e\u51fd\u6570 \u6211\u4eec\u52aa\u529b\u4fdd\u8bc1PipelineDB\u540cPostgreSQL\u768410.1+\u548c11.0+\u7248\u672c\u4fdd\u6301\u5b8c\u5168\u517c\u5bb9\u3002\u56e0\u6b64\uff0c\u6240\u6709 PostgreSQL\u5185\u7f6e\u51fd\u6570 \u90fd\u53ef\u4ee5\u76f4\u63a5\u5728PipelineDB\u4e2d\u4f7f\u7528\u3002 PipelineDB\u7279\u6709\u51fd\u6570 \u5177\u4f53\u67e5\u770b\uff1ahttps://pipelinedb-doc-cn.readthedocs.io/zh_CN/latest/builtin.html#id4","title":"Pipelinedb\u6d41\u5f0f\u6570\u636e\u5e93\u4ecb\u7ecd"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#pipelinedb","text":"PipelineDB\u88ab\u8bbe\u8ba1\u7528\u6765\u5728\u7cbe\u7b80\u540e\u7684\u6d41\u5f0f\u6570\u636e\u96c6\u4e0a\u8fdb\u884cSQL\u67e5\u8be2\u3002\u6bd4\u5982\uff1a\u6982\u8981\u548c\u805a\u5408\uff1b\u57fa\u4e8e\u6ed1\u52a8\u65f6\u95f4\u7a97\u53e3\u7684\u6027\u80fd\u8ba1\u7b97\uff1b\u6587\u672c\u7d22\u5f15\u548c\u8fc7\u6ee4\uff1b\u7a7a\u95f4\u4fe1\u606f\u8fc7\u6ee4\u7b49\u3002\u901a\u8fc7\u51cf\u5c11\u6d41\u6570\u636e\u7684\u8f93\u5165\uff0cPipelineDB\u53ef\u4ee5\u663e\u8457\u5730\u51cf\u5c11\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e2d\u7684\u6570\u636e\u91cf\uff0c\u56e0\u4e3a\u4e4b\u540e\u805a\u5408\u540e\u7684\u7ed3\u679c\u88ab\u5b58\u50a8\u4e0b\u6765\u3002\u539f\u59cb\u6570\u636e\uff08foreign table\uff09\u4e00\u65e6\u88ab\u9700\u8981\u5b83\u7684\u6301\u7eed\u67e5\u8be2\u8bfb\u53d6\u540e\u5c31\u4f1a\u88ab\u9500\u6bc1\u3002 \u5927\u591a\u6570\u5199\u5165\u5230PipelineDB\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u89c6\u4e3a \u865a\u62df\u6570\u636e\u3002\u6570\u636e\u865a\u62df\u5316\u662fPipelineDB\u8bbe\u8ba1\u7684\u7cbe\u9ad3\uff0c\u51ed\u7740\u8fd9\u79cd\u8bbe\u8ba1\uff0cPipelineDB\u53ef\u4ee5\u53ea\u5360\u7528\u8f83\u5c0f\u7684\u786c\u4ef6\u8d44\u6e90\u5b9e\u73b0\u9ad8\u6548\u7684\u5927\u6570\u636e\u91cf\u5904\u7406\u3002 PipelineDB\u7684\u76ee\u6807\u662f\u6d88\u9664\u8bb8\u591a\u6570\u636e\u4f20\u8f93\u4e2d\u7684ETL\u8fc7\u7a0b\u3002\u539f\u59cb\u6570\u636e\u6d41\u5f0f\u5199\u5165PipelineDB\uff0c\u88ab\u5df2\u58f0\u660e\u7684\u6d41\u5f0f\u67e5\u8be2\u5b9e\u65f6\u5730\u8f6c\u6362\u548c\u63d0\u53d6\uff0c\u8fd9\u4f7f\u5f97\u5b83\u5728\u5c06\u6210\u578b\u7684\u8f93\u51fa\u52a0\u8f7d\u5230\u6570\u636e\u5e93\u524d\u4e0d\u5fc5\u5468\u671f\u6027\u5730\u5904\u7406\u9897\u7c92\u6570\u636e\uff0c\u524d\u63d0\u662f\u8fd9\u4e9b\u5904\u7406\u8fc7\u7a0b\u53ef\u4ee5\u901a\u8fc7SQL\u5b9a\u4e49\u3002 \u5728PipelineDB\u7684\u8bbe\u8ba1\u7406\u5ff5\u4e2d\uff0c\u5b9e\u7528\u6027\u662f\u7b2c\u4e00\u8981\u7d20\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5c06\u5176\u5305\u88c5\u4e3aPostgreSQL\u63d2\u4ef6\u7684\u539f\u56e0\u3002\u6240\u6709\u6570\u636e\u5b58\u50a8\u548c\u5904\u7406\u90fd\u4ea4\u7531PostgreSQL\uff1a\u4e00\u4e2a\u6781\u5176\u7a33\u5b9a\u3001\u6210\u719f\u4ee5\u53ca\u8fd0\u7528\u5e7f\u6cdb\u7684\u6570\u636e\u5e93\u3002\u6b64\u5916\uff0cPipelineDB\u517c\u5bb9\u6d3b\u8dc3\u7684PostgreSQL\u751f\u6001\u4e2d\u7684\u6240\u6709\u5de5\u5177\u3002\u6211\u4eec\u6ca1\u6709\u4e3aPipelineDB\u8bbe\u8ba1\u7279\u6709\u7684\u8bed\u6cd5\u751a\u81f3\u662f\u5ba2\u6237\u7aef\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u5f88\u597d\u5730\u517c\u5bb9\u4efb\u4f55\u57fa\u4e8ePostgreSQL\u5f00\u53d1\u7684\u5e93\u3002","title":"PipelineDB\u7684\u957f\u5904"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#pipelinedb_1","text":"\u9274\u4e8e\u6d41\u67e5\u8be2\u9700\u8981\u4e00\u4e9b \u5148\u9a8c\u77e5\u8bc6\uff0cPipelineDB\u4e0d\u662f\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\u636e\u4ed3\u5e93\u3002\u6d41\u5f0f\u67e5\u8be2\u7684\u8f93\u51fa\u53ef\u80fd\u5728\u7279\u5b9a\u65b9\u5f0f\u4e0b\u88ab\u8bbf\u95ee\uff0c\u6240\u6709\u5199\u5165\u5230PipelineDB\u4e2d\u7684\u539f\u59cb\u6570\u636e\u90fd\u4e0d\u4f1a\u88ab\u6301\u4e45\u5316\u56e0\u4e3a\u5b83\u4eec\u90fd\u4f1a\u5728\u8bfb\u53d6\u540e\u88ab\u9500\u6bc1\u3002\u6b64\u5916\uff0c\u5982\u679c\u6d41\u5f0f\u8ba1\u7b97\u4e0d\u80fd\u4ee5SQL\u7684\u5f62\u5f0f\u8868\u8fbe\uff0cPipelineDB\u53ef\u80fd\u5e76\u4e0d\u662f\u4e00\u4e2a\u5408\u9002\u7684\u9009\u62e9\uff01","title":"PipelineDB\u7684\u77ed\u677f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#_1","text":"","title":"\u529f\u80fd"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#foreign-table","text":"\u6d41\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u5c06\u65f6\u5e8f\u6570\u636e\u5199\u5165 \u6d41\u89c6\u56fe \u7684\u62bd\u8c61\u7ba1\u9053\u3002\u6d41\u91cc\u9762\u7684\u4e00\u884c\u6570\u636e\uff08\u6216\u8005\u7b80\u5355\u79f0\u4f5c event\uff09\uff0c\u4e0e\u6570\u636e\u8868\u4e2d\u7684\u884c\u6570\u636e\u662f\u5f88\u76f8\u4f3c\u7684\uff0c\u5e76\u4e14\u4e8c\u8005\u7684\u5199\u5165\u4e5f\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u7136\u800c\uff0c\u6d41\u548c\u6570\u636e\u8868\u7684\u8bed\u4e49\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u3002 \u6362\u8a00\u4e4b\uff0cevent \u53ea\u4f1a\u5728\u88ab\u6240\u6709\u7684 \u6d41\u89c6\u56fe \u6d88\u8d39\u5b8c\u4e4b\u524d\u201c\u5b58\u5728\u201d\u4e8e\u6d41\u4e2d\u3002\u5373\u4f7f\u8fd9\u6837\uff0c\u7528\u6237\u4ecd\u7136\u4e0d\u80fd\u76f4\u63a5\u4ece\u6d41\u4e2d SELECT \u6570\u636e\u3002\u6d41\u552f\u4e00\u7684\u4f5c\u7528\u5c31\u662f\u5145\u5f53 \u6d41\u89c6\u56fe \u7684\u8f93\u5165\u3002","title":"\u6d41\uff08foreign table\uff09"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#_2","text":"\u6d41\u89c6\u56fe\uff08continuous view\uff09\u662fPipelineDB\u7684\u57fa\u7840\u6982\u5ff5\u62bd\u8c61\u3002\u6d41\u89c6\u56fe\u8ddf\u666e\u901a\u7684\u6570\u636e\u5e93\u89c6\u56fe\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5b83\u662f\u5c06\u6d41\u548c\u8868\u4e2d\u7684\u6570\u636e\u7ec4\u5408\u540e\u4f5c\u4e3a\u8f93\u5165\u5e76\u8fdb\u884c\u5b9e\u65f6\u589e\u91cf\u66f4\u65b0\u3002 \u6d41\u6570\u636e\u4e00\u65e6\u88ab\u6d41\u89c6\u56fe\u8bfb\u53d6\u540e\u5c31\u4f1a\u88ab\u9500\u6bc1\uff0c\u6d41\u6570\u636e\u4e0d\u4f1a\u5b58\u50a8\u5728\u4efb\u4f55\u5730\u65b9\u3002\u53ea\u6709\u8bf8\u5982 SELECT * FROM that_view \u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u624d\u4f1a\u88ab\u6301\u4e45\u5316\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6d41\u89c6\u56fe\u53ef\u4ee5\u88ab\u89c6\u4e3a\u9ad8\u541e\u5410\u91cf\u3001\u5b9e\u65f6\u7684\u7269\u5316\u89c6\u56fe\u3002","title":"\u6d41\u89c6\u56fe"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#_3","text":"\u6d41\u8f6c\u6362\u53ef\u4ee5\u5728\u4e0d\u5b58\u50a8\u65f6\u5e8f\u7684\u60c5\u51b5\u4e0b\u5bf9\u5176\u8fdb\u884c\u5b9e\u65f6\u8f6c\u6362\u3002\u7531\u4e8e\u6570\u636e\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u6240\u4ee5\u6d41\u8f6c\u6362\u4e0d\u652f\u6301\u805a\u5408\u64cd\u4f5c\u3002\u8f6c\u6362\u540e\u7684\u6570\u636e\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u6d41\u7684\u8f93\u5165\uff0c\u4e5f\u53ef\u4ee5\u5199\u5165\u5230\u5916\u90e8\u6570\u636e\u5b58\u50a8\u4e2d\u3002","title":"\u6d41\u8f6c\u6362"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#_4","text":"PipelineDB\u6700\u6838\u5fc3\u7684\u8ffd\u6c42\u4e4b\u4e00\u5c31\u662f \u4fc3\u8fdb\u9ad8\u6027\u80fd\u7684\u8fde\u7eed\u805a\u5408\uff0c\u6240\u4ee5\u805a\u5408\u51fd\u6570\u6beb\u65e0\u7591\u95ee\u662fPipelineDB\u7684\u6838\u5fc3\u529f\u80fd\u3002\u8fde\u7eed\u805a\u5408\u5728\u5927\u591a\u6570\u901a\u7528\u573a\u666f\u662f\u975e\u5e38\u6709\u7528\u7684\uff0c\u5b83\u4f7f\u5f97PipelineDB\u4e2d\u6301\u4e45\u5316\u7684\u6570\u636e\u59cb\u7ec8\u4e0e\u5199\u5165\u7684\u6570\u636e\u4fdd\u6301\u540c\u6b65\u3002\u5b83\u53ef\u4ee5\u901a\u8fc7\u4e00\u5b9a\u7684\u786c\u4ef6\u5b9e\u73b0\u7a33\u5b9a\u548c\u9ad8\u541e\u5ea6\u91cf\u7684\u670d\u52a1\u3002 \u8fde\u7eed\u805a\u5408\u662f\u968f\u7740\u6d41\u89c6\u56fe\u65b0 event \u7684\u751f\u6210\u5b9e\u65f6 \u589e\u91cf\u66f4\u65b0\u7684\u3002\u5bf9\u4e8e\u5982 count \u548c sum \u4e4b\u7c7b\u7684\u7b80\u5355\u805a\u5408\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u7406\u89e3\u7ed3\u679c\u662f\u5982\u4f55\u589e\u91cf\u66f4\u65b0\u7684\u2013\u5c06\u65b0\u503c\u7d2f\u52a0\u5230\u5df2\u6709\u7ed3\u679c\u4e0a\u800c\u5df2\u3002 \u4f46\u5bf9\u66f4\u52a0\u590d\u6742\u7684\u805a\u5408\u800c\u8a00\uff0c\u5982 avg, stddev, percentile_cont \u7b49\uff0c\u9700\u8981\u66f4\u4f18\u5316\u7684\u67b6\u6784\u6765\u652f\u6301\u9ad8\u6548\u7684\u589e\u91cf\u66f4\u65b0\uff0cPipelineDB\u5728\u5185\u90e8\u81ea\u52a8\u5b9e\u73b0\u4e86\u8fd9\u4e9b\u590d\u6742\u7684\u903b\u8f91\u3002","title":"\u6d41\u805a\u5408"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#_5","text":"\u6d41\u89c6\u56fe \u7684\u5e76\u975e\u53ea\u9760select \u6d41\uff08foreign table\uff09 \u4ea7\u751f\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c06\u8f93\u5165\u7684\u65f6\u5e8f\u6570\u636e\u548c\u9759\u6001\u7684PipelineDB\u6570\u636e\u8868\u7ec4\u5408\u540e\u5f97\u5230\uff0c\u8fd9\u53ef\u4ee5\u7528\u79f0\u4f5c\u6d41-\u8868\u5173\u8054\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002 \u6d41-\u8868\u5173\u8054 \u6d41-\u8868\u5173\u8054\u5728 event\u5230\u8fbe\u65f6 \u5c06\u5176\u4e0e\u8868\u4e2d\u5339\u914d\u7684\u884c\u6570\u636e\u7ec4\u5408\u3002\u6362\u8a00\u4e4b\uff0c\u5982\u679c\u5728\u8868\u6570\u636e\u5728 event \u88ab\u8bfb\u53d6\u540e\u624d\u88ab\u63d2\u5165\uff0c\u5373\u4f7f\u662f\u5339\u914d\u7684\uff0c\u4e5f\u4e0d\u4f1a\u5bf9\u6d41\u89c6\u56fe\u4ea7\u751f\u5f71\u54cd\u3002\u65b0\u6570\u636e\u53ea\u4f1a\u5728 event\u88ab\u8bfb\u53d6\u65f6 \u4ea7\u751f\u3002\u5373\u4f7f\u6d41-\u8868\u5173\u8054\u4e2d\u7684\u8868\u88ab\u6e05\u7a7a\u4e86\uff0c\u6d41\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u53d8\u5316\u3002 \u6d41-\u6d41\u5173\u8054 \u76ee\u524d\u4e0d\u652f\u6301\u6d41\u4e4b\u95f4\u7684\u5173\u8054\uff0c\u8fd9\u4e2a\u529f\u80fd\u53ef\u80fd\u4f1a\u51fa\u73b0\u5728\u5c06\u6765\u7684\u7248\u672c\u4e2d\u3002 \u8bd1\u8005\u6ce8\uff1a 2019\u5e745\u67081\u65e5\uff0cPipelineDB\u516c\u53f8\u5ba3\u5e03\u52a0\u5165Confluent\uff08Kafka\u7684\u516c\u53f8\uff09\uff0c\u5b98\u65b9\u7248\u5c06\u4f1a\u505c\u7559\u57281.0.0\uff0c\u8be6\u60c5\u89c1 \u5b98\u65b9\u62a5\u9053(https://www.pipelinedb.com/blog/pipelinedb-is-joining-confluent)\u3002 pipelinedb\u4f5c\u8005\u7ed9\u51fa\u5efa\u8bae\uff1a1\u3001\u4f7f\u7528confluent\u7684ksql\uff08\u5546\u4e1a\u8f6f\u4ef6\uff09\u4ee3\u66ffpipelinedb 2\u3001\u5982\u679c\u8fd8\u662f\u949f\u7231pg\u7cfb\u5217\uff0ctimescaledb \u6269\u5c55\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9","title":"\u6d41\u5173\u8054"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#_6","text":"\u7531\u4e8e \u6d41\u89c6\u56fe \u662f\u5b9e\u65f6\u589e\u91cf\u66f4\u65b0\u7684\uff0cPipelineDB\u53ef\u4ee5\u5728\u66f4\u65b0\u6d41\u89c6\u56fe\u7ed3\u679c\u96c6\u65f6\u8003\u8651\u5f53\u524d\u65f6\u95f4\u3002WHERE \u5b50\u53e5\u4e2d\u5305\u542b\u4e0e \u5f53\u524d\u65f6\u95f4 \u76f8\u5173\u4fe1\u606f\u7684\u67e5\u8be2\u88ab\u79f0\u4f5c \u6ed1\u52a8\u7a97\u53e3\u67e5\u8be2\u3002\u6ed1\u52a8\u7684 WHERE \u5b50\u53e5\u8fc7\u6ee4\u6216\u63a5\u6536\u5230\u7684 event \u96c6\u5408\u662f\u968f\u65f6\u95f4\u6301\u7eed\u53d8\u5316\u7684\u3002","title":"\u6ed1\u52a8\u7a97\u53e3"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#_7","text":"\u6211\u4eec\u52aa\u529b\u4fdd\u8bc1PipelineDB\u540cPostgreSQL\u768410.1+\u548c11.0+\u7248\u672c\u4fdd\u6301\u5b8c\u5168\u517c\u5bb9\u3002\u56e0\u6b64\uff0c\u6240\u6709 PostgreSQL\u5185\u7f6e\u51fd\u6570 \u90fd\u53ef\u4ee5\u76f4\u63a5\u5728PipelineDB\u4e2d\u4f7f\u7528\u3002","title":"\u5185\u7f6e\u51fd\u6570"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/pipelinedb%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/#pipelinedb_2","text":"\u5177\u4f53\u67e5\u770b\uff1ahttps://pipelinedb-doc-cn.readthedocs.io/zh_CN/latest/builtin.html#id4","title":"PipelineDB\u7279\u6709\u51fd\u6570"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/timescaledb/","text":"\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u5e93\u7b80\u79f0\u65f6\u5e8f\u6570\u636e\u5e93(Time Series Database)\uff0c\u7528\u4e8e\u5904\u7406\u5e26\u65f6\u95f4\u6807\u7b7e(\u6309\u7167\u65f6\u95f4\u7684\u987a\u5e8f\u53d8\u5316\uff0c\u5373\u65f6\u95f4\u5e8f\u5217\u5316)\u7684\u6570\u636e\uff0c\u5e26\u65f6\u95f4\u6807\u7b7e\u7684\u6570\u636e\u4e5f\u79f0\u4e3a\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u3002 \u65f6\u5e8f\u6570\u636e\u7684\u51e0\u4e2a\u7279\u70b9 \u57fa\u672c\u4e0a\u90fd\u662f\u63d2\u5165\uff0c\u6ca1\u6709\u66f4\u65b0\u7684\u9700\u6c42\u3002 \u5199\u591a\u4e8e\u8bfb\uff1a95%-99%\u7684\u64cd\u4f5c\u90fd\u662f\u5199\u64cd\u4f5c \u987a\u5e8f\u5199\uff1a\u7531\u4e8e\u662f\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff0c\u56e0\u6b64\u6570\u636e\u591a\u4e3a\u8ffd\u52a0\u5f0f\u5199\u5165\uff0c\u800c\u4e14\u51e0\u4e4e\u90fd\u662f\u5b9e\u65f6\u5199\u5165\uff0c\u5f88\u5c11\u4f1a\u5199\u5165\u51e0\u5929\u524d\u7684\u6570\u636e\u3002 \u5f88\u5c11\u66f4\u65b0\uff1a\u6570\u636e\u5199\u5165\u4e4b\u540e\uff0c\u4e0d\u4f1a\u66f4\u65b0 \u533a\u5757\uff08bulk\uff09\u5220\u9664\uff1a\u57fa\u672c\u6ca1\u6709\u968f\u673a\u5220\u9664\uff0c\u591a\u6570\u662f\u4ece\u4e00\u4e2a\u65f6\u95f4\u70b9\u5f00\u59cb\u5230\u67d0\u4e00\u65f6\u95f4\u70b9\u7ed3\u675f\u7684\u6574\u6bb5\u6570\u636e\u5220\u9664\u3002\u6bd4\u5982\u5220\u9664\u4e0a\u4e2a\u6708\uff0c\u6216\u80057\u5929\u524d\u7684\u6570\u636e\u3002\u5f88\u5c11\u51fa\u73b0\u5220\u9664\u5355\u72ec\u67d0\u4e2a\u6307\u6807\u7684\u6570\u636e\uff0c\u6216\u8005\u8df3\u8dc3\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u3002 \u6570\u636e\u8bfb\u53d6\uff08\u67e5\u8be2\uff09 \u987a\u5e8f\u8bfb\uff1a\u57fa\u672c\u90fd\u662f\u6309\u7167\u65f6\u95f4\u987a\u5e8f\u8bfb\u53d6\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u6570\u636e\u3002 \u57fa\u6570\u5927\uff1a\u57fa\u672c\u6570\u636e\u5927\uff0c\u8d85\u8fc7\u5185\u5b58\u5927\u5c0f\uff0c\u8981\u9009\u53d6\u7684\u53ea\u662f\u5176\u4e00\u5c0f\u90e8\u5206\uff0c\u4e14\u6ca1\u6709\u89c4\u5f8b\uff0c\u7f13\u5b58\u51e0\u4e4e\u4e0d\u8d77\u4efb\u4f55\u4f5c\u7528\u3002 \u5373\u4f7f\u8bfb\u53d6\u64cd\u4f5c\u76f8\u5bf9\u5199\u6765\u8bf4\u8f83\u5c11\uff0c\u4f46\u662f\u8bfb\u64cd\u4f5c\u7684\u54cd\u5e94\u65f6\u95f4\u8981\u6c42\u5f88\u9ad8\uff0c\u9664\u975e\u4f60\u662f\u53ea\u505a\u540e\u53f0\u62a5\u8868\u751f\u6210\uff0c\u5426\u5219\u4e00\u65e6\u6709\u4ea4\u4e92\u6027\u64cd\u4f5c\uff0c\u5fc5\u987b\u8981\u6c42\u5feb\u901f\u54cd\u5e94\u3002\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u53d6\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u6709\u4e24\u79cd\u7b56\u7565\uff1a \u4e00\u662f\u4ee5\u5199\u6027\u80fd\u4f18\u5148\uff0c\u4e0d\u4e3a\u8bfb\u53d6\u505a\u5b58\u50a8\u4f18\u5316\uff0c\u4f46\u662f\u901a\u8fc7\u5206\u5e03\u5f0f\u548c\u5e76\u53d1\u8bfb\uff0c\u6765\u63d0\u9ad8\u8bfb\u53d6\u7684\u901f\u5ea6\u3002 \u4e8c\u5c31\u662f\u5728\u5199\u5165\u7684\u65f6\u5019\u5c31\u8003\u8651\u5230\u8bfb\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5c06\u7edf\u4e00\u6307\u6807\u3001\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u5199\u5165\u5230\u540c\u4e00\u6570\u636e\u5757\u4e2d\uff0c\u4e3a\u8bfb\u53d6\u8fdb\u884c\u5199\u5165\u4f18\u5316\u3002 \u5206\u5e03\u5f0f\uff08\u96c6\u7fa4\uff09 TSDB \u5e94\u8be5\u5929\u751f\u5c31\u8981\u8003\u8651\u5230\u5206\u5e03\u5f0f\u548c\u5206\u533a\u7b49\u7279\u6027\uff0c\u5c06\u5b58\u50a8\u548c\u67e5\u8be2\u5206\u53d1\u5230\u4e0d\u540c\u7684\u670d\u52a1\u5668\uff0c\u4ee5\u652f\u6491\u5927\u89c4\u6a21\u7684\u6570\u636e\u91c7\u96c6\u548c\u67e5\u8be2\u8bf7\u6c42\u3002 \u540c\u65f6\uff0c\u5b83\u4e5f\u5e94\u8be5\u662f\u80fd\u6269\u5c55\u548c\u81ea\u52a8\u5931\u8d25\u5207\u6362\uff08Fault-tolerant\uff09\u7684\u3002\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u957f\uff0c\u6240\u9700\u670d\u52a1\u5668\u7684\u53f0\u6570\u4e5f\u4f1a\u589e\u52a0\uff0c\u80fd\u52a8\u6001\u7684\u589e\u51cf\u670d\u52a1\u5668\u5219\u662f\u4e00\u4e2a\u57fa\u672c\u8981\u6c42\u3002\u540c\u65f6\uff0c\u968f\u7740\u670d\u52a1\u5668\u7684\u589e\u591a\uff0c\u5404\u79cd\u670d\u52a1\u5668\u8f6f\u4ef6\u6216\u8005\u7f51\u7edc\u6545\u969c\u53d1\u751f\u7684\u6982\u7387\u4e5f\u4f1a\u589e\u5927\uff0c\u8fd9\u65f6\u5019\u5931\u8d25\u5207\u6362\u4e5f\u663e\u5f97\u5f88\u91cd\u8981\uff0c\u4e0d\u80fd\u56e0\u4e3a\u4e00\u53f0\u673a\u5668\u7684\u5931\u6548\u800c\u5bfc\u81f4\u6574\u4e2a\u96c6\u7fa4\u4e0d\u53ef\u5de5\u4f5c\u3002 \u6570\u636e\u57fa\u672c\u4e0a\u90fd\u6709\u65f6\u95f4\u5c5e\u6027\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u4e0d\u65ad\u4ea7\u751f\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u91cf\u5927\uff0c\u6bcf\u79d2\u949f\u9700\u8981\u5199\u5165\u5343\u4e07\u3001\u4e0a\u4ebf\u6761\u6570\u636e \u4fdd\u7559\u7b56\u7565\uff08Retention Policies\uff0c\u6216\u81ea\u52a8\u5220\u9664\u3001\u538b\u7f29\uff09 \u81ea\u52a8\u5220\u9664\u5c31\u662f\u4e3a\u6570\u636e\u8bbe\u7f6e TTL\uff0c\u8fc7\u4e86\u6307\u5b9a\u7684 TTL \u5219\u81ea\u52a8\u5220\u9664\u76f8\u5173\u6570\u636e\uff0c\u4ee5\u8282\u7701\u5b58\u50a8\u7a7a\u95f4\u540c\u65f6\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u5982\u679c\u4e0d\u5220\u9664\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u6216\u8005\u518d\u91c7\u6837\uff08Resampling\uff09\uff0c\u6bd4\u5982\u5bf9\u6700\u8fd1 1 \u5929\u7684\u6570\u636e\u6211\u4eec\u53ef\u80fd\u9700\u8981\u7cbe\u786e\u5230\u79d2\uff0c\u800c\u67e5\u8be2 1 \u5e74\u7684\u6570\u636e\u65f6\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7cbe\u786e\u5230\u5929\uff0c\u8fd9\u65f6\u5019\uff0c\u6d77\u91cf\u7684\u6570\u636e\u4e00\u5e74\u53ea\u9700\u8981 365 \u4e2a\u70b9\u6765\u5b58\u50a8\uff0c\u5927\u5927\u8282\u7701\u4e86\u5b58\u50a8\u7a7a\u95f4\u3002 \u4e1a\u52a1\u65b9\u5e38\u89c1\u9700\u6c42 \u83b7\u53d6\u6700\u65b0\u72b6\u6001\uff0c\u67e5\u8be2\u6700\u8fd1\u7684\u6570\u636e(\u4f8b\u5982\u4f20\u611f\u5668\u6700\u65b0\u7684\u72b6\u6001) \u5c55\u793a\u533a\u95f4\u7edf\u8ba1\uff0c\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\uff0c\u67e5\u8be2\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f8b\u5982\u5e73\u5747\u503c\uff0c\u6700\u5927\u503c\uff0c\u6700\u5c0f\u503c\uff0c\u8ba1\u6570\u7b49\u3002\u3002\u3002 \u83b7\u53d6\u5f02\u5e38\u6570\u636e\uff0c\u6839\u636e\u6307\u5b9a\u6761\u4ef6\uff0c\u7b5b\u9009\u5f02\u5e38\u6570\u636e \u5e38\u89c1\u4e1a\u52a1\u573a\u666f \u76d1\u63a7\u8f6f\u4ef6\u7cfb\u7edf\uff1a \u865a\u62df\u673a\u3001\u5bb9\u5668\u3001\u670d\u52a1\u3001\u5e94\u7528 \u76d1\u63a7\u7269\u7406\u7cfb\u7edf\uff1a \u6c34\u6587\u76d1\u63a7\u3001\u5236\u9020\u4e1a\u5de5\u5382\u4e2d\u7684\u8bbe\u5907\u76d1\u63a7\u3001\u56fd\u5bb6\u5b89\u5168\u76f8\u5173\u7684\u6570\u636e\u76d1\u63a7\u3001\u901a\u8baf\u76d1\u63a7\u3001\u4f20\u611f\u5668\u6570\u636e\u3001\u8840\u7cd6\u4eea\u3001\u8840\u538b\u53d8\u5316\u3001\u5fc3\u7387\u7b49 \u8d44\u4ea7\u8ddf\u8e2a\u5e94\u7528\uff1a \u6c7d\u8f66\u3001\u5361\u8f66\u3001\u7269\u7406\u5bb9\u5668\u3001\u8fd0\u8d27\u6258\u76d8 \u91d1\u878d\u4ea4\u6613\u7cfb\u7edf\uff1a \u4f20\u7edf\u8bc1\u5238\u3001\u65b0\u5174\u7684\u52a0\u5bc6\u6570\u5b57\u8d27\u5e01 \u4e8b\u4ef6\u5e94\u7528\u7a0b\u5e8f\uff1a \u8ddf\u8e2a\u7528\u6237\u3001\u5ba2\u6237\u7684\u4ea4\u4e92\u6570\u636e \u5546\u4e1a\u667a\u80fd\u5de5\u5177\uff1a \u8ddf\u8e2a\u5173\u952e\u6307\u6807\u548c\u4e1a\u52a1\u7684\u603b\u4f53\u5065\u5eb7\u60c5\u51b5 \u5728\u4e92\u8054\u7f51\u884c\u4e1a\u4e2d\uff0c\u4e5f\u6709\u7740\u975e\u5e38\u591a\u7684\u65f6\u5e8f\u6570\u636e\uff0c\u4f8b\u5982\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\u7684\u884c\u4e3a\u8f68\u8ff9\uff0c\u5e94\u7528\u7a0b\u5e8f\u4ea7\u751f\u7684\u65e5\u5fd7\u6570\u636e\u7b49\u7b49\u3002 \u4e00\u4e9b\u57fa\u672c\u6982\u5ff5(\u4e0d\u540c\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u79f0\u547c\u7565\u6709\u4e0d\u540c) Metric: \u5ea6\u91cf\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684 table\u3002 Data point: \u6570\u636e\u70b9\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684 row\u3002 Timestamp\uff1a\u65f6\u95f4\u6233\uff0c\u4ee3\u8868\u6570\u636e\u70b9\u4ea7\u751f\u7684\u65f6\u95f4\u3002 Field: \u5ea6\u91cf\u4e0b\u7684\u4e0d\u540c\u5b57\u6bb5\u3002\u6bd4\u5982\u4f4d\u7f6e\u8fd9\u4e2a\u5ea6\u91cf\u5177\u6709\u7ecf\u5ea6\u548c\u7eac\u5ea6\u4e24\u4e2a field\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u5b58\u653e\u7684\u662f\u968f\u65f6\u95f4\u6233\u800c\u53d8\u5316\u7684\u6570\u636e\u3002 Tag: \u6807\u7b7e\u3002\u4e00\u822c\u5b58\u653e\u7684\u662f\u4e0d\u968f\u65f6\u95f4\u6233\u53d8\u5316\u7684\u4fe1\u606f\u3002timestamp \u52a0\u4e0a\u6240\u6709\u7684 tags \u53ef\u4ee5\u89c6\u4e3a table \u7684 primary key\u3002 \u4f8b\u5982\u91c7\u96c6\u6709\u5173\u98ce\u7684\u6570\u636e\uff0c\u5ea6\u91cf\u4e3a Wind\uff0c\u6bcf\u6761\u6570\u636e\u90fd\u6709\u65f6\u95f4\u6233timestamp\uff0c\u4e24\u4e2a\u5b57\u6bb5 field\uff1adirection(\u98ce\u5411)\u3001speed(\u98ce\u901f)\uff0c\u4e24\u4e2atag\uff1asensor(\u4f20\u611f\u5668\u7f16\u53f7)\u3001city(\u57ce\u5e02)\u3002\u7b2c\u4e00\u884c\u548c\u7b2c\u4e09\u884c\uff0c\u5b58\u653e\u7684\u90fd\u662f sensor \u7f16\u53f7\u4e3a86F-2RT8\u7684\u8bbe\u5907\uff0c\u57ce\u5e02\u662f\u6df1\u5733\u3002\u968f\u7740\u65f6\u95f4\u7684\u53d8\u5316\uff0c\u98ce\u5411\u548c\u98ce\u901f\u53d1\u751f\u4e86\u6539\u53d8\uff0c\u98ce\u5411\u4ece56.4\u53d8\u4e3a45.6\uff0c\u98ce\u901f\u4ece2.9\u53d8\u4e3a3.6\u3002 \u9700\u8981\u89e3\u51b3\u7684\u51e0\u4e2a\u95ee\u9898 \u65f6\u5e8f\u6570\u636e\u7684\u5199\u5165\uff1a\u5982\u4f55\u652f\u6301\u6bcf\u79d2\u949f\u6210\u5343\u4e0a\u4ebf\u6761\u6570\u636e\u7684\u5199\u5165\u3002 \u65f6\u5e8f\u6570\u636e\u7684\u8bfb\u53d6\uff1a\u5982\u4f55\u652f\u6301\u5728\u79d2\u7ea7\u5bf9\u4e0a\u4ebf\u6761\u6570\u636e\u7684\u5206\u7ec4\u805a\u5408\u8fd0\u7b97\u3002 \u6210\u672c\u654f\u611f\uff1a\u6d77\u91cf\u6570\u636e\u5b58\u50a8\u5e26\u6765\u7684\u6210\u672c\u95ee\u9898\u3002\u5982\u4f55\u4ee5\u66f4\u4f4e\u6210\u672c\u5b58\u50a8\u6570\u636e\uff0c\u5c06\u6210\u4e3a\u65f6\u5e8f\u6570\u636e\u5e93\u9700\u8981\u89e3\u51b3\u7684\u91cd\u4e2d\u4e4b\u91cd\u3002 \u5e38\u89c1\u65f6\u5e8f\u6570\u636e\u5e93 \u65f6\u5e8f\u6570\u636e\u5e93\u51fa\u73b0\u7684\u65f6\u95f4\u8f83\u665a\uff0c\u76ee\u524d\u8f83\u6210\u719f\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u90fd\u4ec5\u67092\u30013\u5e74\u7684\u5386\u53f2\u3002 InfluxDB(\u5355\u673a\u7248\u514d\u8d39\uff0c\u96c6\u7fa4\u7248\u6536\u8d39)\u6700\u6210\u719f\uff0cKairosdb(\u5e95\u5c42\u4f7f\u7528Cassandra)\uff0cOpenTsdb(\u5e95\u5c42\u4f7f\u7528HBase)\uff0cberingei(Facebook\u5f00\u6e90)\uff0cTimeScaleDB(\u5e95\u5c42\u57fa\u4e8ePostgreSQL)\uff0cTSDB(\u767e\u5ea6\u5f00\u6e90)\uff0cHiTSDB(\u963f\u91cc\u5f00\u6e90\uff0c\u5e95\u5c42\u662fPostgreSQL)\uff0cMatrixDB\uff08\u56fd\u4ea7\uff0c\u636e\u8bf4\u5199\u5165\u6027\u80fd\u6bd4InfluxDB\u5feb\u51e0\u5341\u500d\uff1ahttps://zhuanlan.zhihu.com/p/374151291 \uff09","title":"Timescaledb"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/timescaledb/#_1","text":"\u57fa\u672c\u4e0a\u90fd\u662f\u63d2\u5165\uff0c\u6ca1\u6709\u66f4\u65b0\u7684\u9700\u6c42\u3002 \u5199\u591a\u4e8e\u8bfb\uff1a95%-99%\u7684\u64cd\u4f5c\u90fd\u662f\u5199\u64cd\u4f5c \u987a\u5e8f\u5199\uff1a\u7531\u4e8e\u662f\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff0c\u56e0\u6b64\u6570\u636e\u591a\u4e3a\u8ffd\u52a0\u5f0f\u5199\u5165\uff0c\u800c\u4e14\u51e0\u4e4e\u90fd\u662f\u5b9e\u65f6\u5199\u5165\uff0c\u5f88\u5c11\u4f1a\u5199\u5165\u51e0\u5929\u524d\u7684\u6570\u636e\u3002 \u5f88\u5c11\u66f4\u65b0\uff1a\u6570\u636e\u5199\u5165\u4e4b\u540e\uff0c\u4e0d\u4f1a\u66f4\u65b0 \u533a\u5757\uff08bulk\uff09\u5220\u9664\uff1a\u57fa\u672c\u6ca1\u6709\u968f\u673a\u5220\u9664\uff0c\u591a\u6570\u662f\u4ece\u4e00\u4e2a\u65f6\u95f4\u70b9\u5f00\u59cb\u5230\u67d0\u4e00\u65f6\u95f4\u70b9\u7ed3\u675f\u7684\u6574\u6bb5\u6570\u636e\u5220\u9664\u3002\u6bd4\u5982\u5220\u9664\u4e0a\u4e2a\u6708\uff0c\u6216\u80057\u5929\u524d\u7684\u6570\u636e\u3002\u5f88\u5c11\u51fa\u73b0\u5220\u9664\u5355\u72ec\u67d0\u4e2a\u6307\u6807\u7684\u6570\u636e\uff0c\u6216\u8005\u8df3\u8dc3\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u3002 \u6570\u636e\u8bfb\u53d6\uff08\u67e5\u8be2\uff09 \u987a\u5e8f\u8bfb\uff1a\u57fa\u672c\u90fd\u662f\u6309\u7167\u65f6\u95f4\u987a\u5e8f\u8bfb\u53d6\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u6570\u636e\u3002 \u57fa\u6570\u5927\uff1a\u57fa\u672c\u6570\u636e\u5927\uff0c\u8d85\u8fc7\u5185\u5b58\u5927\u5c0f\uff0c\u8981\u9009\u53d6\u7684\u53ea\u662f\u5176\u4e00\u5c0f\u90e8\u5206\uff0c\u4e14\u6ca1\u6709\u89c4\u5f8b\uff0c\u7f13\u5b58\u51e0\u4e4e\u4e0d\u8d77\u4efb\u4f55\u4f5c\u7528\u3002 \u5373\u4f7f\u8bfb\u53d6\u64cd\u4f5c\u76f8\u5bf9\u5199\u6765\u8bf4\u8f83\u5c11\uff0c\u4f46\u662f\u8bfb\u64cd\u4f5c\u7684\u54cd\u5e94\u65f6\u95f4\u8981\u6c42\u5f88\u9ad8\uff0c\u9664\u975e\u4f60\u662f\u53ea\u505a\u540e\u53f0\u62a5\u8868\u751f\u6210\uff0c\u5426\u5219\u4e00\u65e6\u6709\u4ea4\u4e92\u6027\u64cd\u4f5c\uff0c\u5fc5\u987b\u8981\u6c42\u5feb\u901f\u54cd\u5e94\u3002\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u53d6\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u6709\u4e24\u79cd\u7b56\u7565\uff1a \u4e00\u662f\u4ee5\u5199\u6027\u80fd\u4f18\u5148\uff0c\u4e0d\u4e3a\u8bfb\u53d6\u505a\u5b58\u50a8\u4f18\u5316\uff0c\u4f46\u662f\u901a\u8fc7\u5206\u5e03\u5f0f\u548c\u5e76\u53d1\u8bfb\uff0c\u6765\u63d0\u9ad8\u8bfb\u53d6\u7684\u901f\u5ea6\u3002 \u4e8c\u5c31\u662f\u5728\u5199\u5165\u7684\u65f6\u5019\u5c31\u8003\u8651\u5230\u8bfb\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5c06\u7edf\u4e00\u6307\u6807\u3001\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u5199\u5165\u5230\u540c\u4e00\u6570\u636e\u5757\u4e2d\uff0c\u4e3a\u8bfb\u53d6\u8fdb\u884c\u5199\u5165\u4f18\u5316\u3002 \u5206\u5e03\u5f0f\uff08\u96c6\u7fa4\uff09 TSDB \u5e94\u8be5\u5929\u751f\u5c31\u8981\u8003\u8651\u5230\u5206\u5e03\u5f0f\u548c\u5206\u533a\u7b49\u7279\u6027\uff0c\u5c06\u5b58\u50a8\u548c\u67e5\u8be2\u5206\u53d1\u5230\u4e0d\u540c\u7684\u670d\u52a1\u5668\uff0c\u4ee5\u652f\u6491\u5927\u89c4\u6a21\u7684\u6570\u636e\u91c7\u96c6\u548c\u67e5\u8be2\u8bf7\u6c42\u3002 \u540c\u65f6\uff0c\u5b83\u4e5f\u5e94\u8be5\u662f\u80fd\u6269\u5c55\u548c\u81ea\u52a8\u5931\u8d25\u5207\u6362\uff08Fault-tolerant\uff09\u7684\u3002\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u957f\uff0c\u6240\u9700\u670d\u52a1\u5668\u7684\u53f0\u6570\u4e5f\u4f1a\u589e\u52a0\uff0c\u80fd\u52a8\u6001\u7684\u589e\u51cf\u670d\u52a1\u5668\u5219\u662f\u4e00\u4e2a\u57fa\u672c\u8981\u6c42\u3002\u540c\u65f6\uff0c\u968f\u7740\u670d\u52a1\u5668\u7684\u589e\u591a\uff0c\u5404\u79cd\u670d\u52a1\u5668\u8f6f\u4ef6\u6216\u8005\u7f51\u7edc\u6545\u969c\u53d1\u751f\u7684\u6982\u7387\u4e5f\u4f1a\u589e\u5927\uff0c\u8fd9\u65f6\u5019\u5931\u8d25\u5207\u6362\u4e5f\u663e\u5f97\u5f88\u91cd\u8981\uff0c\u4e0d\u80fd\u56e0\u4e3a\u4e00\u53f0\u673a\u5668\u7684\u5931\u6548\u800c\u5bfc\u81f4\u6574\u4e2a\u96c6\u7fa4\u4e0d\u53ef\u5de5\u4f5c\u3002 \u6570\u636e\u57fa\u672c\u4e0a\u90fd\u6709\u65f6\u95f4\u5c5e\u6027\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u4e0d\u65ad\u4ea7\u751f\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u91cf\u5927\uff0c\u6bcf\u79d2\u949f\u9700\u8981\u5199\u5165\u5343\u4e07\u3001\u4e0a\u4ebf\u6761\u6570\u636e \u4fdd\u7559\u7b56\u7565\uff08Retention Policies\uff0c\u6216\u81ea\u52a8\u5220\u9664\u3001\u538b\u7f29\uff09 \u81ea\u52a8\u5220\u9664\u5c31\u662f\u4e3a\u6570\u636e\u8bbe\u7f6e TTL\uff0c\u8fc7\u4e86\u6307\u5b9a\u7684 TTL \u5219\u81ea\u52a8\u5220\u9664\u76f8\u5173\u6570\u636e\uff0c\u4ee5\u8282\u7701\u5b58\u50a8\u7a7a\u95f4\u540c\u65f6\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u5982\u679c\u4e0d\u5220\u9664\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u6216\u8005\u518d\u91c7\u6837\uff08Resampling\uff09\uff0c\u6bd4\u5982\u5bf9\u6700\u8fd1 1 \u5929\u7684\u6570\u636e\u6211\u4eec\u53ef\u80fd\u9700\u8981\u7cbe\u786e\u5230\u79d2\uff0c\u800c\u67e5\u8be2 1 \u5e74\u7684\u6570\u636e\u65f6\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7cbe\u786e\u5230\u5929\uff0c\u8fd9\u65f6\u5019\uff0c\u6d77\u91cf\u7684\u6570\u636e\u4e00\u5e74\u53ea\u9700\u8981 365 \u4e2a\u70b9\u6765\u5b58\u50a8\uff0c\u5927\u5927\u8282\u7701\u4e86\u5b58\u50a8\u7a7a\u95f4\u3002","title":"\u65f6\u5e8f\u6570\u636e\u7684\u51e0\u4e2a\u7279\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/timescaledb/#_2","text":"\u83b7\u53d6\u6700\u65b0\u72b6\u6001\uff0c\u67e5\u8be2\u6700\u8fd1\u7684\u6570\u636e(\u4f8b\u5982\u4f20\u611f\u5668\u6700\u65b0\u7684\u72b6\u6001) \u5c55\u793a\u533a\u95f4\u7edf\u8ba1\uff0c\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\uff0c\u67e5\u8be2\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f8b\u5982\u5e73\u5747\u503c\uff0c\u6700\u5927\u503c\uff0c\u6700\u5c0f\u503c\uff0c\u8ba1\u6570\u7b49\u3002\u3002\u3002 \u83b7\u53d6\u5f02\u5e38\u6570\u636e\uff0c\u6839\u636e\u6307\u5b9a\u6761\u4ef6\uff0c\u7b5b\u9009\u5f02\u5e38\u6570\u636e","title":"\u4e1a\u52a1\u65b9\u5e38\u89c1\u9700\u6c42"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/timescaledb/#_3","text":"\u76d1\u63a7\u8f6f\u4ef6\u7cfb\u7edf\uff1a \u865a\u62df\u673a\u3001\u5bb9\u5668\u3001\u670d\u52a1\u3001\u5e94\u7528 \u76d1\u63a7\u7269\u7406\u7cfb\u7edf\uff1a \u6c34\u6587\u76d1\u63a7\u3001\u5236\u9020\u4e1a\u5de5\u5382\u4e2d\u7684\u8bbe\u5907\u76d1\u63a7\u3001\u56fd\u5bb6\u5b89\u5168\u76f8\u5173\u7684\u6570\u636e\u76d1\u63a7\u3001\u901a\u8baf\u76d1\u63a7\u3001\u4f20\u611f\u5668\u6570\u636e\u3001\u8840\u7cd6\u4eea\u3001\u8840\u538b\u53d8\u5316\u3001\u5fc3\u7387\u7b49 \u8d44\u4ea7\u8ddf\u8e2a\u5e94\u7528\uff1a \u6c7d\u8f66\u3001\u5361\u8f66\u3001\u7269\u7406\u5bb9\u5668\u3001\u8fd0\u8d27\u6258\u76d8 \u91d1\u878d\u4ea4\u6613\u7cfb\u7edf\uff1a \u4f20\u7edf\u8bc1\u5238\u3001\u65b0\u5174\u7684\u52a0\u5bc6\u6570\u5b57\u8d27\u5e01 \u4e8b\u4ef6\u5e94\u7528\u7a0b\u5e8f\uff1a \u8ddf\u8e2a\u7528\u6237\u3001\u5ba2\u6237\u7684\u4ea4\u4e92\u6570\u636e \u5546\u4e1a\u667a\u80fd\u5de5\u5177\uff1a \u8ddf\u8e2a\u5173\u952e\u6307\u6807\u548c\u4e1a\u52a1\u7684\u603b\u4f53\u5065\u5eb7\u60c5\u51b5 \u5728\u4e92\u8054\u7f51\u884c\u4e1a\u4e2d\uff0c\u4e5f\u6709\u7740\u975e\u5e38\u591a\u7684\u65f6\u5e8f\u6570\u636e\uff0c\u4f8b\u5982\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\u7684\u884c\u4e3a\u8f68\u8ff9\uff0c\u5e94\u7528\u7a0b\u5e8f\u4ea7\u751f\u7684\u65e5\u5fd7\u6570\u636e\u7b49\u7b49\u3002 \u4e00\u4e9b\u57fa\u672c\u6982\u5ff5(\u4e0d\u540c\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u79f0\u547c\u7565\u6709\u4e0d\u540c) Metric: \u5ea6\u91cf\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684 table\u3002 Data point: \u6570\u636e\u70b9\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684 row\u3002 Timestamp\uff1a\u65f6\u95f4\u6233\uff0c\u4ee3\u8868\u6570\u636e\u70b9\u4ea7\u751f\u7684\u65f6\u95f4\u3002 Field: \u5ea6\u91cf\u4e0b\u7684\u4e0d\u540c\u5b57\u6bb5\u3002\u6bd4\u5982\u4f4d\u7f6e\u8fd9\u4e2a\u5ea6\u91cf\u5177\u6709\u7ecf\u5ea6\u548c\u7eac\u5ea6\u4e24\u4e2a field\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u5b58\u653e\u7684\u662f\u968f\u65f6\u95f4\u6233\u800c\u53d8\u5316\u7684\u6570\u636e\u3002 Tag: \u6807\u7b7e\u3002\u4e00\u822c\u5b58\u653e\u7684\u662f\u4e0d\u968f\u65f6\u95f4\u6233\u53d8\u5316\u7684\u4fe1\u606f\u3002timestamp \u52a0\u4e0a\u6240\u6709\u7684 tags \u53ef\u4ee5\u89c6\u4e3a table \u7684 primary key\u3002 \u4f8b\u5982\u91c7\u96c6\u6709\u5173\u98ce\u7684\u6570\u636e\uff0c\u5ea6\u91cf\u4e3a Wind\uff0c\u6bcf\u6761\u6570\u636e\u90fd\u6709\u65f6\u95f4\u6233timestamp\uff0c\u4e24\u4e2a\u5b57\u6bb5 field\uff1adirection(\u98ce\u5411)\u3001speed(\u98ce\u901f)\uff0c\u4e24\u4e2atag\uff1asensor(\u4f20\u611f\u5668\u7f16\u53f7)\u3001city(\u57ce\u5e02)\u3002\u7b2c\u4e00\u884c\u548c\u7b2c\u4e09\u884c\uff0c\u5b58\u653e\u7684\u90fd\u662f sensor \u7f16\u53f7\u4e3a86F-2RT8\u7684\u8bbe\u5907\uff0c\u57ce\u5e02\u662f\u6df1\u5733\u3002\u968f\u7740\u65f6\u95f4\u7684\u53d8\u5316\uff0c\u98ce\u5411\u548c\u98ce\u901f\u53d1\u751f\u4e86\u6539\u53d8\uff0c\u98ce\u5411\u4ece56.4\u53d8\u4e3a45.6\uff0c\u98ce\u901f\u4ece2.9\u53d8\u4e3a3.6\u3002","title":"\u5e38\u89c1\u4e1a\u52a1\u573a\u666f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/timescaledb/#_4","text":"\u65f6\u5e8f\u6570\u636e\u7684\u5199\u5165\uff1a\u5982\u4f55\u652f\u6301\u6bcf\u79d2\u949f\u6210\u5343\u4e0a\u4ebf\u6761\u6570\u636e\u7684\u5199\u5165\u3002 \u65f6\u5e8f\u6570\u636e\u7684\u8bfb\u53d6\uff1a\u5982\u4f55\u652f\u6301\u5728\u79d2\u7ea7\u5bf9\u4e0a\u4ebf\u6761\u6570\u636e\u7684\u5206\u7ec4\u805a\u5408\u8fd0\u7b97\u3002 \u6210\u672c\u654f\u611f\uff1a\u6d77\u91cf\u6570\u636e\u5b58\u50a8\u5e26\u6765\u7684\u6210\u672c\u95ee\u9898\u3002\u5982\u4f55\u4ee5\u66f4\u4f4e\u6210\u672c\u5b58\u50a8\u6570\u636e\uff0c\u5c06\u6210\u4e3a\u65f6\u5e8f\u6570\u636e\u5e93\u9700\u8981\u89e3\u51b3\u7684\u91cd\u4e2d\u4e4b\u91cd\u3002","title":"\u9700\u8981\u89e3\u51b3\u7684\u51e0\u4e2a\u95ee\u9898"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/timescaledb/#_5","text":"\u65f6\u5e8f\u6570\u636e\u5e93\u51fa\u73b0\u7684\u65f6\u95f4\u8f83\u665a\uff0c\u76ee\u524d\u8f83\u6210\u719f\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u90fd\u4ec5\u67092\u30013\u5e74\u7684\u5386\u53f2\u3002 InfluxDB(\u5355\u673a\u7248\u514d\u8d39\uff0c\u96c6\u7fa4\u7248\u6536\u8d39)\u6700\u6210\u719f\uff0cKairosdb(\u5e95\u5c42\u4f7f\u7528Cassandra)\uff0cOpenTsdb(\u5e95\u5c42\u4f7f\u7528HBase)\uff0cberingei(Facebook\u5f00\u6e90)\uff0cTimeScaleDB(\u5e95\u5c42\u57fa\u4e8ePostgreSQL)\uff0cTSDB(\u767e\u5ea6\u5f00\u6e90)\uff0cHiTSDB(\u963f\u91cc\u5f00\u6e90\uff0c\u5e95\u5c42\u662fPostgreSQL)\uff0cMatrixDB\uff08\u56fd\u4ea7\uff0c\u636e\u8bf4\u5199\u5165\u6027\u80fd\u6bd4InfluxDB\u5feb\u51e0\u5341\u500d\uff1ahttps://zhuanlan.zhihu.com/p/374151291 \uff09","title":"\u5e38\u89c1\u65f6\u5e8f\u6570\u636e\u5e93"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/","text":"\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u5e93\u7b80\u79f0\u65f6\u5e8f\u6570\u636e\u5e93(Time Series Database)\uff0c\u7528\u4e8e\u5904\u7406\u5e26\u65f6\u95f4\u6807\u7b7e(\u6309\u7167\u65f6\u95f4\u7684\u987a\u5e8f\u53d8\u5316\uff0c\u5373\u65f6\u95f4\u5e8f\u5217\u5316)\u7684\u6570\u636e\uff0c\u5e26\u65f6\u95f4\u6807\u7b7e\u7684\u6570\u636e\u4e5f\u79f0\u4e3a\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u3002 \u65f6\u5e8f\u6570\u636e\u7684\u51e0\u4e2a\u7279\u70b9 \u57fa\u672c\u4e0a\u90fd\u662f\u63d2\u5165\uff0c\u6ca1\u6709\u66f4\u65b0\u7684\u9700\u6c42\u3002 \u5199\u591a\u4e8e\u8bfb\uff1a95%-99%\u7684\u64cd\u4f5c\u90fd\u662f\u5199\u64cd\u4f5c \u987a\u5e8f\u5199\uff1a\u7531\u4e8e\u662f\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff0c\u56e0\u6b64\u6570\u636e\u591a\u4e3a\u8ffd\u52a0\u5f0f\u5199\u5165\uff0c\u800c\u4e14\u51e0\u4e4e\u90fd\u662f\u5b9e\u65f6\u5199\u5165\uff0c\u5f88\u5c11\u4f1a\u5199\u5165\u51e0\u5929\u524d\u7684\u6570\u636e\u3002 \u5f88\u5c11\u66f4\u65b0\uff1a\u6570\u636e\u5199\u5165\u4e4b\u540e\uff0c\u4e0d\u4f1a\u66f4\u65b0 \u533a\u5757\uff08bulk\uff09\u5220\u9664\uff1a\u57fa\u672c\u6ca1\u6709\u968f\u673a\u5220\u9664\uff0c\u591a\u6570\u662f\u4ece\u4e00\u4e2a\u65f6\u95f4\u70b9\u5f00\u59cb\u5230\u67d0\u4e00\u65f6\u95f4\u70b9\u7ed3\u675f\u7684\u6574\u6bb5\u6570\u636e\u5220\u9664\u3002\u6bd4\u5982\u5220\u9664\u4e0a\u4e2a\u6708\uff0c\u6216\u80057\u5929\u524d\u7684\u6570\u636e\u3002\u5f88\u5c11\u51fa\u73b0\u5220\u9664\u5355\u72ec\u67d0\u4e2a\u6307\u6807\u7684\u6570\u636e\uff0c\u6216\u8005\u8df3\u8dc3\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u3002 \u6570\u636e\u8bfb\u53d6\uff08\u67e5\u8be2\uff09 \u987a\u5e8f\u8bfb\uff1a\u57fa\u672c\u90fd\u662f\u6309\u7167\u65f6\u95f4\u987a\u5e8f\u8bfb\u53d6\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u6570\u636e\u3002 \u57fa\u6570\u5927\uff1a\u57fa\u672c\u6570\u636e\u5927\uff0c\u8d85\u8fc7\u5185\u5b58\u5927\u5c0f\uff0c\u8981\u9009\u53d6\u7684\u53ea\u662f\u5176\u4e00\u5c0f\u90e8\u5206\uff0c\u4e14\u6ca1\u6709\u89c4\u5f8b\uff0c\u7f13\u5b58\u51e0\u4e4e\u4e0d\u8d77\u4efb\u4f55\u4f5c\u7528\u3002 \u5373\u4f7f\u8bfb\u53d6\u64cd\u4f5c\u76f8\u5bf9\u5199\u6765\u8bf4\u8f83\u5c11\uff0c\u4f46\u662f\u8bfb\u64cd\u4f5c\u7684\u54cd\u5e94\u65f6\u95f4\u8981\u6c42\u5f88\u9ad8\uff0c\u9664\u975e\u4f60\u662f\u53ea\u505a\u540e\u53f0\u62a5\u8868\u751f\u6210\uff0c\u5426\u5219\u4e00\u65e6\u6709\u4ea4\u4e92\u6027\u64cd\u4f5c\uff0c\u5fc5\u987b\u8981\u6c42\u5feb\u901f\u54cd\u5e94\u3002\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u53d6\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u6709\u4e24\u79cd\u7b56\u7565\uff1a \u4e00\u662f\u4ee5\u5199\u6027\u80fd\u4f18\u5148\uff0c\u4e0d\u4e3a\u8bfb\u53d6\u505a\u5b58\u50a8\u4f18\u5316\uff0c\u4f46\u662f\u901a\u8fc7\u5206\u5e03\u5f0f\u548c\u5e76\u53d1\u8bfb\uff0c\u6765\u63d0\u9ad8\u8bfb\u53d6\u7684\u901f\u5ea6\u3002 \u4e8c\u5c31\u662f\u5728\u5199\u5165\u7684\u65f6\u5019\u5c31\u8003\u8651\u5230\u8bfb\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5c06\u7edf\u4e00\u6307\u6807\u3001\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u5199\u5165\u5230\u540c\u4e00\u6570\u636e\u5757\u4e2d\uff0c\u4e3a\u8bfb\u53d6\u8fdb\u884c\u5199\u5165\u4f18\u5316\u3002 \u5206\u5e03\u5f0f\uff08\u96c6\u7fa4\uff09 TSDB \u5e94\u8be5\u5929\u751f\u5c31\u8981\u8003\u8651\u5230\u5206\u5e03\u5f0f\u548c\u5206\u533a\u7b49\u7279\u6027\uff0c\u5c06\u5b58\u50a8\u548c\u67e5\u8be2\u5206\u53d1\u5230\u4e0d\u540c\u7684\u670d\u52a1\u5668\uff0c\u4ee5\u652f\u6491\u5927\u89c4\u6a21\u7684\u6570\u636e\u91c7\u96c6\u548c\u67e5\u8be2\u8bf7\u6c42\u3002 \u540c\u65f6\uff0c\u5b83\u4e5f\u5e94\u8be5\u662f\u80fd\u6269\u5c55\u548c\u81ea\u52a8\u5931\u8d25\u5207\u6362\uff08Fault-tolerant\uff09\u7684\u3002\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u957f\uff0c\u6240\u9700\u670d\u52a1\u5668\u7684\u53f0\u6570\u4e5f\u4f1a\u589e\u52a0\uff0c\u80fd\u52a8\u6001\u7684\u589e\u51cf\u670d\u52a1\u5668\u5219\u662f\u4e00\u4e2a\u57fa\u672c\u8981\u6c42\u3002\u540c\u65f6\uff0c\u968f\u7740\u670d\u52a1\u5668\u7684\u589e\u591a\uff0c\u5404\u79cd\u670d\u52a1\u5668\u8f6f\u4ef6\u6216\u8005\u7f51\u7edc\u6545\u969c\u53d1\u751f\u7684\u6982\u7387\u4e5f\u4f1a\u589e\u5927\uff0c\u8fd9\u65f6\u5019\u5931\u8d25\u5207\u6362\u4e5f\u663e\u5f97\u5f88\u91cd\u8981\uff0c\u4e0d\u80fd\u56e0\u4e3a\u4e00\u53f0\u673a\u5668\u7684\u5931\u6548\u800c\u5bfc\u81f4\u6574\u4e2a\u96c6\u7fa4\u4e0d\u53ef\u5de5\u4f5c\u3002 \u6570\u636e\u57fa\u672c\u4e0a\u90fd\u6709\u65f6\u95f4\u5c5e\u6027\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u4e0d\u65ad\u4ea7\u751f\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u91cf\u5927\uff0c\u6bcf\u79d2\u949f\u9700\u8981\u5199\u5165\u5343\u4e07\u3001\u4e0a\u4ebf\u6761\u6570\u636e \u4fdd\u7559\u7b56\u7565\uff08Retention Policies\uff0c\u6216\u81ea\u52a8\u5220\u9664\u3001\u538b\u7f29\uff09 \u81ea\u52a8\u5220\u9664\u5c31\u662f\u4e3a\u6570\u636e\u8bbe\u7f6e TTL\uff0c\u8fc7\u4e86\u6307\u5b9a\u7684 TTL \u5219\u81ea\u52a8\u5220\u9664\u76f8\u5173\u6570\u636e\uff0c\u4ee5\u8282\u7701\u5b58\u50a8\u7a7a\u95f4\u540c\u65f6\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u5982\u679c\u4e0d\u5220\u9664\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u6216\u8005\u518d\u91c7\u6837\uff08Resampling\uff09\uff0c\u6bd4\u5982\u5bf9\u6700\u8fd1 1 \u5929\u7684\u6570\u636e\u6211\u4eec\u53ef\u80fd\u9700\u8981\u7cbe\u786e\u5230\u79d2\uff0c\u800c\u67e5\u8be2 1 \u5e74\u7684\u6570\u636e\u65f6\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7cbe\u786e\u5230\u5929\uff0c\u8fd9\u65f6\u5019\uff0c\u6d77\u91cf\u7684\u6570\u636e\u4e00\u5e74\u53ea\u9700\u8981 365 \u4e2a\u70b9\u6765\u5b58\u50a8\uff0c\u5927\u5927\u8282\u7701\u4e86\u5b58\u50a8\u7a7a\u95f4\u3002 \u4e1a\u52a1\u65b9\u5e38\u89c1\u9700\u6c42 \u83b7\u53d6\u6700\u65b0\u72b6\u6001\uff0c\u67e5\u8be2\u6700\u8fd1\u7684\u6570\u636e(\u4f8b\u5982\u4f20\u611f\u5668\u6700\u65b0\u7684\u72b6\u6001) \u5c55\u793a\u533a\u95f4\u7edf\u8ba1\uff0c\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\uff0c\u67e5\u8be2\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f8b\u5982\u5e73\u5747\u503c\uff0c\u6700\u5927\u503c\uff0c\u6700\u5c0f\u503c\uff0c\u8ba1\u6570\u7b49\u3002\u3002\u3002 \u83b7\u53d6\u5f02\u5e38\u6570\u636e\uff0c\u6839\u636e\u6307\u5b9a\u6761\u4ef6\uff0c\u7b5b\u9009\u5f02\u5e38\u6570\u636e \u5e38\u89c1\u4e1a\u52a1\u573a\u666f \u76d1\u63a7\u8f6f\u4ef6\u7cfb\u7edf\uff1a \u865a\u62df\u673a\u3001\u5bb9\u5668\u3001\u670d\u52a1\u3001\u5e94\u7528 \u76d1\u63a7\u7269\u7406\u7cfb\u7edf\uff1a \u6c34\u6587\u76d1\u63a7\u3001\u5236\u9020\u4e1a\u5de5\u5382\u4e2d\u7684\u8bbe\u5907\u76d1\u63a7\u3001\u56fd\u5bb6\u5b89\u5168\u76f8\u5173\u7684\u6570\u636e\u76d1\u63a7\u3001\u901a\u8baf\u76d1\u63a7\u3001\u4f20\u611f\u5668\u6570\u636e\u3001\u8840\u7cd6\u4eea\u3001\u8840\u538b\u53d8\u5316\u3001\u5fc3\u7387\u7b49 \u8d44\u4ea7\u8ddf\u8e2a\u5e94\u7528\uff1a \u6c7d\u8f66\u3001\u5361\u8f66\u3001\u7269\u7406\u5bb9\u5668\u3001\u8fd0\u8d27\u6258\u76d8 \u91d1\u878d\u4ea4\u6613\u7cfb\u7edf\uff1a \u4f20\u7edf\u8bc1\u5238\u3001\u65b0\u5174\u7684\u52a0\u5bc6\u6570\u5b57\u8d27\u5e01 \u4e8b\u4ef6\u5e94\u7528\u7a0b\u5e8f\uff1a \u8ddf\u8e2a\u7528\u6237\u3001\u5ba2\u6237\u7684\u4ea4\u4e92\u6570\u636e \u5546\u4e1a\u667a\u80fd\u5de5\u5177\uff1a \u8ddf\u8e2a\u5173\u952e\u6307\u6807\u548c\u4e1a\u52a1\u7684\u603b\u4f53\u5065\u5eb7\u60c5\u51b5 \u5728\u4e92\u8054\u7f51\u884c\u4e1a\u4e2d\uff0c\u4e5f\u6709\u7740\u975e\u5e38\u591a\u7684\u65f6\u5e8f\u6570\u636e\uff0c\u4f8b\u5982\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\u7684\u884c\u4e3a\u8f68\u8ff9\uff0c\u5e94\u7528\u7a0b\u5e8f\u4ea7\u751f\u7684\u65e5\u5fd7\u6570\u636e\u7b49\u7b49\u3002 \u4e00\u4e9b\u57fa\u672c\u6982\u5ff5(\u4e0d\u540c\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u79f0\u547c\u7565\u6709\u4e0d\u540c) Metric: \u5ea6\u91cf\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684 table\u3002 Data point: \u6570\u636e\u70b9\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684 row\u3002 Timestamp\uff1a\u65f6\u95f4\u6233\uff0c\u4ee3\u8868\u6570\u636e\u70b9\u4ea7\u751f\u7684\u65f6\u95f4\u3002 Field: \u5ea6\u91cf\u4e0b\u7684\u4e0d\u540c\u5b57\u6bb5\u3002\u6bd4\u5982\u4f4d\u7f6e\u8fd9\u4e2a\u5ea6\u91cf\u5177\u6709\u7ecf\u5ea6\u548c\u7eac\u5ea6\u4e24\u4e2a field\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u5b58\u653e\u7684\u662f\u968f\u65f6\u95f4\u6233\u800c\u53d8\u5316\u7684\u6570\u636e\u3002 Tag: \u6807\u7b7e\u3002\u4e00\u822c\u5b58\u653e\u7684\u662f\u4e0d\u968f\u65f6\u95f4\u6233\u53d8\u5316\u7684\u4fe1\u606f\u3002timestamp \u52a0\u4e0a\u6240\u6709\u7684 tags \u53ef\u4ee5\u89c6\u4e3a table \u7684 primary key\u3002 \u4f8b\u5982\u91c7\u96c6\u6709\u5173\u98ce\u7684\u6570\u636e\uff0c\u5ea6\u91cf\u4e3a Wind\uff0c\u6bcf\u6761\u6570\u636e\u90fd\u6709\u65f6\u95f4\u6233timestamp\uff0c\u4e24\u4e2a\u5b57\u6bb5 field\uff1adirection(\u98ce\u5411)\u3001speed(\u98ce\u901f)\uff0c\u4e24\u4e2atag\uff1asensor(\u4f20\u611f\u5668\u7f16\u53f7)\u3001city(\u57ce\u5e02)\u3002\u7b2c\u4e00\u884c\u548c\u7b2c\u4e09\u884c\uff0c\u5b58\u653e\u7684\u90fd\u662f sensor \u7f16\u53f7\u4e3a86F-2RT8\u7684\u8bbe\u5907\uff0c\u57ce\u5e02\u662f\u6df1\u5733\u3002\u968f\u7740\u65f6\u95f4\u7684\u53d8\u5316\uff0c\u98ce\u5411\u548c\u98ce\u901f\u53d1\u751f\u4e86\u6539\u53d8\uff0c\u98ce\u5411\u4ece56.4\u53d8\u4e3a45.6\uff0c\u98ce\u901f\u4ece2.9\u53d8\u4e3a3.6\u3002 \u9700\u8981\u89e3\u51b3\u7684\u51e0\u4e2a\u95ee\u9898 \u65f6\u5e8f\u6570\u636e\u7684\u5199\u5165\uff1a\u5982\u4f55\u652f\u6301\u6bcf\u79d2\u949f\u6210\u5343\u4e0a\u4ebf\u6761\u6570\u636e\u7684\u5199\u5165\u3002 \u65f6\u5e8f\u6570\u636e\u7684\u8bfb\u53d6\uff1a\u5982\u4f55\u652f\u6301\u5728\u79d2\u7ea7\u5bf9\u4e0a\u4ebf\u6761\u6570\u636e\u7684\u5206\u7ec4\u805a\u5408\u8fd0\u7b97\u3002 \u6210\u672c\u654f\u611f\uff1a\u6d77\u91cf\u6570\u636e\u5b58\u50a8\u5e26\u6765\u7684\u6210\u672c\u95ee\u9898\u3002\u5982\u4f55\u4ee5\u66f4\u4f4e\u6210\u672c\u5b58\u50a8\u6570\u636e\uff0c\u5c06\u6210\u4e3a\u65f6\u5e8f\u6570\u636e\u5e93\u9700\u8981\u89e3\u51b3\u7684\u91cd\u4e2d\u4e4b\u91cd\u3002 \u5e38\u89c1\u65f6\u5e8f\u6570\u636e\u5e93 \u65f6\u5e8f\u6570\u636e\u5e93\u51fa\u73b0\u7684\u65f6\u95f4\u8f83\u665a\uff0c\u76ee\u524d\u8f83\u6210\u719f\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u90fd\u4ec5\u67092\u30013\u5e74\u7684\u5386\u53f2\u3002 InfluxDB(\u5355\u673a\u7248\u514d\u8d39\uff0c\u96c6\u7fa4\u7248\u6536\u8d39)\u6700\u6210\u719f\uff0cKairosdb(\u5e95\u5c42\u4f7f\u7528Cassandra)\uff0cOpenTsdb(\u5e95\u5c42\u4f7f\u7528HBase)\uff0cberingei(Facebook\u5f00\u6e90)\uff0cTimeScaleDB(\u5e95\u5c42\u57fa\u4e8ePostgreSQL)\uff0cTSDB(\u767e\u5ea6\u5f00\u6e90)\uff0cHiTSDB(\u963f\u91cc\u5f00\u6e90\uff0c\u5e95\u5c42\u662fPostgreSQL)\uff0cMatrixDB\uff08\u56fd\u4ea7\uff0c\u636e\u8bf4\u5199\u5165\u6027\u80fd\u6bd4InfluxDB\u5feb\u51e0\u5341\u500d\uff1ahttps://zhuanlan.zhihu.com/p/374151291 \uff09","title":"\u65f6\u5e8f\u6570\u636e\u5e93"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/#_1","text":"\u57fa\u672c\u4e0a\u90fd\u662f\u63d2\u5165\uff0c\u6ca1\u6709\u66f4\u65b0\u7684\u9700\u6c42\u3002 \u5199\u591a\u4e8e\u8bfb\uff1a95%-99%\u7684\u64cd\u4f5c\u90fd\u662f\u5199\u64cd\u4f5c \u987a\u5e8f\u5199\uff1a\u7531\u4e8e\u662f\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff0c\u56e0\u6b64\u6570\u636e\u591a\u4e3a\u8ffd\u52a0\u5f0f\u5199\u5165\uff0c\u800c\u4e14\u51e0\u4e4e\u90fd\u662f\u5b9e\u65f6\u5199\u5165\uff0c\u5f88\u5c11\u4f1a\u5199\u5165\u51e0\u5929\u524d\u7684\u6570\u636e\u3002 \u5f88\u5c11\u66f4\u65b0\uff1a\u6570\u636e\u5199\u5165\u4e4b\u540e\uff0c\u4e0d\u4f1a\u66f4\u65b0 \u533a\u5757\uff08bulk\uff09\u5220\u9664\uff1a\u57fa\u672c\u6ca1\u6709\u968f\u673a\u5220\u9664\uff0c\u591a\u6570\u662f\u4ece\u4e00\u4e2a\u65f6\u95f4\u70b9\u5f00\u59cb\u5230\u67d0\u4e00\u65f6\u95f4\u70b9\u7ed3\u675f\u7684\u6574\u6bb5\u6570\u636e\u5220\u9664\u3002\u6bd4\u5982\u5220\u9664\u4e0a\u4e2a\u6708\uff0c\u6216\u80057\u5929\u524d\u7684\u6570\u636e\u3002\u5f88\u5c11\u51fa\u73b0\u5220\u9664\u5355\u72ec\u67d0\u4e2a\u6307\u6807\u7684\u6570\u636e\uff0c\u6216\u8005\u8df3\u8dc3\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u3002 \u6570\u636e\u8bfb\u53d6\uff08\u67e5\u8be2\uff09 \u987a\u5e8f\u8bfb\uff1a\u57fa\u672c\u90fd\u662f\u6309\u7167\u65f6\u95f4\u987a\u5e8f\u8bfb\u53d6\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u6570\u636e\u3002 \u57fa\u6570\u5927\uff1a\u57fa\u672c\u6570\u636e\u5927\uff0c\u8d85\u8fc7\u5185\u5b58\u5927\u5c0f\uff0c\u8981\u9009\u53d6\u7684\u53ea\u662f\u5176\u4e00\u5c0f\u90e8\u5206\uff0c\u4e14\u6ca1\u6709\u89c4\u5f8b\uff0c\u7f13\u5b58\u51e0\u4e4e\u4e0d\u8d77\u4efb\u4f55\u4f5c\u7528\u3002 \u5373\u4f7f\u8bfb\u53d6\u64cd\u4f5c\u76f8\u5bf9\u5199\u6765\u8bf4\u8f83\u5c11\uff0c\u4f46\u662f\u8bfb\u64cd\u4f5c\u7684\u54cd\u5e94\u65f6\u95f4\u8981\u6c42\u5f88\u9ad8\uff0c\u9664\u975e\u4f60\u662f\u53ea\u505a\u540e\u53f0\u62a5\u8868\u751f\u6210\uff0c\u5426\u5219\u4e00\u65e6\u6709\u4ea4\u4e92\u6027\u64cd\u4f5c\uff0c\u5fc5\u987b\u8981\u6c42\u5feb\u901f\u54cd\u5e94\u3002\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u53d6\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u6709\u4e24\u79cd\u7b56\u7565\uff1a \u4e00\u662f\u4ee5\u5199\u6027\u80fd\u4f18\u5148\uff0c\u4e0d\u4e3a\u8bfb\u53d6\u505a\u5b58\u50a8\u4f18\u5316\uff0c\u4f46\u662f\u901a\u8fc7\u5206\u5e03\u5f0f\u548c\u5e76\u53d1\u8bfb\uff0c\u6765\u63d0\u9ad8\u8bfb\u53d6\u7684\u901f\u5ea6\u3002 \u4e8c\u5c31\u662f\u5728\u5199\u5165\u7684\u65f6\u5019\u5c31\u8003\u8651\u5230\u8bfb\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5c06\u7edf\u4e00\u6307\u6807\u3001\u65f6\u95f4\u6bb5\u7684\u6570\u636e\u5199\u5165\u5230\u540c\u4e00\u6570\u636e\u5757\u4e2d\uff0c\u4e3a\u8bfb\u53d6\u8fdb\u884c\u5199\u5165\u4f18\u5316\u3002 \u5206\u5e03\u5f0f\uff08\u96c6\u7fa4\uff09 TSDB \u5e94\u8be5\u5929\u751f\u5c31\u8981\u8003\u8651\u5230\u5206\u5e03\u5f0f\u548c\u5206\u533a\u7b49\u7279\u6027\uff0c\u5c06\u5b58\u50a8\u548c\u67e5\u8be2\u5206\u53d1\u5230\u4e0d\u540c\u7684\u670d\u52a1\u5668\uff0c\u4ee5\u652f\u6491\u5927\u89c4\u6a21\u7684\u6570\u636e\u91c7\u96c6\u548c\u67e5\u8be2\u8bf7\u6c42\u3002 \u540c\u65f6\uff0c\u5b83\u4e5f\u5e94\u8be5\u662f\u80fd\u6269\u5c55\u548c\u81ea\u52a8\u5931\u8d25\u5207\u6362\uff08Fault-tolerant\uff09\u7684\u3002\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u957f\uff0c\u6240\u9700\u670d\u52a1\u5668\u7684\u53f0\u6570\u4e5f\u4f1a\u589e\u52a0\uff0c\u80fd\u52a8\u6001\u7684\u589e\u51cf\u670d\u52a1\u5668\u5219\u662f\u4e00\u4e2a\u57fa\u672c\u8981\u6c42\u3002\u540c\u65f6\uff0c\u968f\u7740\u670d\u52a1\u5668\u7684\u589e\u591a\uff0c\u5404\u79cd\u670d\u52a1\u5668\u8f6f\u4ef6\u6216\u8005\u7f51\u7edc\u6545\u969c\u53d1\u751f\u7684\u6982\u7387\u4e5f\u4f1a\u589e\u5927\uff0c\u8fd9\u65f6\u5019\u5931\u8d25\u5207\u6362\u4e5f\u663e\u5f97\u5f88\u91cd\u8981\uff0c\u4e0d\u80fd\u56e0\u4e3a\u4e00\u53f0\u673a\u5668\u7684\u5931\u6548\u800c\u5bfc\u81f4\u6574\u4e2a\u96c6\u7fa4\u4e0d\u53ef\u5de5\u4f5c\u3002 \u6570\u636e\u57fa\u672c\u4e0a\u90fd\u6709\u65f6\u95f4\u5c5e\u6027\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u4e0d\u65ad\u4ea7\u751f\u65b0\u7684\u6570\u636e\u3002 \u6570\u636e\u91cf\u5927\uff0c\u6bcf\u79d2\u949f\u9700\u8981\u5199\u5165\u5343\u4e07\u3001\u4e0a\u4ebf\u6761\u6570\u636e \u4fdd\u7559\u7b56\u7565\uff08Retention Policies\uff0c\u6216\u81ea\u52a8\u5220\u9664\u3001\u538b\u7f29\uff09 \u81ea\u52a8\u5220\u9664\u5c31\u662f\u4e3a\u6570\u636e\u8bbe\u7f6e TTL\uff0c\u8fc7\u4e86\u6307\u5b9a\u7684 TTL \u5219\u81ea\u52a8\u5220\u9664\u76f8\u5173\u6570\u636e\uff0c\u4ee5\u8282\u7701\u5b58\u50a8\u7a7a\u95f4\u540c\u65f6\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u5982\u679c\u4e0d\u5220\u9664\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u6216\u8005\u518d\u91c7\u6837\uff08Resampling\uff09\uff0c\u6bd4\u5982\u5bf9\u6700\u8fd1 1 \u5929\u7684\u6570\u636e\u6211\u4eec\u53ef\u80fd\u9700\u8981\u7cbe\u786e\u5230\u79d2\uff0c\u800c\u67e5\u8be2 1 \u5e74\u7684\u6570\u636e\u65f6\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7cbe\u786e\u5230\u5929\uff0c\u8fd9\u65f6\u5019\uff0c\u6d77\u91cf\u7684\u6570\u636e\u4e00\u5e74\u53ea\u9700\u8981 365 \u4e2a\u70b9\u6765\u5b58\u50a8\uff0c\u5927\u5927\u8282\u7701\u4e86\u5b58\u50a8\u7a7a\u95f4\u3002","title":"\u65f6\u5e8f\u6570\u636e\u7684\u51e0\u4e2a\u7279\u70b9"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/#_2","text":"\u83b7\u53d6\u6700\u65b0\u72b6\u6001\uff0c\u67e5\u8be2\u6700\u8fd1\u7684\u6570\u636e(\u4f8b\u5982\u4f20\u611f\u5668\u6700\u65b0\u7684\u72b6\u6001) \u5c55\u793a\u533a\u95f4\u7edf\u8ba1\uff0c\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\uff0c\u67e5\u8be2\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f8b\u5982\u5e73\u5747\u503c\uff0c\u6700\u5927\u503c\uff0c\u6700\u5c0f\u503c\uff0c\u8ba1\u6570\u7b49\u3002\u3002\u3002 \u83b7\u53d6\u5f02\u5e38\u6570\u636e\uff0c\u6839\u636e\u6307\u5b9a\u6761\u4ef6\uff0c\u7b5b\u9009\u5f02\u5e38\u6570\u636e","title":"\u4e1a\u52a1\u65b9\u5e38\u89c1\u9700\u6c42"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/#_3","text":"\u76d1\u63a7\u8f6f\u4ef6\u7cfb\u7edf\uff1a \u865a\u62df\u673a\u3001\u5bb9\u5668\u3001\u670d\u52a1\u3001\u5e94\u7528 \u76d1\u63a7\u7269\u7406\u7cfb\u7edf\uff1a \u6c34\u6587\u76d1\u63a7\u3001\u5236\u9020\u4e1a\u5de5\u5382\u4e2d\u7684\u8bbe\u5907\u76d1\u63a7\u3001\u56fd\u5bb6\u5b89\u5168\u76f8\u5173\u7684\u6570\u636e\u76d1\u63a7\u3001\u901a\u8baf\u76d1\u63a7\u3001\u4f20\u611f\u5668\u6570\u636e\u3001\u8840\u7cd6\u4eea\u3001\u8840\u538b\u53d8\u5316\u3001\u5fc3\u7387\u7b49 \u8d44\u4ea7\u8ddf\u8e2a\u5e94\u7528\uff1a \u6c7d\u8f66\u3001\u5361\u8f66\u3001\u7269\u7406\u5bb9\u5668\u3001\u8fd0\u8d27\u6258\u76d8 \u91d1\u878d\u4ea4\u6613\u7cfb\u7edf\uff1a \u4f20\u7edf\u8bc1\u5238\u3001\u65b0\u5174\u7684\u52a0\u5bc6\u6570\u5b57\u8d27\u5e01 \u4e8b\u4ef6\u5e94\u7528\u7a0b\u5e8f\uff1a \u8ddf\u8e2a\u7528\u6237\u3001\u5ba2\u6237\u7684\u4ea4\u4e92\u6570\u636e \u5546\u4e1a\u667a\u80fd\u5de5\u5177\uff1a \u8ddf\u8e2a\u5173\u952e\u6307\u6807\u548c\u4e1a\u52a1\u7684\u603b\u4f53\u5065\u5eb7\u60c5\u51b5 \u5728\u4e92\u8054\u7f51\u884c\u4e1a\u4e2d\uff0c\u4e5f\u6709\u7740\u975e\u5e38\u591a\u7684\u65f6\u5e8f\u6570\u636e\uff0c\u4f8b\u5982\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\u7684\u884c\u4e3a\u8f68\u8ff9\uff0c\u5e94\u7528\u7a0b\u5e8f\u4ea7\u751f\u7684\u65e5\u5fd7\u6570\u636e\u7b49\u7b49\u3002 \u4e00\u4e9b\u57fa\u672c\u6982\u5ff5(\u4e0d\u540c\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u79f0\u547c\u7565\u6709\u4e0d\u540c) Metric: \u5ea6\u91cf\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684 table\u3002 Data point: \u6570\u636e\u70b9\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684 row\u3002 Timestamp\uff1a\u65f6\u95f4\u6233\uff0c\u4ee3\u8868\u6570\u636e\u70b9\u4ea7\u751f\u7684\u65f6\u95f4\u3002 Field: \u5ea6\u91cf\u4e0b\u7684\u4e0d\u540c\u5b57\u6bb5\u3002\u6bd4\u5982\u4f4d\u7f6e\u8fd9\u4e2a\u5ea6\u91cf\u5177\u6709\u7ecf\u5ea6\u548c\u7eac\u5ea6\u4e24\u4e2a field\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u5b58\u653e\u7684\u662f\u968f\u65f6\u95f4\u6233\u800c\u53d8\u5316\u7684\u6570\u636e\u3002 Tag: \u6807\u7b7e\u3002\u4e00\u822c\u5b58\u653e\u7684\u662f\u4e0d\u968f\u65f6\u95f4\u6233\u53d8\u5316\u7684\u4fe1\u606f\u3002timestamp \u52a0\u4e0a\u6240\u6709\u7684 tags \u53ef\u4ee5\u89c6\u4e3a table \u7684 primary key\u3002 \u4f8b\u5982\u91c7\u96c6\u6709\u5173\u98ce\u7684\u6570\u636e\uff0c\u5ea6\u91cf\u4e3a Wind\uff0c\u6bcf\u6761\u6570\u636e\u90fd\u6709\u65f6\u95f4\u6233timestamp\uff0c\u4e24\u4e2a\u5b57\u6bb5 field\uff1adirection(\u98ce\u5411)\u3001speed(\u98ce\u901f)\uff0c\u4e24\u4e2atag\uff1asensor(\u4f20\u611f\u5668\u7f16\u53f7)\u3001city(\u57ce\u5e02)\u3002\u7b2c\u4e00\u884c\u548c\u7b2c\u4e09\u884c\uff0c\u5b58\u653e\u7684\u90fd\u662f sensor \u7f16\u53f7\u4e3a86F-2RT8\u7684\u8bbe\u5907\uff0c\u57ce\u5e02\u662f\u6df1\u5733\u3002\u968f\u7740\u65f6\u95f4\u7684\u53d8\u5316\uff0c\u98ce\u5411\u548c\u98ce\u901f\u53d1\u751f\u4e86\u6539\u53d8\uff0c\u98ce\u5411\u4ece56.4\u53d8\u4e3a45.6\uff0c\u98ce\u901f\u4ece2.9\u53d8\u4e3a3.6\u3002","title":"\u5e38\u89c1\u4e1a\u52a1\u573a\u666f"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/#_4","text":"\u65f6\u5e8f\u6570\u636e\u7684\u5199\u5165\uff1a\u5982\u4f55\u652f\u6301\u6bcf\u79d2\u949f\u6210\u5343\u4e0a\u4ebf\u6761\u6570\u636e\u7684\u5199\u5165\u3002 \u65f6\u5e8f\u6570\u636e\u7684\u8bfb\u53d6\uff1a\u5982\u4f55\u652f\u6301\u5728\u79d2\u7ea7\u5bf9\u4e0a\u4ebf\u6761\u6570\u636e\u7684\u5206\u7ec4\u805a\u5408\u8fd0\u7b97\u3002 \u6210\u672c\u654f\u611f\uff1a\u6d77\u91cf\u6570\u636e\u5b58\u50a8\u5e26\u6765\u7684\u6210\u672c\u95ee\u9898\u3002\u5982\u4f55\u4ee5\u66f4\u4f4e\u6210\u672c\u5b58\u50a8\u6570\u636e\uff0c\u5c06\u6210\u4e3a\u65f6\u5e8f\u6570\u636e\u5e93\u9700\u8981\u89e3\u51b3\u7684\u91cd\u4e2d\u4e4b\u91cd\u3002","title":"\u9700\u8981\u89e3\u51b3\u7684\u51e0\u4e2a\u95ee\u9898"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/#_5","text":"\u65f6\u5e8f\u6570\u636e\u5e93\u51fa\u73b0\u7684\u65f6\u95f4\u8f83\u665a\uff0c\u76ee\u524d\u8f83\u6210\u719f\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u90fd\u4ec5\u67092\u30013\u5e74\u7684\u5386\u53f2\u3002 InfluxDB(\u5355\u673a\u7248\u514d\u8d39\uff0c\u96c6\u7fa4\u7248\u6536\u8d39)\u6700\u6210\u719f\uff0cKairosdb(\u5e95\u5c42\u4f7f\u7528Cassandra)\uff0cOpenTsdb(\u5e95\u5c42\u4f7f\u7528HBase)\uff0cberingei(Facebook\u5f00\u6e90)\uff0cTimeScaleDB(\u5e95\u5c42\u57fa\u4e8ePostgreSQL)\uff0cTSDB(\u767e\u5ea6\u5f00\u6e90)\uff0cHiTSDB(\u963f\u91cc\u5f00\u6e90\uff0c\u5e95\u5c42\u662fPostgreSQL)\uff0cMatrixDB\uff08\u56fd\u4ea7\uff0c\u636e\u8bf4\u5199\u5165\u6027\u80fd\u6bd4InfluxDB\u5feb\u51e0\u5341\u500d\uff1ahttps://zhuanlan.zhihu.com/p/374151291 \uff09","title":"\u5e38\u89c1\u65f6\u5e8f\u6570\u636e\u5e93"},{"location":"%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/empty/","text":"\u5360\u4f4d\u7f6e","title":"\u5360\u4f4d\u7f6e"},{"location":"%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/empty/#_1","text":"","title":"\u5360\u4f4d\u7f6e"},{"location":"%E7%BB%8F%E6%B5%8E/%E8%B6%85%E4%BD%8E%E4%BB%B7%E9%A2%84%E5%94%AE%E5%A5%97%E8%B7%AF/","text":"\u8d85\u4f4e\u4ef7\u9884\u552e\u5957\u8def \u7b2c\u4e00\u79cd\u662f\u505a\u514d\u8d39\u5e02\u573a\u8c03\u7814\uff0c\u627e\u7206\u6b3e\u3002\u65b9\u6cd5\u5927\u81f4\u662f\u6211\u4e0a\u67b6\u51e0\u5341\u6b3e\u5546\u54c1\uff0c\u4f46\u662f\u6211\u4e0d\u8fdb\u8d27\uff0c\u7b49\u5230\u53d1\u8d27\u65e5\u671f\u4e86\uff0c\u6211\u9009\u4e0b\u5355\u6700\u591a\u7684\u51e0\u79cd\u5546\u54c1\u53bb\u8fdb\u8d27\uff0c\u5176\u4ed6\u7684\u6211\u5c31\u4e0d\u53d1\u4e86\uff0c\u8ba9\u4f60\u9000\u6b3e\uff0c\u53cd\u6b63\u4e5f\u6ca1\u51e0\u4e2a\u4eba\u3002\u8fd9\u79cd\u4ef7\u683c\u4e0d\u4f1a\u7279\u522b\u4f4e\uff0c\u7565\u4f4e\u800c\u5df2\u3002 \u7b2c\u4e8c\u79cd\u662f\u8d4c\u4f60\u8bb0\u6027\u4e0d\u597d\uff0c\u5230\u65e5\u5b50\u4e86\u53d1\u7a7a\u5355\uff0c\u7f51\u4e0a\u80fd\u67e5\u5230\u8bb0\u5f55\uff0c\u4f46\u662f\u4e0d\u4f1a\u914d\u9001\uff0c\u5c31\u662f\u4e2a\u865a\u5047\u7684\u5feb\u9012\u8bb0\u5f55\uff0c\u5230\u671f\u81ea\u52a8\u6536\u8d27\u540e\uff0c\u94b1\u5c31\u5230\u624b\u4e86\u3002\u6bcf\u4e2a\u4eba\u4e5f\u5c31\u9a97\u4e00\u70b9\u94b1\uff0c\u4f60\u4e5f\u4e0d\u4f1a\u73a9\u513f\u547d\uff0c\u5927\u4e0d\u4e86\u9000\u7ed9\u4f60\uff0c\u603b\u6709\u5fd8\u4e86\u7684\uff0c\u5c31\u8d5a\u5230\u4e86\u3002\u8fd9\u79cd\u56e0\u4e3a\u662f\u9a97\uff0c\u6ca1\u6210\u672c\uff0c\u6240\u4ee5\u4ef7\u683c\u6781\u4f4e\uff0c\u79bb\u8c31\u7684\u4f4e\u3002 \u7b2c\u4e09\u79cd\u662f\u9a97\u6536\u8d27\u4fe1\u606f\uff0c\u4f60\u62cd\u4e86\uff0c\u6536\u8d27\u5730\u5740\u4ec0\u4e48\u7684\u5356\u5bb6\u5c31\u77e5\u9053\u4e86\uff0c\u62cd\u5f97\u8d8a\u591a\uff0c\u4fe1\u606f\u8d8a\u591a\uff0c\u6700\u540e\u4e5f\u4e0d\u7528\u53d1\u8d27\uff0c\u5927\u4e0d\u4e86\u5173\u5e97\u8d70\u4eba\uff0c1000\u5757\u4fdd\u8bc1\u91d1\u7684\u4e8b\u513f\u3002\u6709\u65f6\u5019\uff0c1000\u5757\u94b1\u80fd\u4e70\u51e0\u4e07\u6761\u6536\u8d27\u4fe1\u606f\uff0c\u8fd8\u5168\u662f\u771f\u5b9e\u7684\uff0c\u5356\u4e2a\u4e00\u4e24\u4e07\u4e0d\u662f\u4e8b\u513f\u3002\u4f60\u8bf4\u6211\u7528\u5c0f\u53f7\u548c\u5feb\u9012\u7ad9\uff1f\u4e00\u4e2a\u4f60\u80fd\u8fde\u7eed\u4fdd\u630145\u5929\u4ee5\u4e0a\u7684\u53f7\uff0c\u80fd\u7b97\u5c0f\u53f7\uff1f\u4f60\u7684\u5feb\u9012\u7ad9\u5fc5\u7136\u662f\u5728\u4f60\u957f\u671f\u6d3b\u52a8\u7684\u5730\u65b9\u9644\u8fd1\uff0c\u4f60\u4f1a\u4e3a\u4e86\u6536\u4e2a\u8d27\u8dd1\u5341\u516c\u91cc\uff1f\u6709\u4e86\u8fd9\u4e9b\u4fe1\u606f\uff0c\u80fd\u505a\u7684\u4e8b\u513f\u5c31\u5f88\u591a\u4e86\uff0c\u6bd4\u5982\u4f60\u5c45\u4f4f\u7684\u5c0f\u533a\u662f\u4e2a\u4f4e\u7aef\u5c0f\u533a\uff0c\u4f60\u7684\u53f7\u7801\u5173\u8054\u4e0a\u4e86\u5176\u4ed6APP\uff0c\u6211\u5c31\u7ed9\u4f60\u63a8\u5047\u8d27\u3001\u4f4e\u7aef\u8d27\u4ec0\u4e48\u7684\uff0c\u61c2\u7684\u90fd\u61c2\u3002\u8fd9\u79cd\u4e5f\u53ef\u4ee5\u5728\u95f2\u9c7c\u73a9\u513f\uff0c\u95f2\u9c7c\u6302\u4e2a\u4f4e\u4ef7\uff0c\u5438\u5f15\u5927\u5bb6\u6765\u62cd\uff0c\u62cd\u5b8c\u5c31\u53d6\u6d88\u8ba2\u5355\uff0c\u4fe1\u606f\u5230\u624b\uff0c\u7136\u540e\u7ee7\u7eed\u6302\u3002 \u7b2c\u56db\u79cd\u662f\u5f15\u6d41\uff0c\u4f60\u62cd\u4e0b\u4e86\uff0c\u6211\u4e0d\u53d1\u8d27\uff0c\u4f60\u65e9\u665a\u4f1a\u8054\u7cfb\u6211\uff0c\u5f15\u5bfc\u4f60\u52a0\u5404\u79cd\u7fa4\uff0c\u6700\u540e\u4f60\u90fd\u5fd8\u4e86\u8fd9\u4e2a\u7fa4\u662f\u600e\u4e48\u52a0\u7684\uff0c\u6211\u4e0d\u53d1\u8d27\uff0c\u4f60\u8fd8\u80fd\u8bb0\u5f97\u662f\u54ea\u4e2a\u7fa4\uff1f\u8fd8\u80fd\u9000\u51fa\u4e0d\u6210\uff1f\u4e0d\u5acc\u9ebb\u70e6\uff1f\u7ed3\u679c\u662f0\u6210\u672c\u62c9\u6765\u597d\u591a\u4eba\uff0c\u4e3a\u4e0b\u4e00\u6b65\u8425\u9500\u9a97\u94b1\u505a\u51c6\u5907\u3002 \u7b2c\u4e94\u79cd\u662f\u5047\u8d27\uff0c\u4f1a\u771f\u53d1\u8d27\uff0c\u5229\u7528\u7684\u5c31\u662f\u6574\u4e2a\u4ea4\u6613\u65f6\u95f4\u957f\uff0c\u7b49\u53d1\u8d27\u65f6\uff0c\u4f60\u53ef\u80fd\u5c31\u5fd8\u4e86\uff0c\u6536\u5230\u8d27\u4e5f\u6ca1\u4ed4\u7ec6\u770b\uff0c\u81ea\u52a8\u6536\u8d27\u540e\uff0c\u4e5f\u5c31\u8ba4\u683d\u4e86\u3002\u6211\u5176\u5b9e\u5c31\u5403\u8fc7\u8fd9\u4e2a\u4e8f\uff0c\u53bb\u5e74\u4e70\u4e86\u51e0\u4e2a\u82af\u7247\uff0c\u5356\u5bb6\u8bf4\u82af\u7247\u4ea7\u80fd\u4e0d\u8db3\uff0c\u82af\u7247\u8352\uff0c\u8981\u7b49\u4e00\u7b49\u624d\u6709\u8d27\uff0c\u6211\u5c31\u5148\u4ed8\u6b3e\u4e86\uff0c\u7b49\u4e00\u4e2a\u6708\u540e\uff0c\u53d1\u8d27\u4e86\uff0c\u6211\u4e5f\u6536\u5230\u4e86\uff0c\u5916\u89c2\u770b\u8d77\u6765\u633a\u597d\u7684\uff0c\u6211\u4e5f\u6ca1\u591a\u60f3\uff0c\u5fd9\u4e4e\u51e0\u5929\u5c31\u5fd8\u4e86\u68c0\u67e5\u3002\u6bd5\u7adf\u60f3\u7528\u7684\u65f6\u5019\u6ca1\u6709\u82af\u7247\uff0c\u6211\u53ea\u80fd\u6362\u4e2a\u65b9\u6848\uff0c\u60f3\u7740\u56e4\u70b9\u513f\u8d27\uff0c\u9632\u6b62\u4e0b\u6b21\u7528\u65f6\u518d\u6293\u778e\u3002\u7b49\u6211\u771f\u7528\u7684\u65f6\u5019\uff0c\u624d\u53d1\u73b0\u4e0d\u5bf9\uff0c\u662f\u6253\u78e8\u7684\uff0c\u67e5\u67e5\u8d2d\u4e70\u8bb0\u5f55\uff0c\u590f\u5929\u4e70\u7684\uff0c\u79cb\u5929\u53d1\u7684\uff0c\u51ac\u5929\u624d\u53d1\u73b0\u95ee\u9898\u3002 \u6dd8\u5b9d\u5176\u5b9e\u4e5f\u5728\u6253\u51fb\u8fd9\u79cd\uff0c\u53ea\u4e0d\u8fc7\u4eba\u5bb6\u6253\u4e00\u67aa\u6362\u4e00\u4e2a\u5730\u65b9\uff0c\u5f00\u5e97\u901f\u5ea6\u6bd4\u5c01\u5e97\u8fd8\u5feb\uff0c\u6709\u5927\u628a\u519c\u6751\u8001\u767e\u59d3\u613f\u610f\u7528\u8eab\u4efd\u4fe1\u606f\u6362\u4e2a\u9505\u7897\u74e2\u76c6\u3002\u6211\u80fd\u60f3\u5230\u7684\u6253\u51fb\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u589e\u52a0\u4fdd\u8bc1\u91d1\uff0c\u6bd4\u5982\u76f4\u63a5\u8981\u4e2a10w\u4ee5\u4e0a\uff0c\u53ea\u662f\u90a3\u6837\u7684\u8bdd\uff0c\u5f88\u591a\u5c0f\u5356\u5bb6\u6839\u672c\u4ed8\u4e0d\u8d77\uff0c\u6dd8\u5b9d\u4e5f\u5c31\u6162\u6162\u5931\u53bb\u6d3b\u529b\u4e86\u3002\u96be\u554a\uff0c\u96be\u554a\u3002\u6709\u53e5\u8bdd\u53eb\u7f8a\u6bdb\u51fa\u5728\u9e21\u5708\u91cc\u7684\u732a\u8eab\u4e0a\uff0c\u89c9\u5f97\u4e0d\u5408\u7406\u7684\u4e1c\u897f\uff0c\u4e00\u5b9a\u8981\u591a\u4e2a\u5fc3\u773c\uff0c\u591a\u60f3\u60f3\uff0c\u591a\u770b\u770b\uff0c\u7a0d\u7a0d\u806a\u660e\u70b9\u513f\u7684\uff0c\u5c31\u80fd\u8eb2\u8fc7\u4e2a\u5751\uff0c\u518d\u806a\u660e\u70b9\u513f\u7684\uff0c\u4e5f\u8bb8\u53ef\u4ee5\u7167\u846b\u82a6\u753b\u74e2\uff0c\u7ed9\u81ea\u5df1\u627e\u5230\u751f\u8d22\u4e4b\u9053\u3002","title":"\u8d85\u4f4e\u4ef7\u9884\u552e\u5957\u8def"},{"location":"%E7%BB%8F%E6%B5%8E/%E8%B6%85%E4%BD%8E%E4%BB%B7%E9%A2%84%E5%94%AE%E5%A5%97%E8%B7%AF/#_1","text":"\u7b2c\u4e00\u79cd\u662f\u505a\u514d\u8d39\u5e02\u573a\u8c03\u7814\uff0c\u627e\u7206\u6b3e\u3002\u65b9\u6cd5\u5927\u81f4\u662f\u6211\u4e0a\u67b6\u51e0\u5341\u6b3e\u5546\u54c1\uff0c\u4f46\u662f\u6211\u4e0d\u8fdb\u8d27\uff0c\u7b49\u5230\u53d1\u8d27\u65e5\u671f\u4e86\uff0c\u6211\u9009\u4e0b\u5355\u6700\u591a\u7684\u51e0\u79cd\u5546\u54c1\u53bb\u8fdb\u8d27\uff0c\u5176\u4ed6\u7684\u6211\u5c31\u4e0d\u53d1\u4e86\uff0c\u8ba9\u4f60\u9000\u6b3e\uff0c\u53cd\u6b63\u4e5f\u6ca1\u51e0\u4e2a\u4eba\u3002\u8fd9\u79cd\u4ef7\u683c\u4e0d\u4f1a\u7279\u522b\u4f4e\uff0c\u7565\u4f4e\u800c\u5df2\u3002 \u7b2c\u4e8c\u79cd\u662f\u8d4c\u4f60\u8bb0\u6027\u4e0d\u597d\uff0c\u5230\u65e5\u5b50\u4e86\u53d1\u7a7a\u5355\uff0c\u7f51\u4e0a\u80fd\u67e5\u5230\u8bb0\u5f55\uff0c\u4f46\u662f\u4e0d\u4f1a\u914d\u9001\uff0c\u5c31\u662f\u4e2a\u865a\u5047\u7684\u5feb\u9012\u8bb0\u5f55\uff0c\u5230\u671f\u81ea\u52a8\u6536\u8d27\u540e\uff0c\u94b1\u5c31\u5230\u624b\u4e86\u3002\u6bcf\u4e2a\u4eba\u4e5f\u5c31\u9a97\u4e00\u70b9\u94b1\uff0c\u4f60\u4e5f\u4e0d\u4f1a\u73a9\u513f\u547d\uff0c\u5927\u4e0d\u4e86\u9000\u7ed9\u4f60\uff0c\u603b\u6709\u5fd8\u4e86\u7684\uff0c\u5c31\u8d5a\u5230\u4e86\u3002\u8fd9\u79cd\u56e0\u4e3a\u662f\u9a97\uff0c\u6ca1\u6210\u672c\uff0c\u6240\u4ee5\u4ef7\u683c\u6781\u4f4e\uff0c\u79bb\u8c31\u7684\u4f4e\u3002 \u7b2c\u4e09\u79cd\u662f\u9a97\u6536\u8d27\u4fe1\u606f\uff0c\u4f60\u62cd\u4e86\uff0c\u6536\u8d27\u5730\u5740\u4ec0\u4e48\u7684\u5356\u5bb6\u5c31\u77e5\u9053\u4e86\uff0c\u62cd\u5f97\u8d8a\u591a\uff0c\u4fe1\u606f\u8d8a\u591a\uff0c\u6700\u540e\u4e5f\u4e0d\u7528\u53d1\u8d27\uff0c\u5927\u4e0d\u4e86\u5173\u5e97\u8d70\u4eba\uff0c1000\u5757\u4fdd\u8bc1\u91d1\u7684\u4e8b\u513f\u3002\u6709\u65f6\u5019\uff0c1000\u5757\u94b1\u80fd\u4e70\u51e0\u4e07\u6761\u6536\u8d27\u4fe1\u606f\uff0c\u8fd8\u5168\u662f\u771f\u5b9e\u7684\uff0c\u5356\u4e2a\u4e00\u4e24\u4e07\u4e0d\u662f\u4e8b\u513f\u3002\u4f60\u8bf4\u6211\u7528\u5c0f\u53f7\u548c\u5feb\u9012\u7ad9\uff1f\u4e00\u4e2a\u4f60\u80fd\u8fde\u7eed\u4fdd\u630145\u5929\u4ee5\u4e0a\u7684\u53f7\uff0c\u80fd\u7b97\u5c0f\u53f7\uff1f\u4f60\u7684\u5feb\u9012\u7ad9\u5fc5\u7136\u662f\u5728\u4f60\u957f\u671f\u6d3b\u52a8\u7684\u5730\u65b9\u9644\u8fd1\uff0c\u4f60\u4f1a\u4e3a\u4e86\u6536\u4e2a\u8d27\u8dd1\u5341\u516c\u91cc\uff1f\u6709\u4e86\u8fd9\u4e9b\u4fe1\u606f\uff0c\u80fd\u505a\u7684\u4e8b\u513f\u5c31\u5f88\u591a\u4e86\uff0c\u6bd4\u5982\u4f60\u5c45\u4f4f\u7684\u5c0f\u533a\u662f\u4e2a\u4f4e\u7aef\u5c0f\u533a\uff0c\u4f60\u7684\u53f7\u7801\u5173\u8054\u4e0a\u4e86\u5176\u4ed6APP\uff0c\u6211\u5c31\u7ed9\u4f60\u63a8\u5047\u8d27\u3001\u4f4e\u7aef\u8d27\u4ec0\u4e48\u7684\uff0c\u61c2\u7684\u90fd\u61c2\u3002\u8fd9\u79cd\u4e5f\u53ef\u4ee5\u5728\u95f2\u9c7c\u73a9\u513f\uff0c\u95f2\u9c7c\u6302\u4e2a\u4f4e\u4ef7\uff0c\u5438\u5f15\u5927\u5bb6\u6765\u62cd\uff0c\u62cd\u5b8c\u5c31\u53d6\u6d88\u8ba2\u5355\uff0c\u4fe1\u606f\u5230\u624b\uff0c\u7136\u540e\u7ee7\u7eed\u6302\u3002 \u7b2c\u56db\u79cd\u662f\u5f15\u6d41\uff0c\u4f60\u62cd\u4e0b\u4e86\uff0c\u6211\u4e0d\u53d1\u8d27\uff0c\u4f60\u65e9\u665a\u4f1a\u8054\u7cfb\u6211\uff0c\u5f15\u5bfc\u4f60\u52a0\u5404\u79cd\u7fa4\uff0c\u6700\u540e\u4f60\u90fd\u5fd8\u4e86\u8fd9\u4e2a\u7fa4\u662f\u600e\u4e48\u52a0\u7684\uff0c\u6211\u4e0d\u53d1\u8d27\uff0c\u4f60\u8fd8\u80fd\u8bb0\u5f97\u662f\u54ea\u4e2a\u7fa4\uff1f\u8fd8\u80fd\u9000\u51fa\u4e0d\u6210\uff1f\u4e0d\u5acc\u9ebb\u70e6\uff1f\u7ed3\u679c\u662f0\u6210\u672c\u62c9\u6765\u597d\u591a\u4eba\uff0c\u4e3a\u4e0b\u4e00\u6b65\u8425\u9500\u9a97\u94b1\u505a\u51c6\u5907\u3002 \u7b2c\u4e94\u79cd\u662f\u5047\u8d27\uff0c\u4f1a\u771f\u53d1\u8d27\uff0c\u5229\u7528\u7684\u5c31\u662f\u6574\u4e2a\u4ea4\u6613\u65f6\u95f4\u957f\uff0c\u7b49\u53d1\u8d27\u65f6\uff0c\u4f60\u53ef\u80fd\u5c31\u5fd8\u4e86\uff0c\u6536\u5230\u8d27\u4e5f\u6ca1\u4ed4\u7ec6\u770b\uff0c\u81ea\u52a8\u6536\u8d27\u540e\uff0c\u4e5f\u5c31\u8ba4\u683d\u4e86\u3002\u6211\u5176\u5b9e\u5c31\u5403\u8fc7\u8fd9\u4e2a\u4e8f\uff0c\u53bb\u5e74\u4e70\u4e86\u51e0\u4e2a\u82af\u7247\uff0c\u5356\u5bb6\u8bf4\u82af\u7247\u4ea7\u80fd\u4e0d\u8db3\uff0c\u82af\u7247\u8352\uff0c\u8981\u7b49\u4e00\u7b49\u624d\u6709\u8d27\uff0c\u6211\u5c31\u5148\u4ed8\u6b3e\u4e86\uff0c\u7b49\u4e00\u4e2a\u6708\u540e\uff0c\u53d1\u8d27\u4e86\uff0c\u6211\u4e5f\u6536\u5230\u4e86\uff0c\u5916\u89c2\u770b\u8d77\u6765\u633a\u597d\u7684\uff0c\u6211\u4e5f\u6ca1\u591a\u60f3\uff0c\u5fd9\u4e4e\u51e0\u5929\u5c31\u5fd8\u4e86\u68c0\u67e5\u3002\u6bd5\u7adf\u60f3\u7528\u7684\u65f6\u5019\u6ca1\u6709\u82af\u7247\uff0c\u6211\u53ea\u80fd\u6362\u4e2a\u65b9\u6848\uff0c\u60f3\u7740\u56e4\u70b9\u513f\u8d27\uff0c\u9632\u6b62\u4e0b\u6b21\u7528\u65f6\u518d\u6293\u778e\u3002\u7b49\u6211\u771f\u7528\u7684\u65f6\u5019\uff0c\u624d\u53d1\u73b0\u4e0d\u5bf9\uff0c\u662f\u6253\u78e8\u7684\uff0c\u67e5\u67e5\u8d2d\u4e70\u8bb0\u5f55\uff0c\u590f\u5929\u4e70\u7684\uff0c\u79cb\u5929\u53d1\u7684\uff0c\u51ac\u5929\u624d\u53d1\u73b0\u95ee\u9898\u3002 \u6dd8\u5b9d\u5176\u5b9e\u4e5f\u5728\u6253\u51fb\u8fd9\u79cd\uff0c\u53ea\u4e0d\u8fc7\u4eba\u5bb6\u6253\u4e00\u67aa\u6362\u4e00\u4e2a\u5730\u65b9\uff0c\u5f00\u5e97\u901f\u5ea6\u6bd4\u5c01\u5e97\u8fd8\u5feb\uff0c\u6709\u5927\u628a\u519c\u6751\u8001\u767e\u59d3\u613f\u610f\u7528\u8eab\u4efd\u4fe1\u606f\u6362\u4e2a\u9505\u7897\u74e2\u76c6\u3002\u6211\u80fd\u60f3\u5230\u7684\u6253\u51fb\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u589e\u52a0\u4fdd\u8bc1\u91d1\uff0c\u6bd4\u5982\u76f4\u63a5\u8981\u4e2a10w\u4ee5\u4e0a\uff0c\u53ea\u662f\u90a3\u6837\u7684\u8bdd\uff0c\u5f88\u591a\u5c0f\u5356\u5bb6\u6839\u672c\u4ed8\u4e0d\u8d77\uff0c\u6dd8\u5b9d\u4e5f\u5c31\u6162\u6162\u5931\u53bb\u6d3b\u529b\u4e86\u3002\u96be\u554a\uff0c\u96be\u554a\u3002\u6709\u53e5\u8bdd\u53eb\u7f8a\u6bdb\u51fa\u5728\u9e21\u5708\u91cc\u7684\u732a\u8eab\u4e0a\uff0c\u89c9\u5f97\u4e0d\u5408\u7406\u7684\u4e1c\u897f\uff0c\u4e00\u5b9a\u8981\u591a\u4e2a\u5fc3\u773c\uff0c\u591a\u60f3\u60f3\uff0c\u591a\u770b\u770b\uff0c\u7a0d\u7a0d\u806a\u660e\u70b9\u513f\u7684\uff0c\u5c31\u80fd\u8eb2\u8fc7\u4e2a\u5751\uff0c\u518d\u806a\u660e\u70b9\u513f\u7684\uff0c\u4e5f\u8bb8\u53ef\u4ee5\u7167\u846b\u82a6\u753b\u74e2\uff0c\u7ed9\u81ea\u5df1\u627e\u5230\u751f\u8d22\u4e4b\u9053\u3002","title":"\u8d85\u4f4e\u4ef7\u9884\u552e\u5957\u8def"}]}